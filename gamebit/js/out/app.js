var shadow$provide = {};
if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}
(function(){
shadow$provide[0]=function(f,a,q,n){var u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;q.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var f={};for(a=0;10>a;a++)f["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(f).map(function(a){return f[a]}).join(""))return!1;var p={};"abcdefghijklmnopqrst".split("").forEach(function(a){p[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},p)).join("")?!1:!0}catch(k){return!1}}()?Object.assign:function(a,f){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var w=Object(a);for(var k,e=1;e<arguments.length;e++){var n=Object(arguments[e]);for(var C in n)p.call(n,C)&&(w[C]=n[C]);if(u){k=u(n);for(var q=0;q<k.length;q++)z.call(n,k[q])&&(w[k[q]]=n[k[q]])}}return w}};
shadow$provide[1]=function(f,a,q,n){function u(a,e,x,F,N,k,O,f){if(!a){a=void 0;if(void 0===e)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[x,F,N,k,O,f],K=0;a=Error(e.replace(/%s/g,function(){return p[K++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a;}}function p(a){for(var e=arguments.length-1,x="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+a,F=0;F<e;F++)x+="\x26args[]\x3d"+
encodeURIComponent(arguments[F+1]);u(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",x)}function z(a,e,x){this.props=a;this.context=e;this.refs=ka;this.updater=x||ba}function C(){}function R(a,e,x){this.props=a;this.context=e;this.refs=ka;this.updater=x||ba}function w(a,e,x){var F=void 0,N={},k=null,O=null;if(null!=e)for(F in void 0!==e.ref&&(O=e.ref),void 0!==e.key&&(k=""+e.key),e)Ca.call(e,
F)&&!Ga.hasOwnProperty(F)&&(N[F]=e[F]);var f=arguments.length-2;if(1===f)N.children=x;else if(1<f){for(var p=Array(f),W=0;W<f;W++)p[W]=arguments[W+2];N.children=p}if(a&&a.defaultProps)for(F in f=a.defaultProps,f)void 0===N[F]&&(N[F]=f[F]);return{$$typeof:Ja,type:a,key:k,ref:O,props:N,_owner:pa.current}}function k(a,e){return{$$typeof:Ja,type:a.type,key:e,ref:a.ref,props:a.props,_owner:a._owner}}function e(a){return"object"===typeof a&&null!==a&&a.$$typeof===Ja}function S(a){var e={"\x3d":"\x3d0",
":":"\x3d2"};return"$"+(""+a).replace(/[=:]/g,function(a){return e[a]})}function fa(a,e,x,F){if(Ha.length){var N=Ha.pop();N.result=a;N.keyPrefix=e;N.func=x;N.context=F;N.count=0;return N}return{result:a,keyPrefix:e,func:x,context:F,count:0}}function U(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>Ha.length&&Ha.push(a)}function J(a,e,x,F){var N=typeof a;if("undefined"===N||"boolean"===N)a=null;var k=!1;if(null===a)k=!0;else switch(N){case "string":case "number":k=!0;break;
case "object":switch(a.$$typeof){case Ja:case sa:k=!0}}if(k)return x(F,a,""===e?"."+Q(a,0):e),1;k=0;e=""===e?".":e+":";if(Array.isArray(a))for(var O=0;O<a.length;O++){N=a[O];var f=e+Q(N,O);k+=J(N,f,x,F)}else if(null===a||"object"!==typeof a?f=null:(f=Na&&a[Na]||a["@@iterator"],f="function"===typeof f?f:null),"function"===typeof f)for(a=f.call(a),O=0;!(N=a.next()).done;)N=N.value,f=e+Q(N,O++),k+=J(N,f,x,F);else"object"===N&&(x=""+a,p("31","[object Object]"===x?"object with keys {"+Object.keys(a).join(", ")+
"}":x,""));return k}function E(a,e,x){return null==a?0:J(a,"",e,x)}function Q(a,e){return"object"===typeof a&&null!==a&&null!=a.key?S(a.key):e.toString(36)}function G(a,e){a.func.call(a.context,e,a.count++)}function H(a,x,F){var N=a.result,O=a.keyPrefix;a=a.func.call(a.context,x,a.count++);Array.isArray(a)?ca(a,N,F,function(a){return a}):null!=a&&(e(a)&&(a=k(a,O+(!a.key||x&&x.key===a.key?"":(""+a.key).replace(La,"$\x26/")+"/")+F)),N.push(a))}function ca(a,e,x,F,N){var k="";null!=x&&(k=(""+x).replace(La,
"$\x26/")+"/");e=fa(e,k,F,N);E(a,H,e);U(e)}function Y(){var a=la.current;null===a?p("321"):void 0;return a}var V=a(0),ma="function"===typeof Symbol&&Symbol.for,Ja=ma?Symbol.for("react.element"):60103,sa=ma?Symbol.for("react.portal"):60106;f=ma?Symbol.for("react.fragment"):60107;a=ma?Symbol.for("react.strict_mode"):60108;n=ma?Symbol.for("react.profiler"):60114;var W=ma?Symbol.for("react.provider"):60109,F=ma?Symbol.for("react.context"):60110,x=ma?Symbol.for("react.concurrent_mode"):60111,N=ma?Symbol.for("react.forward_ref"):
60112,O=ma?Symbol.for("react.suspense"):60113,Z=ma?Symbol.for("react.memo"):60115,qa=ma?Symbol.for("react.lazy"):60116,Na="function"===typeof Symbol&&Symbol.iterator,ba={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ka={};z.prototype.isReactComponent={};z.prototype.setState=function(a,e){"object"!==typeof a&&"function"!==typeof a&&null!=a?p("85"):void 0;this.updater.enqueueSetState(this,a,e,"setState")};z.prototype.forceUpdate=
function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};C.prototype=z.prototype;ma=R.prototype=new C;ma.constructor=R;V(ma,z.prototype);ma.isPureReactComponent=!0;var la={current:null},pa={current:null},Ca=Object.prototype.hasOwnProperty,Ga={key:!0,ref:!0,__self:!0,__source:!0},La=/\/+/g,Ha=[];f={Children:{map:function(a,e,x){if(null==a)return a;var F=[];ca(a,F,null,e,x);return F},forEach:function(a,e,x){if(null==a)return a;e=fa(null,null,e,x);E(a,G,e);U(e)},count:function(a){return E(a,
function(){return null},null)},toArray:function(a){var e=[];ca(a,e,null,function(a){return a});return e},only:function(a){e(a)?void 0:p("143");return a}},createRef:function(){return{current:null}},Component:z,PureComponent:R,createContext:function(a,e){void 0===e&&(e=null);a={$$typeof:F,_calculateChangedBits:e,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:W,_context:a};return a.Consumer=a},forwardRef:function(a){return{$$typeof:N,render:a}},lazy:function(a){return{$$typeof:qa,
_ctor:a,_status:-1,_result:null}},memo:function(a,e){return{$$typeof:Z,type:a,compare:void 0===e?null:e}},useCallback:function(a,e){return Y().useCallback(a,e)},useContext:function(a,e){return Y().useContext(a,e)},useEffect:function(a,e){return Y().useEffect(a,e)},useImperativeHandle:function(a,e,x){return Y().useImperativeHandle(a,e,x)},useDebugValue:function(){},useLayoutEffect:function(a,e){return Y().useLayoutEffect(a,e)},useMemo:function(a,e){return Y().useMemo(a,e)},useReducer:function(a,e,
x){return Y().useReducer(a,e,x)},useRef:function(a){return Y().useRef(a)},useState:function(a){return Y().useState(a)},Fragment:f,StrictMode:a,Suspense:O,createElement:w,cloneElement:function(a,e,x){null===a||void 0===a?p("267",a):void 0;var F=void 0,N=V({},a.props),k=a.key,O=a.ref,f=a._owner;if(null!=e){void 0!==e.ref&&(O=e.ref,f=pa.current);void 0!==e.key&&(k=""+e.key);var W=void 0;a.type&&a.type.defaultProps&&(W=a.type.defaultProps);for(F in e)Ca.call(e,F)&&!Ga.hasOwnProperty(F)&&(N[F]=void 0===
e[F]&&void 0!==W?W[F]:e[F])}F=arguments.length-2;if(1===F)N.children=x;else if(1<F){W=Array(F);for(var w=0;w<F;w++)W[w]=arguments[w+2];N.children=W}return{$$typeof:Ja,type:a.type,key:k,ref:O,props:N,_owner:f}},createFactory:function(a){var e=w.bind(null,a);e.type=a;return e},isValidElement:e,version:"16.8.6",unstable_ConcurrentMode:x,unstable_Profiler:n,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:la,ReactCurrentOwner:pa,assign:V}};f=(a={default:f},f)||a;q.exports=f.default||
f};
shadow$provide[3]=function(f,a,q,n){function u(){throw Error("setTimeout has not been defined");}function p(){throw Error("clearTimeout has not been defined");}function z(a){if(S===setTimeout)return setTimeout(a,0);if((S===u||!S)&&setTimeout)return S=setTimeout,setTimeout(a,0);try{return S(a,0)}catch(H){try{return S.call(null,a,0)}catch(ca){return S.call(this,a,0)}}}function C(a){if(fa===clearTimeout)return clearTimeout(a);if((fa===p||!fa)&&clearTimeout)return fa=clearTimeout,clearTimeout(a);try{return fa(a)}catch(H){try{return fa.call(null,
a)}catch(ca){return fa.call(this,a)}}}function R(){J&&E&&(J=!1,E.length?U=E.concat(U):Q=-1,U.length&&w())}function w(){if(!J){var a=z(R);J=!0;for(var e=U.length;e;){E=U;for(U=[];++Q<e;)E&&E[Q].run();Q=-1;e=U.length}E=null;J=!1;C(a)}}function k(a,e){this.fun=a;this.array=e}function e(){}f=q.exports={};try{var S="function"===typeof setTimeout?setTimeout:u}catch(G){S=u}try{var fa="function"===typeof clearTimeout?clearTimeout:p}catch(G){fa=p}var U=[],J=!1,E,Q=-1;f.nextTick=function(a){var e=Array(arguments.length-
1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)e[f-1]=arguments[f];U.push(new k(a,e));1!==U.length||J||z(w)};k.prototype.run=function(){this.fun.apply(null,this.array)};f.title="browser";f.browser=!0;f.env={};f.argv=[];f.version="";f.versions={};f.on=e;f.addListener=e;f.once=e;f.off=e;f.removeListener=e;f.removeAllListeners=e;f.emit=e;f.prependListener=e;f.prependOnceListener=e;f.listeners=function(a){return[]};f.binding=function(a){throw Error("process.binding is not supported");};f.cwd=
function(){return"/"};f.chdir=function(a){throw Error("process.chdir is not supported");};f.umask=function(){return 0}};
shadow$provide[6]=function(f,a,q,n){a(3);"use strict";q.exports=a(1)};
shadow$provide[7]=function(f,a,q,n){a(3);"use strict";q.exports={}};
shadow$provide[8]=function(f,a,q,n){a(3);"use strict";q.exports=function(a,f,n,q,R,w,k,e){if(!a){if(void 0===f)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,q,R,w,k,e],u=0;a=Error(f.replace(/%s/g,function(){return p[u++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a;}}};
shadow$provide[11]=function(f,a,q,n){a(3);"use strict";var u=a(0),p=a(7),z=a(8);q.exports=function(a,f,w){function k(a,e){if(e){z("function"!==typeof e,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object.");z(!f(e),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var k=a.prototype,p=k.__reactAutoBindPairs;e.hasOwnProperty("mixins")&&Q.mixins(a,e.mixins);for(var W in e)if(e.hasOwnProperty(W)&&
"mixins"!==W){var F=e[W],x=k.hasOwnProperty(W),N=x,O=W,w=R.hasOwnProperty(O)?R[O]:null;ca.hasOwnProperty(O)&&z("OVERRIDE_BASE"===w,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",O);N&&z("DEFINE_MANY"===w||"DEFINE_MANY_MERGED"===w,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",O);if(Q.hasOwnProperty(W))Q[W](a,F);
else N=R.hasOwnProperty(W),"function"!==typeof F||N||x||!1===e.autobind?x?(x=R[W],z(N&&("DEFINE_MANY_MERGED"===x||"DEFINE_MANY"===x),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",x,W),"DEFINE_MANY_MERGED"===x?k[W]=n(k[W],F):"DEFINE_MANY"===x&&(k[W]=q(k[W],F))):k[W]=F:(p.push(W,F),k[W]=F)}}}function e(a,e){z(a&&e&&"object"===typeof a&&"object"===typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var k in e)e.hasOwnProperty(k)&&(z(void 0===
a[k],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",k),a[k]=e[k]);return a}function n(a,k){return function(){var f=a.apply(this,arguments),p=k.apply(this,arguments);if(null==f)return p;if(null==p)return f;var W={};e(W,f);e(W,p);return W}}function q(a,e){return function(){a.apply(this,arguments);e.apply(this,
arguments)}}var C=[],R={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",
UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},E={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},Q={displayName:function(a,e){a.displayName=e},mixins:function(a,e){if(e)for(var f=0;f<e.length;f++)k(a,e[f])},childContextTypes:function(a,e){a.childContextTypes=u({},a.childContextTypes,e)},contextTypes:function(a,e){a.contextTypes=u({},a.contextTypes,e)},getDefaultProps:function(a,e){a.getDefaultProps=
a.getDefaultProps?n(a.getDefaultProps,e):e},propTypes:function(a,e){a.propTypes=u({},a.propTypes,e)},statics:function(a,e){a:if(e)for(var k in e){var f=e[k];if(e.hasOwnProperty(k)){z(!(k in Q),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',k);if(k in a){e=E.hasOwnProperty(k)?E[k]:null;z("DEFINE_MANY_MERGED"===e,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",
k);a[k]=n(a[k],f);break a}a[k]=f}}},autobind:function(){}},G={componentDidMount:function(){this.__isMounted=!0}},H={componentWillUnmount:function(){this.__isMounted=!1}},ca={replaceState:function(a,e){this.updater.enqueueReplaceState(this,a,e)},isMounted:function(){return!!this.__isMounted}},Y=function(){};u(Y.prototype,a.prototype,ca);return function(a){var e=function(a,k,F){if(this.__reactAutoBindPairs.length)for(var x=this.__reactAutoBindPairs,N=0;N<x.length;N+=2){var f=x[N];var W=x[N+1].bind(this);
this[f]=W}this.props=a;this.context=k;this.refs=p;this.updater=F||w;this.state=null;a=this.getInitialState?this.getInitialState():null;z("object"===typeof a&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent");this.state=a};e.prototype=new Y;e.prototype.constructor=e;e.prototype.__reactAutoBindPairs=[];C.forEach(k.bind(null,e));k(e,G);k(e,a);k(e,H);e.getDefaultProps&&(e.defaultProps=e.getDefaultProps());z(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");
for(var f in R)e.prototype[f]||(e.prototype[f]=null);return e}}};
shadow$provide[12]=function(f,a,q,n){f=a(6);a=a(11);if("undefined"===typeof f)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");n=(new f.Component).updater;q.exports=a(f.Component,f.isValidElement,n)};
shadow$provide[13]=function(f,a,q,n){function u(){if(!U){var a=w.expirationTime;J?sa():J=!0;Ja(C,a)}}function p(){var a=w,x=w.next;if(w===x)w=null;else{var F=w.previous;w=F.next=x;x.previous=F}a.next=a.previous=null;F=a.callback;x=a.expirationTime;a=a.priorityLevel;var k=e,N=fa;e=a;fa=x;try{var f=F()}finally{e=k,fa=N}if("function"===typeof f)if(f={callback:f,priorityLevel:a,expirationTime:x,next:null,previous:null},null===w)w=f.next=f.previous=f;else{F=null;a=w;do{if(a.expirationTime>=x){F=a;break}a=
a.next}while(a!==w);null===F?F=w:F===w&&(w=f,u());x=F.previous;x.next=F.previous=f;f.next=F;f.previous=x}}function z(){if(-1===S&&null!==w&&1===w.priorityLevel){U=!0;try{do p();while(null!==w&&1===w.priorityLevel)}finally{U=!1,null!==w?u():J=!1}}}function C(a){U=!0;var e=k;k=a;try{if(a)for(;null!==w;){var x=n.unstable_now();if(w.expirationTime<=x){do p();while(null!==w&&w.expirationTime<=x)}else break}else if(null!==w){do p();while(null!==w&&!W())}}finally{U=!1,k=e,null!==w?u():J=!1,z()}}function R(a){Y=
H(function(e){G(V);a(e)});V=Q(function(){ca(Y);a(n.unstable_now())},100)}Object.defineProperty(n,"__esModule",{value:!0});var w=null,k=!1,e=3,S=-1,fa=-1,U=!1,J=!1,E=Date,Q="function"===typeof setTimeout?setTimeout:void 0,G="function"===typeof clearTimeout?clearTimeout:void 0,H="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,ca="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,Y,V;if("object"===typeof performance&&"function"===typeof performance.now){var ma=
performance;n.unstable_now=function(){return ma.now()}}else n.unstable_now=function(){return E.now()};a=null;"undefined"!==typeof window?a=window:"undefined"!==typeof f&&(a=f);if(a&&a._schedMock){f=a._schedMock;var Ja=f[0];var sa=f[1];var W=f[2];n.unstable_now=f[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var F=null,x=function(a){if(null!==F)try{F(a)}finally{F=null}};Ja=function(a){null!==F?setTimeout(Ja,0,a):(F=a,setTimeout(x,0,!1))};sa=function(){F=null};W=function(){return!1}}else{"undefined"!==
typeof console&&("function"!==typeof H&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof ca&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var N=null,O=!1,Z=-1,qa=!1,Na=!1,ba=0,ka=33,la=33;W=function(){return ba<=n.unstable_now()};f=new MessageChannel;var pa=f.port2;f.port1.onmessage=
function(){O=!1;var a=N,e=Z;N=null;Z=-1;var x=n.unstable_now(),F=!1;if(0>=ba-x)if(-1!==e&&e<=x)F=!0;else{qa||(qa=!0,R(Ca));N=a;Z=e;return}if(null!==a){Na=!0;try{a(F)}finally{Na=!1}}};var Ca=function(a){if(null!==N){R(Ca);var e=a-ba+la;e<la&&ka<la?(8>e&&(e=8),la=e<ka?ka:e):ka=e;ba=a+la;O||(O=!0,pa.postMessage(void 0))}else qa=!1};Ja=function(a,e){N=a;Z=e;Na||0>e?pa.postMessage(void 0):qa||(qa=!0,R(Ca))};sa=function(){N=null;O=!1;Z=-1}}n.unstable_ImmediatePriority=1;n.unstable_UserBlockingPriority=
2;n.unstable_NormalPriority=3;n.unstable_IdlePriority=5;n.unstable_LowPriority=4;n.unstable_runWithPriority=function(a,x){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var F=e,k=S;e=a;S=n.unstable_now();try{return x()}finally{e=F,S=k,z()}};n.unstable_next=function(a){switch(e){case 1:case 2:case 3:var x=3;break;default:x=e}var F=e,k=S;e=x;S=n.unstable_now();try{return a()}finally{e=F,S=k,z()}};n.unstable_scheduleCallback=function(a,x){var F=-1!==S?S:n.unstable_now();if("object"===
typeof x&&null!==x&&"number"===typeof x.timeout)x=F+x.timeout;else switch(e){case 1:x=F+-1;break;case 2:x=F+250;break;case 5:x=F+1073741823;break;case 4:x=F+1E4;break;default:x=F+5E3}a={callback:a,priorityLevel:e,expirationTime:x,next:null,previous:null};if(null===w)w=a.next=a.previous=a,u();else{F=null;var k=w;do{if(k.expirationTime>x){F=k;break}k=k.next}while(k!==w);null===F?F=w:F===w&&(w=a,u());x=F.previous;x.next=F.previous=a;a.next=F;a.previous=x}return a};n.unstable_cancelCallback=function(a){var e=
a.next;if(null!==e){if(e===a)w=null;else{a===w&&(w=e);var x=a.previous;x.next=e;e.previous=x}a.next=a.previous=null}};n.unstable_wrapCallback=function(a){var x=e;return function(){var F=e,k=S;e=x;S=n.unstable_now();try{return a.apply(this,arguments)}finally{e=F,S=k,z()}}};n.unstable_getCurrentPriorityLevel=function(){return e};n.unstable_shouldYield=function(){return!k&&(null!==w&&w.expirationTime<fa||W())};n.unstable_continueExecution=function(){null!==w&&u()};n.unstable_pauseExecution=function(){};
n.unstable_getFirstCallbackNode=function(){return w}};
shadow$provide[15]=function(f,a,q,n){a(3);"use strict";q.exports=a(13)};
shadow$provide[16]=function(f,a,q,n){function u(b,d,c,g,l,h,m,v){if(!b){b=void 0;if(void 0===d)b=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var P=[c,g,l,h,m,v],wa=0;b=Error(d.replace(/%s/g,function(){return P[wa++]}));b.name="Invariant Violation"}b.framesToPop=1;throw b;}}function p(b){for(var d=arguments.length-1,c="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+b,g=0;g<d;g++)c+="\x26args[]\x3d"+
encodeURIComponent(arguments[g+1]);u(!1,"Minified React error #"+b+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",c)}function z(b,d,c,g,l,h,m,v,y){var P=Array.prototype.slice.call(arguments,3);try{d.apply(c,P)}catch(Cc){this.onError(Cc)}}function C(b,d,c,g,l,h,m,v,y){Nf=!1;og=null;z.apply(pg,arguments)}function R(b,d,c,g,l,h,m,v,y){C.apply(this,arguments);if(Nf){if(Nf){var P=og;Nf=!1;og=null}else p("198"),P=void 0;vf||(vf=
!0,Qg=P)}}function w(){if(Ye)for(var b in wf){var d=wf[b],c=Ye.indexOf(b);-1<c?void 0:p("96",b);if(!Ed[c]){d.extractEvents?void 0:p("97",b);Ed[c]=d;c=d.eventTypes;for(var g in c){var l=void 0,h=c[g],m=d,v=g;Ge.hasOwnProperty(v)?p("99",v):void 0;Ge[v]=h;var y=h.phasedRegistrationNames;if(y){for(l in y)y.hasOwnProperty(l)&&k(y[l],m,v);l=!0}else h.registrationName?(k(h.registrationName,m,v),l=!0):l=!1;l?void 0:p("98",g,b)}}}}function k(b,d,c){ve[b]?p("100",b):void 0;ve[b]=d;Of[b]=d.eventTypes[c].dependencies}
function e(b,d,c){var g=b.type||"unknown-event";b.currentTarget=qg(c);R(g,d,void 0,b);b.currentTarget=null}function S(b,d){null==d?p("30"):void 0;if(null==b)return d;if(Array.isArray(b)){if(Array.isArray(d))return b.push.apply(b,d),b;b.push(d);return b}return Array.isArray(d)?[b].concat(d):[b,d]}function fa(b,d,c){Array.isArray(b)?b.forEach(d,c):b&&d.call(c,b)}function U(b){if(b){var d=b._dispatchListeners,c=b._dispatchInstances;if(Array.isArray(d))for(var g=0;g<d.length&&!b.isPropagationStopped();g++)e(b,
d[g],c[g]);else d&&e(b,d,c);b._dispatchListeners=null;b._dispatchInstances=null;b.isPersistent()||b.constructor.release(b)}}function J(b,d){var c=b.stateNode;if(!c)return null;var g=xf(c);if(!g)return null;c=g[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":(g=!g.disabled)||(b=b.type,g=!("button"===b||"input"===b||"select"===
b||"textarea"===b));b=!g;break a;default:b=!1}if(b)return null;c&&"function"!==typeof c?p("231",d,typeof c):void 0;return c}function E(b){null!==b&&(yf=S(yf,b));b=yf;yf=null;if(b&&(fa(b,U),yf?p("95"):void 0,vf))throw b=Qg,vf=!1,Qg=null,b;}function Q(b){if(b[je])return b[je];for(;!b[je];)if(b.parentNode)b=b.parentNode;else return null;b=b[je];return 5===b.tag||6===b.tag?b:null}function G(b){b=b[je];return!b||5!==b.tag&&6!==b.tag?null:b}function H(b){if(5===b.tag||6===b.tag)return b.stateNode;p("33")}
function ca(b){return b[zf]||null}function Y(b){do b=b.return;while(b&&5!==b.tag);return b?b:null}function V(b,d,c){if(d=J(b,c.dispatchConfig.phasedRegistrationNames[d]))c._dispatchListeners=S(c._dispatchListeners,d),c._dispatchInstances=S(c._dispatchInstances,b)}function ma(b){if(b&&b.dispatchConfig.phasedRegistrationNames){for(var d=b._targetInst,c=[];d;)c.push(d),d=Y(d);for(d=c.length;0<d--;)V(c[d],"captured",b);for(d=0;d<c.length;d++)V(c[d],"bubbled",b)}}function Ja(b,d,c){b&&c&&c.dispatchConfig.registrationName&&
(d=J(b,c.dispatchConfig.registrationName))&&(c._dispatchListeners=S(c._dispatchListeners,d),c._dispatchInstances=S(c._dispatchInstances,b))}function sa(b){b&&b.dispatchConfig.registrationName&&Ja(b._targetInst,null,b)}function W(b){fa(b,ma)}function F(b,d){var c={};c[b.toLowerCase()]=d.toLowerCase();c["Webkit"+b]="webkit"+d;c["Moz"+b]="moz"+d;return c}function x(b){if(Pf[b])return Pf[b];if(!Qf[b])return b;var d=Qf[b],c;for(c in d)if(d.hasOwnProperty(c)&&c in rg)return Pf[b]=d[c];return b}function N(){if(ke)return ke;
var b,d=vh,c=d.length,g,l="value"in Ze?Ze.value:Ze.textContent,h=l.length;for(b=0;b<c&&d[b]===l[b];b++);var m=c-b;for(g=1;g<=m&&d[c-g]===l[h-g];g++);return ke=l.slice(b,1<g?1-g:void 0)}function O(){return!0}function Z(){return!1}function qa(b,d,c,g){this.dispatchConfig=b;this._targetInst=d;this.nativeEvent=c;b=this.constructor.Interface;for(var P in b)b.hasOwnProperty(P)&&((d=b[P])?this[P]=d(c):"target"===P?this.target=g:this[P]=c[P]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:
!1===c.returnValue)?O:Z;this.isPropagationStopped=Z;return this}function Na(b,d,c,g){if(this.eventPool.length){var P=this.eventPool.pop();this.call(P,b,d,c,g);return P}return new this(b,d,c,g)}function ba(b){b instanceof this?void 0:p("279");b.destructor();10>this.eventPool.length&&this.eventPool.push(b)}function ka(b){b.eventPool=[];b.getPooled=Na;b.release=ba}function la(b,d){switch(b){case "keyup":return-1!==Ph.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "blur":return!0;
default:return!1}}function pa(b){b=b.detail;return"object"===typeof b&&"data"in b?b.data:null}function Ca(b,d){switch(b){case "compositionend":return pa(d);case "keypress":if(32!==d.which)return null;Dc=!0;return wh;case "textInput":return b=d.data,b===wh&&Dc?null:b;default:return null}}function Ga(b,d){if(Fd)return"compositionend"===b||!Rg&&la(b,d)?(b=N(),ke=vh=Ze=null,Fd=!1,b):null;switch(b){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&
1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case "compositionend":return Sg&&"ko"!==d.locale?null:d.data;default:return null}}function La(b){if(b=sg(b)){"function"!==typeof tg?p("280"):void 0;var d=xf(b.stateNode);tg(b.stateNode,b.type,d)}}function Ha(b){He?Ie?Ie.push(b):Ie=[b]:He=b}function Ua(){if(He){var b=He,d=Ie;Ie=He=null;La(b);if(d)for(b=0;b<d.length;b++)La(d[b])}}function K(b,d){return b(d)}function Xb(b,d,c){return b(d,c)}function Ib(){}function kb(b,
d){if(ug)return b(d);ug=!0;try{return K(b,d)}finally{if(ug=!1,null!==He||null!==Ie)Ib(),Ua()}}function Ab(b){var d=b&&b.nodeName&&b.nodeName.toLowerCase();return"input"===d?!!Wa[b.type]:"textarea"===d?!0:!1}function za(b){b=b.target||b.srcElement||window;b.correspondingUseElement&&(b=b.correspondingUseElement);return 3===b.nodeType?b.parentNode:b}function ra(b){if(!Je)return!1;b="on"+b;var d=b in document;d||(d=document.createElement("div"),d.setAttribute(b,"return;"),d="function"===typeof d[b]);
return d}function Ka(b){var d=b.type;return(b=b.nodeName)&&"input"===b.toLowerCase()&&("checkbox"===d||"radio"===d)}function ha(b){var d=Ka(b)?"checked":"value",c=Object.getOwnPropertyDescriptor(b.constructor.prototype,d),g=""+b[d];if(!b.hasOwnProperty(d)&&"undefined"!==typeof c&&"function"===typeof c.get&&"function"===typeof c.set){var l=c.get,P=c.set;Object.defineProperty(b,d,{configurable:!0,get:function(){return l.call(this)},set:function(b){g=""+b;P.call(this,b)}});Object.defineProperty(b,d,
{enumerable:c.enumerable});return{getValue:function(){return g},setValue:function(b){g=""+b},stopTracking:function(){b._valueTracker=null;delete b[d]}}}}function oa(b){b._valueTracker||(b._valueTracker=ha(b))}function Ra(b){if(!b)return!1;var d=b._valueTracker;if(!d)return!0;var c=d.getValue(),g="";b&&(g=Ka(b)?b.checked?"true":"false":b.value);b=g;return b!==c?(d.setValue(b),!0):!1}function vb(b){if(null===b||"object"!==typeof b)return null;b=Qh&&b[Qh]||b["@@iterator"];return"function"===typeof b?
b:null}function bc(b){if(null==b)return null;if("function"===typeof b)return b.displayName||b.name||null;if("string"===typeof b)return b;switch(b){case Tg:return"ConcurrentMode";case le:return"Fragment";case Wd:return"Portal";case $e:return"Profiler";case Rf:return"StrictMode";case vg:return"Suspense"}if("object"===typeof b)switch(b.$$typeof){case Ug:return"Context.Consumer";case Sf:return"Context.Provider";case Vg:var d=b.render;d=d.displayName||d.name||"";return b.displayName||(""!==d?"ForwardRef("+
d+")":"ForwardRef");case Wg:return bc(b.type);case Tf:if(b=1===b._status?b._result:null)return bc(b)}return null}function Ec(b){var d="";do{a:switch(b.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c="";break a;default:var g=b._debugOwner,l=b._debugSource,P=bc(b.type);c=null;g&&(c=bc(g.type));g=P;P="";l?P=" (at "+l.fileName.replace(Xg,"")+":"+l.lineNumber+")":c&&(P=" (created by "+c+")");c="\n    in "+(g||"Unknown")+P}d+=c;b=b.return}while(b);return d}function Ob(b){if(xh.call(g,b))return!0;
if(xh.call(wg,b))return!1;if(vi.test(b))return g[b]=!0;wg[b]=!0;return!1}function sd(b,d,c,g){if(null!==c&&0===c.type)return!1;switch(typeof d){case "function":case "symbol":return!0;case "boolean":if(g)return!1;if(null!==c)return!c.acceptsBooleans;b=b.toLowerCase().slice(0,5);return"data-"!==b&&"aria-"!==b;default:return!1}}function Eb(b,d,c,g){if(null===d||"undefined"===typeof d||sd(b,d,c,g))return!0;if(g)return!1;if(null!==c)switch(c.type){case 3:return!d;case 4:return!1===d;case 5:return isNaN(d);
case 6:return isNaN(d)||1>d}return!1}function Pa(b,d,c,g,l){this.acceptsBooleans=2===d||3===d||4===d;this.attributeName=g;this.attributeNamespace=l;this.mustUseProperty=c;this.propertyName=b;this.type=d}function cc(b){return b[1].toUpperCase()}function nc(d,c,g,l){var P=b.hasOwnProperty(c)?b[c]:null;(null!==P?0===P.type:l?0:2<c.length&&("o"===c[0]||"O"===c[0])&&("n"===c[1]||"N"===c[1]))||(Eb(c,g,P,l)&&(g=null),l||null===P?Ob(c)&&(null===g?d.removeAttribute(c):d.setAttribute(c,""+g)):P.mustUseProperty?
d[P.propertyName]=null===g?3===P.type?!1:"":g:(c=P.attributeName,l=P.attributeNamespace,null===g?d.removeAttribute(c):(P=P.type,g=3===P||4===P&&!0===g?"":""+g,l?d.setAttributeNS(l,c,g):d.setAttribute(c,g))))}function Sa(b){switch(typeof b){case "boolean":case "number":case "object":case "string":case "undefined":return b;default:return""}}function Ya(b,d){var c=d.checked;return dc({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:b._wrapperState.initialChecked})}function ja(b,
d){var c=null==d.defaultValue?"":d.defaultValue,g=null!=d.checked?d.checked:d.defaultChecked;c=Sa(null!=d.value?d.value:c);b._wrapperState={initialChecked:g,initialValue:c,controlled:"checkbox"===d.type||"radio"===d.type?null!=d.checked:null!=d.value}}function Pb(b,d){d=d.checked;null!=d&&nc(b,"checked",d,!1)}function Yb(b,d){Pb(b,d);var c=Sa(d.value),g=d.type;if(null!=c)if("number"===g){if(0===c&&""===b.value||b.value!=c)b.value=""+c}else b.value!==""+c&&(b.value=""+c);else if("submit"===g||"reset"===
g){b.removeAttribute("value");return}d.hasOwnProperty("value")?ua(b,d.type,c):d.hasOwnProperty("defaultValue")&&ua(b,d.type,Sa(d.defaultValue));null==d.checked&&null!=d.defaultChecked&&(b.defaultChecked=!!d.defaultChecked)}function Rc(b,d,c){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var g=d.type;if(!("submit"!==g&&"reset"!==g||void 0!==d.value&&null!==d.value))return;d=""+b._wrapperState.initialValue;c||d===b.value||(b.value=d);b.defaultValue=d}c=b.name;""!==c&&(b.name="");b.defaultChecked=
!b.defaultChecked;b.defaultChecked=!!b._wrapperState.initialChecked;""!==c&&(b.name=c)}function ua(b,d,c){if("number"!==d||b.ownerDocument.activeElement!==b)null==c?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+c&&(b.defaultValue=""+c)}function Fa(b,d,c){b=qa.getPooled(l.change,b,d,c);b.type="change";Ha(c);W(b);return b}function Sc(b){E(b)}function Tc(b){var d=H(b);if(Ra(d))return b}function rb(b,d){if("change"===b)return d}function qb(){y&&(y.detachEvent("onpropertychange",Aa),
ea=y=null)}function Aa(b){"value"===b.propertyName&&Tc(ea)&&(b=Fa(ea,b,za(b)),kb(Sc,b))}function Fc(b,d,c){"focus"===b?(qb(),y=d,ea=c,y.attachEvent("onpropertychange",Aa)):"blur"===b&&qb()}function Za(b){if("selectionchange"===b||"keyup"===b||"keydown"===b)return Tc(ea)}function Gd(b,d){if("click"===b)return Tc(d)}function lb(b,d){if("input"===b||"change"===b)return Tc(d)}function Jb(b){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(b):(b=Xi[b])?!!d[b]:!1}function Uc(){return Jb}
function oc(b,d){return b===d&&(0!==b||1/b===1/d)||b!==b&&d!==d}function uc(b,d){if(oc(b,d))return!0;if("object"!==typeof b||null===b||"object"!==typeof d||null===d)return!1;var c=Object.keys(b),g=Object.keys(d);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++)if(!yh.call(d,c[g])||!oc(b[c[g]],d[c[g]]))return!1;return!0}function $a(b){var d=b;if(b.alternate)for(;d.return;)d=d.return;else{if(0!==(d.effectTag&2))return 1;for(;d.return;)if(d=d.return,0!==(d.effectTag&2))return 1}return 3===d.tag?
2:3}function Gc(b){2!==$a(b)?p("188"):void 0}function Zb(b){var d=b.alternate;if(!d)return d=$a(b),3===d?p("188"):void 0,1===d?null:b;for(var c=b,g=d;;){var l=c.return,h=l?l.alternate:null;if(!l||!h)break;if(l.child===h.child){for(var P=l.child;P;){if(P===c)return Gc(l),b;if(P===g)return Gc(l),d;P=P.sibling}p("188")}if(c.return!==g.return)c=l,g=h;else{P=!1;for(var m=l.child;m;){if(m===c){P=!0;c=l;g=h;break}if(m===g){P=!0;g=l;c=h;break}m=m.sibling}if(!P){for(m=h.child;m;){if(m===c){P=!0;c=h;g=l;break}if(m===
g){P=!0;g=h;c=l;break}m=m.sibling}P?void 0:p("189")}}c.alternate!==g?p("190"):void 0}3!==c.tag?p("188"):void 0;return c.stateNode.current===c?b:d}function ya(b){b=Zb(b);if(!b)return null;for(var d=b;;){if(5===d.tag||6===d.tag)return d;if(d.child)d.child.return=d,d=d.child;else{if(d===b)break;for(;!d.sibling;){if(!d.return||d.return===b)return null;d=d.return}d.sibling.return=d.return;d=d.sibling}}return null}function Hc(b){var d=b.keyCode;"charCode"in b?(b=b.charCode,0===b&&13===d&&(b=13)):b=d;10===
b&&(b=13);return 32<=b||13===b?b:0}function Ic(b,d){var c=b[0];b=b[1];var g="on"+(b[0].toUpperCase()+b.slice(1));d={phasedRegistrationNames:{bubbled:g,captured:g+"Capture"},dependencies:[c],isInteractive:d};Uf[b]=d;Vf[c]=d}function hd(b){var d=b.targetInst,c=d;do{if(!c){b.ancestors.push(c);break}var g;for(g=c;g.return;)g=g.return;g=3!==g.tag?null:g.stateNode.containerInfo;if(!g)break;b.ancestors.push(c);c=Q(g)}while(c);for(c=0;c<b.ancestors.length;c++){d=b.ancestors[c];var l=za(b.nativeEvent);g=b.topLevelType;
for(var h=b.nativeEvent,P=null,m=0;m<Ed.length;m++){var v=Ed[m];v&&(v=v.extractEvents(g,d,h,l))&&(P=S(P,v))}E(P)}}function Va(b,d){if(!d)return null;var c=(xg(b)?r:$b).bind(null,b);d.addEventListener(b,c,!1)}function Ea(b,d){if(!d)return null;var c=(xg(b)?r:$b).bind(null,b);d.addEventListener(b,c,!0)}function r(b,d){Xb($b,b,d)}function $b(b,d){if(Yg){var c=za(d);c=Q(c);null===c||"number"!==typeof c.tag||2===$a(c)||(c=null);if(Rh.length){var g=Rh.pop();g.topLevelType=b;g.nativeEvent=d;g.targetInst=
c;b=g}else b={topLevelType:b,nativeEvent:d,targetInst:c,ancestors:[]};try{kb(hd,b)}finally{b.topLevelType=null,b.nativeEvent=null,b.targetInst=null,b.ancestors.length=0,10>Rh.length&&Rh.push(b)}}}function id(b){Object.prototype.hasOwnProperty.call(b,Sh)||(b[Sh]=zj++,Yi[b[Sh]]={});return Yi[b[Sh]]}function Vc(b){b=b||("undefined"!==typeof document?document:void 0);if("undefined"===typeof b)return null;try{return b.activeElement||b.body}catch(wa){return b.body}}function ab(b){for(;b&&b.firstChild;)b=
b.firstChild;return b}function wb(b,d){var c=ab(b);b=0;for(var g;c;){if(3===c.nodeType){g=b+c.textContent.length;if(b<=d&&g>=d)return{node:c,offset:d-b};b=g}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=ab(c)}}function Bb(b,d){return b&&d?b===d?!0:b&&3===b.nodeType?!1:d&&3===d.nodeType?Bb(b,d.parentNode):"contains"in b?b.contains(d):b.compareDocumentPosition?!!(b.compareDocumentPosition(d)&16):!1:!1}function D(){for(var b=window,d=Vc();d instanceof b.HTMLIFrameElement;){try{var c=
"string"===typeof d.contentWindow.location.href}catch(si){c=!1}if(c)b=d.contentWindow;else break;d=Vc(b.document)}return d}function M(b){var d=b&&b.nodeName&&b.nodeName.toLowerCase();return d&&("input"===d&&("text"===b.type||"search"===b.type||"tel"===b.type||"url"===b.type||"password"===b.type)||"textarea"===d||"true"===b.contentEditable)}function td(){var b=D();if(M(b)){if("selectionStart"in b)var d={start:b.selectionStart,end:b.selectionEnd};else a:{d=(d=b.ownerDocument)&&d.defaultView||window;
var c=d.getSelection&&d.getSelection();if(c&&0!==c.rangeCount){d=c.anchorNode;var g=c.anchorOffset,l=c.focusNode;c=c.focusOffset;try{d.nodeType,l.nodeType}catch(rk){d=null;break a}var h=0,m=-1,v=-1,y=0,t=0,a=b,X=null;b:for(;;){for(var ea;;){a!==d||0!==g&&3!==a.nodeType||(m=h+g);a!==l||0!==c&&3!==a.nodeType||(v=h+c);3===a.nodeType&&(h+=a.nodeValue.length);if(null===(ea=a.firstChild))break;X=a;a=ea}for(;;){if(a===b)break b;X===d&&++y===g&&(m=h);X===l&&++t===c&&(v=h);if(null!==(ea=a.nextSibling))break;
a=X;X=a.parentNode}a=ea}d=-1===m||-1===v?null:{start:m,end:v}}else d=null}d=d||{start:0,end:0}}else d=null;return{focusedElem:b,selectionRange:d}}function pc(b){var d=D(),c=b.focusedElem,g=b.selectionRange;if(d!==c&&c&&c.ownerDocument&&Bb(c.ownerDocument.documentElement,c)){if(null!==g&&M(c))if(d=g.start,b=g.end,void 0===b&&(b=d),"selectionStart"in c)c.selectionStart=d,c.selectionEnd=Math.min(b,c.value.length);else if(b=(d=c.ownerDocument||document)&&d.defaultView||window,b.getSelection){b=b.getSelection();
var l=c.textContent.length,h=Math.min(g.start,l);g=void 0===g.end?h:Math.min(g.end,l);!b.extend&&h>g&&(l=g,g=h,h=l);l=wb(c,h);var P=wb(c,g);l&&P&&(1!==b.rangeCount||b.anchorNode!==l.node||b.anchorOffset!==l.offset||b.focusNode!==P.node||b.focusOffset!==P.offset)&&(d=d.createRange(),d.setStart(l.node,l.offset),b.removeAllRanges(),h>g?(b.addRange(d),b.extend(P.node,P.offset)):(d.setEnd(P.node,P.offset),b.addRange(d)))}d=[];for(b=c;b=b.parentNode;)1===b.nodeType&&d.push({element:b,left:b.scrollLeft,
top:b.scrollTop});"function"===typeof c.focus&&c.focus();for(c=0;c<d.length;c++)b=d[c],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}function jd(b,d){var c=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument;if($g||null==Wf||Wf!==Vc(c))return null;c=Wf;"selectionStart"in c&&M(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});
return ah&&uc(ah,c)?null:(ah=c,b=qa.getPooled(Uh.select,Vh,b,d),b.type="select",b.target=Wf,W(b),b)}function Ia(b){var d="";db.Children.forEach(b,function(b){null!=b&&(d+=b)});return d}function bb(b,d){b=dc({children:void 0},d);if(d=Ia(d.children))b.children=d;return b}function ud(b,d,c,g){b=b.options;if(d){d={};for(var l=0;l<c.length;l++)d["$"+c[l]]=!0;for(c=0;c<b.length;c++)l=d.hasOwnProperty("$"+b[c].value),b[c].selected!==l&&(b[c].selected=l),l&&g&&(b[c].defaultSelected=!0)}else{c=""+Sa(c);d=
null;for(l=0;l<b.length;l++){if(b[l].value===c){b[l].selected=!0;g&&(b[l].defaultSelected=!0);return}null!==d||b[l].disabled||(d=b[l])}null!==d&&(d.selected=!0)}}function Xd(b,d){null!=d.dangerouslySetInnerHTML?p("91"):void 0;return dc({},d,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function Qa(b,d){var c=d.value;null==c&&(c=d.defaultValue,d=d.children,null!=d&&(null!=c?p("92"):void 0,Array.isArray(d)&&(1>=d.length?void 0:p("93"),d=d[0]),c=d),null==c&&(c=""));b._wrapperState=
{initialValue:Sa(c)}}function Oa(b,d){var c=Sa(d.value),g=Sa(d.defaultValue);null!=c&&(c=""+c,c!==b.value&&(b.value=c),null==d.defaultValue&&b.defaultValue!==c&&(b.defaultValue=c));null!=g&&(b.defaultValue=""+g)}function ac(b){var d=b.textContent;d===b._wrapperState.initialValue&&(b.value=d)}function xb(b){switch(b){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(b,d){return null==b||"http://www.w3.org/1999/xhtml"===
b?xb(d):"http://www.w3.org/2000/svg"===b&&"foreignObject"===d?"http://www.w3.org/1999/xhtml":b}function Qb(b,d){if(d){var c=b.firstChild;if(c&&c===b.lastChild&&3===c.nodeType){c.nodeValue=d;return}}b.textContent=d}function da(b,d,c){return null==d||"boolean"===typeof d||""===d?"":c||"number"!==typeof d||0===d||bh.hasOwnProperty(b)&&bh[b]?(""+d).trim():d+"px"}function cb(b,d){b=b.style;for(var c in d)if(d.hasOwnProperty(c)){var g=0===c.indexOf("--"),l=da(c,d[c],g);"float"===c&&(c="cssFloat");g?b.setProperty(c,
l):b[c]=l}}function vc(b,d){d&&(Aj[b]&&(null!=d.children||null!=d.dangerouslySetInnerHTML?p("137",b,""):void 0),null!=d.dangerouslySetInnerHTML&&(null!=d.children?p("60"):void 0,"object"===typeof d.dangerouslySetInnerHTML&&"__html"in d.dangerouslySetInnerHTML?void 0:p("61")),null!=d.style&&"object"!==typeof d.style?p("62",""):void 0)}function sb(b,d){if(-1===b.indexOf("-"))return"string"===typeof d.is;switch(b){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function eb(b,d){b=9===b.nodeType||11===b.nodeType?b:b.ownerDocument;var c=id(b);d=Of[d];for(var g=0;g<d.length;g++){var l=d[g];if(!c.hasOwnProperty(l)||!c[l]){switch(l){case "scroll":Ea("scroll",b);break;case "focus":case "blur":Ea("focus",b);Ea("blur",b);c.blur=!0;c.focus=!0;break;case "cancel":case "close":ra(l)&&Ea(l,b);break;case "invalid":case "submit":case "reset":break;default:-1===Xf.indexOf(l)&&Va(l,b)}c[l]=!0}}}function vd(){}function me(b,d){switch(b){case "button":case "input":case "select":case "textarea":return!!d.autoFocus}return!1}
function Fb(b,d){return"textarea"===b||"option"===b||"noscript"===b||"string"===typeof d.children||"number"===typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function Yd(b,d,c,g,l){b[zf]=l;"input"===c&&"radio"===l.type&&null!=l.name&&Pb(b,l);sb(c,g);g=sb(c,l);for(var h=0;h<d.length;h+=2){var P=d[h],m=d[h+1];"style"===P?cb(b,m):"dangerouslySetInnerHTML"===P?wi(b,m):"children"===P?Qb(b,m):nc(b,P,m,g)}switch(c){case "input":Yb(b,
l);break;case "textarea":Oa(b,l);break;case "select":d=b._wrapperState.wasMultiple,b._wrapperState.wasMultiple=!!l.multiple,c=l.value,null!=c?ud(b,!!l.multiple,c,!1):d!==!!l.multiple&&(null!=l.defaultValue?ud(b,!!l.multiple,l.defaultValue,!0):ud(b,!!l.multiple,l.multiple?[]:"",!1))}}function ec(b){for(b=b.nextSibling;b&&1!==b.nodeType&&3!==b.nodeType;)b=b.nextSibling;return b}function wc(b){for(b=b.firstChild;b&&1!==b.nodeType&&3!==b.nodeType;)b=b.nextSibling;return b}function fb(b){0>yg||(b.current=
Wh[yg],Wh[yg]=null,yg--)}function Rb(b,d){yg++;Wh[yg]=b.current;b.current=d}function kd(b,d){var c=b.type.contextTypes;if(!c)return Af;var g=b.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===d)return g.__reactInternalMemoizedMaskedChildContext;var l={},h;for(h in c)l[h]=d[h];g&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=d,b.__reactInternalMemoizedMaskedChildContext=l);return l}function Gb(b){b=b.childContextTypes;return null!==b&&void 0!==b}function Hb(b){fb(ne,b);
fb(wd,b)}function Hd(b){fb(ne,b);fb(wd,b)}function Id(b,d,c){wd.current!==Af?p("168"):void 0;Rb(wd,d,b);Rb(ne,c,b)}function ld(b,d,c){var g=b.stateNode;b=d.childContextTypes;if("function"!==typeof g.getChildContext)return c;g=g.getChildContext();for(var l in g)l in b?void 0:p("108",bc(d)||"Unknown",l);return dc({},c,g)}function xc(b){var d=b.stateNode;d=d&&d.__reactInternalMemoizedMergedChildContext||Af;Ke=wd.current;Rb(wd,d,b);Rb(ne,ne.current,b);return!0}function Wc(b,d,c){var g=b.stateNode;g?void 0:
p("169");c?(d=ld(b,d,Ke),g.__reactInternalMemoizedMergedChildContext=d,fb(ne,b),fb(wd,b),Rb(wd,d,b)):fb(ne,b);Rb(ne,c,b)}function Zd(b){return function(d){try{return b(d)}catch(mc){}}}function md(b){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)return!0;try{var c=d.inject(b);Xh=Zd(function(b){return d.onCommitFiberRoot(c,b)});xi=Zd(function(b){return d.onCommitFiberUnmount(c,b)})}catch(si){}return!0}function yc(b,
d,c,g){this.tag=b;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=d;this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=g;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Jc(b,d,c,g){return new yc(b,d,c,g)}function af(b){b=b.prototype;return!(!b||!b.isReactComponent)}function bf(b){if("function"===
typeof b)return af(b)?1:0;if(void 0!==b&&null!==b){b=b.$$typeof;if(b===Vg)return 11;if(b===Wg)return 14}return 2}function Xa(b,d){var c=b.alternate;null===c?(c=Jc(b.tag,d,b.key,b.mode),c.elementType=b.elementType,c.type=b.type,c.stateNode=b.stateNode,c.alternate=b,b.alternate=c):(c.pendingProps=d,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childExpirationTime=b.childExpirationTime;c.expirationTime=b.expirationTime;c.child=b.child;c.memoizedProps=b.memoizedProps;c.memoizedState=
b.memoizedState;c.updateQueue=b.updateQueue;c.contextDependencies=b.contextDependencies;c.sibling=b.sibling;c.index=b.index;c.ref=b.ref;return c}function xd(b,d,c,g,l,h){var m=2;g=b;if("function"===typeof b)af(b)&&(m=1);else if("string"===typeof b)m=5;else a:switch(b){case le:return qc(c.children,l,h,d);case Tg:return Ma(c,l|3,h,d);case Rf:return Ma(c,l|2,h,d);case $e:return b=Jc(12,c,d,l|4),b.elementType=$e,b.type=$e,b.expirationTime=h,b;case vg:return b=Jc(13,c,d,l),b.elementType=vg,b.type=vg,b.expirationTime=
h,b;default:if("object"===typeof b&&null!==b)switch(b.$$typeof){case Sf:m=10;break a;case Ug:m=9;break a;case Vg:m=11;break a;case Wg:m=14;break a;case Tf:m=16;g=null;break a}p("130",null==b?b:typeof b,"")}d=Jc(m,c,d,l);d.elementType=b;d.type=g;d.expirationTime=h;return d}function qc(b,d,c,g){b=Jc(7,b,g,d);b.expirationTime=c;return b}function Ma(b,d,c,g){b=Jc(8,b,g,d);d=0===(d&1)?Rf:Tg;b.elementType=d;b.type=d;b.expirationTime=c;return b}function Xc(b,d,c){b=Jc(6,b,null,d);b.expirationTime=c;return b}
function Jd(b,d,c){d=Jc(4,null!==b.children?b.children:[],b.key,d);d.expirationTime=c;d.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation};return d}function fc(b,d){b.didError=!1;var c=b.earliestPendingTime;0===c?b.earliestPendingTime=b.latestPendingTime=d:c<d?b.earliestPendingTime=d:b.latestPendingTime>d&&(b.latestPendingTime=d);$d(d,b)}function Cb(b,d){b.didError=!1;if(0===d)b.earliestPendingTime=0,b.latestPendingTime=0,b.earliestSuspendedTime=0,b.latestSuspendedTime=
0,b.latestPingedTime=0;else{d<b.latestPingedTime&&(b.latestPingedTime=0);var c=b.latestPendingTime;0!==c&&(c>d?b.earliestPendingTime=b.latestPendingTime=0:b.earliestPendingTime>d&&(b.earliestPendingTime=b.latestPendingTime));c=b.earliestSuspendedTime;0===c?fc(b,d):d<b.latestSuspendedTime?(b.earliestSuspendedTime=0,b.latestSuspendedTime=0,b.latestPingedTime=0,fc(b,d)):d>c&&fc(b,d)}$d(0,b)}function Yc(b,d){b.didError=!1;b.latestPingedTime>=d&&(b.latestPingedTime=0);var c=b.earliestPendingTime,g=b.latestPendingTime;
c===d?b.earliestPendingTime=g===d?b.latestPendingTime=0:g:g===d&&(b.latestPendingTime=c);c=b.earliestSuspendedTime;g=b.latestSuspendedTime;0===c?b.earliestSuspendedTime=b.latestSuspendedTime=d:c<d?b.earliestSuspendedTime=d:g>d&&(b.latestSuspendedTime=d);$d(d,b)}function gb(b,d){var c=b.earliestPendingTime;b=b.earliestSuspendedTime;c>d&&(d=c);b>d&&(d=b);return d}function $d(b,d){var c=d.earliestSuspendedTime,g=d.latestSuspendedTime,l=d.earliestPendingTime,h=d.latestPingedTime;l=0!==l?l:h;0===l&&(0===
b||g<b)&&(l=g);b=l;0!==b&&c>b&&(b=c);d.nextExpirationTimeToWorkOn=l;d.expirationTime=b}function Kb(b,d){if(b&&b.defaultProps){d=dc({},d);b=b.defaultProps;for(var c in b)void 0===d[c]&&(d[c]=b[c])}return d}function hb(b){var d=b._result;switch(b._status){case 1:return d;case 2:throw d;case 0:throw d;default:b._status=0;d=b._ctor;d=d();d.then(function(d){0===b._status&&(d=d.default,b._status=1,b._result=d)},function(d){0===b._status&&(b._status=2,b._result=d)});switch(b._status){case 1:return b._result;
case 2:throw b._result;}b._result=d;throw d;}}function mb(b,d,c,g){d=b.memoizedState;c=c(g,d);c=null===c||void 0===c?d:dc({},d,c);b.memoizedState=c;g=b.updateQueue;null!==g&&0===b.expirationTime&&(g.baseState=c)}function Kd(b,d,c,g,l,h,m){b=b.stateNode;return"function"===typeof b.shouldComponentUpdate?b.shouldComponentUpdate(g,h,m):d.prototype&&d.prototype.isPureReactComponent?!uc(c,g)||!uc(l,h):!0}function tb(b,d,c){var g=!1,l=Af,h=d.contextType;"object"===typeof h&&null!==h?h=Ub(h):(l=Gb(d)?Ke:
wd.current,g=d.contextTypes,h=(g=null!==g&&void 0!==g)?kd(b,l):Af);d=new d(c,h);b.memoizedState=null!==d.state&&void 0!==d.state?d.state:null;d.updater=zh;b.stateNode=d;d._reactInternalFiber=b;g&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=l,b.__reactInternalMemoizedMaskedChildContext=h);return d}function ib(b,d,c,g){b=d.state;"function"===typeof d.componentWillReceiveProps&&d.componentWillReceiveProps(c,g);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(c,
g);d.state!==b&&zh.enqueueReplaceState(d,d.state,null)}function Zc(b,d,c,g){var l=b.stateNode;l.props=c;l.state=b.memoizedState;l.refs=Zi;var h=d.contextType;"object"===typeof h&&null!==h?l.context=Ub(h):(h=Gb(d)?Ke:wd.current,l.context=kd(b,h));h=b.updateQueue;null!==h&&(Ld(b,h,c,l,g),l.state=b.memoizedState);h=d.getDerivedStateFromProps;"function"===typeof h&&(mb(b,d,h,c),l.state=b.memoizedState);"function"===typeof d.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==
typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(d=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),d!==l.state&&zh.enqueueReplaceState(l,l.state,null),h=b.updateQueue,null!==h&&(Ld(b,h,c,l,g),l.state=b.memoizedState));"function"===typeof l.componentDidMount&&(b.effectTag|=4)}function Db(b,d,c){b=c.ref;if(null!==b&&"function"!==typeof b&&"object"!==typeof b){if(c._owner){c=
c._owner;var g=void 0;c&&(1!==c.tag?p("309"):void 0,g=c.stateNode);g?void 0:p("147",b);var l=""+b;if(null!==d&&null!==d.ref&&"function"===typeof d.ref&&d.ref._stringRef===l)return d.ref;d=function(b){var d=g.refs;d===Zi&&(d=g.refs={});null===b?delete d[l]:d[l]=b};d._stringRef=l;return d}"string"!==typeof b?p("284"):void 0;c._owner?void 0:p("290",b)}return b}function Lb(b,d){"textarea"!==b.type&&p("31","[object Object]"===Object.prototype.toString.call(d)?"object with keys {"+Object.keys(d).join(", ")+
"}":d,"")}function Md(b){function d(d,c){if(b){var g=d.lastEffect;null!==g?(g.nextEffect=c,d.lastEffect=c):d.firstEffect=d.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,g){if(!b)return null;for(;null!==g;)d(c,g),g=g.sibling;return null}function g(b,d){for(b=new Map;null!==d;)null!==d.key?b.set(d.key,d):b.set(d.index,d),d=d.sibling;return b}function l(b,d,c){b=Xa(b,d,c);b.index=0;b.sibling=null;return b}function h(d,c,g){d.index=g;if(!b)return c;g=d.alternate;if(null!==g)return g=g.index,
g<c?(d.effectTag=2,c):g;d.effectTag=2;return c}function m(d){b&&null===d.alternate&&(d.effectTag=2);return d}function v(b,d,c,g){if(null===d||6!==d.tag)return d=Xc(c,b.mode,g),d.return=b,d;d=l(d,c,g);d.return=b;return d}function y(b,d,c,g){if(null!==d&&d.elementType===c.type)return g=l(d,c.props,g),g.ref=Db(b,d,c),g.return=b,g;g=xd(c.type,c.key,c.props,null,b.mode,g);g.ref=Db(b,d,c);g.return=b;return g}function t(b,d,c,g){if(null===d||4!==d.tag||d.stateNode.containerInfo!==c.containerInfo||d.stateNode.implementation!==
c.implementation)return d=Jd(c,b.mode,g),d.return=b,d;d=l(d,c.children||[],g);d.return=b;return d}function P(b,d,c,g,h){if(null===d||7!==d.tag)return d=qc(c,b.mode,g,h),d.return=b,d;d=l(d,c,g);d.return=b;return d}function a(b,d,c){if("string"===typeof d||"number"===typeof d)return d=Xc(""+d,b.mode,c),d.return=b,d;if("object"===typeof d&&null!==d){switch(d.$$typeof){case zg:return c=xd(d.type,d.key,d.props,null,b.mode,c),c.ref=Db(b,null,d),c.return=b,c;case Wd:return d=Jd(d,b.mode,c),d.return=b,d}if(cf(d)||
vb(d))return d=qc(d,b.mode,c,null),d.return=b,d;Lb(b,d)}return null}function X(b,d,c,g){var l=null!==d?d.key:null;if("string"===typeof c||"number"===typeof c)return null!==l?null:v(b,d,""+c,g);if("object"===typeof c&&null!==c){switch(c.$$typeof){case zg:return c.key===l?c.type===le?P(b,d,c.props.children,g,l):y(b,d,c,g):null;case Wd:return c.key===l?t(b,d,c,g):null}if(cf(c)||vb(c))return null!==l?null:P(b,d,c,g,null);Lb(b,c)}return null}function ea(b,d,c,g,l){if("string"===typeof g||"number"===typeof g)return b=
b.get(c)||null,v(d,b,""+g,l);if("object"===typeof g&&null!==g){switch(g.$$typeof){case zg:return b=b.get(null===g.key?c:g.key)||null,g.type===le?P(d,b,g.props.children,l,g.key):y(d,b,g,l);case Wd:return b=b.get(null===g.key?c:g.key)||null,t(d,b,g,l)}if(cf(g)||vb(g))return b=b.get(c)||null,P(d,b,g,l,null);Lb(d,g)}return null}function e(l,m,v,y){for(var t=null,P=null,wa=m,e=m=0,mc=null;null!==wa&&e<v.length;e++){wa.index>e?(mc=wa,wa=null):mc=wa.sibling;var r=X(l,wa,v[e],y);if(null===r){null===wa&&(wa=
mc);break}b&&wa&&null===r.alternate&&d(l,wa);m=h(r,m,e);null===P?t=r:P.sibling=r;P=r;wa=mc}if(e===v.length)return c(l,wa),t;if(null===wa){for(;e<v.length;e++)if(wa=a(l,v[e],y))m=h(wa,m,e),null===P?t=wa:P.sibling=wa,P=wa;return t}for(wa=g(l,wa);e<v.length;e++)if(mc=ea(wa,l,e,v[e],y))b&&null!==mc.alternate&&wa.delete(null===mc.key?e:mc.key),m=h(mc,m,e),null===P?t=mc:P.sibling=mc,P=mc;b&&wa.forEach(function(b){return d(l,b)});return t}function r(l,m,v,y){var t=vb(v);"function"!==typeof t?p("150"):void 0;
v=t.call(v);null==v?p("151"):void 0;for(var P=t=null,wa=m,e=m=0,mc=null,r=v.next();null!==wa&&!r.done;e++,r=v.next()){wa.index>e?(mc=wa,wa=null):mc=wa.sibling;var kc=X(l,wa,r.value,y);if(null===kc){wa||(wa=mc);break}b&&wa&&null===kc.alternate&&d(l,wa);m=h(kc,m,e);null===P?t=kc:P.sibling=kc;P=kc;wa=mc}if(r.done)return c(l,wa),t;if(null===wa){for(;!r.done;e++,r=v.next())r=a(l,r.value,y),null!==r&&(m=h(r,m,e),null===P?t=r:P.sibling=r,P=r);return t}for(wa=g(l,wa);!r.done;e++,r=v.next())r=ea(wa,l,e,r.value,
y),null!==r&&(b&&null!==r.alternate&&wa.delete(null===r.key?e:r.key),m=h(r,m,e),null===P?t=r:P.sibling=r,P=r);b&&wa.forEach(function(b){return d(l,b)});return t}return function(b,g,h,v){var y="object"===typeof h&&null!==h&&h.type===le&&null===h.key;y&&(h=h.props.children);var t="object"===typeof h&&null!==h;if(t)switch(h.$$typeof){case zg:a:{t=h.key;for(y=g;null!==y;){if(y.key===t)if(7===y.tag?h.type===le:y.elementType===h.type){c(b,y.sibling);g=l(y,h.type===le?h.props.children:h.props,v);g.ref=Db(b,
y,h);g.return=b;b=g;break a}else{c(b,y);break}else d(b,y);y=y.sibling}h.type===le?(g=qc(h.props.children,b.mode,v,h.key),g.return=b,b=g):(v=xd(h.type,h.key,h.props,null,b.mode,v),v.ref=Db(b,g,h),v.return=b,b=v)}return m(b);case Wd:a:{for(y=h.key;null!==g;){if(g.key===y)if(4===g.tag&&g.stateNode.containerInfo===h.containerInfo&&g.stateNode.implementation===h.implementation){c(b,g.sibling);g=l(g,h.children||[],v);g.return=b;b=g;break a}else{c(b,g);break}else d(b,g);g=g.sibling}g=Jd(h,b.mode,v);g.return=
b;b=g}return m(b)}if("string"===typeof h||"number"===typeof h)return h=""+h,null!==g&&6===g.tag?(c(b,g.sibling),g=l(g,h,v),g.return=b,b=g):(c(b,g),g=Xc(h,b.mode,v),g.return=b,b=g),m(b);if(cf(h))return e(b,g,h,v);if(vb(h))return r(b,g,h,v);t&&Lb(b,h);if("undefined"===typeof h&&!y)switch(b.tag){case 1:case 0:v=b.type,p("152",v.displayName||v.name||"Component")}return c(b,g)}}function yb(b){b===Ah?p("174"):void 0;return b}function rc(b,d){Rb(Ag,d,b);Rb(Bg,b,b);Rb(Le,Ah,b);var c=d.nodeType;switch(c){case 9:case 11:d=
(d=d.documentElement)?d.namespaceURI:ia(null,"");break;default:c=8===c?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=ia(d,c)}fb(Le,b);Rb(Le,d,b)}function Vb(b){fb(Le,b);fb(Bg,b);fb(Ag,b)}function m(b){yb(Ag.current);var d=yb(Le.current),c=ia(d,b.type);d!==c&&(Rb(Bg,b,b),Rb(Le,c,b))}function c(b){Bg.current===b&&(fb(Le,b),fb(Bg,b))}function h(){p("321")}function t(b,d){if(null===d)return!1;for(var c=0;c<d.length&&c<b.length;c++)if(!oc(b[c],d[c]))return!1;return!0}function X(b,d,c,g,l,h){Yf=h;
Zf=d;ae=null!==b?b.memoizedState:null;Zh.current=null===ae?Cg:ch;d=c(g,l);if(dh){do dh=!1,Dg+=1,ae=null!==b?b.memoizedState:null,df=ad,Me=yd=zd=null,Zh.current=ch,d=c(g,l);while(dh);Ne=null;Dg=0}Zh.current=yi;b=Zf;b.memoizedState=ad;b.expirationTime=Eg;b.updateQueue=Me;b.effectTag|=Bh;b=null!==zd&&null!==zd.next;Yf=0;df=yd=ad=ae=zd=Zf=null;Eg=0;Me=null;Bh=0;b?p("300"):void 0;return d}function Kc(){Zh.current=yi;Yf=0;df=yd=ad=ae=zd=Zf=null;Eg=0;Me=null;Bh=0;dh=!1;Ne=null;Dg=0}function bd(){var b={memoizedState:null,
baseState:null,queue:null,baseUpdate:null,next:null};null===yd?ad=yd=b:yd=yd.next=b;return yd}function Lc(){if(null!==df)yd=df,df=yd.next,zd=ae,ae=null!==zd?zd.next:null;else{null===ae?p("310"):void 0;zd=ae;var b={memoizedState:zd.memoizedState,baseState:zd.baseState,queue:zd.queue,baseUpdate:zd.baseUpdate,next:null};yd=null===yd?ad=b:yd.next=b;ae=zd.next}return yd}function Ba(b,d){return"function"===typeof d?d(b):d}function Sb(b){var d=Lc(),c=d.queue;null===c?p("311"):void 0;c.lastRenderedReducer=
b;if(0<Dg){var g=c.dispatch;if(null!==Ne){var l=Ne.get(c);if(void 0!==l){Ne.delete(c);var h=d.memoizedState;do h=b(h,l.action),l=l.next;while(null!==l);oc(h,d.memoizedState)||(Oe=!0);d.memoizedState=h;d.baseUpdate===c.last&&(d.baseState=h);c.lastRenderedState=h;return[h,g]}}return[d.memoizedState,g]}g=c.last;var m=d.baseUpdate;h=d.baseState;null!==m?(null!==g&&(g.next=null),g=m.next):g=null!==g?g.next:null;if(null!==g){var v=l=null,y=g,t=!1;do{var P=y.expirationTime;P<Yf?(t||(t=!0,v=m,l=h),P>Eg&&
(Eg=P)):h=y.eagerReducer===b?y.eagerState:b(h,y.action);m=y;y=y.next}while(null!==y&&y!==g);t||(v=m,l=h);oc(h,d.memoizedState)||(Oe=!0);d.memoizedState=h;d.baseUpdate=v;d.baseState=l;c.lastRenderedState=h}return[d.memoizedState,c.dispatch]}function Mc(b,d,c,g){b={tag:b,create:d,destroy:c,deps:g,next:null};null===Me?(Me={lastEffect:null},Me.lastEffect=b.next=b):(d=Me.lastEffect,null===d?Me.lastEffect=b.next=b:(c=d.next,d.next=b,b.next=c,Me.lastEffect=b));return b}function be(b,d,c,g){var l=bd();Bh|=
b;l.memoizedState=Mc(d,c,void 0,void 0===g?null:g)}function ef(b,d,c,g){var l=Lc();g=void 0===g?null:g;var h=void 0;if(null!==zd){var m=zd.memoizedState;h=m.destroy;if(null!==g&&t(g,m.deps)){Mc(eh,c,h,g);return}}Bh|=b;l.memoizedState=Mc(d,c,h,g)}function xa(b,d){if("function"===typeof d)return b=b(),d(b),function(){d(null)};if(null!==d&&void 0!==d)return b=b(),d.current=b,function(){d.current=null}}function ce(){}function Da(b,d,c){25>Dg?void 0:p("301");var g=b.alternate;if(b===Zf||null!==g&&g===
Zf)if(dh=!0,b={expirationTime:Yf,action:c,eagerReducer:null,eagerState:null,next:null},null===Ne&&(Ne=new Map),c=Ne.get(d),void 0===c)Ne.set(d,b);else{for(d=c;null!==d.next;)d=d.next;d.next=b}else{Pe();var l=cd();l=Ad(l,b);var h={expirationTime:l,action:c,eagerReducer:null,eagerState:null,next:null},m=d.last;if(null===m)h.next=h;else{var v=m.next;null!==v&&(h.next=v);m.next=h}d.last=h;if(0===b.expirationTime&&(null===g||0===g.expirationTime)&&(g=d.lastRenderedReducer,null!==g))try{var y=d.lastRenderedState,
t=g(y,c);h.eagerReducer=g;h.eagerState=t;if(oc(t,y))return}catch(Cc){}finally{}de(b,l)}}function Tb(b,d){var c=Jc(5,null,null,0);c.elementType="DELETED";c.type="DELETED";c.stateNode=d;c.return=b;c.effectTag=8;null!==b.lastEffect?(b.lastEffect.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c}function ff(b,d){switch(b.tag){case 5:var c=b.type;d=1!==d.nodeType||c.toLowerCase()!==d.nodeName.toLowerCase()?null:d;return null!==d?(b.stateNode=d,!0):!1;case 6:return d=""===b.pendingProps||3!==d.nodeType?
null:d,null!==d?(b.stateNode=d,!0):!1;case 13:return!1;default:return!1}}function gf(b){if(Qe){var d=Cf;if(d){var c=d;if(!ff(b,d)){d=ec(c);if(!d||!ff(b,d)){b.effectTag|=2;Qe=!1;we=b;return}Tb(we,c)}we=b;Cf=wc(d)}else b.effectTag|=2,Qe=!1,we=b}}function Df(b){for(b=b.return;null!==b&&5!==b.tag&&3!==b.tag&&18!==b.tag;)b=b.return;we=b}function Nc(b){if(b!==we)return!1;if(!Qe)return Df(b),Qe=!0,!1;var d=b.type;if(5!==b.tag||"head"!==d&&"body"!==d&&!Fb(d,b.memoizedProps))for(d=Cf;d;)Tb(b,d),d=ec(d);Df(b);
Cf=we?ec(b.stateNode):null;return!0}function na(b,d,c,g){d.child=null===b?$h(d,null,c,g):fh(d,b.child,c,g)}function gc(b,d,c,g,l){c=c.render;var h=d.ref;xe(d,l);g=X(b,d,c,g,h,l);if(null!==b&&!Oe)return d.updateQueue=b.updateQueue,d.effectTag&=-517,b.expirationTime<=l&&(b.expirationTime=0),Pd(b,d,l);d.effectTag|=1;na(b,d,g,l);return d.child}function nb(b,d,c,g,l,h){if(null===b){var m=c.type;if("function"===typeof m&&!af(m)&&void 0===m.defaultProps&&null===c.compare&&void 0===c.defaultProps)return d.tag=
15,d.type=m,hc(b,d,m,g,l,h);b=xd(c.type,null,g,null,d.mode,h);b.ref=d.ref;b.return=d;return d.child=b}m=b.child;if(l<h&&(l=m.memoizedProps,c=c.compare,c=null!==c?c:uc,c(l,g)&&b.ref===d.ref))return Pd(b,d,h);d.effectTag|=1;b=Xa(m,g,h);b.ref=d.ref;b.return=d;return d.child=b}function hc(b,d,c,g,l,h){return null!==b&&uc(b.memoizedProps,g)&&b.ref===d.ref&&(Oe=!1,l<h)?Pd(b,d,h):Ef(b,d,c,g,h)}function $f(b,d){var c=d.ref;if(null===b&&null!==c||null!==b&&b.ref!==c)d.effectTag|=128}function Ef(b,d,c,g,l){var h=
Gb(c)?Ke:wd.current;h=kd(d,h);xe(d,l);c=X(b,d,c,g,h,l);if(null!==b&&!Oe)return d.updateQueue=b.updateQueue,d.effectTag&=-517,b.expirationTime<=l&&(b.expirationTime=0),Pd(b,d,l);d.effectTag|=1;na(b,d,c,l);return d.child}function ee(b,d,c,g,l){if(Gb(c)){var h=!0;xc(d)}else h=!1;xe(d,l);if(null===d.stateNode)null!==b&&(b.alternate=null,d.alternate=null,d.effectTag|=2),tb(d,c,g,l),Zc(d,c,g,l),g=!0;else if(null===b){var m=d.stateNode,v=d.memoizedProps;m.props=v;var y=m.context,t=c.contextType;"object"===
typeof t&&null!==t?t=Ub(t):(t=Gb(c)?Ke:wd.current,t=kd(d,t));var P=c.getDerivedStateFromProps,a="function"===typeof P||"function"===typeof m.getSnapshotBeforeUpdate;a||"function"!==typeof m.UNSAFE_componentWillReceiveProps&&"function"!==typeof m.componentWillReceiveProps||(v!==g||y!==t)&&ib(d,m,g,t);Re=!1;var wa=d.memoizedState;y=m.state=wa;var X=d.updateQueue;null!==X&&(Ld(d,X,g,m,l),y=d.memoizedState);v!==g||wa!==y||ne.current||Re?("function"===typeof P&&(mb(d,c,P,g),y=d.memoizedState),(v=Re||Kd(d,
c,v,g,wa,y,t))?(a||"function"!==typeof m.UNSAFE_componentWillMount&&"function"!==typeof m.componentWillMount||("function"===typeof m.componentWillMount&&m.componentWillMount(),"function"===typeof m.UNSAFE_componentWillMount&&m.UNSAFE_componentWillMount()),"function"===typeof m.componentDidMount&&(d.effectTag|=4)):("function"===typeof m.componentDidMount&&(d.effectTag|=4),d.memoizedProps=g,d.memoizedState=y),m.props=g,m.state=y,m.context=t,g=v):("function"===typeof m.componentDidMount&&(d.effectTag|=
4),g=!1)}else m=d.stateNode,v=d.memoizedProps,m.props=d.type===d.elementType?v:Kb(d.type,v),y=m.context,t=c.contextType,"object"===typeof t&&null!==t?t=Ub(t):(t=Gb(c)?Ke:wd.current,t=kd(d,t)),P=c.getDerivedStateFromProps,(a="function"===typeof P||"function"===typeof m.getSnapshotBeforeUpdate)||"function"!==typeof m.UNSAFE_componentWillReceiveProps&&"function"!==typeof m.componentWillReceiveProps||(v!==g||y!==t)&&ib(d,m,g,t),Re=!1,y=d.memoizedState,wa=m.state=y,X=d.updateQueue,null!==X&&(Ld(d,X,g,
m,l),wa=d.memoizedState),v!==g||y!==wa||ne.current||Re?("function"===typeof P&&(mb(d,c,P,g),wa=d.memoizedState),(P=Re||Kd(d,c,v,g,y,wa,t))?(a||"function"!==typeof m.UNSAFE_componentWillUpdate&&"function"!==typeof m.componentWillUpdate||("function"===typeof m.componentWillUpdate&&m.componentWillUpdate(g,wa,t),"function"===typeof m.UNSAFE_componentWillUpdate&&m.UNSAFE_componentWillUpdate(g,wa,t)),"function"===typeof m.componentDidUpdate&&(d.effectTag|=4),"function"===typeof m.getSnapshotBeforeUpdate&&
(d.effectTag|=256)):("function"!==typeof m.componentDidUpdate||v===b.memoizedProps&&y===b.memoizedState||(d.effectTag|=4),"function"!==typeof m.getSnapshotBeforeUpdate||v===b.memoizedProps&&y===b.memoizedState||(d.effectTag|=256),d.memoizedProps=g,d.memoizedState=wa),m.props=g,m.state=wa,m.context=t,g=P):("function"!==typeof m.componentDidUpdate||v===b.memoizedProps&&y===b.memoizedState||(d.effectTag|=4),"function"!==typeof m.getSnapshotBeforeUpdate||v===b.memoizedProps&&y===b.memoizedState||(d.effectTag|=
256),g=!1);return I(b,d,c,g,h,l)}function I(b,d,c,g,l,h){$f(b,d);var m=0!==(d.effectTag&64);if(!g&&!m)return l&&Wc(d,c,!1),Pd(b,d,h);g=d.stateNode;zi.current=d;var v=m&&"function"!==typeof c.getDerivedStateFromError?null:g.render();d.effectTag|=1;null!==b&&m?(d.child=fh(d,b.child,null,h),d.child=fh(d,null,v,h)):na(b,d,v,h);d.memoizedState=g.state;l&&Wc(d,c,!0);return d.child}function Ff(b){var d=b.stateNode;d.pendingContext?Id(b,d.pendingContext,d.pendingContext!==d.context):d.context&&Id(b,d.context,
!1);rc(b,d.containerInfo)}function hf(b,d,c){var g=d.mode,l=d.pendingProps,h=d.memoizedState;if(0===(d.effectTag&64)){h=null;var m=!1}else h={timedOutAt:null!==h?h.timedOutAt:0},m=!0,d.effectTag&=-65;if(null===b)if(m){var v=l.fallback;b=qc(null,g,0,null);0===(d.mode&1)&&(b.child=null!==d.memoizedState?d.child.child:d.child);g=qc(v,g,c,null);b.sibling=g;c=b;c.return=g.return=d}else c=g=$h(d,null,l.children,c);else null!==b.memoizedState?(g=b.child,v=g.sibling,m?(c=l.fallback,l=Xa(g,g.pendingProps,
0),0===(d.mode&1)&&(m=null!==d.memoizedState?d.child.child:d.child,m!==g.child&&(l.child=m)),g=l.sibling=Xa(v,c,v.expirationTime),c=l,l.childExpirationTime=0,c.return=g.return=d):c=g=fh(d,g.child,l.children,c)):(v=b.child,m?(m=l.fallback,l=qc(null,g,0,null),l.child=v,0===(d.mode&1)&&(l.child=null!==d.memoizedState?d.child.child:d.child),g=l.sibling=qc(m,g,c,null),g.effectTag|=2,c=l,l.childExpirationTime=0,c.return=g.return=d):g=c=fh(d,v,l.children,c)),d.stateNode=b.stateNode;d.memoizedState=h;d.child=
c;return g}function Pd(b,d,c){null!==b&&(d.contextDependencies=b.contextDependencies);if(d.childExpirationTime<c)return null;null!==b&&d.child!==b.child?p("153"):void 0;if(null!==d.child){b=d.child;c=Xa(b,b.pendingProps,b.expirationTime);d.child=c;for(c.return=d;null!==b.sibling;)b=b.sibling,c=c.sibling=Xa(b,b.pendingProps,b.expirationTime),c.return=d;c.sibling=null}return d.child}function Fg(b,d,c){var g=d.expirationTime;if(null!==b)if(b.memoizedProps!==d.pendingProps||ne.current)Oe=!0;else{if(g<
c){Oe=!1;switch(d.tag){case 3:Ff(d);Cf=we=null;Qe=!1;break;case 5:m(d);break;case 1:Gb(d.type)&&xc(d);break;case 4:rc(d,d.stateNode.containerInfo);break;case 10:ag(d,d.memoizedProps.value);break;case 13:if(null!==d.memoizedState){g=d.child.childExpirationTime;if(0!==g&&g>=c)return hf(b,d,c);d=Pd(b,d,c);return null!==d?d.sibling:null}}return Pd(b,d,c)}}else Oe=!1;d.expirationTime=0;switch(d.tag){case 2:g=d.elementType;null!==b&&(b.alternate=null,d.alternate=null,d.effectTag|=2);b=d.pendingProps;var l=
kd(d,wd.current);xe(d,c);l=X(null,d,g,b,l,c);d.effectTag|=1;if("object"===typeof l&&null!==l&&"function"===typeof l.render&&void 0===l.$$typeof){d.tag=1;Kc();if(Gb(g)){var h=!0;xc(d)}else h=!1;d.memoizedState=null!==l.state&&void 0!==l.state?l.state:null;var v=g.getDerivedStateFromProps;"function"===typeof v&&mb(d,g,v,b);l.updater=zh;d.stateNode=l;l._reactInternalFiber=d;Zc(d,g,b,c);d=I(null,d,g,!0,h,c)}else d.tag=0,na(null,d,l,c),d=d.child;return d;case 16:l=d.elementType;null!==b&&(b.alternate=
null,d.alternate=null,d.effectTag|=2);h=d.pendingProps;b=hb(l);d.type=b;l=d.tag=bf(b);h=Kb(b,h);v=void 0;switch(l){case 0:v=Ef(null,d,b,h,c);break;case 1:v=ee(null,d,b,h,c);break;case 11:v=gc(null,d,b,h,c);break;case 14:v=nb(null,d,b,Kb(b.type,h),g,c);break;default:p("306",b,"")}return v;case 0:return g=d.type,l=d.pendingProps,l=d.elementType===g?l:Kb(g,l),Ef(b,d,g,l,c);case 1:return g=d.type,l=d.pendingProps,l=d.elementType===g?l:Kb(g,l),ee(b,d,g,l,c);case 3:Ff(d);g=d.updateQueue;null===g?p("282"):
void 0;l=d.memoizedState;l=null!==l?l.element:null;Ld(d,g,d.pendingProps,null,c);g=d.memoizedState.element;if(g===l)Cf=we=null,Qe=!1,d=Pd(b,d,c);else{l=d.stateNode;if(l=(null===b||null===b.child)&&l.hydrate)Cf=wc(d.stateNode.containerInfo),we=d,l=Qe=!0;l?(d.effectTag|=2,d.child=$h(d,null,g,c)):(na(b,d,g,c),Cf=we=null,Qe=!1);d=d.child}return d;case 5:return m(d),null===b&&gf(d),g=d.type,l=d.pendingProps,h=null!==b?b.memoizedProps:null,v=l.children,Fb(g,l)?v=null:null!==h&&Fb(g,h)&&(d.effectTag|=16),
$f(b,d),1!==c&&d.mode&1&&l.hidden?(d.expirationTime=d.childExpirationTime=1,d=null):(na(b,d,v,c),d=d.child),d;case 6:return null===b&&gf(d),null;case 13:return hf(b,d,c);case 4:return rc(d,d.stateNode.containerInfo),g=d.pendingProps,null===b?d.child=fh(d,null,g,c):na(b,d,g,c),d.child;case 11:return g=d.type,l=d.pendingProps,l=d.elementType===g?l:Kb(g,l),gc(b,d,g,l,c);case 7:return na(b,d,d.pendingProps,c),d.child;case 8:return na(b,d,d.pendingProps.children,c),d.child;case 12:return na(b,d,d.pendingProps.children,
c),d.child;case 10:a:{g=d.type._context;l=d.pendingProps;v=d.memoizedProps;h=l.value;ag(d,h);if(null!==v){var y=v.value;h=oc(y,h)?0:("function"===typeof g._calculateChangedBits?g._calculateChangedBits(y,h):1073741823)|0;if(0===h){if(v.children===l.children&&!ne.current){d=Pd(b,d,c);break a}}else for(y=d.child,null!==y&&(y.return=d);null!==y;){var t=y.contextDependencies;if(null!==t){v=y.child;for(var a=t.first;null!==a;){if(a.context===g&&0!==(a.observedBits&h)){1===y.tag&&(a=dd(c),a.tag=ai,nd(y,
a));y.expirationTime<c&&(y.expirationTime=c);a=y.alternate;null!==a&&a.expirationTime<c&&(a.expirationTime=c);a=c;for(var P=y.return;null!==P;){var ea=P.alternate;if(P.childExpirationTime<a)P.childExpirationTime=a,null!==ea&&ea.childExpirationTime<a&&(ea.childExpirationTime=a);else if(null!==ea&&ea.childExpirationTime<a)ea.childExpirationTime=a;else break;P=P.return}t.expirationTime<c&&(t.expirationTime=c);break}a=a.next}}else v=10===y.tag?y.type===d.type?null:y.child:y.child;if(null!==v)v.return=
y;else for(v=y;null!==v;){if(v===d){v=null;break}y=v.sibling;if(null!==y){y.return=v.return;v=y;break}v=v.return}y=v}}na(b,d,l.children,c);d=d.child}return d;case 9:return l=d.type,h=d.pendingProps,g=h.children,xe(d,c),l=Ub(l,h.unstable_observedBits),g=g(l),d.effectTag|=1,na(b,d,g,c),d.child;case 14:return l=d.type,h=Kb(l,d.pendingProps),h=Kb(l.type,h),nb(b,d,l,h,g,c);case 15:return hc(b,d,d.type,d.pendingProps,g,c);case 17:return g=d.type,l=d.pendingProps,l=d.elementType===g?l:Kb(g,l),null!==b&&
(b.alternate=null,d.alternate=null,d.effectTag|=2),d.tag=1,Gb(g)?(b=!0,xc(d)):b=!1,xe(d,c),tb(d,g,l,c),Zc(d,g,l,c),I(null,d,g,!0,b,c)}p("156")}function ag(b,d){var c=b.type._context;Rb(bi,c._currentValue,b);c._currentValue=d}function Gf(b){var d=bi.current;fb(bi,b);b.type._context._currentValue=d}function xe(b,d){ye=b;Gg=jf=null;var c=b.contextDependencies;null!==c&&c.expirationTime>=d&&(Oe=!0);b.contextDependencies=null}function Ub(b,d){if(Gg!==b&&!1!==d&&0!==d){if("number"!==typeof d||1073741823===
d)Gg=b,d=1073741823;d={context:b,observedBits:d,next:null};null===jf?(null===ye?p("308"):void 0,jf=d,ye.contextDependencies={first:d,expirationTime:0}):jf=jf.next=d}return b._currentValue}function fe(b){return{baseState:b,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function zc(b){return{baseState:b.baseState,firstUpdate:b.firstUpdate,lastUpdate:b.lastUpdate,firstCapturedUpdate:null,
lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function dd(b){return{expirationTime:b,tag:bg,payload:null,callback:null,next:null,nextEffect:null}}function kf(b,d){null===b.lastUpdate?b.firstUpdate=b.lastUpdate=d:(b.lastUpdate.next=d,b.lastUpdate=d)}function nd(b,d){var c=b.alternate;if(null===c){var g=b.updateQueue,l=null;null===g&&(g=b.updateQueue=fe(b.memoizedState))}else g=b.updateQueue,l=c.updateQueue,null===g?null===l?(g=b.updateQueue=
fe(b.memoizedState),l=c.updateQueue=fe(c.memoizedState)):g=b.updateQueue=zc(l):null===l&&(l=c.updateQueue=zc(g));null===l||g===l?kf(g,d):null===g.lastUpdate||null===l.lastUpdate?(kf(g,d),kf(l,d)):(kf(g,d),l.lastUpdate=d)}function cg(b,d){var c=b.updateQueue;c=null===c?b.updateQueue=fe(b.memoizedState):L(b,c);null===c.lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=d:(c.lastCapturedUpdate.next=d,c.lastCapturedUpdate=d)}function L(b,d){var c=b.alternate;null!==c&&d===c.updateQueue&&(d=
b.updateQueue=zc(d));return d}function Hg(b,d,c,g,l,h){switch(c.tag){case aj:return b=c.payload,"function"===typeof b?b.call(h,g,l):b;case gh:b.effectTag=b.effectTag&-2049|64;case bg:b=c.payload;l="function"===typeof b?b.call(h,g,l):b;if(null===l||void 0===l)break;return dc({},g,l);case ai:Re=!0}return g}function Ld(b,d,c,g,l){Re=!1;d=L(b,d);for(var h=d.baseState,m=null,v=0,y=d.firstUpdate,t=h;null!==y;){var a=y.expirationTime;a<l?(null===m&&(m=y,h=t),v<a&&(v=a)):(t=Hg(b,d,y,t,c,g),null!==y.callback&&
(b.effectTag|=32,y.nextEffect=null,null===d.lastEffect?d.firstEffect=d.lastEffect=y:(d.lastEffect.nextEffect=y,d.lastEffect=y)));y=y.next}a=null;for(y=d.firstCapturedUpdate;null!==y;){var P=y.expirationTime;P<l?(null===a&&(a=y,null===m&&(h=t)),v<P&&(v=P)):(t=Hg(b,d,y,t,c,g),null!==y.callback&&(b.effectTag|=32,y.nextEffect=null,null===d.lastCapturedEffect?d.firstCapturedEffect=d.lastCapturedEffect=y:(d.lastCapturedEffect.nextEffect=y,d.lastCapturedEffect=y)));y=y.next}null===m&&(d.lastUpdate=null);
null===a?d.lastCapturedUpdate=null:b.effectTag|=32;null===m&&null===a&&(h=t);d.baseState=h;d.firstUpdate=m;d.firstCapturedUpdate=a;b.expirationTime=v;b.memoizedState=t}function Se(b,d,c){null!==d.firstCapturedUpdate&&(null!==d.lastUpdate&&(d.lastUpdate.next=d.firstCapturedUpdate,d.lastUpdate=d.lastCapturedUpdate),d.firstCapturedUpdate=d.lastCapturedUpdate=null);oe(d.firstEffect,c);d.firstEffect=d.lastEffect=null;oe(d.firstCapturedEffect,c);d.firstCapturedEffect=d.lastCapturedEffect=null}function oe(b,
d){for(;null!==b;){var c=b.callback;if(null!==c){b.callback=null;var g=d;"function"!==typeof c?p("191",c):void 0;c.call(g)}b=b.nextEffect}}function lf(b,d){return{value:b,source:d,stack:Ec(d)}}function aa(b,d){var c=d.source,g=d.stack;null===g&&null!==c&&(g=Ec(c));null!==c&&bc(c.type);d=d.value;null!==b&&1===b.tag&&bc(b.type);try{console.error(d)}catch(ti){setTimeout(function(){throw ti;})}}function dg(b){var d=b.ref;if(null!==d)if("function"===typeof d)try{d(null)}catch(mc){ob(b,mc)}else d.current=
null}function ge(b,d,c){c=c.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var g=c=c.next;do{if((g.tag&b)!==eh){var l=g.destroy;g.destroy=void 0;void 0!==l&&l()}(g.tag&d)!==eh&&(l=g.create,g.destroy=l());g=g.next}while(g!==c)}}function Oc(b,d){for(var c=b;;){if(5===c.tag){var g=c.stateNode;if(d)g.style.display="none";else{g=c.stateNode;var l=c.memoizedProps.style;l=void 0!==l&&null!==l&&l.hasOwnProperty("display")?l.display:null;g.style.display=da("display",l)}}else if(6===c.tag)c.stateNode.nodeValue=
d?"":c.memoizedProps;else if(13===c.tag&&null!==c.memoizedState){g=c.child.sibling;g.return=c;c=g;continue}else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}function pe(b){"function"===typeof xi&&xi(b);switch(b.tag){case 0:case 11:case 14:case 15:var d=b.updateQueue;if(null!==d&&(d=d.lastEffect,null!==d)){var c=d=d.next;do{var g=c.destroy;if(void 0!==g){var l=
b;try{g()}catch(Og){ob(l,Og)}}c=c.next}while(c!==d)}break;case 1:dg(b);d=b.stateNode;if("function"===typeof d.componentWillUnmount)try{d.props=b.memoizedProps,d.state=b.memoizedState,d.componentWillUnmount()}catch(Og){ob(b,Og)}break;case 5:dg(b);break;case 4:qe(b)}}function eg(b){return 5===b.tag||3===b.tag||4===b.tag}function Qd(b){a:{for(var d=b.return;null!==d;){if(eg(d)){var c=d;break a}d=d.return}p("160");c=void 0}var g=d=void 0;switch(c.tag){case 5:d=c.stateNode;g=!1;break;case 3:d=c.stateNode.containerInfo;
g=!0;break;case 4:d=c.stateNode.containerInfo;g=!0;break;default:p("161")}c.effectTag&16&&(Qb(d,""),c.effectTag&=-17);c=b;a:b:for(;;){for(;null===c.sibling;){if(null===c.return||eg(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.effectTag&2)continue b;if(null===c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var l=b;;){if(5===l.tag||6===l.tag)if(c)if(g){var h=d,m=l.stateNode,
v=c;8===h.nodeType?h.parentNode.insertBefore(m,v):h.insertBefore(m,v)}else d.insertBefore(l.stateNode,c);else g?(m=d,v=l.stateNode,8===m.nodeType?(h=m.parentNode,h.insertBefore(v,m)):(h=m,h.appendChild(v)),m=m._reactRootContainer,null!==m&&void 0!==m||null!==h.onclick||(h.onclick=vd)):d.appendChild(l.stateNode);else if(4!==l.tag&&null!==l.child){l.child.return=l;l=l.child;continue}if(l===b)break;for(;null===l.sibling;){if(null===l.return||l.return===b)return;l=l.return}l.sibling.return=l.return;l=
l.sibling}}function qe(b){for(var d=b,c=!1,g=void 0,l=void 0;;){if(!c){c=d.return;a:for(;;){null===c?p("160"):void 0;switch(c.tag){case 5:g=c.stateNode;l=!1;break a;case 3:g=c.stateNode.containerInfo;l=!0;break a;case 4:g=c.stateNode.containerInfo;l=!0;break a}c=c.return}c=!0}if(5===d.tag||6===d.tag){var h=d,m=h;a:for(;;)if(pe(m),null!==m.child&&4!==m.tag)m.child.return=m,m=m.child;else{if(m===h)break;for(;null===m.sibling;){if(null===m.return||m.return===h)break a;m=m.return}m.sibling.return=m.return;
m=m.sibling}l?(h=g,m=d.stateNode,8===h.nodeType?h.parentNode.removeChild(m):h.removeChild(m)):g.removeChild(d.stateNode)}else if(4===d.tag){if(null!==d.child){g=d.stateNode.containerInfo;l=!0;d.child.return=d;d=d.child;continue}}else if(pe(d),null!==d.child){d.child.return=d;d=d.child;continue}if(d===b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return;d=d.return;4===d.tag&&(c=!1)}d.sibling.return=d.return;d=d.sibling}}function Te(b,d){switch(d.tag){case 0:case 11:case 14:case 15:ge(Ch,
Ai,d);break;case 1:break;case 5:var c=d.stateNode;if(null!=c){var g=d.memoizedProps;b=null!==b?b.memoizedProps:g;var l=d.type,h=d.updateQueue;d.updateQueue=null;null!==h&&Yd(c,h,l,b,g,d)}break;case 6:null===d.stateNode?p("162"):void 0;d.stateNode.nodeValue=d.memoizedProps;break;case 3:break;case 12:break;case 13:c=d.memoizedState;g=void 0;b=d;null===c?g=!1:(g=!0,b=d.child,0===c.timedOutAt&&(c.timedOutAt=cd()));null!==b&&Oc(b,g);c=d.updateQueue;if(null!==c){d.updateQueue=null;var m=d.stateNode;null===
m&&(m=d.stateNode=new od);c.forEach(function(b){var c=ic.bind(null,d,b);m.has(b)||(m.add(b),b.then(c,c))})}break;case 17:break;default:p("163")}}function pd(b,d,c){c=dd(c);c.tag=gh;c.payload={element:null};var g=d.value;c.callback=function(){hh(g);aa(b,d)};return c}function Ue(b,d,c){c=dd(c);c.tag=gh;var g=b.type.getDerivedStateFromError;if("function"===typeof g){var l=d.value;c.payload=function(){return g(l)}}var h=b.stateNode;null!==h&&"function"===typeof h.componentDidCatch&&(c.callback=function(){"function"!==
typeof g&&(null===re?re=new Set([this]):re.add(this));var c=d.value,l=d.stack;aa(b,d);this.componentDidCatch(c,{componentStack:null!==l?l:""})});return c}function qd(b){switch(b.tag){case 1:Gb(b.type)&&Hb(b);var d=b.effectTag;return d&2048?(b.effectTag=d&-2049|64,b):null;case 3:return Vb(b),Hd(b),d=b.effectTag,0!==(d&64)?p("285"):void 0,b.effectTag=d&-2049|64,b;case 5:return c(b),null;case 13:return d=b.effectTag,d&2048?(b.effectTag=d&-2049|64,b):null;case 18:return null;case 4:return Vb(b),null;
case 10:return Gf(b),null;default:return null}}function Mb(){if(null!==jc)for(var b=jc.return;null!==b;){var d=b;switch(d.tag){case 1:var g=d.type.childContextTypes;null!==g&&void 0!==g&&Hb(d);break;case 3:Vb(d);Hd(d);break;case 5:c(d);break;case 4:Vb(d);break;case 10:Gf(d)}b=b.return}mf=null;Bd=0;Hf=-1;Bi=!1;jc=null}function Rd(){for(;null!==va;){var b=va.effectTag;b&16&&Qb(va.stateNode,"");if(b&128){var d=va.alternate;null!==d&&(d=d.ref,null!==d&&("function"===typeof d?d(null):d.current=null))}switch(b&
14){case 2:Qd(va);va.effectTag&=-3;break;case 6:Qd(va);va.effectTag&=-3;Te(va.alternate,va);break;case 4:Te(va.alternate,va);break;case 8:b=va,qe(b),b.return=null,b.child=null,b.memoizedState=null,b.updateQueue=null,b=b.alternate,null!==b&&(b.return=null,b.child=null,b.memoizedState=null,b.updateQueue=null)}va=va.nextEffect}}function pb(){for(;null!==va;){if(va.effectTag&256)a:{var b=va.alternate,d=va;switch(d.tag){case 0:case 11:case 15:ge(Ci,eh,d);break a;case 1:if(d.effectTag&256&&null!==b){var c=
b.memoizedProps,g=b.memoizedState;b=d.stateNode;d=b.getSnapshotBeforeUpdate(d.elementType===d.type?c:Kb(d.type,c),g);b.__reactInternalSnapshotBeforeUpdate=d}break a;case 3:case 5:case 6:case 4:case 17:break a;default:p("163")}}va=va.nextEffect}}function Pc(b,d){for(;null!==va;){var c=va.effectTag;if(c&36){var g=va.alternate,l=va,h=d;switch(l.tag){case 0:case 11:case 15:ge(Di,ih,l);break;case 1:var m=l.stateNode;if(l.effectTag&4)if(null===g)m.componentDidMount();else{var v=l.elementType===l.type?g.memoizedProps:
Kb(l.type,g.memoizedProps);m.componentDidUpdate(v,g.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}g=l.updateQueue;null!==g&&Se(l,g,m,h);break;case 3:g=l.updateQueue;if(null!==g){m=null;if(null!==l.child)switch(l.child.tag){case 5:m=l.child.stateNode;break;case 1:m=l.child.stateNode}Se(l,g,m,h)}break;case 5:h=l.stateNode;null===g&&l.effectTag&4&&me(l.type,l.memoizedProps)&&h.focus();break;case 6:break;case 4:break;case 12:break;case 13:break;case 17:break;default:p("163")}}c&128&&(l=va.ref,
null!==l&&(h=va.stateNode,"function"===typeof l?l(h):l.current=h));c&512&&(ci=b);va=va.nextEffect}}function ze(b,d){Dh=Eh=ci=null;var c=ed;ed=!0;do{if(d.effectTag&512){var g=!1,l=void 0;try{var h=d;ge(di,eh,h);ge(eh,Ei,h)}catch(ui){g=!0,l=ui}g&&ob(d,l)}d=d.nextEffect}while(null!==d);ed=c;c=b.expirationTime;0!==c&&If(b,c);Cd||ed||Sd(1073741823,!1)}function Pe(){null!==Eh&&bj(Eh);null!==Dh&&Dh()}function fd(b,d){ei=fg=!0;b.current===d?p("177"):void 0;var c=b.pendingCommitExpirationTime;0===c?p("261"):
void 0;b.pendingCommitExpirationTime=0;var g=d.expirationTime,l=d.childExpirationTime;Cb(b,l>g?l:g);cj.current=null;g=void 0;1<d.effectTag?null!==d.lastEffect?(d.lastEffect.nextEffect=d,g=d.firstEffect):g=d:g=d.firstEffect;Fi=Yg;Gi=td();Yg=!1;for(va=g;null!==va;){l=!1;var h=void 0;try{pb()}catch(Pg){l=!0,h=Pg}l&&(null===va?p("178"):void 0,ob(va,h),null!==va&&(va=va.nextEffect))}for(va=g;null!==va;){l=!1;h=void 0;try{Rd()}catch(Pg){l=!0,h=Pg}l&&(null===va?p("178"):void 0,ob(va,h),null!==va&&(va=va.nextEffect))}pc(Gi);
Gi=null;Yg=!!Fi;Fi=null;b.current=d;for(va=g;null!==va;){l=!1;h=void 0;try{Pc(b,c)}catch(Pg){l=!0,h=Pg}l&&(null===va?p("178"):void 0,ob(va,h),null!==va&&(va=va.nextEffect))}if(null!==g&&null!==ci){var m=ze.bind(null,b,g);Eh=Nb.unstable_runWithPriority(Nb.unstable_NormalPriority,function(){return Fh(m)});Dh=m}fg=ei=!1;"function"===typeof Xh&&Xh(d.stateNode);c=d.expirationTime;d=d.childExpirationTime;d=d>c?d:c;0===d&&(re=null);Ae(b,d)}function Td(b){for(;;){var d=b.alternate,g=b.return,l=b.sibling;
if(0===(b.effectTag&1024)){jc=b;a:{var h=d;d=b;var m=Bd,v=d.pendingProps;switch(d.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:Gb(d.type)&&Hb(d);break;case 3:Vb(d);Hd(d);v=d.stateNode;v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null);if(null===h||null===h.child)Nc(d),d.effectTag&=-3;fi(d);break;case 5:c(d);var y=yb(Ag.current);m=d.type;if(null!==h&&null!=d.stateNode)Hi(h,d,m,v,y),h.ref!==d.ref&&(d.effectTag|=128);else if(v){var t=yb(Le.current);if(Nc(d)){v=d;h=v.stateNode;
var a=v.type,X=v.memoizedProps,ea=y;h[je]=v;h[zf]=X;m=void 0;y=a;switch(y){case "iframe":case "object":Va("load",h);break;case "video":case "audio":for(a=0;a<Xf.length;a++)Va(Xf[a],h);break;case "source":Va("error",h);break;case "img":case "image":case "link":Va("error",h);Va("load",h);break;case "form":Va("reset",h);Va("submit",h);break;case "details":Va("toggle",h);break;case "input":ja(h,X);Va("invalid",h);eb(ea,"onChange");break;case "select":h._wrapperState={wasMultiple:!!X.multiple};Va("invalid",
h);eb(ea,"onChange");break;case "textarea":Qa(h,X),Va("invalid",h),eb(ea,"onChange")}vc(y,X);a=null;for(m in X)X.hasOwnProperty(m)&&(t=X[m],"children"===m?"string"===typeof t?h.textContent!==t&&(a=["children",t]):"number"===typeof t&&h.textContent!==""+t&&(a=["children",""+t]):ve.hasOwnProperty(m)&&null!=t&&eb(ea,m));switch(y){case "input":oa(h);Rc(h,X,!0);break;case "textarea":oa(h);ac(h,X);break;case "select":case "option":break;default:"function"===typeof X.onClick&&(h.onclick=vd)}m=a;v.updateQueue=
m;if(v=null!==m?!0:!1)d.effectTag|=4}else{X=d;ea=m;h=v;a=9===y.nodeType?y:y.ownerDocument;t===Ii.html&&(t=xb(ea));t===Ii.html?"script"===ea?(h=a.createElement("div"),h.innerHTML="\x3cscript\x3e\x3c/script\x3e",a=h.removeChild(h.firstChild)):"string"===typeof h.is?a=a.createElement(ea,{is:h.is}):(a=a.createElement(ea),"select"===ea&&(ea=a,h.multiple?ea.multiple=!0:h.size&&(ea.size=h.size))):a=a.createElementNS(t,ea);h=a;h[je]=X;h[zf]=v;Ji(h,d,!1,!1);ea=h;a=m;X=v;var e=y,P=sb(a,X);switch(a){case "iframe":case "object":Va("load",
ea);y=X;break;case "video":case "audio":for(y=0;y<Xf.length;y++)Va(Xf[y],ea);y=X;break;case "source":Va("error",ea);y=X;break;case "img":case "image":case "link":Va("error",ea);Va("load",ea);y=X;break;case "form":Va("reset",ea);Va("submit",ea);y=X;break;case "details":Va("toggle",ea);y=X;break;case "input":ja(ea,X);y=Ya(ea,X);Va("invalid",ea);eb(e,"onChange");break;case "option":y=bb(ea,X);break;case "select":ea._wrapperState={wasMultiple:!!X.multiple};y=dc({},X,{value:void 0});Va("invalid",ea);eb(e,
"onChange");break;case "textarea":Qa(ea,X);y=Xd(ea,X);Va("invalid",ea);eb(e,"onChange");break;default:y=X}vc(a,y);t=void 0;var r=a,kc=ea,x=y;for(t in x)if(x.hasOwnProperty(t)){var Bc=x[t];"style"===t?cb(kc,Bc):"dangerouslySetInnerHTML"===t?(Bc=Bc?Bc.__html:void 0,null!=Bc&&wi(kc,Bc)):"children"===t?"string"===typeof Bc?("textarea"!==r||""!==Bc)&&Qb(kc,Bc):"number"===typeof Bc&&Qb(kc,""+Bc):"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&"autoFocus"!==t&&(ve.hasOwnProperty(t)?
null!=Bc&&eb(e,t):null!=Bc&&nc(kc,t,Bc,P))}switch(a){case "input":oa(ea);Rc(ea,X,!1);break;case "textarea":oa(ea);ac(ea,X);break;case "option":null!=X.value&&ea.setAttribute("value",""+Sa(X.value));break;case "select":y=ea;y.multiple=!!X.multiple;ea=X.value;null!=ea?ud(y,!!X.multiple,ea,!1):null!=X.defaultValue&&ud(y,!!X.multiple,X.defaultValue,!0);break;default:"function"===typeof y.onClick&&(ea.onclick=vd)}me(m,v)&&(d.effectTag|=4);d.stateNode=h}null!==d.ref&&(d.effectTag|=128)}else null===d.stateNode?
p("166"):void 0;break;case 6:h&&null!=d.stateNode?Ki(h,d,h.memoizedProps,v):("string"!==typeof v&&(null===d.stateNode?p("166"):void 0),h=yb(Ag.current),yb(Le.current),Nc(d)?(v=d,m=v.stateNode,h=v.memoizedProps,m[je]=v,m.nodeValue!==h&&(d.effectTag|=4)):(m=d,v=(9===h.nodeType?h:h.ownerDocument).createTextNode(v),v[je]=d,m.stateNode=v));break;case 11:break;case 13:v=d.memoizedState;if(0!==(d.effectTag&64)){d.expirationTime=m;jc=d;break a}v=null!==v;m=null!==h&&null!==h.memoizedState;null!==h&&!v&&m&&
(h=h.child.sibling,null!==h&&(y=d.firstEffect,null!==y?(d.firstEffect=h,h.nextEffect=y):(d.firstEffect=d.lastEffect=h,h.nextEffect=null),h.effectTag=8));if(v||m)d.effectTag|=4;break;case 7:break;case 8:break;case 12:break;case 4:Vb(d);fi(d);break;case 10:Gf(d);break;case 9:break;case 14:break;case 17:Gb(d.type)&&Hb(d);break;case 18:break;default:p("156")}jc=null}d=b;if(1===Bd||1!==d.childExpirationTime){v=0;for(m=d.child;null!==m;)h=m.expirationTime,y=m.childExpirationTime,h>v&&(v=h),y>v&&(v=y),m=
m.sibling;d.childExpirationTime=v}if(null!==jc)return jc;null!==g&&0===(g.effectTag&1024)&&(null===g.firstEffect&&(g.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==g.lastEffect&&(g.lastEffect.nextEffect=b.firstEffect),g.lastEffect=b.lastEffect),1<b.effectTag&&(null!==g.lastEffect?g.lastEffect.nextEffect=b:g.firstEffect=b,g.lastEffect=b))}else{b=qd(b,Bd);if(null!==b)return b.effectTag&=1023,b;null!==g&&(g.firstEffect=g.lastEffect=null,g.effectTag|=1024)}if(null!==l)return l;if(null!==g)b=
g;else break}return null}function sc(b){var d=Fg(b.alternate,b,Bd);b.memoizedProps=b.pendingProps;null===d&&(d=Td(b));cj.current=null;return d}function tc(b,d){fg?p("243"):void 0;Pe();fg=!0;var c=gi.current;gi.current=yi;var g=b.nextExpirationTimeToWorkOn;if(g!==Bd||b!==mf||null===jc)Mb(),mf=b,Bd=g,jc=Xa(mf.current,null,Bd),b.pendingCommitExpirationTime=0;var l=!1;do{try{if(d)for(;null!==jc&&!ub();)jc=sc(jc);else for(;null!==jc;)jc=sc(jc)}catch(Bf){if(Gg=jf=ye=null,Kc(),null===jc)l=!0,hh(Bf);else{null===
jc?p("271"):void 0;var h=jc,m=h.return;if(null===m)l=!0,hh(Bf);else{a:{var v=b,y=m,t=h,a=Bf;m=Bd;t.effectTag|=1024;t.firstEffect=t.lastEffect=null;if(null!==a&&"object"===typeof a&&"function"===typeof a.then){var X=a;a=y;var ea=-1,e=-1;do{if(13===a.tag){var r=a.alternate;if(null!==r&&(r=r.memoizedState,null!==r)){e=10*(1073741822-r.timedOutAt);break}r=a.pendingProps.maxDuration;if("number"===typeof r)if(0>=r)ea=0;else if(-1===ea||r<ea)ea=r}a=a.return}while(null!==a);a=y;do{if(r=13===a.tag)r=void 0===
a.memoizedProps.fallback?!1:null===a.memoizedState;if(r){y=a.updateQueue;null===y?(y=new Set,y.add(X),a.updateQueue=y):y.add(X);if(0===(a.mode&1)){a.effectTag|=64;t.effectTag&=-1957;1===t.tag&&(null===t.alternate?t.tag=17:(m=dd(1073741823),m.tag=ai,nd(t,m)));t.expirationTime=1073741823;break a}t=v;y=m;var P=t.pingCache;null===P?(P=t.pingCache=new Cj,r=new Set,P.set(X,r)):(r=P.get(X),void 0===r&&(r=new Set,P.set(X,r)));r.has(y)||(r.add(y),t=Ve.bind(null,t,X,y),X.then(t,t));-1===ea?v=1073741823:(-1===
e&&(e=10*(1073741822-gb(v,m))-5E3),v=e+ea);0<=v&&Hf<v&&(Hf=v);a.effectTag|=2048;a.expirationTime=m;break a}a=a.return}while(null!==a);a=Error((bc(t.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+Ec(t))}Bi=!0;a=lf(a,t);v=y;do{switch(v.tag){case 3:v.effectTag|=2048;v.expirationTime=m;m=pd(v,a,m);cg(v,m);break a;case 1:if(ea=a,e=
v.type,t=v.stateNode,0===(v.effectTag&64)&&("function"===typeof e.getDerivedStateFromError||null!==t&&"function"===typeof t.componentDidCatch&&(null===re||!re.has(t)))){v.effectTag|=2048;v.expirationTime=m;m=Ue(v,ea,m);cg(v,m);break a}}v=v.return}while(null!==v)}jc=Td(h);continue}}}break}while(1);fg=!1;gi.current=c;Gg=jf=ye=null;Kc();if(l)mf=null,b.finishedWork=null;else if(null!==jc)b.finishedWork=null;else{c=b.current.alternate;null===c?p("281"):void 0;mf=null;if(Bi){l=b.latestPendingTime;h=b.latestSuspendedTime;
m=b.latestPingedTime;if(0!==l&&l<g||0!==h&&h<g||0!==m&&m<g){Yc(b,g);se(b,c,g,b.expirationTime,-1);return}if(!b.didError&&d){b.didError=!0;g=b.nextExpirationTimeToWorkOn=g;d=b.expirationTime=1073741823;se(b,c,g,d,-1);return}}d&&-1!==Hf?(Yc(b,g),d=10*(1073741822-gb(b,g)),d<Hf&&(Hf=d),d=10*(1073741822-cd()),d=Hf-d,se(b,c,g,b.expirationTime,0>d?0:d)):(b.pendingCommitExpirationTime=g,b.finishedWork=c)}}function ob(b,d){for(var c=b.return;null!==c;){switch(c.tag){case 1:var g=c.stateNode;if("function"===
typeof c.type.getDerivedStateFromError||"function"===typeof g.componentDidCatch&&(null===re||!re.has(g))){b=lf(d,b);b=Ue(c,b,1073741823);nd(c,b);de(c,1073741823);return}break;case 3:b=lf(d,b);b=pd(c,b,1073741823);nd(c,b);de(c,1073741823);return}c=c.return}3===b.tag&&(c=lf(d,b),c=pd(b,c,1073741823),nd(b,c),de(b,1073741823))}function Ad(b,d){var c=Nb.unstable_getCurrentPriorityLevel(),g=void 0;if(0===(d.mode&1))g=1073741823;else if(fg&&!ei)g=Bd;else{switch(c){case Nb.unstable_ImmediatePriority:g=1073741823;
break;case Nb.unstable_UserBlockingPriority:g=1073741822-10*(((1073741822-b+15)/10|0)+1);break;case Nb.unstable_NormalPriority:g=1073741822-25*(((1073741822-b+500)/25|0)+1);break;case Nb.unstable_LowPriority:case Nb.unstable_IdlePriority:g=1;break;default:p("313")}null!==mf&&g===Bd&&--g}c===Nb.unstable_UserBlockingPriority&&(0===he||g<he)&&(he=g);return g}function Ve(b,d,c){var g=b.pingCache;null!==g&&g.delete(d);if(null!==mf&&Bd===c)mf=null;else if(d=b.earliestSuspendedTime,g=b.latestSuspendedTime,
0!==d&&c<=d&&c>=g){b.didError=!1;d=b.latestPingedTime;if(0===d||d>c)b.latestPingedTime=c;$d(c,b);c=b.expirationTime;0!==c&&If(b,c)}}function ic(b,d){var c=b.stateNode;null!==c&&c.delete(d);d=cd();d=Ad(d,b);b=gg(b,d);null!==b&&(fc(b,d),d=b.expirationTime,0!==d&&If(b,d))}function gg(b,d){b.expirationTime<d&&(b.expirationTime=d);var c=b.alternate;null!==c&&c.expirationTime<d&&(c.expirationTime=d);var g=b.return,l=null;if(null===g&&3===b.tag)l=b.stateNode;else for(;null!==g;){c=g.alternate;g.childExpirationTime<
d&&(g.childExpirationTime=d);null!==c&&c.childExpirationTime<d&&(c.childExpirationTime=d);if(null===g.return&&3===g.tag){l=g.stateNode;break}g=g.return}return l}function de(b,d){b=gg(b,d);null!==b&&(!fg&&0!==Bd&&d>Bd&&Mb(),fc(b,d),fg&&!ei&&mf===b||If(b,b.expirationTime),nf>Gh&&(nf=0,p("185")))}function v(b,d,c,g,l){return Nb.unstable_runWithPriority(Nb.unstable_ImmediatePriority,function(){return b(d,c,g,l)})}function kc(){of=1073741822-((Nb.unstable_now()-Ig)/10|0)}function Be(b,d){if(0!==Hh){if(d<
Hh)return;null!==hi&&Nb.unstable_cancelCallback(hi)}Hh=d;b=Nb.unstable_now()-Ig;hi=Nb.unstable_scheduleCallback(Jg,{timeout:10*(1073741822-d)-b})}function se(b,d,c,g,l){b.expirationTime=g;0!==l||ub()?0<l&&(b.timeoutHandle=Li(rd.bind(null,b,d,c),l)):(b.pendingCommitExpirationTime=c,b.finishedWork=d)}function rd(b,d,c){b.pendingCommitExpirationTime=c;b.finishedWork=d;kc();zb=of;Jf(b,c)}function Ae(b,d){b.expirationTime=d;b.finishedWork=null}function cd(){if(ed)return zb;te();if(0===Dd||1===Dd)kc(),
zb=of;return zb}function If(b,d){null===b.nextScheduledRoot?(b.expirationTime=d,null===Ud?(Ac=Ud=b,b.nextScheduledRoot=b):(Ud=Ud.nextScheduledRoot=b,Ud.nextScheduledRoot=Ac)):d>b.expirationTime&&(b.expirationTime=d);ed||(Cd?hg&&(pf=b,Dd=1073741823,Wb(b,1073741823,!1)):1073741823===d?Sd(1073741823,!1):Be(b,d))}function te(){var b=0,d=null;if(null!==Ud)for(var c=Ud,g=Ac;null!==g;){var l=g.expirationTime;if(0===l){null===c||null===Ud?p("244"):void 0;if(g===g.nextScheduledRoot){Ac=Ud=g.nextScheduledRoot=
null;break}else if(g===Ac)Ac=l=g.nextScheduledRoot,Ud.nextScheduledRoot=l,g.nextScheduledRoot=null;else if(g===Ud){Ud=c;Ud.nextScheduledRoot=Ac;g.nextScheduledRoot=null;break}else c.nextScheduledRoot=g.nextScheduledRoot,g.nextScheduledRoot=null;g=c.nextScheduledRoot}else{l>b&&(b=l,d=g);if(g===Ud)break;if(1073741823===b)break;c=g;g=g.nextScheduledRoot}}pf=d;Dd=b}function ub(){return Ih?!0:Nb.unstable_shouldYield()?Ih=!0:!1}function Jg(){try{if(!ub()&&null!==Ac){kc();var b=Ac;do{var d=b.expirationTime;
0!==d&&of<=d&&(b.nextExpirationTimeToWorkOn=of);b=b.nextScheduledRoot}while(b!==Ac)}Sd(0,!0)}finally{Ih=!1}}function Sd(b,d){te();if(d)for(kc(),zb=of;null!==pf&&0!==Dd&&b<=Dd&&!(Ih&&of>Dd);)Wb(pf,Dd,of>Dd),te(),kc(),zb=of;else for(;null!==pf&&0!==Dd&&b<=Dd;)Wb(pf,Dd,!1),te();d&&(Hh=0,hi=null);0!==Dd&&Be(pf,Dd);nf=0;Jh=null;if(null!==Kf)for(b=Kf,Kf=null,d=0;d<b.length;d++){var c=b[d];try{c._onComplete()}catch(si){jh||(jh=!0,ii=si)}}if(jh)throw b=ii,ii=null,jh=!1,b;}function Jf(b,d){ed?p("253"):void 0;
pf=b;Dd=d;Wb(b,d,!1);Sd(1073741823,!1)}function Wb(b,d,c){ed?p("245"):void 0;ed=!0;if(c){var g=b.finishedWork;null!==g?Lf(b,g,d):(b.finishedWork=null,g=b.timeoutHandle,-1!==g&&(b.timeoutHandle=-1,dj(g)),tc(b,c),g=b.finishedWork,null!==g&&(ub()?b.finishedWork=g:Lf(b,g,d)))}else g=b.finishedWork,null!==g?Lf(b,g,d):(b.finishedWork=null,g=b.timeoutHandle,-1!==g&&(b.timeoutHandle=-1,dj(g)),tc(b,c),g=b.finishedWork,null!==g&&Lf(b,g,d));ed=!1}function Lf(b,d,c){var g=b.firstBatch;null!==g&&g._expirationTime>=
c&&(null===Kf?Kf=[g]:Kf.push(g),g._defer)?(b.finishedWork=d,b.expirationTime=0):(b.finishedWork=null,b===Jh?nf++:(Jh=b,nf=0),Nb.unstable_runWithPriority(Nb.unstable_ImmediatePriority,function(){fd(b,d)}))}function hh(b){null===pf?p("246"):void 0;pf.expirationTime=0;jh||(jh=!0,ii=b)}function kh(b,d){var c=Cd;Cd=!0;try{return b(d)}finally{(Cd=c)||ed||Sd(1073741823,!1)}}function lh(b,d){if(Cd&&!hg){hg=!0;try{return b(d)}finally{hg=!1}}return b(d)}function mh(b,d,c){Cd||ed||0===he||(Sd(he,!1),he=0);var g=
Cd;Cd=!0;try{return Nb.unstable_runWithPriority(Nb.unstable_UserBlockingPriority,function(){return b(d,c)})}finally{(Cd=g)||ed||Sd(1073741823,!1)}}function ig(b,d,c,g,l){var h=d.current;a:if(c){c=c._reactInternalFiber;b:{2===$a(c)&&1===c.tag?void 0:p("170");var m=c;do{switch(m.tag){case 3:m=m.stateNode.context;break b;case 1:if(Gb(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break b}}m=m.return}while(null!==m);p("171");m=void 0}if(1===c.tag){var v=c.type;if(Gb(v)){c=ld(c,v,m);
break a}}c=m}else c=Af;null===d.context?d.context=c:d.pendingContext=c;d=l;l=dd(g);l.payload={element:b};d=void 0===d?null:d;null!==d&&(l.callback=d);Pe();nd(h,l);de(h,g);return g}function nh(b,d,c,g){var l=d.current,h=cd();l=Ad(h,l);return ig(b,d,c,l,g)}function Kg(b){b=b.current;if(!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function ie(b,d,c){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Wd,key:null==
g?null:""+g,children:b,containerInfo:d,implementation:c}}function qf(b){var d=1073741822-25*(((1073741822-cd()+500)/25|0)+1);d>=Mi&&(d=Mi-1);this._expirationTime=Mi=d;this._root=b;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}function jb(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}function rf(b,d,c){d=Jc(3,null,null,d?3:0);b={current:d,containerInfo:b,pendingChildren:null,pingCache:null,earliestPendingTime:0,
latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:c,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null};this._internalRoot=d.stateNode=b}function Ce(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType&&(8!==b.nodeType||" react-mount-point-unstable "!==b.nodeValue))}function Lg(b,d){d||(d=b?9===b.nodeType?
b.documentElement:b.firstChild:null,d=!(!d||1!==d.nodeType||!d.hasAttribute("data-reactroot")));if(!d)for(var c;c=b.lastChild;)b.removeChild(c);return new rf(b,!1,d)}function sf(b,d,c,g,l){var h=c._reactRootContainer;if(h){if("function"===typeof l){var m=l;l=function(){var b=Kg(h._internalRoot);m.call(b)}}null!=b?h.legacy_renderSubtreeIntoContainer(b,d,l):h.render(d,l)}else{h=c._reactRootContainer=Lg(c,g);if("function"===typeof l){var v=l;l=function(){var b=Kg(h._internalRoot);v.call(b)}}lh(function(){null!=
b?h.legacy_renderSubtreeIntoContainer(b,d,l):h.render(d,l)})}return Kg(h._internalRoot)}function ji(b,d){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;Ce(d)?void 0:p("200");return ie(b,d,null,c)}var db=a(6),dc=a(0),Nb=a(15);db?void 0:p("227");var Nf=!1,og=null,vf=!1,Qg=null,pg={onError:function(b){Nf=!0;og=b}},Ye=null,wf={},Ed=[],Ge={},ve={},Of={},xf=null,sg=null,qg=null,yf=null,jg={injectEventPluginOrder:function(b){Ye?p("101"):void 0;Ye=Array.prototype.slice.call(b);w()},injectEventPluginsByName:function(b){var d=
!1,c;for(c in b)if(b.hasOwnProperty(c)){var g=b[c];wf.hasOwnProperty(c)&&wf[c]===g||(wf[c]?p("102",c):void 0,wf[c]=g,d=!0)}d&&w()}},tf=Math.random().toString(36).slice(2),je="__reactInternalInstance$"+tf,zf="__reactEventHandlers$"+tf,Je=!("undefined"===typeof window||!window.document||!window.document.createElement),Qf={animationend:F("Animation","AnimationEnd"),animationiteration:F("Animation","AnimationIteration"),animationstart:F("Animation","AnimationStart"),transitionend:F("Transition","TransitionEnd")},
Pf={},rg={};Je&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete Qf.animationend.animation,delete Qf.animationiteration.animation,delete Qf.animationstart.animation),"TransitionEvent"in window||delete Qf.transitionend.transition);var Vd=x("animationend"),ue=x("animationiteration"),Kh=x("animationstart"),oh=x("transitionend"),Xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Ze=null,vh=null,ke=null;dc(qa.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():"unknown"!==typeof b.returnValue&&(b.returnValue=!1),this.isDefaultPrevented=O)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():"unknown"!==typeof b.cancelBubble&&(b.cancelBubble=!0),this.isPropagationStopped=O)},persist:function(){this.isPersistent=O},isPersistent:Z,destructor:function(){var b=this.constructor.Interface,
d;for(d in b)this[d]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=Z;this._dispatchInstances=this._dispatchListeners=null}});qa.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};qa.extend=function(b){function d(){}function c(){return g.apply(this,arguments)}var g=this;d.prototype=
g.prototype;var l=new d;dc(l,c.prototype);c.prototype=l;c.prototype.constructor=c;c.Interface=dc({},g.Interface,b);c.extend=g.extend;ka(c);return c};ka(qa);var De=qa.extend({data:null}),Lh=qa.extend({data:null}),Ph=[9,13,27,32],Rg=Je&&"CompositionEvent"in window,kg=null;Je&&"documentMode"in document&&(kg=document.documentMode);var Ee=Je&&"TextEvent"in window&&!kg,Sg=Je&&(!Rg||kg&&8<kg&&11>=kg),wh=String.fromCharCode(32),Fe={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},
dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",
captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Dc=!1,Fd=!1,ph={eventTypes:Fe,extractEvents:function(b,d,c,g){var l=void 0,h=void 0;if(Rg)a:{switch(b){case "compositionstart":l=Fe.compositionStart;break a;case "compositionend":l=Fe.compositionEnd;break a;case "compositionupdate":l=Fe.compositionUpdate;break a}l=void 0}else Fd?la(b,c)&&(l=Fe.compositionEnd):"keydown"===b&&229===c.keyCode&&(l=Fe.compositionStart);l?(Sg&&"ko"!==
c.locale&&(Fd||l!==Fe.compositionStart?l===Fe.compositionEnd&&Fd&&(h=N()):(Ze=g,vh="value"in Ze?Ze.value:Ze.textContent,Fd=!0)),l=De.getPooled(l,d,c,g),h?l.data=h:(h=pa(c),null!==h&&(l.data=h)),W(l),h=l):h=null;(b=Ee?Ca(b,c):Ga(b,c))?(d=Lh.getPooled(Fe.beforeInput,d,c,g),d.data=b,W(d)):d=null;return null===h?d:null===d?h:[h,d]}},tg=null,He=null,Ie=null,ug=!1,Wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,
week:!0},We=db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;We.hasOwnProperty("ReactCurrentDispatcher")||(We.ReactCurrentDispatcher={current:null});var Xg=/^(.*)[\\\/]/,lc="function"===typeof Symbol&&Symbol.for,zg=lc?Symbol.for("react.element"):60103,Wd=lc?Symbol.for("react.portal"):60106,le=lc?Symbol.for("react.fragment"):60107,Rf=lc?Symbol.for("react.strict_mode"):60108,$e=lc?Symbol.for("react.profiler"):60114,Sf=lc?Symbol.for("react.provider"):60109,Ug=lc?Symbol.for("react.context"):60110,
Tg=lc?Symbol.for("react.concurrent_mode"):60111,Vg=lc?Symbol.for("react.forward_ref"):60112,vg=lc?Symbol.for("react.suspense"):60113,Wg=lc?Symbol.for("react.memo"):60115,Tf=lc?Symbol.for("react.lazy"):60116,Qh="function"===typeof Symbol&&Symbol.iterator,vi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
xh=Object.prototype.hasOwnProperty,wg={},g={},b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){b[d]=new Pa(d,0,!1,d,null)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var c=d[0];b[c]=new Pa(c,1,!1,d[1],null)});["contentEditable","draggable","spellCheck","value"].forEach(function(d){b[d]=new Pa(d,2,
!1,d.toLowerCase(),null)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){b[d]=new Pa(d,2,!1,d,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){b[d]=new Pa(d,3,!1,d.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(d){b[d]=new Pa(d,3,!0,d,null)});
["capture","download"].forEach(function(d){b[d]=new Pa(d,4,!1,d,null)});["cols","rows","size","span"].forEach(function(d){b[d]=new Pa(d,6,!1,d,null)});["rowSpan","start"].forEach(function(d){b[d]=new Pa(d,5,!1,d.toLowerCase(),null)});var d=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var g=
c.replace(d,cc);b[g]=new Pa(g,1,!1,c,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var g=c.replace(d,cc);b[g]=new Pa(g,1,!1,c,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(c){var g=c.replace(d,cc);b[g]=new Pa(g,1,!1,c,"http://www.w3.org/XML/1998/namespace")});["tabIndex","crossOrigin"].forEach(function(d){b[d]=new Pa(d,1,!1,d.toLowerCase(),null)});var l={change:{phasedRegistrationNames:{bubbled:"onChange",
captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},y=null,ea=null,Bc=!1;Je&&(Bc=ra("input")&&(!document.documentMode||9<document.documentMode));var ej={eventTypes:l,_isInputEventSupported:Bc,extractEvents:function(b,d,c,g){var l=d?H(d):window,h=void 0,m=void 0,v=l.nodeName&&l.nodeName.toLowerCase();"select"===v||"input"===v&&"file"===l.type?h=rb:Ab(l)?Bc?h=lb:(h=Za,m=Fc):(v=l.nodeName)&&"input"===v.toLowerCase()&&("checkbox"===l.type||
"radio"===l.type)&&(h=Gd);if(h&&(h=h(b,d)))return Fa(h,c,g);m&&m(b,l,d);"blur"===b&&(b=l._wrapperState)&&b.controlled&&"number"===l.type&&ua(l,"number",l.value)}},lg=qa.extend({view:null,detail:null}),Xi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},qh=0,rh=0,Xe=!1,Ni=!1,sh=lg.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Uc,button:null,buttons:null,relatedTarget:function(b){return b.relatedTarget||
(b.fromElement===b.srcElement?b.toElement:b.fromElement)},movementX:function(b){if("movementX"in b)return b.movementX;var d=qh;qh=b.screenX;return Xe?"mousemove"===b.type?b.screenX-d:0:(Xe=!0,0)},movementY:function(b){if("movementY"in b)return b.movementY;var d=rh;rh=b.screenY;return Ni?"mousemove"===b.type?b.screenY-d:0:(Ni=!0,0)}}),fj=sh.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),th={mouseEnter:{registrationName:"onMouseEnter",
dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},gj={eventTypes:th,extractEvents:function(b,d,c,g){var l="mouseover"===b||"pointerover"===b,h="mouseout"===b||"pointerout"===b;if(l&&(c.relatedTarget||c.fromElement)||!h&&!l)return null;l=g.window===
g?g:(l=g.ownerDocument)?l.defaultView||l.parentWindow:window;h?(h=d,d=(d=c.relatedTarget||c.toElement)?Q(d):null):h=null;if(h===d)return null;var m=void 0,v=void 0,y=void 0,t=void 0;if("mouseout"===b||"mouseover"===b)m=sh,v=th.mouseLeave,y=th.mouseEnter,t="mouse";else if("pointerout"===b||"pointerover"===b)m=fj,v=th.pointerLeave,y=th.pointerEnter,t="pointer";var a=null==h?l:H(h);l=null==d?l:H(d);b=m.getPooled(v,h,c,g);b.type=t+"leave";b.target=a;b.relatedTarget=l;c=m.getPooled(y,d,c,g);c.type=t+"enter";
c.target=l;c.relatedTarget=a;g=d;if(h&&g)a:{d=h;l=g;t=0;for(m=d;m;m=Y(m))t++;m=0;for(y=l;y;y=Y(y))m++;for(;0<t-m;)d=Y(d),t--;for(;0<m-t;)l=Y(l),m--;for(;t--;){if(d===l||d===l.alternate)break a;d=Y(d);l=Y(l)}d=null}else d=null;l=d;for(d=[];h&&h!==l;){t=h.alternate;if(null!==t&&t===l)break;d.push(h);h=Y(h)}for(h=[];g&&g!==l;){t=g.alternate;if(null!==t&&t===l)break;h.push(g);g=Y(g)}for(g=0;g<d.length;g++)Ja(d[g],"bubbled",b);for(g=h.length;0<g--;)Ja(h[g],"captured",c);return[b,c]}},yh=Object.prototype.hasOwnProperty,
ki=qa.extend({animationName:null,elapsedTime:null,pseudoElement:null}),hj=qa.extend({clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),Dj=lg.extend({relatedTarget:null}),Oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",
19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ij=lg.extend({key:function(b){if(b.key){var d=Oi[b.key]||b.key;if("Unidentified"!==d)return d}return"keypress"===b.type?(b=Hc(b),13===b?"Enter":String.fromCharCode(b)):"keydown"===
b.type||"keyup"===b.type?Pi[b.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Uc,charCode:function(b){return"keypress"===b.type?Hc(b):0},keyCode:function(b){return"keydown"===b.type||"keyup"===b.type?b.keyCode:0},which:function(b){return"keypress"===b.type?Hc(b):"keydown"===b.type||"keyup"===b.type?b.keyCode:0}}),Ej=sh.extend({dataTransfer:null}),Fj=lg.extend({touches:null,targetTouches:null,changedTouches:null,
altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Uc}),Gj=qa.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),jj=sh.extend({deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:null,deltaMode:null}),Mh=[["abort","abort"],[Vd,"animationEnd"],[ue,"animationIteration"],[Kh,"animationStart"],["canplay","canPlay"],["canplaythrough",
"canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover",
"mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[oh,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Uf={},Vf={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut",
"cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit",
"submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(b){Ic(b,!0)});Mh.forEach(function(b){Ic(b,!1)});var kj={eventTypes:Uf,isInteractiveTopLevelEventType:function(b){b=Vf[b];return void 0!==b&&!0===b.isInteractive},extractEvents:function(b,d,c,g){var l=Vf[b];if(!l)return null;switch(b){case "keypress":if(0===Hc(c))return null;case "keydown":case "keyup":b=ij;break;case "blur":case "focus":b=Dj;break;case "click":if(2===
c.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":b=sh;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":b=Ej;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":b=Fj;break;case Vd:case ue:case Kh:b=ki;break;case oh:b=Gj;break;case "scroll":b=lg;break;case "wheel":b=jj;break;case "copy":case "cut":case "paste":b=
hj;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":b=fj;break;default:b=qa}d=b.getPooled(l,d,c,g);W(d);return d}},xg=kj.isInteractiveTopLevelEventType,Rh=[],Yg=!0,Yi={},zj=0,Sh="_reactListenersID"+(""+Math.random()).slice(2),li=Je&&"documentMode"in document&&11>=document.documentMode,Uh={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},
Wf=null,Vh=null,ah=null,$g=!1,Hj={eventTypes:Uh,extractEvents:function(b,d,c,g){var l=g.window===g?g.document:9===g.nodeType?g:g.ownerDocument,h;if(!(h=!l)){a:{l=id(l);h=Of.onSelect;for(var m=0;m<h.length;m++){var v=h[m];if(!l.hasOwnProperty(v)||!l[v]){l=!1;break a}}l=!0}h=!l}if(h)return null;l=d?H(d):window;switch(b){case "focus":if(Ab(l)||"true"===l.contentEditable)Wf=l,Vh=d,ah=null;break;case "blur":ah=Vh=Wf=null;break;case "mousedown":$g=!0;break;case "contextmenu":case "mouseup":case "dragend":return $g=
!1,jd(c,g);case "selectionchange":if(li)break;case "keydown":case "keyup":return jd(c,g)}return null}};jg.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));xf=ca;sg=G;qg=H;jg.injectEventPluginsByName({SimpleEventPlugin:kj,EnterLeaveEventPlugin:gj,ChangeEventPlugin:ej,SelectEventPlugin:Hj,BeforeInputEventPlugin:ph});var Ii={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},mi=void 0,wi=function(b){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(d,c,g,l){MSApp.execUnsafeLocalFunction(function(){return b(d,c,g,l)})}:b}(function(b,d){if(b.namespaceURI!==Ii.svg||"innerHTML"in b)b.innerHTML=d;else{mi=mi||document.createElement("div");mi.innerHTML="\x3csvg\x3e"+d+"\x3c/svg\x3e";for(d=mi.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;d.firstChild;)b.appendChild(d.firstChild)}}),bh={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qi=["Webkit","ms","Moz","O"];Object.keys(bh).forEach(function(b){Qi.forEach(function(d){d=d+b.charAt(0).toUpperCase()+b.substring(1);bh[d]=bh[b]})});var Aj=dc({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Fi=null,Gi=null,Li="function"===typeof setTimeout?setTimeout:void 0,dj="function"===typeof clearTimeout?clearTimeout:
void 0,Fh=Nb.unstable_scheduleCallback,bj=Nb.unstable_cancelCallback;new Set;var Wh=[],yg=-1,Af={},wd={current:Af},ne={current:!1},Ke=Af,Xh=null,xi=null,Zi=(new db.Component).refs,zh={isMounted:function(b){return(b=b._reactInternalFiber)?2===$a(b):!1},enqueueSetState:function(b,d,c){b=b._reactInternalFiber;var g=cd();g=Ad(g,b);var l=dd(g);l.payload=d;void 0!==c&&null!==c&&(l.callback=c);Pe();nd(b,l);de(b,g)},enqueueReplaceState:function(b,d,c){b=b._reactInternalFiber;var g=cd();g=Ad(g,b);var l=dd(g);
l.tag=aj;l.payload=d;void 0!==c&&null!==c&&(l.callback=c);Pe();nd(b,l);de(b,g)},enqueueForceUpdate:function(b,d){b=b._reactInternalFiber;var c=cd();c=Ad(c,b);var g=dd(c);g.tag=ai;void 0!==d&&null!==d&&(g.callback=d);Pe();nd(b,g);de(b,c)}},cf=Array.isArray,fh=Md(!0),$h=Md(!1),Ah={},Le={current:Ah},Bg={current:Ah},Ag={current:Ah},eh=0,Ci=2,Ch=4,Ai=8,Di=16,ih=32,Ei=64,di=128,Zh=We.ReactCurrentDispatcher,Yf=0,Zf=null,zd=null,ae=null,ad=null,yd=null,df=null,Eg=0,Me=null,Bh=0,dh=!1,Ne=null,Dg=0,yi={readContext:Ub,
useCallback:h,useContext:h,useEffect:h,useImperativeHandle:h,useLayoutEffect:h,useMemo:h,useReducer:h,useRef:h,useState:h,useDebugValue:h},Cg={readContext:Ub,useCallback:function(b,d){bd().memoizedState=[b,void 0===d?null:d];return b},useContext:Ub,useEffect:function(b,d){return be(516,di|Ei,b,d)},useImperativeHandle:function(b,d,c){c=null!==c&&void 0!==c?c.concat([b]):null;return be(4,Ch|ih,xa.bind(null,d,b),c)},useLayoutEffect:function(b,d){return be(4,Ch|ih,b,d)},useMemo:function(b,d){var c=bd();
d=void 0===d?null:d;b=b();c.memoizedState=[b,d];return b},useReducer:function(b,d,c){var g=bd();d=void 0!==c?c(d):d;g.memoizedState=g.baseState=d;b=g.queue={last:null,dispatch:null,lastRenderedReducer:b,lastRenderedState:d};b=b.dispatch=Da.bind(null,Zf,b);return[g.memoizedState,b]},useRef:function(b){var d=bd();b={current:b};return d.memoizedState=b},useState:function(b){var d=bd();"function"===typeof b&&(b=b());d.memoizedState=d.baseState=b;b=d.queue={last:null,dispatch:null,lastRenderedReducer:Ba,
lastRenderedState:b};b=b.dispatch=Da.bind(null,Zf,b);return[d.memoizedState,b]},useDebugValue:ce},ch={readContext:Ub,useCallback:function(b,d){var c=Lc();d=void 0===d?null:d;var g=c.memoizedState;if(null!==g&&null!==d&&t(d,g[1]))return g[0];c.memoizedState=[b,d];return b},useContext:Ub,useEffect:function(b,d){return ef(516,di|Ei,b,d)},useImperativeHandle:function(b,d,c){c=null!==c&&void 0!==c?c.concat([b]):null;return ef(4,Ch|ih,xa.bind(null,d,b),c)},useLayoutEffect:function(b,d){return ef(4,Ch|ih,
b,d)},useMemo:function(b,d){var c=Lc();d=void 0===d?null:d;var g=c.memoizedState;if(null!==g&&null!==d&&t(d,g[1]))return g[0];b=b();c.memoizedState=[b,d];return b},useReducer:Sb,useRef:function(){return Lc().memoizedState},useState:function(b){return Sb(Ba,b)},useDebugValue:ce},we=null,Cf=null,Qe=!1,zi=We.ReactCurrentOwner,Oe=!1,bi={current:null},ye=null,jf=null,Gg=null,bg=0,aj=1,ai=2,gh=3,Re=!1,Ji=void 0,fi=void 0,Hi=void 0,Ki=void 0;Ji=function(b,d){for(var c=d.child;null!==c;){if(5===c.tag||6===
c.tag)b.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===d)break;for(;null===c.sibling;){if(null===c.return||c.return===d)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};fi=function(){};Hi=function(b,d,c,g,l){var h=b.memoizedProps;if(h!==g){var m=d.stateNode;yb(Le.current);b=null;switch(c){case "input":h=Ya(m,h);g=Ya(m,g);b=[];break;case "option":h=bb(m,h);g=bb(m,g);b=[];break;case "select":h=dc({},h,{value:void 0});g=dc({},g,{value:void 0});
b=[];break;case "textarea":h=Xd(m,h);g=Xd(m,g);b=[];break;default:"function"!==typeof h.onClick&&"function"===typeof g.onClick&&(m.onclick=vd)}vc(c,g);m=c=void 0;var v=null;for(c in h)if(!g.hasOwnProperty(c)&&h.hasOwnProperty(c)&&null!=h[c])if("style"===c){var y=h[c];for(m in y)y.hasOwnProperty(m)&&(v||(v={}),v[m]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(ve.hasOwnProperty(c)?b||(b=[]):(b=b||[]).push(c,
null));for(c in g){var t=g[c];y=null!=h?h[c]:void 0;if(g.hasOwnProperty(c)&&t!==y&&(null!=t||null!=y))if("style"===c)if(y){for(m in y)!y.hasOwnProperty(m)||t&&t.hasOwnProperty(m)||(v||(v={}),v[m]="");for(m in t)t.hasOwnProperty(m)&&y[m]!==t[m]&&(v||(v={}),v[m]=t[m])}else v||(b||(b=[]),b.push(c,v)),v=t;else"dangerouslySetInnerHTML"===c?(t=t?t.__html:void 0,y=y?y.__html:void 0,null!=t&&y!==t&&(b=b||[]).push(c,""+t)):"children"===c?y===t||"string"!==typeof t&&"number"!==typeof t||(b=b||[]).push(c,""+
t):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(ve.hasOwnProperty(c)?(null!=t&&eb(l,c),b||y===t||(b=[])):(b=b||[]).push(c,t))}v&&(b=b||[]).push("style",v);if(d.updateQueue=b)d.effectTag|=4}};Ki=function(b,d,c,g){c!==g&&(d.effectTag|=4)};var od="function"===typeof WeakSet?WeakSet:Set,Cj="function"===typeof WeakMap?WeakMap:Map,gi=We.ReactCurrentDispatcher,cj=We.ReactCurrentOwner,Mi=1073741822,fg=!1,jc=null,mf=null,Bd=0,Hf=-1,Bi=!1,va=null,ei=!1,ci=null,Eh=null,Dh=null,re=null,
Ac=null,Ud=null,Hh=0,hi=void 0,ed=!1,pf=null,Dd=0,he=0,jh=!1,ii=null,Cd=!1,hg=!1,Kf=null,Ig=Nb.unstable_now(),of=1073741822-(Ig/10|0),zb=of,Gh=50,nf=0,Jh=null,Ih=!1;tg=function(b,d,c){switch(d){case "input":Yb(b,c);d=c.name;if("radio"===c.type&&null!=d){for(c=b;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name\x3d"+JSON.stringify(""+d)+'][type\x3d"radio"]');for(d=0;d<c.length;d++){var g=c[d];if(g!==b&&g.form===b.form){var l=ca(g);l?void 0:p("90");Ra(g);Yb(g,l)}}}break;case "textarea":Oa(b,
c);break;case "select":d=c.value,null!=d&&ud(b,!!c.multiple,d,!1)}};qf.prototype.render=function(b){this._defer?void 0:p("250");this._hasChildren=!0;this._children=b;var d=this._root._internalRoot,c=this._expirationTime,g=new jb;ig(b,d,null,c,g._onCommit);return g};qf.prototype.then=function(b){if(this._didComplete)b();else{var d=this._callbacks;null===d&&(d=this._callbacks=[]);d.push(b)}};qf.prototype.commit=function(){var b=this._root._internalRoot,d=b.firstBatch;this._defer&&null!==d?void 0:p("251");
if(this._hasChildren){var c=this._expirationTime;if(d!==this){this._hasChildren&&(c=this._expirationTime=d._expirationTime,this.render(this._children));for(var g=null,l=d;l!==this;)g=l,l=l._next;null===g?p("251"):void 0;g._next=l._next;this._next=d;b.firstBatch=this}this._defer=!1;Jf(b,c);d=this._next;this._next=null;d=b.firstBatch=d;null!==d&&d._hasChildren&&d.render(d._children)}else this._next=null,this._defer=!1};qf.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;
var b=this._callbacks;if(null!==b)for(var d=0;d<b.length;d++)(0,b[d])()}};jb.prototype.then=function(b){if(this._didCommit)b();else{var d=this._callbacks;null===d&&(d=this._callbacks=[]);d.push(b)}};jb.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var b=this._callbacks;if(null!==b)for(var d=0;d<b.length;d++){var c=b[d];"function"!==typeof c?p("191",c):void 0;c()}}};rf.prototype.render=function(b,d){var c=this._internalRoot,g=new jb;d=void 0===d?null:d;null!==d&&g.then(d);
nh(b,c,null,g._onCommit);return g};rf.prototype.unmount=function(b){var d=this._internalRoot,c=new jb;b=void 0===b?null:b;null!==b&&c.then(b);nh(null,d,null,c._onCommit);return c};rf.prototype.legacy_renderSubtreeIntoContainer=function(b,d,c){var g=this._internalRoot,l=new jb;c=void 0===c?null:c;null!==c&&l.then(c);nh(d,g,b,l._onCommit);return l};rf.prototype.createBatch=function(){var b=new qf(this),d=b._expirationTime,c=this._internalRoot,g=c.firstBatch;if(null===g)c.firstBatch=b,b._next=null;else{for(c=
null;null!==g&&g._expirationTime>=d;)c=g,g=g._next;b._next=g;null!==c&&(c._next=b)}return b};K=kh;Xb=mh;Ib=function(){ed||0===he||(Sd(he,!1),he=0)};var Nh={createPortal:ji,findDOMNode:function(b){if(null==b)return null;if(1===b.nodeType)return b;var d=b._reactInternalFiber;void 0===d&&("function"===typeof b.render?p("188"):p("268",Object.keys(b)));b=ya(d);return b=null===b?null:b.stateNode},hydrate:function(b,d,c){Ce(d)?void 0:p("200");return sf(null,b,d,!0,c)},render:function(b,d,c){Ce(d)?void 0:
p("200");return sf(null,b,d,!1,c)},unstable_renderSubtreeIntoContainer:function(b,d,c,g){Ce(c)?void 0:p("200");null==b||void 0===b._reactInternalFiber?p("38"):void 0;return sf(b,d,c,!1,g)},unmountComponentAtNode:function(b){Ce(b)?void 0:p("40");return b._reactRootContainer?(lh(function(){sf(null,null,b,!1,function(){b._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return ji.apply(void 0,arguments)},unstable_batchedUpdates:kh,unstable_interactiveUpdates:mh,flushSync:function(b,
d){ed?p("187"):void 0;var c=Cd;Cd=!0;try{return v(b,d)}finally{Cd=c,Sd(1073741823,!1)}},unstable_createRoot:function(b,d){Ce(b)?void 0:p("299","unstable_createRoot");return new rf(b,!0,null!=d&&!0===d.hydrate)},unstable_flushControlled:function(b){var d=Cd;Cd=!0;try{v(b)}finally{(Cd=d)||ed||Sd(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[G,H,ca,jg.injectEventPluginsByName,Ge,W,function(b){fa(b,sa)},Ha,Ua,$b,E]}};(function(b){var d=b.findFiberByHostInstance;return md(dc({},
b,{overrideProps:null,currentDispatcherRef:We.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){b=ya(b);return null===b?null:b.stateNode},findFiberByHostInstance:function(b){return d?d(b):null}}))})({findFiberByHostInstance:Q,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var ni={default:Nh},oi=ni&&Nh||ni;q.exports=oi.default||oi};
shadow$provide[21]=function(f,a,q,n){function u(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(p){console.error(p)}}a(3);"use strict";u();q.exports=a(16)};
shadow$provide[22]=function(f,a,q,n){(function(a,f){"object"===typeof n&&"undefined"!==typeof q?f(n):"function"===typeof define&&define.amd?define(["exports"],f):f(a.WHATWGFetch={})})(this,function(a){function f(a){"string"!==typeof a&&(a=String(a));if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function n(a){"string"!==typeof a&&(a=String(a));return a}function u(a){var e={next:function(){var e=a.shift();return{done:void 0===
e,value:e}}};V.iterable&&(e[Symbol.iterator]=function(){return e});return e}function q(a){this.map={};a instanceof q?a.forEach(function(a,e){this.append(e,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(e){this.append(e,a[e])},this)}function w(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function k(a){return new Promise(function(e,F){a.onload=function(){e(a.result)};a.onerror=function(){F(a.error)}})}
function e(a){var e=new FileReader,F=k(e);e.readAsArrayBuffer(a);return F}function S(a){a=new Uint8Array(a);for(var e=Array(a.length),F=0;F<a.length;F++)e[F]=String.fromCharCode(a[F]);return e.join("")}function fa(a){if(a.slice)return a.slice(0);var e=new Uint8Array(a.byteLength);e.set(new Uint8Array(a));return e.buffer}function U(){this.bodyUsed=!1;this._initBody=function(a){(this._bodyInit=a)?"string"===typeof a?this._bodyText=a:V.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:V.formData&&
FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:V.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():V.arrayBuffer&&V.blob&&a&&DataView.prototype.isPrototypeOf(a)?(this._bodyArrayBuffer=fa(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):V.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||Ja(a))?this._bodyArrayBuffer=fa(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="";this.headers.get("content-type")||("string"===typeof a?
this.headers.set("content-type","text/plain;charset\x3dUTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):V.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset\x3dUTF-8"))};V.blob&&(this.blob=function(){var a=w(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");
return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(e)});this.text=function(){var a=w(this);if(a)return a;if(this._bodyBlob){a=this._bodyBlob;var e=new FileReader,f=k(e);e.readAsText(a);return f}if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)};
V.formData&&(this.formData=function(){return this.text().then(E)});this.json=function(){return this.text().then(JSON.parse)};return this}function J(a,e){e=e||{};var x=e.body;if(a instanceof J){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url;this.credentials=a.credentials;e.headers||(this.headers=new q(a.headers));this.method=a.method;this.mode=a.mode;this.signal=a.signal;x||null==a._bodyInit||(x=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);this.credentials=e.credentials||this.credentials||
"same-origin";if(e.headers||!this.headers)this.headers=new q(e.headers);a=e.method||this.method||"GET";var k=a.toUpperCase();this.method=-1<sa.indexOf(k)?k:a;this.mode=e.mode||this.mode||null;this.signal=e.signal||this.signal;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&x)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(x)}function E(a){var e=new FormData;a.trim().split("\x26").forEach(function(a){if(a){var x=a.split("\x3d");a=x.shift().replace(/\+/g,
" ");x=x.join("\x3d").replace(/\+/g," ");e.append(decodeURIComponent(a),decodeURIComponent(x))}});return e}function Q(a){var e=new q;a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var x=a.split(":");if(a=x.shift().trim())x=x.join(":").trim(),e.append(a,x)});return e}function G(a,e){e||(e={});this.type="default";this.status=void 0===e.status?200:e.status;this.ok=200<=this.status&&300>this.status;this.statusText="statusText"in e?e.statusText:"OK";this.headers=new q(e.headers);this.url=
e.url||"";this._initBody(a)}function H(e,x){return new Promise(function(k,f){function F(){O.abort()}var N=new J(e,x);if(N.signal&&N.signal.aborted)return f(new a.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;O.onload=function(){var a={status:O.status,statusText:O.statusText,headers:Q(O.getAllResponseHeaders()||"")};a.url="responseURL"in O?O.responseURL:a.headers.get("X-Request-URL");k(new G("response"in O?O.response:O.responseText,a))};O.onerror=function(){f(new TypeError("Network request failed"))};
O.ontimeout=function(){f(new TypeError("Network request failed"))};O.onabort=function(){f(new a.DOMException("Aborted","AbortError"))};O.open(N.method,N.url,!0);"include"===N.credentials?O.withCredentials=!0:"omit"===N.credentials&&(O.withCredentials=!1);"responseType"in O&&V.blob&&(O.responseType="blob");N.headers.forEach(function(a,e){O.setRequestHeader(e,a)});N.signal&&(N.signal.addEventListener("abort",F),O.onreadystatechange=function(){4===O.readyState&&N.signal.removeEventListener("abort",F)});
O.send("undefined"===typeof N._bodyInit?null:N._bodyInit)})}var ca="Symbol"in self&&"iterator"in Symbol,Y;if(Y="FileReader"in self&&"Blob"in self)try{new Blob,Y=!0}catch(F){Y=!1}var V={searchParams:"URLSearchParams"in self,iterable:ca,blob:Y,formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(V.arrayBuffer)var ma="[object Int8Array];[object Uint8Array];[object Uint8ClampedArray];[object Int16Array];[object Uint16Array];[object Int32Array];[object Uint32Array];[object Float32Array];[object Float64Array]".split(";"),
Ja=ArrayBuffer.isView||function(a){return a&&-1<ma.indexOf(Object.prototype.toString.call(a))};q.prototype.append=function(a,e){a=f(a);e=n(e);var x=this.map[a];this.map[a]=x?x+", "+e:e};q.prototype["delete"]=function(a){delete this.map[f(a)]};q.prototype.get=function(a){a=f(a);return this.has(a)?this.map[a]:null};q.prototype.has=function(a){return this.map.hasOwnProperty(f(a))};q.prototype.set=function(a,e){this.map[f(a)]=n(e)};q.prototype.forEach=function(a,e){for(var x in this.map)this.map.hasOwnProperty(x)&&
a.call(e,this.map[x],x,this)};q.prototype.keys=function(){var a=[];this.forEach(function(e,k){a.push(k)});return u(a)};q.prototype.values=function(){var a=[];this.forEach(function(e){a.push(e)});return u(a)};q.prototype.entries=function(){var a=[];this.forEach(function(e,k){a.push([k,e])});return u(a)};V.iterable&&(q.prototype[Symbol.iterator]=q.prototype.entries);var sa="DELETE GET HEAD OPTIONS POST PUT".split(" ");J.prototype.clone=function(){return new J(this,{body:this._bodyInit})};U.call(J.prototype);
U.call(G.prototype);G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new q(this.headers),url:this.url})};G.error=function(){var a=new G(null,{status:0,statusText:""});a.type="error";return a};var W=[301,302,303,307,308];G.redirect=function(a,e){if(-1===W.indexOf(e))throw new RangeError("Invalid status code");return new G(null,{status:e,headers:{location:a}})};a.DOMException=self.DOMException;try{new a.DOMException}catch(F){a.DOMException=
function(a,e){this.message=a;this.name=e;this.stack=Error(a).stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}H.polyfill=!0;self.fetch||(self.fetch=H,self.Headers=q,self.Request=J,self.Response=G);a.Headers=q;a.Request=J;a.Response=G;a.fetch=H;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[23]=function(f,a,q,n){function u(a){var e=this.constructor;return this.then(function(k){return e.resolve(a()).then(function(){return k})},function(k){return e.resolve(a()).then(function(){return e.reject(k)})})}function p(){}function z(a,e){return function(){a.apply(e,arguments)}}function C(a){if(!(this instanceof C))throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;
this._deferreds=[];fa(a,this)}function R(a,e){for(;3===a._state;)a=a._value;0===a._state?a._deferreds.push(e):(a._handled=!0,C._immediateFn(function(){var f=1===a._state?e.onFulfilled:e.onRejected;if(null===f)(1===a._state?w:k)(e.promise,a._value);else{try{var p=f(a._value)}catch(H){k(e.promise,H);return}w(e.promise,p)}}))}function w(a,f){try{if(f===a)throw new TypeError("A promise cannot be resolved with itself.");if(f&&("object"===typeof f||"function"===typeof f)){var p=f.then;if(f instanceof C){a._state=
3;a._value=f;e(a);return}if("function"===typeof p){fa(z(p,f),a);return}}a._state=1;a._value=f;e(a)}catch(G){k(a,G)}}function k(a,k){a._state=2;a._value=k;e(a)}function e(a){2===a._state&&0===a._deferreds.length&&C._immediateFn(function(){a._handled||C._unhandledRejectionFn(a._value)});for(var e=0,k=a._deferreds.length;e<k;e++)R(a,a._deferreds[e]);a._deferreds=null}function S(a,e,k){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof e?e:null;this.promise=k}function fa(a,
e){var f=!1;try{a(function(a){f||(f=!0,w(e,a))},function(a){f||(f=!0,k(e,a))})}catch(G){f||(f=!0,k(e,G))}}var U=setTimeout;C.prototype["catch"]=function(a){return this.then(null,a)};C.prototype.then=function(a,e){var k=new this.constructor(p);R(this,new S(a,e,k));return k};C.prototype["finally"]=u;C.all=function(a){return new C(function(e,k){function f(a,n){try{if(n&&("object"===typeof n||"function"===typeof n)){var u=n.then;if("function"===typeof u){u.call(n,function(e){f(a,e)},k);return}}p[a]=n;
0===--w&&e(p)}catch(sa){k(sa)}}if(!a||"undefined"===typeof a.length)throw new TypeError("Promise.all accepts an array");var p=Array.prototype.slice.call(a);if(0===p.length)return e([]);for(var w=p.length,n=0;n<p.length;n++)f(n,p[n])})};C.resolve=function(a){return a&&"object"===typeof a&&a.constructor===C?a:new C(function(e){e(a)})};C.reject=function(a){return new C(function(e,k){k(a)})};C.race=function(a){return new C(function(e,k){for(var f=0,p=a.length;f<p;f++)a[f].then(e,k)})};C._immediateFn=
"function"===typeof setImmediate&&function(a){setImmediate(a)}||function(a){U(a,0)};C._unhandledRejectionFn=function(a){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};a=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof f)return f;throw Error("unable to locate global object");}();"Promise"in a?a.Promise.prototype["finally"]||(a.Promise.prototype["finally"]=u):a.Promise=C};
shadow$provide[24]=function(f,a,q,n){a=function(a){return a&&a.Math==Math&&a};q.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof f&&f)||Function("return this")()};
shadow$provide[25]=function(f,a,q,n){q.exports=function(a){try{return!!a()}catch(p){return!0}}};
shadow$provide[26]=function(f,a,q,n){f=a(25);q.exports=!f(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})};
shadow$provide[27]=function(f,a,q,n){f={}.propertyIsEnumerable;var u=Object.getOwnPropertyDescriptor;a=u&&!f.call({1:2},1);n.f=a?function(a){a=u(this,a);return!!a&&a.enumerable}:f};
shadow$provide[28]=function(f,a,q,n){q.exports=function(a,f){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:f}}};
shadow$provide[29]=function(f,a,q,n){var u={}.toString;q.exports=function(a){return u.call(a).slice(8,-1)}};
shadow$provide[30]=function(f,a,q,n){f=a(25);var u=a(29),p="".split;q.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(a){return"String"==u(a)?p.call(a,""):Object(a)}:Object};
shadow$provide[31]=function(f,a,q,n){q.exports=function(a){if(void 0==a)throw TypeError("Can't call method on "+a);return a}};
shadow$provide[32]=function(f,a,q,n){var u=a(30),p=a(31);q.exports=function(a){return u(p(a))}};
shadow$provide[33]=function(f,a,q,n){q.exports=function(a){return"object"===typeof a?null!==a:"function"===typeof a}};
shadow$provide[34]=function(f,a,q,n){var u=a(33);q.exports=function(a,f){if(!u(a))return a;var p,n;if(f&&"function"==typeof(p=a.toString)&&!u(n=p.call(a))||"function"==typeof(p=a.valueOf)&&!u(n=p.call(a))||!f&&"function"==typeof(p=a.toString)&&!u(n=p.call(a)))return n;throw TypeError("Can't convert object to primitive value");}};
shadow$provide[35]=function(f,a,q,n){var u={}.hasOwnProperty;q.exports=function(a,f){return u.call(a,f)}};
shadow$provide[36]=function(f,a,q,n){f=a(24);a=a(33);var u=f.document,p=a(u)&&a(u.createElement);q.exports=function(a){return p?u.createElement(a):{}}};
shadow$provide[37]=function(f,a,q,n){f=a(26);n=a(25);var u=a(36);q.exports=!f&&!n(function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})};
shadow$provide[38]=function(f,a,q,n){f=a(26);var u=a(27),p=a(28),z=a(32),C=a(34),R=a(35),w=a(37),k=Object.getOwnPropertyDescriptor;n.f=f?k:function(a,f){a=z(a);f=C(f,!0);if(w)try{return k(a,f)}catch(fa){}if(R(a,f))return p(!u.f.call(a,f),a[f])}};
shadow$provide[39]=function(f,a,q,n){var u=a(33);q.exports=function(a){if(!u(a))throw TypeError(String(a)+" is not an object");return a}};
shadow$provide[40]=function(f,a,q,n){f=a(26);var u=a(37),p=a(39),z=a(34),C=Object.defineProperty;n.f=f?C:function(a,f,k){p(a);f=z(f,!0);p(k);if(u)try{return C(a,f,k)}catch(e){}if("get"in k||"set"in k)throw TypeError("Accessors not supported");"value"in k&&(a[f]=k.value);return a}};
shadow$provide[41]=function(f,a,q,n){f=a(26);var u=a(40),p=a(28);q.exports=f?function(a,f,n){return u.f(a,f,p(1,n))}:function(a,f,p){a[f]=p;return a}};
shadow$provide[42]=function(f,a,q,n){f=a(24);var u=a(41);q.exports=function(a,n){try{u(f,a,n)}catch(C){f[a]=n}return n}};
shadow$provide[43]=function(f,a,q,n){q.exports=!1};
shadow$provide[44]=function(f,a,q,n){f=a(24);n=a(42);a=a(43);var u=f["__core-js_shared__"]||n("__core-js_shared__",{});(q.exports=function(a,f){return u[a]||(u[a]=void 0!==f?f:{})})("versions",[]).push({version:"3.1.3",mode:a?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})};
shadow$provide[45]=function(f,a,q,n){f=a(44);q.exports=f("native-function-to-string",Function.toString)};
shadow$provide[46]=function(f,a,q,n){f=a(24);a=a(45);f=f.WeakMap;q.exports="function"===typeof f&&/native code/.test(a.call(f))};
shadow$provide[47]=function(f,a,q,n){var u=0,p=Math.random();q.exports=function(a){return"Symbol("+String(void 0===a?"":a)+")_"+(++u+p).toString(36)}};
shadow$provide[48]=function(f,a,q,n){f=a(44);var u=a(47),p=f("keys");q.exports=function(a){return p[a]||(p[a]=u(a))}};
shadow$provide[49]=function(f,a,q,n){q.exports={}};
shadow$provide[50]=function(f,a,q,n){n=a(46);f=a(24);var u=a(33),p=a(41),z=a(35),C=a(48);a=a(49);f=f.WeakMap;if(n){var R=new f,w=R.get,k=R.has,e=R.set;var S=function(a,k){e.call(R,a,k);return k};var fa=function(a){return w.call(R,a)||{}};var U=function(a){return k.call(R,a)}}else{var J=C("state");a[J]=!0;S=function(a,e){p(a,J,e);return e};fa=function(a){return z(a,J)?a[J]:{}};U=function(a){return z(a,J)}}q.exports={set:S,get:fa,has:U,enforce:function(a){return U(a)?fa(a):S(a,{})},getterFor:function(a){return function(e){var k;
if(!u(e)||(k=fa(e)).type!==a)throw TypeError("Incompatible receiver, "+a+" required");return k}}}};
shadow$provide[51]=function(f,a,q,n){f=a(24);n=a(44);var u=a(41),p=a(35),z=a(42),C=a(45);a=a(50);var R=a.get,w=a.enforce,k=String(C).split("toString");n("inspectSource",function(a){return C.call(a)});(q.exports=function(a,n,q,C){var e=C?!!C.unsafe:!1,E=C?!!C.enumerable:!1;C=C?!!C.noTargetGet:!1;"function"==typeof q&&("string"!=typeof n||p(q,"name")||u(q,"name",n),w(q).source=k.join("string"==typeof n?n:""));a===f?E?a[n]=q:z(n,q):(e?!C&&a[n]&&(E=!0):delete a[n],E?a[n]=q:u(a,n,q))})(Function.prototype,
"toString",function(){return"function"==typeof this&&R(this).source||C.call(this)})};
shadow$provide[52]=function(f,a,q,n){q.exports=a(24)};
shadow$provide[53]=function(f,a,q,n){var u=a(52);f=a(24);var p=function(a){return"function"==typeof a?a:void 0};q.exports=function(a,n){return 2>arguments.length?p(u[a])||p(f[a]):u[a]&&u[a][n]||f[a]&&f[a][n]}};
shadow$provide[54]=function(f,a,q,n){var u=Math.ceil,p=Math.floor;q.exports=function(a){return isNaN(a=+a)?0:(0<a?p:u)(a)}};
shadow$provide[55]=function(f,a,q,n){var u=a(54),p=Math.min;q.exports=function(a){return 0<a?p(u(a),9007199254740991):0}};
shadow$provide[56]=function(f,a,q,n){var u=a(54),p=Math.max,z=Math.min;q.exports=function(a,f){a=u(a);return 0>a?p(a+f,0):z(a,f)}};
shadow$provide[57]=function(f,a,q,n){var u=a(32),p=a(55),z=a(56);f=function(a){return function(f,n,k){f=u(f);var e=p(f.length);k=z(k,e);if(a&&n!=n)for(;e>k;){if(n=f[k++],n!=n)return!0}else for(;e>k;k++)if((a||k in f)&&f[k]===n)return a||k||0;return!a&&-1}};q.exports={includes:f(!0),indexOf:f(!1)}};
shadow$provide[58]=function(f,a,q,n){var u=a(35),p=a(32),z=a(57).indexOf,C=a(49);q.exports=function(a,f){a=p(a);var k=0,e=[],n;for(n in a)!u(C,n)&&u(a,n)&&e.push(n);for(;f.length>k;)u(a,n=f[k++])&&(~z(e,n)||e.push(n));return e}};
shadow$provide[59]=function(f,a,q,n){q.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")};
shadow$provide[60]=function(f,a,q,n){var u=a(58),p=a(59).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(a){return u(a,p)}};
shadow$provide[61]=function(f,a,q,n){n.f=Object.getOwnPropertySymbols};
shadow$provide[62]=function(f,a,q,n){f=a(53);var u=a(60),p=a(61),z=a(39);q.exports=f("Reflect","ownKeys")||function(a){var f=u.f(z(a)),n=p.f;return n?f.concat(n(a)):f}};
shadow$provide[63]=function(f,a,q,n){var u=a(35),p=a(62),z=a(38),C=a(40);q.exports=function(a,f){for(var k=p(f),e=C.f,n=z.f,w=0;w<k.length;w++){var q=k[w];u(a,q)||e(a,q,n(f,q))}}};
shadow$provide[64]=function(f,a,q,n){var u=a(25),p=/#|\.prototype\./;f=function(a,e){a=C[z(a)];return a==w?!0:a==R?!1:"function"==typeof e?u(e):!!e};var z=f.normalize=function(a){return String(a).replace(p,".").toLowerCase()},C=f.data={},R=f.NATIVE="N",w=f.POLYFILL="P";q.exports=f};
shadow$provide[65]=function(f,a,q,n){f=a(24);var u=a(38).f,p=a(41),z=a(51),C=a(42),R=a(63),w=a(64);q.exports=function(a,e){var k=a.target,n=a.global,q=a.stat,J,E,Q;if(E=n?f:q?f[k]||C(k,{}):(f[k]||{}).prototype)for(Q in e){var G=e[Q];var H=a.noTargetGet?(J=u(E,Q))&&J.value:E[Q];J=w(n?Q:k+(q?".":"#")+Q,a.forced);if(!J&&void 0!==H){if(typeof G===typeof H)continue;R(G,H)}(a.sham||H&&H.sham)&&p(G,"sham",!0);z(E,Q,G,a)}}};
shadow$provide[66]=function(f,a,q,n){q.exports=function(a){if("function"!=typeof a)throw TypeError(String(a)+" is not a function");return a}};
shadow$provide[67]=function(f,a,q,n){var u=a(66);q.exports=function(a,f,n){u(a);if(void 0===f)return a;switch(n){case 0:return function(){return a.call(f)};case 1:return function(n){return a.call(f,n)};case 2:return function(n,p){return a.call(f,n,p)};case 3:return function(n,p,k){return a.call(f,n,p,k)}}return function(){return a.apply(f,arguments)}}};
shadow$provide[68]=function(f,a,q,n){var u=a(31);q.exports=function(a){return Object(u(a))}};
shadow$provide[69]=function(f,a,q,n){var u=a(29);q.exports=Array.isArray||function(a){return"Array"==u(a)}};
shadow$provide[70]=function(f,a,q,n){f=a(25);q.exports=!!Object.getOwnPropertySymbols&&!f(function(){return!String(Symbol())})};
shadow$provide[71]=function(f,a,q,n){f=a(24);n=a(44);var u=a(47),p=a(70),z=f.Symbol,C=n("wks");q.exports=function(a){return C[a]||(C[a]=p&&z[a]||(p?z:u)("Symbol."+a))}};
shadow$provide[72]=function(f,a,q,n){var u=a(33),p=a(69),z=a(71)("species");q.exports=function(a,f){if(p(a)){var n=a.constructor;"function"!=typeof n||n!==Array&&!p(n.prototype)?u(n)&&(n=n[z],null===n&&(n=void 0)):n=void 0}return new (void 0===n?Array:n)(0===f?0:f)}};
shadow$provide[73]=function(f,a,q,n){var u=a(67),p=a(30),z=a(68),C=a(55),R=a(72),w=[].push;f=function(a){var e=1==a,f=2==a,k=3==a,n=4==a,q=6==a,E=5==a||q;return function(J,G,H,U){var Q=z(J),V=p(Q);G=u(G,H,3);H=C(V.length);var S=0;U=U||R;J=e?U(J,H):f?U(J,0):void 0;for(var ca;H>S;S++)if(E||S in V)if(U=V[S],ca=G(U,S,Q),a)if(e)J[S]=ca;else if(ca)switch(a){case 3:return!0;case 5:return U;case 6:return S;case 2:w.call(J,U)}else if(n)return!1;return q?-1:k||n?n:J}};q.exports={forEach:f(0),map:f(1),filter:f(2),
some:f(3),every:f(4),find:f(5),findIndex:f(6)}};
shadow$provide[74]=function(f,a,q,n){var u=a(58),p=a(59);q.exports=Object.keys||function(a){return u(a,p)}};
shadow$provide[75]=function(f,a,q,n){f=a(26);var u=a(40),p=a(39),z=a(74);q.exports=f?Object.defineProperties:function(a,f){p(a);for(var n=z(f),k=n.length,e=0,q;k>e;)u.f(a,q=n[e++],f[q]);return a}};
shadow$provide[76]=function(f,a,q,n){f=a(53);q.exports=f("document","documentElement")};
shadow$provide[77]=function(f,a,q,n){var u=a(39),p=a(75),z=a(59);f=a(49);var C=a(76),R=a(36),w=a(48)("IE_PROTO"),k=function(){},e=function(){var a=R("iframe"),f=z.length;a.style.display="none";C.appendChild(a);a.src="javascript:";a=a.contentWindow.document;a.open();a.write("\x3cscript\x3edocument.F\x3dObject\x3c/script\x3e");a.close();for(e=a.F;f--;)delete e.prototype[z[f]];return e()};q.exports=Object.create||function(a,f){if(null!==a){k.prototype=u(a);var n=new k;k.prototype=null;n[w]=a}else n=
e();return void 0===f?n:p(n,f)};f[w]=!0};
shadow$provide[78]=function(f,a,q,n){f=a(71);n=a(77);a=a(41);var u=f("unscopables"),p=Array.prototype;void 0==p[u]&&a(p,u,n(null));q.exports=function(a){p[u][a]=!0}};
shadow$provide[79]=function(f,a,q,n){f=a(65);var u=a(73).find;a=a(78);var p=!0;"find"in[]&&Array(1).find(function(){p=!1});f({target:"Array",proto:!0,forced:p},{find:function(a){return u(this,a,1<arguments.length?arguments[1]:void 0)}});a("find")};
shadow$provide[80]=function(f,a,q,n){f=a(24);var u=a(67),p=Function.call;q.exports=function(a,n,q){return u(p,f[a].prototype[n],q)}};
shadow$provide[81]=function(f,a,q,n){a(79);f=a(80);q.exports=f("Array","find")};
shadow$provide[82]=function(f,a,q,n){q.exports=a(81)};
shadow$provide[83]=function(f,a,q,n){f=a(65);var u=a(73).findIndex;a=a(78);var p=!0;"findIndex"in[]&&Array(1).findIndex(function(){p=!1});f({target:"Array",proto:!0,forced:p},{findIndex:function(a){return u(this,a,1<arguments.length?arguments[1]:void 0)}});a("findIndex")};
shadow$provide[84]=function(f,a,q,n){a(83);f=a(80);q.exports=f("Array","findIndex")};
shadow$provide[85]=function(f,a,q,n){q.exports=a(84)};
shadow$provide[86]=function(f,a,q,n){var u=a(26);f=a(25);var p=a(74),z=a(61),C=a(27),R=a(68),w=a(30),k=Object.assign;q.exports=!k||f(function(){var a={},f={},n=Symbol();a[n]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){f[a]=a});return 7!=k({},a)[n]||"abcdefghijklmnopqrst"!=p(k({},f)).join("")})?function(a,f){for(var e=R(a),k=arguments.length,n=1,q=z.f,Q=C.f;k>n;)for(var G=w(arguments[n++]),H=q?p(G).concat(q(G)):p(G),ca=H.length,Y=0,V;ca>Y;)if(V=H[Y++],!u||Q.call(G,V))e[V]=G[V];return e}:
k};
shadow$provide[87]=function(f,a,q,n){f=a(65);a=a(86);f({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})};
shadow$provide[88]=function(f,a,q,n){a(87);f=a(52);q.exports=f.Object.assign};
shadow$provide[89]=function(f,a,q,n){q.exports=a(88)};
shadow$provide[90]=function(f,a,q,n){var u=a(33),p=a(29),z=a(71)("match");q.exports=function(a){var f;return u(a)&&(void 0!==(f=a[z])?!!f:"RegExp"==p(a))}};
shadow$provide[91]=function(f,a,q,n){var u=a(90);q.exports=function(a){if(u(a))throw TypeError("The method doesn't accept regular expressions");return a}};
shadow$provide[92]=function(f,a,q,n){var u=a(71)("match");q.exports=function(a){var f=/./;try{"/./"[a](f)}catch(C){try{return f[u]=!1,"/./"[a](f)}catch(R){}}return!1}};
shadow$provide[93]=function(f,a,q,n){f=a(65);var u=a(55),p=a(91),z=a(31);a=a(92);var C="".startsWith,R=Math.min;f({target:"String",proto:!0,forced:!a("startsWith")},{startsWith:function(a){var f=String(z(this));p(a);var e=u(R(1<arguments.length?arguments[1]:void 0,f.length)),n=String(a);return C?C.call(f,n,e):f.slice(e,e+n.length)===n}})};
shadow$provide[94]=function(f,a,q,n){a(93);f=a(80);q.exports=f("String","startsWith")};
shadow$provide[95]=function(f,a,q,n){q.exports=a(94)};
shadow$provide[96]=function(f,a,q,n){var u=a(54),p=a(31);q.exports="".repeat||function(a){var f=String(p(this)),n="";a=u(a);if(0>a||Infinity==a)throw RangeError("Wrong number of repetitions");for(;0<a;(a>>>=1)&&(f+=f))a&1&&(n+=f);return n}};
shadow$provide[97]=function(f,a,q,n){f=a(65);a=a(96);f({target:"String",proto:!0},{repeat:a})};
shadow$provide[98]=function(f,a,q,n){a(97);f=a(80);q.exports=f("String","repeat")};
shadow$provide[99]=function(f,a,q,n){q.exports=a(98)};
shadow$provide[100]=function(f,a,q,n){var u=a(34),p=a(40),z=a(28);q.exports=function(a,f,n){f=u(f);f in a?p.f(a,f,z(0,n)):a[f]=n}};
shadow$provide[101]=function(f,a,q,n){var u=a(25),p=a(71)("species");q.exports=function(a){return!u(function(){var f=[];(f.constructor={})[p]=function(){return{foo:1}};return 1!==f[a](Boolean).foo})}};
shadow$provide[102]=function(f,a,q,n){f=a(65);n=a(25);var u=a(69),p=a(33),z=a(68),C=a(55),R=a(100),w=a(72);q=a(101);var k=a(71)("isConcatSpreadable");a=!n(function(){var a=[];a[k]=!1;return a.concat()[0]!==a});q=q("concat");f({target:"Array",proto:!0,forced:!a||!q},{concat:function(a){var e=z(this),f=w(e,0),n=0,q;var E=-1;for(q=arguments.length;E<q;E++){var Q=-1===E?e:arguments[E];var G=Q;if(p(G)){var H=G[k];G=void 0!==H?!!H:u(G)}else G=!1;if(G){H=C(Q.length);if(9007199254740991<n+H)throw TypeError("Maximum allowed index exceeded");
for(G=0;G<H;G++,n++)G in Q&&R(f,n,Q[G])}else{if(9007199254740991<=n)throw TypeError("Maximum allowed index exceeded");R(f,n++,Q)}}f.length=n;return f}})};
shadow$provide[103]=function(f,a,q,n){var u=a(29),p=a(71)("toStringTag"),z="Arguments"==u(function(){return arguments}());q.exports=function(a){var f;if(void 0===a)var n="Undefined";else{if(null===a)var k="Null";else{a:{var e=a=Object(a);try{k=e[p];break a}catch(S){}k=void 0}k="string"==typeof(n=k)?n:z?u(a):"Object"==(f=u(a))&&"function"==typeof a.callee?"Arguments":f}n=k}return n}};
shadow$provide[104]=function(f,a,q,n){var u=a(103);f=a(71)("toStringTag");a={};a[f]="z";q.exports="[object z]"!==String(a)?function(){return"[object "+u(this)+"]"}:a.toString};
shadow$provide[105]=function(f,a,q,n){f=a(51);a=a(104);q=Object.prototype;a!==q.toString&&f(q,"toString",a,{unsafe:!0})};
shadow$provide[106]=function(f,a,q,n){var u=a(32),p=a(60).f,z={}.toString,C="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];q.exports.f=function(a){if(C&&"[object Window]"==z.call(a))try{var f=p(a)}catch(k){f=C.slice()}else f=p(u(a));return f}};
shadow$provide[107]=function(f,a,q,n){n.f=a(71)};
shadow$provide[108]=function(f,a,q,n){var u=a(52),p=a(35),z=a(107),C=a(40).f;q.exports=function(a){var f=u.Symbol||(u.Symbol={});p(f,a)||C(f,a,{value:z.f(a)})}};
shadow$provide[109]=function(f,a,q,n){var u=a(40).f,p=a(35),z=a(71)("toStringTag");q.exports=function(a,f,n){a&&!p(a=n?a:a.prototype,z)&&u(a,z,{configurable:!0,value:f})}};
shadow$provide[110]=function(f,a,q,n){q=a(65);f=a(24);n=a(43);var u=a(26),p=a(70),z=a(25),C=a(35),R=a(69),w=a(33),k=a(39),e=a(68),S=a(32),fa=a(34),U=a(28),J=a(77),E=a(74),Q=a(60),G=a(106),H=a(61),ca=a(38),Y=a(40),V=a(27),ma=a(41),Ja=a(51),sa=a(44),W=a(48),F=a(49),x=a(47),N=a(71),O=a(107),Z=a(108),qa=a(109),Na=a(50),ba=a(73).forEach,ka=W("hidden");a=N("toPrimitive");var la=Na.set,pa=Na.getterFor("Symbol"),Ca=Object.prototype,Ga=f.Symbol,La=f.JSON,Ha=La&&La.stringify,Ua=ca.f,K=Y.f,Xb=G.f,Ib=V.f,kb=
sa("symbols"),Ab=sa("op-symbols"),za=sa("string-to-symbol-registry"),ra=sa("symbol-to-string-registry");sa=sa("wks");f=f.QObject;var Ka=!f||!f.prototype||!f.prototype.findChild,ha=u&&z(function(){return 7!=J(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?function(a,e,f){var x=Ua(Ca,e);x&&delete Ca[e];K(a,e,f);x&&a!==Ca&&K(Ca,e,x)}:K,oa=function(a,e){var f=kb[a]=J(Ga.prototype);la(f,{type:"Symbol",tag:a,description:e});u||(f.description=e);return f},Ra=p&&"symbol"==typeof Ga.iterator?
function(a){return"symbol"==typeof a}:function(a){return Object(a)instanceof Ga},vb=function(a,e,f){a===Ca&&vb(Ab,e,f);k(a);e=fa(e,!0);k(f);return C(kb,e)?(f.enumerable?(C(a,ka)&&a[ka][e]&&(a[ka][e]=!1),f=J(f,{enumerable:U(0,!1)})):(C(a,ka)||K(a,ka,U(1,{})),a[ka][e]=!0),ha(a,e,f)):K(a,e,f)},bc=function(a,e){k(a);var f=S(e);e=E(f).concat(Ob(f));ba(e,function(e){u&&!Ec.call(f,e)||vb(a,e,f[e])});return a},Ec=function(a){a=fa(a,!0);var e=Ib.call(this,a);return this===Ca&&C(kb,a)&&!C(Ab,a)?!1:e||!C(this,
a)||!C(kb,a)||C(this,ka)&&this[ka][a]?e:!0};f=function(a,e){a=S(a);e=fa(e,!0);if(a!==Ca||!C(kb,e)||C(Ab,e)){var f=Ua(a,e);!f||!C(kb,e)||C(a,ka)&&a[ka][e]||(f.enumerable=!0);return f}};Na=function(a){a=Xb(S(a));var e=[];ba(a,function(a){C(kb,a)||C(F,a)||e.push(a)});return e};var Ob=function(a){var e=a===Ca;a=Xb(e?Ab:S(a));var f=[];ba(a,function(a){!C(kb,a)||e&&!C(Ca,a)||f.push(kb[a])});return f};p||(Ga=function(){if(this instanceof Ga)throw TypeError("Symbol is not a constructor");var a=arguments.length&&
void 0!==arguments[0]?String(arguments[0]):void 0,e=x(a),f=function(a){this===Ca&&f.call(Ab,a);C(this,ka)&&C(this[ka],e)&&(this[ka][e]=!1);ha(this,e,U(1,a))};u&&Ka&&ha(Ca,e,{configurable:!0,set:f});return oa(e,a)},Ja(Ga.prototype,"toString",function(){return pa(this).tag}),V.f=Ec,Y.f=vb,ca.f=f,Q.f=G.f=Na,H.f=Ob,u&&(K(Ga.prototype,"description",{configurable:!0,get:function(){return pa(this).description}}),n||Ja(Ca,"propertyIsEnumerable",Ec,{unsafe:!0})),O.f=function(a){return oa(N(a),a)});q({global:!0,
wrap:!0,forced:!p,sham:!p},{Symbol:Ga});ba(E(sa),function(a){Z(a)});q({target:"Symbol",stat:!0,forced:!p},{"for":function(a){a=String(a);if(C(za,a))return za[a];var e=Ga(a);za[a]=e;ra[e]=a;return e},keyFor:function(a){if(!Ra(a))throw TypeError(a+" is not a symbol");if(C(ra,a))return ra[a]},useSetter:function(){Ka=!0},useSimple:function(){Ka=!1}});q({target:"Object",stat:!0,forced:!p,sham:!u},{create:function(a,e){return void 0===e?J(a):bc(J(a),e)},defineProperty:vb,defineProperties:bc,getOwnPropertyDescriptor:f});
q({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:Na,getOwnPropertySymbols:Ob});q({target:"Object",stat:!0,forced:z(function(){H.f(1)})},{getOwnPropertySymbols:function(a){return H.f(e(a))}});La&&q({target:"JSON",stat:!0,forced:!p||z(function(){var a=Ga();return"[null]"!=Ha([a])||"{}"!=Ha({a:a})||"{}"!=Ha(Object(a))})},{stringify:function(a){for(var e=[a],f=1,x;arguments.length>f;)e.push(arguments[f++]);x=f=e[1];if((w(f)||void 0!==a)&&!Ra(a))return R(f)||(f=function(a,e){"function"==typeof x&&
(e=x.call(this,a,e));if(!Ra(e))return e}),e[1]=f,Ha.apply(La,e)}});Ga.prototype[a]||ma(Ga.prototype,a,Ga.prototype.valueOf);qa(Ga,"Symbol");F[ka]=!0};
shadow$provide[111]=function(f,a,q,n){a(108)("asyncIterator")};
shadow$provide[112]=function(f,a,q,n){q=a(65);var u=a(26);f=a(24);var p=a(35),z=a(33);n=a(40).f;a=a(63);var C=f.Symbol;if(u&&"function"==typeof C&&!("description"in C.prototype&&void 0===C().description)){var R={},w=function(){var a=1>arguments.length||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof w?new C(a):void 0===a?C():C(a);""===a&&(R[e]=!0);return e};a(w,C);f=w.prototype=C.prototype;f.constructor=w;var k=f.toString,e="Symbol(test)"==String(C("test")),S=/^Symbol\((.*)\)[^)]+$/;
n(f,"description",{configurable:!0,get:function(){var a=z(this)?this.valueOf():this,f=k.call(a);if(p(R,a))return"";a=e?f.slice(7,-1):f.replace(S,"$1");return""===a?void 0:a}});q({global:!0,forced:!0},{Symbol:w})}};
shadow$provide[113]=function(f,a,q,n){a(108)("hasInstance")};
shadow$provide[114]=function(f,a,q,n){a(108)("isConcatSpreadable")};
shadow$provide[115]=function(f,a,q,n){a(108)("iterator")};
shadow$provide[116]=function(f,a,q,n){a(108)("match")};
shadow$provide[117]=function(f,a,q,n){a(108)("matchAll")};
shadow$provide[118]=function(f,a,q,n){a(108)("replace")};
shadow$provide[119]=function(f,a,q,n){a(108)("search")};
shadow$provide[120]=function(f,a,q,n){a(108)("species")};
shadow$provide[121]=function(f,a,q,n){a(108)("split")};
shadow$provide[122]=function(f,a,q,n){a(108)("toPrimitive")};
shadow$provide[123]=function(f,a,q,n){a(108)("toStringTag")};
shadow$provide[124]=function(f,a,q,n){a(108)("unscopables")};
shadow$provide[125]=function(f,a,q,n){a(109)(Math,"Math",!0)};
shadow$provide[126]=function(f,a,q,n){f=a(24);a(109)(f.JSON,"JSON",!0)};
shadow$provide[127]=function(f,a,q,n){a(102);a(105);a(110);a(111);a(112);a(113);a(114);a(115);a(116);a(117);a(118);a(119);a(120);a(121);a(122);a(123);a(124);a(125);a(126);f=a(52);q.exports=f.Symbol};
shadow$provide[128]=function(f,a,q,n){a(108)("dispose")};
shadow$provide[129]=function(f,a,q,n){a(108)("observable")};
shadow$provide[130]=function(f,a,q,n){a(108)("patternMatch")};
shadow$provide[131]=function(f,a,q,n){a(108)("replaceAll")};
shadow$provide[132]=function(f,a,q,n){q.exports=a(127);a(128);a(129);a(130);a(131)};
shadow$provide[133]=function(f,a,q,n){var u=a(54),p=a(31);f=function(a){return function(f,n){f=String(p(f));n=u(n);var q=f.length,k;if(0>n||n>=q)return a?"":void 0;var e=f.charCodeAt(n);return 55296>e||56319<e||n+1===q||56320>(k=f.charCodeAt(n+1))||57343<k?a?f.charAt(n):e:a?f.slice(n,n+2):(e-55296<<10)+(k-56320)+65536}};q.exports={codeAt:f(!1),charAt:f(!0)}};
shadow$provide[134]=function(f,a,q,n){f=a(25);q.exports=!f(function(){function a(){}a.prototype.constructor=null;return Object.getPrototypeOf(new a)!==a.prototype})};
shadow$provide[135]=function(f,a,q,n){var u=a(35),p=a(68);f=a(48);a=a(134);var z=f("IE_PROTO"),C=Object.prototype;q.exports=a?Object.getPrototypeOf:function(a){a=p(a);return u(a,z)?a[z]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?C:null}};
shadow$provide[136]=function(f,a,q,n){var u=a(135);f=a(41);n=a(35);var p=a(71);a=a(43);p=p("iterator");var z=!1,C=function(){return this},R;if([].keys){var w=[].keys();"next"in w?(u=u(u(w)),u!==Object.prototype&&(R=u)):z=!0}void 0==R&&(R={});a||n(R,p)||f(R,p,C);q.exports={IteratorPrototype:R,BUGGY_SAFARI_ITERATORS:z}};
shadow$provide[137]=function(f,a,q,n){q.exports={}};
shadow$provide[138]=function(f,a,q,n){var u=a(136).IteratorPrototype,p=a(77),z=a(28),C=a(109),R=a(137),w=function(){return this};q.exports=function(a,e,f){e+=" Iterator";a.prototype=p(u,{next:z(1,f)});C(a,e,!1,!0);R[e]=w;return a}};
shadow$provide[139]=function(f,a,q,n){var u=a(33);q.exports=function(a){if(!u(a)&&null!==a)throw TypeError("Can't set "+String(a)+" as a prototype");return a}};
shadow$provide[140]=function(f,a,q,n){var u=a(39),p=a(139);q.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,f={};try{var n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;n.call(f,[]);a=f instanceof Array}catch(w){}return function(f,k){u(f);p(k);a?n.call(f,k):f.__proto__=k;return f}}():void 0)};
shadow$provide[141]=function(f,a,q,n){var u=a(65),p=a(138),z=a(135),C=a(140),R=a(109),w=a(41),k=a(51);f=a(71);var e=a(43),S=a(137);a=a(136);var fa=a.IteratorPrototype,U=a.BUGGY_SAFARI_ITERATORS,J=f("iterator"),E=function(){return this};q.exports=function(a,f,n,q,Y,V,ma){p(n,f,q);q=function(a){if(a===Y&&x)return x;if(!U&&a in W)return W[a];switch(a){case "keys":return function(){return new n(this,a)};case "values":return function(){return new n(this,a)};case "entries":return function(){return new n(this,
a)}}return function(){return new n(this)}};var G=f+" Iterator",H=!1,W=a.prototype,F=W[J]||W["@@iterator"]||Y&&W[Y],x=!U&&F||q(Y),N="Array"==f?W.entries||F:F,O;N&&(a=z(N.call(new a)),fa!==Object.prototype&&a.next&&(e||z(a)===fa||(C?C(a,fa):"function"!=typeof a[J]&&w(a,J,E)),R(a,G,!0,!0),e&&(S[G]=E)));"values"==Y&&F&&"values"!==F.name&&(H=!0,x=function(){return F.call(this)});e&&!ma||W[J]===x||w(W,J,x);S[f]=x;if(Y){var Z={values:q("values"),keys:V?x:q("keys"),entries:q("entries")};if(ma)for(O in Z)!U&&
!H&&O in W||k(W,O,Z[O]);else u({target:f,proto:!0,forced:U||H},Z)}return Z}};
shadow$provide[142]=function(f,a,q,n){var u=a(133).charAt;f=a(50);a=a(141);var p=f.set,z=f.getterFor("String Iterator");a(String,"String",function(a){p(this,{type:"String Iterator",string:String(a),index:0})},function(){var a=z(this),f=a.string,n=a.index;if(n>=f.length)return{value:void 0,done:!0};f=u(f,n);a.index+=f.length;return{value:f,done:!1}})};
shadow$provide[143]=function(f,a,q,n){q.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,
TextTrackCueList:0,TextTrackList:0,TouchList:0}};
shadow$provide[144]=function(f,a,q,n){var u=a(32);f=a(78);n=a(137);var p=a(50);a=a(141);var z=p.set,C=p.getterFor("Array Iterator");q.exports=a(Array,"Array",function(a,f){z(this,{type:"Array Iterator",target:u(a),index:0,kind:f})},function(){var a=C(this),f=a.target,k=a.kind,e=a.index++;return!f||e>=f.length?(a.target=void 0,{value:void 0,done:!0}):"keys"==k?{value:e,done:!1}:"values"==k?{value:f[e],done:!1}:{value:[e,f[e]],done:!1}},"values");n.Arguments=n.Array;f("keys");f("values");f("entries")};
shadow$provide[145]=function(f,a,q,n){f=a(24);q=a(143);n=a(144);var u=a(41),p=a(71);a=p("iterator");p=p("toStringTag");var z=n.values,C;for(C in q){var R=f[C];if(R=R&&R.prototype){if(R[a]!==z)try{u(R,a,z)}catch(k){R[a]=z}R[p]||u(R,p,C);if(q[C])for(var w in n)if(R[w]!==n[w])try{u(R,w,n[w])}catch(k){R[w]=n[w]}}}};
shadow$provide[146]=function(f,a,q,n){a(115);a(142);a(145);f=a(107);q.exports=f.f("iterator")};
shadow$provide[147]=function(f,a,q,n){q.exports=a(146)};
shadow$provide[148]=function(f,a,q,n){a(22);a(23);a(82);a(85);a(89);a(95);a(99);a(132);a(147)};
shadow$provide[149]=function(f,a,q,n){var u,p,z,C,R,w,k,e,S,fa,U,J,E,Q,G,H,ca,Y,V;(function(a){function e(a,e){a!==k&&("function"===typeof Object.create?Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0);return function(f,k){return a[f]=e?e(f,k):k}}var k="object"===typeof f?f:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(f){a(e(k,e(f)))}):"object"===typeof q&&"object"===typeof q.exports?a(e(k,e(q.exports))):
a(e(k))})(function(a){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var f in e)e.hasOwnProperty(f)&&(a[f]=e[f])};u=function(a,e){function k(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(k.prototype=e.prototype,new k)};p=Object.assign||function(a){for(var e,f=1,x=arguments.length;f<x;f++){e=arguments[f];for(var k in e)Object.prototype.hasOwnProperty.call(e,k)&&(a[k]=e[k])}return a};z=function(a,e){var f={},x;for(x in a)Object.prototype.hasOwnProperty.call(a,
x)&&0>e.indexOf(x)&&(f[x]=a[x]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var k=0;for(x=Object.getOwnPropertySymbols(a);k<x.length;k++)0>e.indexOf(x[k])&&(f[x[k]]=a[x[k]])}return f};C=function(a,e,f,k){var x=arguments.length,n=3>x?e:null===k?k=Object.getOwnPropertyDescriptor(e,f):k,F;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(a,e,f,k);else for(var q=a.length-1;0<=q;q--)if(F=a[q])n=(3>x?F(n):3<x?F(e,f,n):F(e,f))||n;return 3<x&&n&&Object.defineProperty(e,
f,n),n};R=function(a,e){return function(f,k){e(f,k,a)}};w=function(a,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,e)};k=function(a,e,f,k){return new (f||(f=Promise))(function(x,n){function O(a){try{F(k.next(a))}catch(ka){n(ka)}}function N(a){try{F(k["throw"](a))}catch(ka){n(ka)}}function F(a){a.done?x(a.value):(new f(function(e){e(a.value)})).then(O,N)}F((k=k.apply(a,e||[])).next())})};e=function(a,e){function f(a){return function(e){return k([a,
e])}}function k(f){if(O)throw new TypeError("Generator is already executing.");for(;n;)try{if(O=1,q&&(p=f[0]&2?q["return"]:f[0]?q["throw"]||((p=q["return"])&&p.call(q),0):q.next)&&!(p=p.call(q,f[1])).done)return p;if(q=0,p)f=[f[0]&2,p.value];switch(f[0]){case 0:case 1:p=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++;q=f[1];f=[0];continue;case 7:f=n.ops.pop();n.trys.pop();continue;default:if(!(p=n.trys,p=0<p.length&&p[p.length-1])&&(6===f[0]||2===f[0])){n=0;continue}if(3===f[0]&&
(!p||f[1]>p[0]&&f[1]<p[3]))n.label=f[1];else if(6===f[0]&&n.label<p[1])n.label=p[1],p=f;else if(p&&n.label<p[2])n.label=p[2],n.ops.push(f);else{p[2]&&n.ops.pop();n.trys.pop();continue}}f=e.call(a,n)}catch(ka){f=[6,ka],q=0}finally{O=p=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}var n={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},O,q,p,W;return W={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(W[Symbol.iterator]=function(){return this}),
W};S=function(a,e){for(var f in a)e.hasOwnProperty(f)||(e[f]=a[f])};fa=function(a){var e="function"===typeof Symbol&&a[Symbol.iterator],f=0;return e?e.call(a):{next:function(){a&&f>=a.length&&(a=void 0);return{value:a&&a[f++],done:!a}}}};U=function(a,e){var f="function"===typeof Symbol&&a[Symbol.iterator];if(!f)return a;a=f.call(a);var k,n=[];try{for(;(void 0===e||0<e--)&&!(k=a.next()).done;)n.push(k.value)}catch(Z){var O={error:Z}}finally{try{k&&!k.done&&(f=a["return"])&&f.call(a)}finally{if(O)throw O.error;
}}return n};J=function(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(U(arguments[e]));return a};E=function(a){return this instanceof E?(this.v=a,this):new E(a)};Q=function(a,e,f){function k(a){q[a]&&(W[a]=function(e){return new Promise(function(f,k){1<u.push([a,e,f,k])||n(a,e)})})}function n(a,e){try{var f=q[a](e);f.value instanceof E?Promise.resolve(f.value.v).then(O,F):p(u[0][2],f)}catch(Ga){p(u[0][3],Ga)}}function O(a){n("next",a)}function F(a){n("throw",a)}function p(a,e){(a(e),u.shift(),
u.length)&&n(u[0][0],u[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=f.apply(a,e||[]),W,u=[];return W={},k("next"),k("throw"),k("return"),W[Symbol.asyncIterator]=function(){return this},W};G=function(a){function e(e,n){f[e]=a[e]?function(f){return(k=!k)?{value:E(a[e](f)),done:"return"===e}:n?n(f):f}:n}var f,k;return f={},e("next"),e("throw",function(a){throw a;}),e("return"),f[Symbol.iterator]=function(){return this},f};H=function(a){function e(e){n[e]=
a[e]&&function(k){return new Promise(function(n,x){k=a[e](k);f(n,x,k.done,k.value)})}}function f(a,e,f,k){Promise.resolve(k).then(function(e){a({value:e,done:f})},e)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k=a[Symbol.asyncIterator],n;return k?k.call(a):(a="function"===typeof fa?fa(a):a[Symbol.iterator](),n={},e("next"),e("throw"),e("return"),n[Symbol.asyncIterator]=function(){return this},n)};ca=function(a,e){Object.defineProperty?Object.defineProperty(a,
"raw",{value:e}):a.raw=e;return a};Y=function(a){if(a&&a.__esModule)return a;var e={};if(null!=a)for(var f in a)Object.hasOwnProperty.call(a,f)&&(e[f]=a[f]);e["default"]=a;return e};V=function(a){return a&&a.__esModule?a:{"default":a}};a("__extends",u);a("__assign",p);a("__rest",z);a("__decorate",C);a("__param",R);a("__metadata",w);a("__awaiter",k);a("__generator",e);a("__exportStar",S);a("__values",fa);a("__read",U);a("__spread",J);a("__await",E);a("__asyncGenerator",Q);a("__asyncDelegator",G);a("__asyncValues",
H);a("__makeTemplateObject",ca);a("__importStar",Y);a("__importDefault",V)})};
shadow$provide[150]=function(f,a,q,n){function u(a,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===a&&(a={});break;case Array:a=[];break;default:return e}for(var f in e)e.hasOwnProperty(f)&&(a[f]=u(a[f],e[f]));return a}function p(a,e){return a.replace(ca,function(a,f){a=e[f];return null!=a?a.toString():"\x3c"+f+"?\x3e"})}function z(a){return JSON.parse(a)}function C(a,e){if("object"!==typeof a||null===a)return!1;for(var f=0;f<
e.length;f++){var k=e[f];if(k in a&&"function"===typeof a[k])return!0}return!1}function R(){}function w(a,e,f){switch(e){case 1:e=f?"first":"First";break;case 2:e=f?"second":"Second";break;case 3:e=f?"third":"Third";break;case 4:e=f?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber \x3e 4.  Need to update it?");}return a+" failed: "+(e+" argument ")}Object.defineProperty(n,"__esModule",{value:!0});var k=a(149),e={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},
S=function(a,e){if(!a)throw fa(e);},fa=function(a){return Error("Firebase Database ("+e.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)},U=function(a){for(var e=[],f=0,k=0;k<a.length;k++){var n=a.charCodeAt(k);128>n?e[f++]=n:(2048>n?e[f++]=n>>6|192:(55296==(n&64512)&&k+1<a.length&&56320==(a.charCodeAt(k+1)&64512)?(n=65536+((n&1023)<<10)+(a.charCodeAt(++k)&1023),e[f++]=n>>18|240,e[f++]=n>>12&63|128):e[f++]=n>>12|224,e[f++]=n>>6&63|128),e[f++]=n&63|128)}return e},J={byteToCharMap_:null,charToByteMap_:null,
byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/\x3d"},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();e=e?this.byteToCharMapWebSafe_:this.byteToCharMap_;for(var f=[],k=0;k<a.length;k+=
3){var n=a[k],p=k+1<a.length,q=p?a[k+1]:0,F=k+2<a.length,u=F?a[k+2]:0,w=n>>2;n=(n&3)<<4|q>>4;q=(q&15)<<2|u>>6;u&=63;F||(u=64,p||(q=64));f.push(e[w],e[n],e[q],e[u])}return f.join("")},encodeString:function(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(U(a),e)},decodeString:function(a,e){if(this.HAS_NATIVE_SUPPORT&&!e)return atob(a);a=this.decodeStringToByteArray(a,e);e=[];for(var f=0,k=0;f<a.length;){var n=a[f++];if(128>n)e[k++]=String.fromCharCode(n);else if(191<n&&224>n){var p=
a[f++];e[k++]=String.fromCharCode((n&31)<<6|p&63)}else if(239<n&&365>n){p=a[f++];var q=a[f++],F=a[f++];n=((n&7)<<18|(p&63)<<12|(q&63)<<6|F&63)-65536;e[k++]=String.fromCharCode(55296+(n>>10));e[k++]=String.fromCharCode(56320+(n&1023))}else p=a[f++],q=a[f++],e[k++]=String.fromCharCode((n&15)<<12|(p&63)<<6|q&63)}return e.join("")},decodeStringToByteArray:function(a,e){this.init_();e=e?this.charToByteMapWebSafe_:this.charToByteMap_;for(var f=[],k=0;k<a.length;){var n=e[a.charAt(k++)],p=k<a.length?e[a.charAt(k)]:
0;++k;var q=k<a.length?e[a.charAt(k)]:64;++k;var u=k<a.length?e[a.charAt(k)]:64;++k;if(null==n||null==p||null==q||null==u)throw Error();f.push(n<<2|p>>4);64!=q&&(f.push(p<<4&240|q>>2),64!=u&&f.push(q<<6&192|u))}return f},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(var a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=
a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}},E=function(a){try{return J.decodeString(a,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};f=function(){function a(){var a=this;this.promise=new Promise(function(e,f){a.resolve=e;a.reject=f})}a.prototype.wrapCallback=
function(a){var e=this;return function(f,k){f?e.reject(f):e.resolve(k);"function"===typeof a&&(e.promise.catch(function(){}),1===a.length?a(f):a(f,k))}};return a}();var Q=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""},G=function(a){function e(f,k){k=a.call(this,k)||this;k.code=f;k.name="FirebaseError";Object.setPrototypeOf(k,e.prototype);Error.captureStackTrace&&Error.captureStackTrace(k,H.prototype.create);return k}k.__extends(e,a);
return e}(Error),H=function(){function a(a,e,f){this.service=a;this.serviceName=e;this.errors=f}a.prototype.create=function(a,e){void 0===e&&(e={});var f=this.service+"/"+a;a=(a=this.errors[a])?p(a,e):"Error";f=new G(f,this.serviceName+": "+a+" ("+f+").");a=0;for(var k=Object.keys(e);a<k.length;a++){var n=k[a];"_"!==n.slice(-1)&&(n in f&&console.warn('Overwriting FirebaseError base field "'+n+'" can cause unexpected behavior.'),f[n]=e[n])}return f};return a}(),ca=/\{\$([^}]+)}/g,Y=function(a){var e=
{},f={},k={},n="";try{var p=a.split(".");e=z(E(p[0])||"");f=z(E(p[1])||"");n=p[2];k=f.d||{};delete f.d}catch(qa){}return{header:e,claims:f,data:k,signature:n}},V=function(a,e){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&e(f,a[f])},ma=function(a,e){V(e,function(e,f){a[e]=f});return a},Ja=function(a,e,f){for(var k in a)if(e.call(f,a[k],k,a))return k};a=function(){function a(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.total_=this.inbuf_=0;this.blockSize=64;this.pad_[0]=128;
for(var a=1;a<this.blockSize;++a)this.pad_[a]=0;this.reset()}a.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.total_=this.inbuf_=0};a.prototype.compress_=function(a,e){e||(e=0);var f=this.W_;if("string"===typeof a)for(var k=0;16>k;k++)f[k]=a.charCodeAt(e)<<24|a.charCodeAt(e+1)<<16|a.charCodeAt(e+2)<<8|a.charCodeAt(e+3),e+=4;else for(k=0;16>k;k++)f[k]=a[e]<<24|a[e+1]<<16|a[e+2]<<8|a[e+
3],e+=4;for(k=16;80>k;k++){var n=f[k-3]^f[k-8]^f[k-14]^f[k-16];f[k]=(n<<1|n>>>31)&4294967295}a=this.chain_[0];e=this.chain_[1];var x=this.chain_[2],p=this.chain_[3],q=this.chain_[4];for(k=0;80>k;k++){if(40>k)if(20>k){n=p^e&(x^p);var u=1518500249}else n=e^x^p,u=1859775393;else 60>k?(n=e&x|p&(e|x),u=2400959708):(n=e^x^p,u=3395469782);n=(a<<5|a>>>27)+n+q+u+f[k]&4294967295;q=p;p=x;x=(e<<30|e>>>2)&4294967295;e=a;a=n}this.chain_[0]=this.chain_[0]+a&4294967295;this.chain_[1]=this.chain_[1]+e&4294967295;
this.chain_[2]=this.chain_[2]+x&4294967295;this.chain_[3]=this.chain_[3]+p&4294967295;this.chain_[4]=this.chain_[4]+q&4294967295};a.prototype.update=function(a,e){if(null!=a){void 0===e&&(e=a.length);for(var f=e-this.blockSize,k=0,n=this.buf_,x=this.inbuf_;k<e;){if(0==x)for(;k<=f;)this.compress_(a,k),k+=this.blockSize;if("string"===typeof a)for(;k<e;){if(n[x]=a.charCodeAt(k),++x,++k,x==this.blockSize){this.compress_(n);x=0;break}}else for(;k<e;)if(n[x]=a[k],++x,++k,x==this.blockSize){this.compress_(n);
x=0;break}}this.inbuf_=x;this.total_+=e}};a.prototype.digest=function(){var a=[],e=8*this.total_;56>this.inbuf_?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var f=this.blockSize-1;56<=f;f--)this.buf_[f]=e&255,e/=256;this.compress_(this.buf_);for(f=e=0;5>f;f++)for(var k=24;0<=k;k-=8)a[e]=this.chain_[f]>>k&255,++e;return a};return a}();var sa=function(){function a(a,e){var f=this;this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=
Promise.resolve();this.finalized=!1;this.onNoObservers=e;this.task.then(function(){a(f)}).catch(function(a){f.error(a)})}a.prototype.next=function(a){this.forEachObserver(function(e){e.next(a)})};a.prototype.error=function(a){this.forEachObserver(function(e){e.error(a)});this.close(a)};a.prototype.complete=function(){this.forEachObserver(function(a){a.complete()});this.close()};a.prototype.subscribe=function(a,e,f){var k=this;if(void 0===a&&void 0===e&&void 0===f)throw Error("Missing Observer.");
var n=C(a,["next","error","complete"])?a:{next:a,error:e,complete:f};void 0===n.next&&(n.next=R);void 0===n.error&&(n.error=R);void 0===n.complete&&(n.complete=R);a=this.unsubscribeOne.bind(this,this.observers.length);this.finalized&&this.task.then(function(){try{k.finalError?n.error(k.finalError):n.complete()}catch(qa){}});this.observers.push(n);return a};a.prototype.unsubscribeOne=function(a){if(void 0!==this.observers&&void 0!==this.observers[a]&&(delete this.observers[a],--this.observerCount,
0===this.observerCount&&void 0!==this.onNoObservers))this.onNoObservers(this)};a.prototype.forEachObserver=function(a){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,a)};a.prototype.sendOne=function(a,e){var f=this;this.task.then(function(){if(void 0!==f.observers&&void 0!==f.observers[a])try{e(f.observers[a])}catch(O){"undefined"!==typeof console&&console.error&&console.error(O)}})};a.prototype.close=function(a){var e=this;this.finalized||(this.finalized=!0,void 0!==a&&
(this.finalError=a),this.task.then(function(){e.observers=void 0;e.onNoObservers=void 0}))};return a}();n.CONSTANTS=e;n.Deferred=f;n.ErrorFactory=H;n.FirebaseError=G;n.Sha1=a;n.assert=S;n.assertionError=fa;n.async=function(a,e){return function(){for(var f=[],k=0;k<arguments.length;k++)f[k]=arguments[k];Promise.resolve(!0).then(function(){a.apply(void 0,f)}).catch(function(a){e&&e(a)})}};n.base64=J;n.base64Decode=E;n.base64Encode=function(a){a=U(a);return J.encodeByteArray(a,!0)};n.clone=function(a){return ma({},
a)};n.contains=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)};n.createSubscribe=function(a,e){a=new sa(a,e);return a.subscribe.bind(a)};n.decode=Y;n.deepCopy=function(a){return u(void 0,a)};n.deepExtend=u;n.errorPrefix=w;n.every=function(a,e){for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&!e(f,a[f]))return!1;return!0};n.extend=ma;n.findKey=Ja;n.findValue=function(a,e,f){return(e=Ja(a,e,f))&&a[e]};n.forEach=V;n.getAnyKey=function(a){for(var e in a)return e};n.getCount=
function(a){var e=0,f;for(f in a)e++;return e};n.getUA=Q;n.getValues=function(a){var e=[],f=0,k;for(k in a)e[f++]=a[k];return e};n.isAdmin=function(a){a=Y(a).claims;return"object"===typeof a&&!0===a.admin};n.isEmpty=function(a){for(var e in a)return!1;return!0};n.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())};n.isNodeSdk=function(){return!0===e.NODE_CLIENT||!0===e.NODE_ADMIN};
n.isNonNullObject=function(a){return"object"===typeof a&&null!==a};n.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product};n.isValidFormat=function(a){a=Y(a).claims;return!!a&&"object"===typeof a&&a.hasOwnProperty("iat")};n.isValidTimestamp=function(a){a=Y(a).claims;var e=Math.floor((new Date).getTime()/1E3),f;if("object"===typeof a){a.hasOwnProperty("nbf")?f=a.nbf:a.hasOwnProperty("iat")&&(f=a.iat);var k=a.hasOwnProperty("exp")?a.exp:f+86400}return e&&f&&
k&&e>=f&&e<=k};n.issuedAtTime=function(a){a=Y(a).claims;return"object"===typeof a&&a.hasOwnProperty("iat")?a.iat:null};n.jsonEval=z;n.map=function(a,e,f){var k={},n;for(n in a)k[n]=e.call(f,a[n],n,a);return k};n.patchProperty=function(a,e,f){a[e]=f};n.querystring=function(a){var e=[];V(a,function(a,f){Array.isArray(f)?f.forEach(function(f){e.push(encodeURIComponent(a)+"\x3d"+encodeURIComponent(f))}):e.push(encodeURIComponent(a)+"\x3d"+encodeURIComponent(f))});return e.length?"\x26"+e.join("\x26"):
""};n.querystringDecode=function(a){var e={};a.replace(/^\?/,"").split("\x26").forEach(function(a){a&&(a=a.split("\x3d"),e[a[0]]=a[1])});return e};n.safeGet=function(a,e){if(Object.prototype.hasOwnProperty.call(a,e))return a[e]};n.stringLength=function(a){for(var e=0,f=0;f<a.length;f++){var k=a.charCodeAt(f);128>k?e++:2048>k?e+=2:55296<=k&&56319>=k?(e+=4,f++):e+=3}return e};n.stringToByteArray=function(a){for(var e=[],f=0,k=0;k<a.length;k++){var n=a.charCodeAt(k);if(55296<=n&&56319>=n){n-=55296;k++;
S(k<a.length,"Surrogate pair missing trail surrogate.");var p=a.charCodeAt(k)-56320;n=65536+(n<<10)+p}128>n?e[f++]=n:(2048>n?e[f++]=n>>6|192:(65536>n?e[f++]=n>>12|224:(e[f++]=n>>18|240,e[f++]=n>>12&63|128),e[f++]=n>>6&63|128),e[f++]=n&63|128)}return e};n.stringify=function(a){return JSON.stringify(a)};n.validateArgCount=function(a,e,f,k){var n;k<e?n="at least "+e:k>f&&(n=0===f?"none":"no more than "+f);if(n)throw Error(a+" failed: Was called with "+k+(1===k?" argument.":" arguments.")+" Expects "+
n+".");};n.validateCallback=function(a,e,f,k){if((!k||f)&&"function"!==typeof f)throw Error(w(a,e,k)+"must be a valid function.");};n.validateContextObject=function(a,e,f,k){if(!k||f)if("object"!==typeof f||null===f)throw Error(w(a,e,k)+"must be a valid context object.");};n.validateNamespace=function(a,e,f,k){if((!k||f)&&"string"!==typeof f)throw Error(w(a,e,k)+"must be a valid firebase namespace.");}};
shadow$provide[151]=function(f,a,q,n){function u(a,e){throw k.create(a,e);}function p(a){function e(a){a=a||"[DEFAULT]";Object.prototype.hasOwnProperty.call(p,a)||u("no-app",{name:a});return p[a]}function f(){return Object.keys(p).map(function(a){return p[a]})}function k(a,e){for(var f=0,k=Object.keys(q);f<k.length;f++){var p=n(a,k[f]);if(null===p)break;if(w[p])w[p](e,a)}}function n(a,e){return"serverAuth"===e?null:e}var p={},q={},w={},z={__esModule:!0,initializeApp:function(e,f){void 0===f&&(f={});
if("object"!==typeof f||null===f)f={name:f};var n=f;void 0===n.name&&(n.name="[DEFAULT]");f=n.name;"string"===typeof f&&f||u("bad-app-name",{name:String(f)});Object.prototype.hasOwnProperty.call(p,f)&&u("duplicate-app",{name:f});e=new a(e,n,z);p[f]=e;k(e,"create");return e},app:e,apps:null,Promise:Promise,SDK_VERSION:"5.11.0",INTERNAL:{registerService:function(k,n,p,E,G){function C(a){void 0===a&&(a=e());"function"!==typeof a[k]&&u("invalid-app-argument",{name:k});return a[k]()}void 0===G&&(G=!1);
q[k]&&u("duplicate-service",{name:k});q[k]=n;E&&(w[k]=E,f().forEach(function(a){E("create",a)}));void 0!==p&&R.deepExtend(C,p);z[k]=C;a.prototype[k]=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return this._getService.bind(this,k).apply(this,G?a:[])};return C},removeApp:function(a){k(p[a],"delete");delete p[a]},factories:q,useAsService:n}};R.patchProperty(z,"default",z);Object.defineProperty(z,"apps",{get:f});R.patchProperty(e,"App",a);return z}function z(){var a=p(S);a.INTERNAL=
C.__assign({},a.INTERNAL,{createFirebaseNamespace:z,extendNamespace:function(e){R.deepExtend(a,e)},createSubscribe:R.createSubscribe,ErrorFactory:R.ErrorFactory,deepExtend:R.deepExtend});return a}Object.defineProperty(n,"__esModule",{value:!0});var C=a(149),R=a(150),w;a=(w={},w["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",w["bad-app-name"]="Illegal App name: '{$name}",w["duplicate-app"]="Firebase App named '{$name}' already exists",w["app-deleted"]="Firebase App named '{$name}' already deleted",
w["duplicate-service"]="Firebase service named '{$name}' already registered",w["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",w);var k=new R.ErrorFactory("app","Firebase",a),e=[],S=function(){function a(a,f,k){this.firebase_=k;this.isDeleted_=!1;this.services_={};this.name_=f.name;this.automaticDataCollectionEnabled_=f.automaticDataCollectionEnabled||!1;this.options_=R.deepCopy(a);this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},
addAuthTokenListener:function(a){e.push(a);setTimeout(function(){return a(null)},0)},removeAuthTokenListener:function(a){e=e.filter(function(e){return e!==a})}}}Object.defineProperty(a.prototype,"automaticDataCollectionEnabled",{get:function(){this.checkDestroyed_();return this.automaticDataCollectionEnabled_},set:function(a){this.checkDestroyed_();this.automaticDataCollectionEnabled_=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"name",{get:function(){this.checkDestroyed_();
return this.name_},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"options",{get:function(){this.checkDestroyed_();return this.options_},enumerable:!0,configurable:!0});a.prototype.delete=function(){var a=this;return(new Promise(function(e){a.checkDestroyed_();e()})).then(function(){a.firebase_.INTERNAL.removeApp(a.name_);for(var e=[],f=0,k=Object.keys(a.services_);f<k.length;f++)for(var n=k[f],p=0,q=Object.keys(a.services_[n]);p<q.length;p++)e.push(a.services_[n][q[p]]);return Promise.all(e.map(function(a){return a.INTERNAL.delete()}))}).then(function(){a.isDeleted_=
!0;a.services_={}})};a.prototype._getService=function(a,e){void 0===e&&(e="[DEFAULT]");this.checkDestroyed_();this.services_[a]||(this.services_[a]={});if(!this.services_[a][e]){var f="[DEFAULT]"!==e?e:void 0;f=this.firebase_.INTERNAL.factories[a](this,this.extendApp.bind(this),f);this.services_[a][e]=f}return this.services_[a][e]};a.prototype.extendApp=function(a){var f=this;R.deepExtend(this,a);a.INTERNAL&&a.INTERNAL.addAuthTokenListener&&(e.forEach(function(a){f.INTERNAL.addAuthTokenListener(a)}),
e=[])};a.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})};return a}();S.prototype.name&&S.prototype.options||S.prototype.delete||console.log("dc");w=!1;try{w="[object process]"===Object.prototype.toString.call(f.process)}catch(fa){}w&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');
self&&"firebase"in self&&(console.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(f=self.firebase.SDK_VERSION)&&0<=f.indexOf("LITE")&&console.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));f=z();n.default=f;n.firebase=f};
shadow$provide[152]=function(f,a,q,n){(function(){function f(b){return"string"==typeof b}function n(b){return"boolean"==typeof b}function q(){}function C(b){var d=typeof b;if("object"==d)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return d;var c=Object.prototype.toString.call(b);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==d&&"undefined"==typeof b.call)return"object";return d}function R(b){return null===b}function w(b){return"array"==C(b)}function k(b){var d=C(b);return"array"==d||"object"==d&&"number"==typeof b.length}function e(b){return"function"==C(b)}function S(b){var d=typeof b;return"object"==d&&null!=b||"function"==d}function fa(b,
d,c){return b.call.apply(b.bind,arguments)}function U(b,d,c){if(!b)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,A);return b.apply(d,c)}}return function(){return b.apply(d,arguments)}}function J(b,d,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?J=fa:J=U;return J.apply(null,arguments)}function E(b,d){var c=Array.prototype.slice.call(arguments,
1);return function(){var d=c.slice();d.push.apply(d,arguments);return b.apply(this,d)}}function Q(b,d){function c(){}c.prototype=d.prototype;b.pb=d.prototype;b.prototype=new c;b.prototype.constructor=b;b.gd=function(b,c,A){for(var g=Array(arguments.length-2),l=2;l<arguments.length;l++)g[l-2]=arguments[l];return d.prototype[c].apply(b,g)}}function G(b){if(!b)return!1;try{return!!b.$goog_Thenable}catch(Qc){return!1}}function H(b){if(Error.captureStackTrace)Error.captureStackTrace(this,H);else{var d=
Error().stack;d&&(this.stack=d)}b&&(this.message=String(b))}function ca(b,d){b=b.split("%s");for(var c="",A=b.length-1,g=0;g<A;g++)c+=b[g]+(g<d.length?d[g]:"%s");H.call(this,c+b[A])}function Y(b,d){throw new ca("Failure"+(b?": "+b:""),Array.prototype.slice.call(arguments,1));}function V(b,d){this.c=b;this.f=d;this.b=0;this.a=null}function ma(b,d){b.f(d);100>b.b&&(b.b++,d.next=b.a,b.a=d)}function Ja(){this.b=this.a=null}function sa(){var b=uk,d=null;b.a&&(d=b.a,b.a=b.a.next,b.a||(b.b=null),d.next=
null);return d}function W(){this.next=this.b=this.a=null}function F(b,d){for(var c=f(b)?b.split(""):b,A=b.length-1;0<=A;--A)A in c&&d.call(void 0,c[A],A,b)}function x(b){a:{for(var d=dc,c=b.length,A=f(b)?b.split(""):b,g=0;g<c;g++)if(g in A&&d.call(void 0,A[g],g,b)){d=g;break a}d=-1}return 0>d?null:f(b)?b.charAt(d):b[d]}function N(b,d){return 0<=vk(b,d)}function O(b,d){d=vk(b,d);var c;(c=0<=d)&&Array.prototype.splice.call(b,d,1);return c}function Z(b,d){var c=0;F(b,function(A,g){d.call(void 0,A,g,
b)&&1==Array.prototype.splice.call(b,g,1).length&&c++})}function qa(b){return Array.prototype.concat.apply([],arguments)}function Na(b){var d=b.length;if(0<d){for(var c=Array(d),A=0;A<d;A++)c[A]=b[A];return c}return[]}function ba(b,d){return-1!=b.indexOf(d)}function ka(b,d){return b<d?-1:b>d?1:0}function la(b){return ba(Si,b)}function pa(b,d){for(var c in b)d.call(void 0,b[c],c,b)}function Ca(b){for(var d in b)return!1;return!0}function Ga(b){var d={},c;for(c in b)d[c]=b[c];return d}function La(b,
d){for(var c,A,g=1;g<arguments.length;g++){A=arguments[g];for(c in A)b[c]=A[c];for(var l=0;l<wk.length;l++)c=wk[l],Object.prototype.hasOwnProperty.call(A,c)&&(b[c]=A[c])}}function Ha(b,d){for(var c=b.split("%s"),A="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)A+=c.shift()+g.shift();return A+c.join("%s")}function Ua(b){zl.test(b)&&(-1!=b.indexOf("\x26")&&(b=b.replace(Al,"\x26amp;")),-1!=b.indexOf("\x3c")&&(b=b.replace(Bl,"\x26lt;")),-1!=b.indexOf("\x3e")&&(b=b.replace(Cl,"\x26gt;")),
-1!=b.indexOf('"')&&(b=b.replace(Dl,"\x26quot;")),-1!=b.indexOf("'")&&(b=b.replace(El,"\x26#39;")),-1!=b.indexOf("\x00")&&(b=b.replace(Fl,"\x26#0;")));return b}function K(b){T.setTimeout(function(){throw b;},0)}function Xb(){var b=T.MessageChannel;"undefined"===typeof b&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!la("Presto")&&(b=function(){var b=document.createElement("IFRAME");b.style.display="none";b.src="";document.documentElement.appendChild(b);var d=b.contentWindow;
b=d.document;b.open();b.write("");b.close();var c="callImmediate"+Math.random(),A="file:"==d.location.protocol?"*":d.location.protocol+"//"+d.location.host;b=J(function(b){if(("*"==A||b.origin==A)&&b.data==c)this.port1.onmessage()},this);d.addEventListener("message",b,!1);this.port1={};this.port2={postMessage:function(){d.postMessage(c,A)}}});if("undefined"!==typeof b&&!la("Trident")&&!la("MSIE")){var d=new b,c={},g=c;d.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var b=c.xb;c.xb=null;
b()}};return function(b){g.next={xb:b};g=g.next;d.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(b){var d=document.createElement("SCRIPT");d.onreadystatechange=function(){d.onreadystatechange=null;d.parentNode.removeChild(d);d=null;b();b=null};document.documentElement.appendChild(d)}:function(b){T.setTimeout(b,0)}}function Ib(b,d){mj||kb();Ij||(mj(),Ij=!0);uk.add(b,d)}function kb(){if(T.Promise&&T.Promise.resolve){var b=
T.Promise.resolve(void 0);mj=function(){b.then(Ab)}}else mj=function(){var b=Ab;!e(T.setImmediate)||T.Window&&T.Window.prototype&&!la("Edge")&&T.Window.prototype.setImmediate==T.setImmediate?(Jj||(Jj=Xb()),Jj(b)):T.setImmediate(b)}}function Ab(){for(var b;b=sa();){try{b.a.call(b.b)}catch(Qc){K(Qc)}ma(xk,b)}Ij=!1}function za(b,d){this.a=Oh;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(b!=q)try{var c=this;b.call(d,function(b){Eb(c,Ui,b)},function(b){if(!(b instanceof Pb))try{if(b instanceof
Error)throw b;throw Error("Promise rejected.");}catch(pi){}Eb(c,Ng,b)})}catch(mg){Eb(this,Ng,mg)}}function ra(){this.next=this.f=this.b=this.g=this.a=null;this.c=!1}function Ka(b,d,c){var A=yk.get();A.g=b;A.b=d;A.f=c;return A}function ha(b){if(b instanceof za)return b;var d=new za(q);Eb(d,Ui,b);return d}function oa(b){return new za(function(d,c){c(b)})}function Ra(b,d,c){Pa(b,d,c,null)||Ib(E(d,b))}function vb(b){return new za(function(d,c){var A=b.length,g=[];if(A)for(var l=function(b,c){A--;g[b]=
c;0==A&&d(g)},a=function(b){c(b)},h=0,Qc;h<b.length;h++)Qc=b[h],Ra(Qc,E(l,h),a);else d(g)})}function bc(b){return new za(function(d){var c=b.length,A=[];if(c)for(var g=function(b,g,l){c--;A[b]=g?{Eb:!0,value:l}:{Eb:!1,reason:l};0==c&&d(A)},l=0,a;l<b.length;l++)a=b[l],Ra(a,E(g,l,!0),E(g,l,!1));else d(A)})}function Ec(b,d){if(b.a==Oh)if(b.c){var c=b.c;if(c.b){for(var A=0,g=null,l=null,a=c.b;a&&(a.c||(A++,a.a==b&&(g=a),!(g&&1<A)));a=a.next)g||(l=a);g&&(c.a==Oh&&1==A?Ec(c,d):(l?(A=l,A.next==c.f&&(c.f=
A),A.next=A.next.next):nc(c),Sa(c,g,Ng,d)))}b.c=null}else Eb(b,Ng,d)}function Ob(b,d){b.b||b.a!=Ui&&b.a!=Ng||b.h||(b.h=!0,Ib(b.Yb,b));b.f?b.f.next=d:b.b=d;b.f=d}function sd(b,d,c,g){var A=Ka(null,null,null);A.a=new za(function(b,l){A.g=d?function(c){try{var A=d.call(g,c);b(A)}catch(nj){l(nj)}}:b;A.b=c?function(d){try{var A=c.call(g,d);void 0===A&&d instanceof Pb?l(d):b(A)}catch(nj){l(nj)}}:l});A.a.c=b;Ob(b,A);return A.a}function Eb(b,d,c){b.a==Oh&&(b===c&&(d=Ng,c=new TypeError("Promise cannot resolve to itself")),
b.a=1,Pa(c,b.Pc,b.Qc,b)||(b.i=c,b.a=d,b.c=null,b.h||(b.h=!0,Ib(b.Yb,b)),d!=Ng||c instanceof Pb||ja(b,c)))}function Pa(b,d,c,g){if(b instanceof za)return Ob(b,Ka(d||q,c||null,g)),!0;if(G(b))return b.then(d,c,g),!0;if(S(b))try{var A=b.then;if(e(A))return cc(b,A,d,c,g),!0}catch(lj){return c.call(g,lj),!0}return!1}function cc(b,d,c,g,l){function A(b){h||(h=!0,g.call(l,b))}function a(b){h||(h=!0,c.call(l,b))}var h=!1;try{d.call(b,a,A)}catch(Ti){A(Ti)}}function nc(b){var d=null;b.b&&(d=b.b,b.b=d.next,d.next=
null);b.b||(b.f=null);return d}function Sa(b,d,c,g){if(c==Ng&&d.b&&!d.c)for(;b&&b.g;b=b.c)b.g=!1;if(d.a)d.a.c=null,Ya(d,c,g);else try{d.c?d.g.call(d.f):Ya(d,c,g)}catch(pi){zk.call(null,pi)}ma(yk,d)}function Ya(b,d,c){d==Ui?b.g.call(b.f,c):b.b&&b.b.call(b.f,c)}function ja(b,d){b.g=!0;Ib(function(){b.g&&zk.call(null,d)})}function Pb(b){H.call(this,b)}function Yb(){0!=Kj&&(Ak[this[oj]||(this[oj]=++Bk)]=this);this.qa=this.qa;this.ja=this.ja}function Rc(b){if(!b.qa&&(b.qa=!0,b.va(),0!=Kj)){var d=b[oj]||
(b[oj]=++Bk);if(0!=Kj&&b.ja&&0<b.ja.length)throw Error(b+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ak[d]}}function ua(b){ua[" "](b);return b}function Fa(b,d){var c=Gl;return Object.prototype.hasOwnProperty.call(c,b)?c[b]:c[b]=d(b)}function Sc(){var b=T.document;return b?b.documentMode:void 0}function Tc(b){return Fa(b,function(){for(var d=0,c=Ck(String(Lj)).split("."),A=Ck(String(b)).split("."),
g=Math.max(c.length,A.length),l=0;0==d&&l<g;l++){var a=c[l]||"",h=A[l]||"";do{a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==a[0].length&&0==h[0].length)break;d=ka(0==a[1].length?0:parseInt(a[1],10),0==h[1].length?0:parseInt(h[1],10))||ka(0==a[2].length,0==h[2].length)||ka(a[2],h[2]);a=a[3];h=h[3]}while(0==d)}return 0<=d})}function rb(b,d){this.type=b;this.b=this.target=d;this.Kb=!0}function qb(b,d){rb.call(this,b?b.type:"");this.relatedTarget=this.b=this.target=
null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.a=null;if(b){var c=this.type=b.type,A=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement;this.b=d;if(d=b.relatedTarget){if(Dk){a:{try{ua(d.nodeName);c=!0;break a}catch(pi){}c=!1}c||(d=null)}}else"mouseover"==c?d=b.fromElement:"mouseout"==c&&(d=b.toElement);this.relatedTarget=
d;A?(this.clientX=void 0!==A.clientX?A.clientX:A.pageX,this.clientY=void 0!==A.clientY?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=void 0!==b.clientX?b.clientX:b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0);this.button=b.button;this.key=b.key||"";this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.pointerId=b.pointerId||0;this.pointerType=f(b.pointerType)?
b.pointerType:Hl[b.pointerType]||"";this.a=b;b.defaultPrevented&&this.preventDefault()}}function Aa(b,d,c,g,l){this.listener=b;this.proxy=null;this.src=d;this.type=c;this.capture=!!g;this.Ma=l;this.key=++Il;this.oa=this.Ia=!1}function Fc(b){b.oa=!0;b.listener=null;b.proxy=null;b.src=null;b.Ma=null}function Za(b){this.src=b;this.a={};this.b=0}function Gd(b,d){var c=d.type;c in b.a&&O(b.a[c],d)&&(Fc(d),0==b.a[c].length&&(delete b.a[c],b.b--))}function lb(b,d,c,g){for(var A=0;A<b.length;++A){var l=b[A];
if(!l.oa&&l.listener==d&&l.capture==!!c&&l.Ma==g)return A}return-1}function Jb(b,d,c,g,l){if(g&&g.once)uc(b,d,c,g,l);else if(w(d))for(var A=0;A<d.length;A++)Jb(b,d[A],c,g,l);else c=Va(c),b&&b[Vi]?r(b,d,c,S(g)?!!g.capture:!!g,l):Uc(b,d,c,!1,g,l)}function Uc(b,d,c,g,l,a){if(!d)throw Error("Invalid event type");var A=S(l)?!!l.capture:!!l,h=hd(b);h||(b[Mj]=h=new Za(b));c=h.add(d,c,g,A,a);if(!c.proxy){g=oc();c.proxy=g;g.src=b;g.listener=c;if(b.addEventListener)Jl||(l=A),void 0===l&&(l=!1),b.addEventListener(d.toString(),
g,l);else if(b.attachEvent)b.attachEvent(Zb(d.toString()),g);else if(b.addListener&&b.removeListener)b.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");Ek++}}function oc(){var b=Ic,d=Fk?function(c){return b.call(d.src,d.listener,c)}:function(c){c=b.call(d.src,d.listener,c);if(!c)return c};return d}function uc(b,d,c,g,l){if(w(d))for(var A=0;A<d.length;A++)uc(b,d[A],c,g,l);else c=Va(c),b&&b[Vi]?$b(b,d,c,S(g)?!!g.capture:!!g,l):Uc(b,d,c,!0,g,l)}function $a(b,d,c,g,
l){if(w(d))for(var A=0;A<d.length;A++)$a(b,d[A],c,g,l);else(g=S(g)?!!g.capture:!!g,c=Va(c),b&&b[Vi])?(b=b.o,d=String(d).toString(),d in b.a&&(A=b.a[d],c=lb(A,c,g,l),-1<c&&(Fc(A[c]),Array.prototype.splice.call(A,c,1),0==A.length&&(delete b.a[d],b.b--)))):b&&(b=hd(b))&&(d=b.a[d.toString()],b=-1,d&&(b=lb(d,c,g,l)),(c=-1<b?d[b]:null)&&Gc(c))}function Gc(b){if("number"!=typeof b&&b&&!b.oa){var d=b.src;if(d&&d[Vi])Gd(d.o,b);else{var c=b.type,A=b.proxy;d.removeEventListener?d.removeEventListener(c,A,b.capture):
d.detachEvent?d.detachEvent(Zb(c),A):d.addListener&&d.removeListener&&d.removeListener(A);Ek--;(c=hd(d))?(Gd(c,b),0==c.b&&(c.src=null,d[Mj]=null)):Fc(b)}}}function Zb(b){return b in Nj?Nj[b]:Nj[b]="on"+b}function ya(b,d,c,g){var A=!0;if(b=hd(b))if(d=b.a[d.toString()])for(d=d.concat(),b=0;b<d.length;b++){var l=d[b];l&&l.capture==c&&!l.oa&&(l=Hc(l,g),A=A&&!1!==l)}return A}function Hc(b,d){var c=b.listener,g=b.Ma||b.src;b.Ia&&Gc(b);return c.call(g,d)}function Ic(b,d){if(b.oa)return!0;if(!Fk){if(!d)a:{d=
["window","event"];for(var c=T,g=0;g<d.length;g++)if(c=c[d[g]],null==c){d=null;break a}d=c}g=d;d=new qb(g,this);c=!0;if(!(0>g.keyCode||void 0!=g.returnValue)){a:{var A=!1;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(Mg){A=!0}if(A||void 0==g.returnValue)g.returnValue=!0}g=[];for(A=d.b;A;A=A.parentNode)g.push(A);b=b.type;for(A=g.length-1;0<=A;A--){d.b=g[A];var l=ya(g[A],b,!0,d);c=c&&l}for(A=0;A<g.length;A++)d.b=g[A],l=ya(g[A],b,!1,d),c=c&&l}return c}return Hc(b,new qb(d,this))}function hd(b){b=b[Mj];
return b instanceof Za?b:null}function Va(b){if(e(b))return b;b[Oj]||(b[Oj]=function(d){return b.handleEvent(d)});return b[Oj]}function Ea(){Yb.call(this);this.o=new Za(this);this.Rb=this;this.Wa=null}function r(b,d,c,g,l){b.o.add(String(d),c,!1,g,l)}function $b(b,d,c,g,l){b.o.add(String(d),c,!0,g,l)}function id(b,d,c,g){d=b.o.a[String(d)];if(!d)return!0;d=d.concat();for(var A=!0,l=0;l<d.length;++l){var a=d[l];if(a&&!a.oa&&a.capture==c){var h=a.listener,Qc=a.Ma||a.src;a.Ia&&Gd(b.o,a);A=!1!==h.call(Qc,
g)&&A}}return A&&0!=g.Kb}function Vc(b,d,c){if(e(b))c&&(b=J(b,c));else if(b&&"function"==typeof b.handleEvent)b=J(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:T.setTimeout(b,d||0)}function ab(b){var d=null;return(new za(function(c,g){d=Vc(function(){c(void 0)},b);-1==d&&g(Error("Failed to schedule timer."))})).s(function(b){T.clearTimeout(d);throw b;})}function wb(b){if(b.S&&"function"==typeof b.S)return b.S();if(f(b))return b.split("");if(k(b)){for(var d=
[],c=b.length,g=0;g<c;g++)d.push(b[g]);return d}d=[];c=0;for(g in b)d[c++]=b[g];return d}function Bb(b){if(b.U&&"function"==typeof b.U)return b.U();if(!b.S||"function"!=typeof b.S){if(k(b)||f(b)){var d=[];b=b.length;for(var c=0;c<b;c++)d.push(c);return d}d=[];c=0;for(var g in b)d[c++]=g;return d}}function D(b,d){if(b.forEach&&"function"==typeof b.forEach)b.forEach(d,void 0);else if(k(b)||f(b))gd(b,d,void 0);else for(var c=Bb(b),g=wb(b),A=g.length,l=0;l<A;l++)d.call(void 0,g[l],c&&c[l],b)}function M(b,
d){this.b={};this.a=[];this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var g=0;g<c;g+=2)this.set(arguments[g],arguments[g+1])}else if(b)if(b instanceof M)for(c=b.U(),g=0;g<c.length;g++)this.set(c[g],b.get(c[g]));else for(g in b)this.set(g,b[g])}function td(b){if(b.c!=b.a.length){for(var d=0,c=0;d<b.a.length;){var g=b.a[d];pc(b.b,g)&&(b.a[c++]=g);d++}b.a.length=c}if(b.c!=b.a.length){var A={};for(c=d=0;d<b.a.length;)g=b.a[d],pc(A,g)||(b.a[c++]=g,A[g]=1),
d++;b.a.length=c}}function pc(b,d){return Object.prototype.hasOwnProperty.call(b,d)}function jd(b,d){if(b){b=b.split("\x26");for(var c=0;c<b.length;c++){var g=b[c].indexOf("\x3d"),A=null;if(0<=g){var l=b[c].substring(0,g);A=b[c].substring(g+1)}else l=b[c];d(l,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Ia(b,d){this.b=this.o=this.c="";this.i=null;this.h=this.g="";this.f=!1;if(b instanceof Ia){this.f=void 0!==d?d:b.f;bb(this,b.c);this.o=b.o;this.b=b.b;ud(this,b.i);this.g=b.g;d=b.a;var c=
new cb;c.c=d.c;d.a&&(c.a=new M(d.a),c.b=d.b);Xd(this,c);this.h=b.h}else b&&(c=String(b).match(Gk))?(this.f=!!d,bb(this,c[1]||"",!0),this.o=ia(c[2]||""),this.b=ia(c[3]||"",!0),ud(this,c[4]),this.g=ia(c[5]||"",!0),Xd(this,c[6]||"",!0),this.h=ia(c[7]||"")):(this.f=!!d,this.a=new cb(null,this.f))}function bb(b,d,c){b.c=c?ia(d,!0):d;b.c&&(b.c=b.c.replace(/:$/,""))}function ud(b,d){if(d){d=Number(d);if(isNaN(d)||0>d)throw Error("Bad port number "+d);b.i=d}else b.i=null}function Xd(b,d,c){d instanceof cb?
(b.a=d,Yd(b.a,b.f)):(c||(d=Qb(d,Kl)),b.a=new cb(d,b.f))}function Qa(b,d,c){b.a.set(d,c)}function Oa(b,d){return b.a.get(d)}function ac(b){return b instanceof Ia?new Ia(b):new Ia(b,void 0)}function xb(b,d){var c=new Ia(null,void 0);bb(c,"https");b&&(c.b=b);d&&(c.g=d);return c}function ia(b,d){return b?d?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Qb(b,d,c){return f(b)?(b=encodeURI(b).replace(d,da),c&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function da(b){b=b.charCodeAt(0);
return"%"+(b>>4&15).toString(16)+(b&15).toString(16)}function cb(b,d){this.b=this.a=null;this.c=b||null;this.f=!!d}function vc(b){b.a||(b.a=new M,b.b=0,b.c&&jd(b.c,function(d,c){b.add(decodeURIComponent(d.replace(/\+/g," ")),c)}))}function sb(b){var d=Bb(b);if("undefined"==typeof d)throw Error("Keys are undefined");var c=new cb(null,void 0);b=wb(b);for(var g=0;g<d.length;g++){var A=d[g],l=b[g];w(l)?me(c,A,l):c.add(A,l)}return c}function eb(b,d){vc(b);d=Fb(b,d);pc(b.a.b,d)&&(b.c=null,b.b-=b.a.get(d).length,
b=b.a,pc(b.b,d)&&(delete b.b[d],b.c--,b.a.length>2*b.c&&td(b)))}function vd(b,d){vc(b);d=Fb(b,d);return pc(b.a.b,d)}function me(b,d,c){eb(b,d);0<c.length&&(b.c=null,b.a.set(Fb(b,d),Na(c)),b.b+=c.length)}function Fb(b,d){d=String(d);b.f&&(d=d.toLowerCase());return d}function Yd(b,d){d&&!b.f&&(vc(b),b.c=null,b.a.forEach(function(b,d){var c=d.toLowerCase();d!=c&&(eb(this,d),me(this,c,b))},b));b.f=d}function ec(b,d){this.a=b===pj&&d||"";this.b=Hk}function wc(b){if(b instanceof ec&&b.constructor===ec&&
b.b===Hk)return b.a;Y("expected object of type Const, got '"+b+"'");return"type_error:Const"}function fb(){this.a="";this.b=Ik}function Rb(b){if(b instanceof fb&&b.constructor===fb&&b.b===Ik)return b.a;Y("expected object of type TrustedResourceUrl, got '"+b+"' of type "+C(b));return"type_error:TrustedResourceUrl"}function kd(b,d){var c=wc(b);if(!Ll.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);b=c.replace(Ml,function(b,g){if(!Object.prototype.hasOwnProperty.call(d,g))throw Error('Found marker, "'+
g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(d));b=d[g];return b instanceof ec?wc(b):encodeURIComponent(String(b))});return Gb(b)}function Gb(b){var d=new fb;d.a=b;return d}function Hb(){this.a="";this.b=Jk}function Hd(b){if(b instanceof Hb&&b.constructor===Hb&&b.b===Jk)return b.a;Y("expected object of type SafeUrl, got '"+b+"' of type "+C(b));return"type_error:SafeUrl"}function Id(b){if(b instanceof Hb)return b;b="object"==typeof b&&b.na?b.ma():String(b);
Kk.test(b)||(b="about:invalid#zClosurez");return ld(b)}function ld(b){var d=new Hb;d.a=b;return d}function xc(){this.a="";this.b=Lk}function Wc(b){if(b instanceof xc&&b.constructor===xc&&b.b===Lk)return b.a;Y("expected object of type SafeHtml, got '"+b+"' of type "+C(b));return"type_error:SafeHtml"}function Zd(b){var d=new xc;d.a=b;return d}function md(b,d){b.src=Rb(d);null===Pj&&(d=T.document,Pj=(d=d.querySelector&&d.querySelector("script[nonce]"))&&(d=d.nonce||d.getAttribute("nonce"))&&Nl.test(d)?
d:"");(d=Pj)&&b.setAttribute("nonce",d)}function yc(b){var d=document;return f(b)?d.getElementById(b):b}function Jc(b,d){pa(d,function(d,c){d&&"object"==typeof d&&d.na&&(d=d.ma());"style"==c?b.style.cssText=d:"class"==c?b.className=d:"for"==c?b.htmlFor=d:Mk.hasOwnProperty(c)?b.setAttribute(Mk[c],d):0==c.lastIndexOf("aria-",0)||0==c.lastIndexOf("data-",0)?b.setAttribute(c,d):b[c]=d})}function af(b,d,c){var g=arguments,A=document,l=String(g[0]),a=g[1];if(!Ol&&a&&(a.name||a.type)){l=["\x3c",l];a.name&&
l.push(' name\x3d"',Ua(a.name),'"');if(a.type){l.push(' type\x3d"',Ua(a.type),'"');var h={};La(h,a);delete h.type;a=h}l.push("\x3e");l=l.join("")}l=A.createElement(l);a&&(f(a)?l.className=a:w(a)?l.className=a.join(" "):Jc(l,a));2<g.length&&bf(A,l,g);return l}function bf(b,d,c){function g(c){c&&d.appendChild(f(c)?b.createTextNode(c):c)}for(var A=2;A<c.length;A++){var l=c[A];!k(l)||S(l)&&0<l.nodeType?g(l):gd(Xa(l)?Na(l):l,g)}}function Xa(b){if(b&&"number"==typeof b.length){if(S(b))return"function"==
typeof b.item||"string"==typeof b.item;if(e(b))return"function"==typeof b.item}return!1}function xd(b){var d=[];Ma(new qc,b,d);return d.join("")}function qc(){}function Ma(b,d,c){if(null==d)c.push("null");else{if("object"==typeof d){if(w(d)){var g=d;d=g.length;c.push("[");for(var A="",l=0;l<d;l++)c.push(A),Ma(b,g[l],c),A=",";c.push("]");return}if(d instanceof String||d instanceof Number||d instanceof Boolean)d=d.valueOf();else{c.push("{");A="";for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&
(l=d[g],"function"!=typeof l&&(c.push(A),Xc(g,c),c.push(":"),Ma(b,l,c),A=","));c.push("}");return}}switch(typeof d){case "string":Xc(d,c);break;case "number":c.push(isFinite(d)&&!isNaN(d)?String(d):"null");break;case "boolean":c.push(String(d));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof d);}}}function Xc(b,d){d.push('"',b.replace(Pl,function(b){var d=Nk[b];d||(d="\\u"+(b.charCodeAt(0)|65536).toString(16).substr(1),Nk[b]=d);return d}),'"')}function Jd(){var b=
m();return Mf&&!!uh&&11==uh||/Edge\/\d+/.test(b)}function fc(){return T.window&&T.window.location.href||self&&self.location&&self.location.href||""}function Cb(b,d){d=d||T.window;var c="about:blank";b&&(c=Hd(Id(b)).toString());d.location.href=c}function Yc(b,d){var c=[],g;for(g in b)g in d?typeof b[g]!=typeof d[g]?c.push(g):"object"==typeof b[g]&&null!=b[g]&&null!=d[g]?0<Yc(b[g],d[g]).length&&c.push(g):b[g]!==d[g]&&c.push(g):c.push(g);for(g in d)g in b||c.push(g);return c}function gb(){var b=m();
return(b=rc(b)!=Ok?null:(b=b.match(/\sChrome\/(\d+)/i))&&2==b.length?parseInt(b[1],10):null)&&30>b?!1:!Mf||!uh||9<uh}function $d(b){b=(b||m()).toLowerCase();return b.match(/android/)||b.match(/webos/)||b.match(/iphone|ipad|ipod/)||b.match(/blackberry/)||b.match(/windows phone/)||b.match(/iemobile/)?!0:!1}function Kb(b){b=b||T.window;try{b.close()}catch(Qc){}}function hb(b,d,c){var g=Math.floor(1E9*Math.random()).toString();d=d||500;c=c||600;var A=(window.screen.availHeight-c)/2,l=(window.screen.availWidth-
d)/2;d={width:d,height:c,top:0<A?A:0,left:0<l?l:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1};c=m().toLowerCase();g&&(d.target=g,ba(c,"crios/")&&(d.target="_blank"));rc(m())==Qj&&(b=b||"http://localhost",d.scrollbars=!0);c=b||"";(b=d)||(b={});g=window;d=c instanceof Hb?c:Id("undefined"!=typeof c.href?c.href:String(c));c=b.target||c.target;A=[];for(a in b)switch(a){case "width":case "height":case "top":case "left":A.push(a+"\x3d"+b[a]);break;case "target":case "noopener":case "noreferrer":break;
default:A.push(a+"\x3d"+(b[a]?1:0))}var a=A.join(",");(la("iPhone")&&!la("iPod")&&!la("iPad")||la("iPad")||la("iPod"))&&g.navigator&&g.navigator.standalone&&c&&"_self"!=c?(a=g.document.createElement("A"),d instanceof Hb||d instanceof Hb||(d="object"==typeof d&&d.na?d.ma():String(d),Kk.test(d)||(d="about:invalid#zClosurez"),d=ld(d)),a.href=Hd(d),a.setAttribute("target",c),b.noreferrer&&a.setAttribute("rel","noreferrer"),b=document.createEvent("MouseEvent"),b.initMouseEvent("click",!0,!0,g,1),a.dispatchEvent(b),
a={}):b.noreferrer?(a=g.open("",c,a),b=Hd(d).toString(),a&&(Ql&&ba(b,";")&&(b="'"+b.replace(/'/g,"%27")+"'"),a.opener=null,b=Zd('\x3cmeta name\x3d"referrer" content\x3d"no-referrer"\x3e\x3cmeta http-equiv\x3d"refresh" content\x3d"0; url\x3d'+Ua(b)+'"\x3e'),a.document.write(Wc(b)),a.document.close())):(a=g.open(Hd(d).toString(),c,a))&&b.noopener&&(a.opener=null);if(a)try{a.focus()}catch(qi){}return a}function mb(b){return new za(function(d){function c(){ab(2E3).then(function(){if(!b||b.closed)d();
else return c()})}return c()})}function Kd(){var b=null;return(new za(function(d){"complete"==T.document.readyState?d():(b=function(){d()},uc(window,"load",b))})).s(function(d){$a(window,"load",b);throw d;})}function tb(){return ib(void 0)?Kd().then(function(){return new za(function(b,d){var c=T.document,g=setTimeout(function(){d(Error("Cordova framework is not ready."))},1E3);c.addEventListener("deviceready",function(){clearTimeout(g);b()},!1)})}):oa(Error("Cordova must run in an Android or iOS file scheme."))}
function ib(b){b=b||m();return!("file:"!==Kc()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zc(){var b=T.window;try{return!(!b||b==b.top)}catch(Qc){return!1}}function Db(){return"undefined"!==typeof T.WorkerGlobalScope&&"function"===typeof T.importScripts}function Lb(){return Ta.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ta.INTERNAL.hasOwnProperty("node")?"Node":Db()?"Worker":"Browser"}function Md(){var b=Lb();return"ReactNative"===b||"Node"===b}function yb(){for(var b=
50,d=[];0<b;)d.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),b--;return d.join("")}function rc(b){var d=b.toLowerCase();if(ba(d,"opera/")||ba(d,"opr/")||ba(d,"opios/"))return"Opera";if(ba(d,"iemobile"))return"IEMobile";if(ba(d,"msie")||ba(d,"trident/"))return"IE";if(ba(d,"edge/"))return"Edge";if(ba(d,"firefox/"))return Qj;if(ba(d,"silk/"))return"Silk";if(ba(d,"blackberry"))return"Blackberry";if(ba(d,"webos"))return"Webos";if(!ba(d,"safari/")||
ba(d,"chrome/")||ba(d,"crios/")||ba(d,"android"))if(!ba(d,"chrome/")&&!ba(d,"crios/")||ba(d,"edge/")){if(ba(d,"android"))return"Android";if((b=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==b.length)return b[1]}else return Ok;else return"Safari";return"Other"}function Vb(b,d){d=d||[];var c=[],g={},A;for(A in Pk)g[Pk[A]]=!0;for(A=0;A<d.length;A++)"undefined"!==typeof g[d[A]]&&(delete g[d[A]],c.push(d[A]));c.sort();d=c;d.length||(d=["FirebaseCore-web"]);c=Lb();"Browser"===c?(g=m(),c=rc(g)):"Worker"===
c&&(g=m(),c=rc(g)+"-"+c);return c+"/JsCore/"+b+"/"+d.join(",")}function m(){return T.navigator&&T.navigator.userAgent||""}function c(b,d){b=b.split(".");d=d||T;for(var c=0;c<b.length&&"object"==typeof d&&null!=d;c++)d=d[b[c]];c!=b.length&&(d=void 0);return d}function h(){try{var b=T.localStorage,d=Mc();if(b)return b.setItem(d,"1"),b.removeItem(d),Jd()?!!T.indexedDB:!0}catch(Ri){return Db()&&!!T.indexedDB}return!1}function t(){return(X()||"chrome-extension:"===Kc()||ib())&&!Md()&&h()&&!Db()}function X(){return"http:"===
Kc()||"https:"===Kc()}function Kc(){return T.location&&T.location.protocol||null}function bd(b){b=b||m();return $d(b)||rc(b)==Qj?!1:!0}function Lc(b){return"undefined"===typeof b?null:xd(b)}function Ba(b){var d={},c;for(c in b)b.hasOwnProperty(c)&&null!==b[c]&&void 0!==b[c]&&(d[c]=b[c]);return d}function Sb(b){if(null!==b)return JSON.parse(b)}function Mc(b){return b?b:Math.floor(1E9*Math.random()).toString()}function be(b){b=b||m();return"Safari"==rc(b)||b.toLowerCase().match(/iphone|ipad|ipod/)?
!1:!0}function ef(){var b=T.___jsl;if(b&&b.H)for(var d in b.H)if(b.H[d].r=b.H[d].r||[],b.H[d].L=b.H[d].L||[],b.H[d].r=b.H[d].L.concat(),b.CP)for(var c=0;c<b.CP.length;c++)b.CP[c]=null}function xa(b,d){if(b>d)throw Error("Short delay should be less than long delay!");this.a=b;this.c=d;b=m();d=Lb();this.b=$d(b)||"ReactNative"===d}function ce(){var b=T.document;return b&&"undefined"!==typeof b.visibilityState?"visible"==b.visibilityState:!0}function Da(){var b=T.document,d=null;return ce()||!b?ha():
(new za(function(c){d=function(){ce()&&(b.removeEventListener("visibilitychange",d,!1),c())};b.addEventListener("visibilitychange",d,!1)})).s(function(c){b.removeEventListener("visibilitychange",d,!1);throw c;})}function Tb(b){try{var d=new Date(parseInt(b,10));if(!isNaN(d.getTime())&&!/[^0-9]/.test(b))return d.toUTCString()}catch(Ri){}return null}function ff(){return!(!c("fireauth.oauthhelper",T)&&!c("fireauth.iframe",T))}function gf(){var b=T.navigator;return b&&b.serviceWorker&&b.serviceWorker.controller||
null}function Df(){var b=T.navigator;return b&&b.serviceWorker?ha().then(function(){return b.serviceWorker.ready}).then(function(b){return b.active||null}).s(function(){return null}):ha(null)}function Nc(b){Qk[b]||(Qk[b]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(b))}function na(b,d,c){Rk?Object.defineProperty(b,d,{configurable:!0,enumerable:!0,value:c}):b[d]=c}function gc(b,d){if(d)for(var c in d)d.hasOwnProperty(c)&&na(b,c,d[c])}function nb(b){var d={};gc(d,
b);return d}function hc(b){var d={},c;for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d}function $f(b,d){if(!d||!d.length)return!0;if(!b)return!1;for(var c=0;c<d.length;c++){var g=b[d[c]];if(void 0===g||null===g||""===g)return!1}return!0}function Ef(b){var d=b;if("object"==typeof b&&null!=b){d="length"in b?[]:{};for(var c in b)na(d,c,Ef(b[c]))}return d}function ee(b){var d={},c=b[Rl],g=b[Sl];b=b[Tl];if(!b||b!=Ul&&!c)throw Error("Invalid provider user info!");d[Vl]=g||null;d[Wl]=c||null;na(this,
Xl,b);na(this,Yl,Ef(d))}function I(b,d){this.code=Wi+b;this.message=d||Zl[b]||""}function Ff(b){var d=b&&b.code;return d?new I(d.substring(Wi.length),b.message):null}function hf(b){var d=b[$l];if("undefined"===typeof d)throw new I("missing-continue-uri");if("string"!==typeof d||"string"===typeof d&&!d.length)throw new I("invalid-continue-uri");this.h=d;this.b=this.a=null;this.g=!1;var c=b[Sk];if(c&&"object"===typeof c){d=c[Tk];var g=c[Uk];c=c[Vk];if("string"===typeof d&&d.length){this.a=d;if("undefined"!==
typeof g&&"boolean"!==typeof g)throw new I("argument-error",Uk+" property must be a boolean when specified.");this.g=!!g;if("undefined"!==typeof c&&("string"!==typeof c||"string"===typeof c&&!c.length))throw new I("argument-error",Vk+" property must be a non empty string when specified.");this.b=c||null}else{if("undefined"!==typeof d)throw new I("argument-error",Tk+" property must be a non empty string when specified.");if("undefined"!==typeof g||"undefined"!==typeof c)throw new I("missing-android-pkg-name");
}}else if("undefined"!==typeof c)throw new I("argument-error",Sk+" property must be a non null object when specified.");this.f=null;if((d=b[Wk])&&"object"===typeof d)if(d=d[Xk],"string"===typeof d&&d.length)this.f=d;else{if("undefined"!==typeof d)throw new I("argument-error",Xk+" property must be a non empty string when specified.");}else if("undefined"!==typeof d)throw new I("argument-error",Wk+" property must be a non null object when specified.");d=b[Rj];if("undefined"!==typeof d&&"boolean"!==
typeof d)throw new I("argument-error",Rj+" property must be a boolean when specified.");this.c=!!d;b=b[Yk];if("undefined"!==typeof b&&("string"!==typeof b||"string"===typeof b&&!b.length))throw new I("argument-error",Yk+" property must be a non empty string when specified.");this.i=b||null}function Pd(b){var d={};d.continueUrl=b.h;d.canHandleCodeInApp=b.c;if(d.androidPackageName=b.a)d.androidMinimumVersion=b.b,d.androidInstallApp=b.g;d.iOSBundleId=b.f;d.dynamicLinkDomain=b.i;for(var c in d)null===
d[c]&&delete d[c];return d}function Fg(b){return Sj(b,function(b){b=b.toString(16);return 1<b.length?b:"0"+b}).join("")}function ag(b){var d="";Gf(b,function(b){d+=String.fromCharCode(b)});return d}function Gf(b,d){function c(d){for(;g<b.length;){var c=b.charAt(g++),A=qj[c];if(null!=A)return A;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return d}xe();for(var g=0;;){var A=c(-1),l=c(0),a=c(64),h=c(64);if(64===h&&-1===A)break;d(A<<2|l>>4);64!=a&&(d(l<<4&240|a>>2),64!=
h&&d(a<<6&192|h))}}function xe(){if(!rj){rj={};qj={};for(var b=0;65>b;b++)rj[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(b),qj[rj[b]]=b,62<=b&&(qj["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(b)]=b)}}function Ub(b){this.c=b.sub;ng();this.a=b.provider_id||b.firebase&&b.firebase.sign_in_provider||null;this.b=!!b.is_anonymous||"anonymous"==this.a}function fe(b){return(b=zc(b))&&b.sub&&b.iss&&b.aud&&b.exp?new Ub(b):null}function zc(b){if(!b)return null;
b=b.split(".");if(3!=b.length)return null;b=b[1];for(var d=(4-b.length%4)%4,c=0;c<d;c++)b+=".";try{return JSON.parse(ag(b))}catch(mg){}return null}function dd(b){for(var d in Tj)if(Tj[d].id===b)return b=Tj[d],{firebaseEndpoint:b.bb,secureTokenEndpoint:b.jb};return null}function kf(b){for(var d in Uj)if(Uj[d].Oa==b)return Uj[d];return null}function nd(b){var d={};d["facebook.com"]=Hg;d["google.com"]=Se;d["github.com"]=Ld;d["twitter.com"]=oe;var c=b&&b[Zk];try{if(c)return d[c]?new d[c](b):new L(b);
if("undefined"!==typeof b[Vj])return new cg(b)}catch(mg){}return null}function cg(b){var d=b[Zk];if(!d&&b[Vj]){var c=fe(b[Vj]);c&&c.a&&(d=c.a)}if(!d)throw Error("Invalid additional user info!");if("anonymous"==d||"custom"==d)d=null;c=!1;"undefined"!==typeof b.isNewUser?c=!!b.isNewUser:"identitytoolkit#SignupNewUserResponse"===b.kind&&(c=!0);na(this,"providerId",d);na(this,"isNewUser",c)}function L(b){cg.call(this,b);b=Sb(b.rawUserInfo||"{}");na(this,"profile",Ef(b||{}))}function Hg(b){L.call(this,
b);if("facebook.com"!=this.providerId)throw Error("Invalid provider ID!");}function Ld(b){L.call(this,b);if("github.com"!=this.providerId)throw Error("Invalid provider ID!");na(this,"username",this.profile&&this.profile.login||null)}function Se(b){L.call(this,b);if("google.com"!=this.providerId)throw Error("Invalid provider ID!");}function oe(b){L.call(this,b);if("twitter.com"!=this.providerId)throw Error("Invalid provider ID!");na(this,"username",b.screenName||null)}function lf(b){this.a=ac(b)}function aa(b){var d=
ac(b),c=Oa(d,"link"),g=Oa(ac(c),"link");d=Oa(d,"deep_link_id");return Oa(ac(d),"link")||d||g||c||b}function dg(){}function ge(b,d){return b.then(function(b){if(b[uf]){var c=fe(b[uf]);if(!c||d!=c.c)throw new I("user-mismatch");return b}throw new I("user-mismatch");}).s(function(b){throw b&&b.code&&b.code==Wi+"user-not-found"?new I("user-mismatch"):b;})}function Oc(b,d){if(d)this.a=d;else throw new I("internal-error","failed to construct a credential");na(this,"providerId",b);na(this,"signInMethod",
b)}function pe(b){return{pendingToken:b.a,requestUri:"http://localhost"}}function eg(b){if(b&&b.providerId&&b.signInMethod&&0==b.providerId.indexOf("saml.")&&b.pendingToken)try{return new Oc(b.providerId,b.pendingToken)}catch(Qc){}return null}function Qd(b,d,c){this.a=null;if(d.idToken||d.accessToken)d.idToken&&na(this,"idToken",d.idToken),d.accessToken&&na(this,"accessToken",d.accessToken),d.nonce&&!d.pendingToken&&na(this,"nonce",d.nonce),d.pendingToken&&(this.a=d.pendingToken);else if(d.oauthToken&&
d.oauthTokenSecret)na(this,"accessToken",d.oauthToken),na(this,"secret",d.oauthTokenSecret);else throw new I("internal-error","failed to construct a credential");na(this,"providerId",b);na(this,"signInMethod",c)}function qe(b){var d={};b.idToken&&(d.id_token=b.idToken);b.accessToken&&(d.access_token=b.accessToken);b.secret&&(d.oauth_token_secret=b.secret);d.providerId=b.providerId;b.nonce&&!b.a&&(d.nonce=b.nonce);d={postBody:sb(d).toString(),requestUri:"http://localhost"};b.a&&(delete d.postBody,
d.pendingToken=b.a);return d}function Te(b){if(b&&b.providerId&&b.signInMethod){var d={idToken:b.oauthIdToken,accessToken:b.oauthTokenSecret?null:b.oauthAccessToken,oauthTokenSecret:b.oauthTokenSecret,oauthToken:b.oauthTokenSecret&&b.oauthAccessToken,nonce:b.nonce,pendingToken:b.pendingToken};try{return new Qd(b.providerId,d,b.signInMethod)}catch(Ri){}}return null}function pd(b,d){this.Fc=d||[];gc(this,{providerId:b,isOAuthProvider:!0});this.zb={};this.eb=(kf(b)||{}).Na||null;this.ab=null}function Ue(b){if("string"!==
typeof b||0!=b.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');pd.call(this,b,[])}function qd(b){pd.call(this,b,sj);this.a=[]}function Mb(){qd.call(this,"facebook.com")}function Rd(b){if(!b)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var d=b;S(b)&&(d=b.accessToken);return(new Mb).credential({accessToken:d})}function pb(){qd.call(this,"github.com")}function Pc(b){if(!b)throw new I("argument-error",
"credential failed: expected 1 argument (the OAuth access token).");var d=b;S(b)&&(d=b.accessToken);return(new pb).credential({accessToken:d})}function ze(){qd.call(this,"google.com");this.ua("profile")}function Pe(b,d){var c=b;S(b)&&(c=b.idToken,d=b.accessToken);return(new ze).credential({idToken:c,accessToken:d})}function fd(){pd.call(this,"twitter.com",$k)}function Td(b,d){var c=b;S(c)||(c={oauthToken:b,oauthTokenSecret:d});if(!c.oauthToken||!c.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");
return new Qd("twitter.com",c,"twitter.com")}function sc(b,d,c){this.a=b;this.c=d;na(this,"providerId","password");na(this,"signInMethod",c===ob.EMAIL_LINK_SIGN_IN_METHOD?ob.EMAIL_LINK_SIGN_IN_METHOD:ob.EMAIL_PASSWORD_SIGN_IN_METHOD)}function tc(b){return b&&b.email&&b.password?new sc(b.email,b.password,b.signInMethod):null}function ob(){gc(this,{providerId:"password",isOAuthProvider:!1})}function Ad(b,d){d=Ve(d);if(!d)throw new I("argument-error","Invalid email link!");return new sc(b,d,ob.EMAIL_LINK_SIGN_IN_METHOD)}
function Ve(b){b=aa(b);b=new lf(b);var d=Oa(b.a,"oobCode")||null;return"signIn"===(Oa(b.a,"mode")||null)&&d?d:null}function ic(b){if(!(b.Ua&&b.Ta||b.Fa&&b.$))throw new I("internal-error");this.a=b;na(this,"providerId","phone");na(this,"signInMethod","phone")}function gg(b){if(b&&"phone"===b.providerId&&(b.verificationId&&b.verificationCode||b.temporaryProof&&b.phoneNumber)){var d={};gd(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){b[c]&&(d[c]=b[c])});return new ic(d)}return null}
function de(b){return b.a.Fa&&b.a.$?{temporaryProof:b.a.Fa,phoneNumber:b.a.$}:{sessionInfo:b.a.Ua,code:b.a.Ta}}function v(b){try{this.a=b||Ta.auth()}catch(Qc){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().");}gc(this,{providerId:"phone",isOAuthProvider:!1})}function kc(b,d){if(!b)throw new I("missing-verification-id");
if(!d)throw new I("missing-verification-code");return new ic({Ua:b,Ta:d})}function Be(b){if(b.temporaryProof&&b.phoneNumber)return new ic({Fa:b.temporaryProof,$:b.phoneNumber});var d=b&&b.providerId;if(!d||"password"===d)return null;var c=b&&b.oauthAccessToken,g=b&&b.oauthTokenSecret,l=b&&b.nonce,A=b&&b.oauthIdToken,a=b&&b.pendingToken;try{switch(d){case "google.com":return Pe(A,c);case "facebook.com":return Rd(c);case "github.com":return Pc(c);case "twitter.com":return Td(c,g);default:return c||
g||A||a?a?0==d.indexOf("saml.")?new Oc(d,a):new Qd(d,{pendingToken:a,idToken:b.oauthIdToken,accessToken:b.oauthAccessToken},d):(new qd(d)).credential({idToken:A,accessToken:c,rawNonce:l}):null}}catch(qi){return null}}function se(b){if(!b.isOAuthProvider)throw new I("invalid-oauth-provider");}function rd(b,d,c,g,l,a){this.c=b;this.b=d||null;this.g=c||null;this.f=g||null;this.h=a||null;this.a=l||null;if(this.g||this.a){if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event");
}else throw new I("invalid-auth-event");}function Ae(b){b=b||{};return b.type?new rd(b.type,b.eventId,b.urlResponse,b.sessionId,b.error&&Ff(b.error),b.postBody):null}function cd(){this.b=null;this.a=[]}function If(b){var d="unauthorized-domain",c=void 0,g=ac(b);b=g.b;g=g.c;"chrome-extension"==g?c=Ha("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -\x3e Auth section -\x3e Sign in method tab.",
b):"http"==g||"https"==g?c=Ha("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -\x3e Auth section -\x3e Sign in method tab.",b):d="operation-not-supported-in-this-environment";I.call(this,d,c)}function te(b,d,c){I.call(this,b,c);b=d||{};b.Ab&&na(this,"email",b.Ab);b.$&&na(this,"phoneNumber",b.$);b.credential&&na(this,"credential",b.credential)}function ub(b){if(b.code){var d=b.code||"";0==d.indexOf(Wi)&&(d=d.substring(Wi.length));
var c={credential:Be(b)};if(b.email)c.Ab=b.email;else if(b.phoneNumber)c.$=b.phoneNumber;else if(!c.credential)return new I(d,b.message||void 0);return new te(d,c,b.message)}return null}function Jg(){}function Sd(b){return b.c||(b.c=b.b())}function Jf(){}function Wb(b){if(!b.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var d=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<d.length;c++){var g=d[c];try{return new ActiveXObject(g),
b.f=g}catch(pi){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return b.f}function Lf(){}function hh(){this.a=new XDomainRequest;this.readyState=0;this.onreadystatechange=null;this.responseType=this.responseText=this.response="";this.status=-1;this.statusText="";this.a.onload=J(this.fc,this);this.a.onerror=J(this.Gb,this);this.a.onprogress=J(this.gc,this);this.a.ontimeout=J(this.kc,this)}function kh(b,d){b.readyState=d;if(b.onreadystatechange)b.onreadystatechange()}
function lh(b,d,c){this.reset(b,d,c,void 0,void 0)}function mh(b){this.f=b;this.b=this.c=this.a=null}function ig(b,d){this.name=b;this.value=d}function nh(b){if(b.c)return b.c;if(b.a)return nh(b.a);Y("Root logger has no level set.");return null}function Kg(b){tj||(tj=new mh(""),Wj[""]=tj,tj.c=am);var d;if(!(d=Wj[b])){d=new mh(b);var c=b.lastIndexOf("."),g=b.substr(c+1);c=Kg(b.substr(0,c));c.b||(c.b={});c.b[g]=d;d.a=c;Wj[b]=d}return d}function ie(b,d){b&&b.log(bm,d,void 0)}function qf(b){this.f=b}
function jb(b){Ea.call(this);this.u=b;this.readyState=Xj;this.status=0;this.responseType=this.responseText=this.response=this.statusText="";this.onreadystatechange=null;this.i=new Headers;this.b=null;this.m="GET";this.g="";this.a=!1;this.h=Kg("goog.net.FetchXmlHttp");this.l=this.c=this.f=null}function rf(b){b.c.read().then(b.ec.bind(b)).catch(b.La.bind(b))}function Ce(b,d){d&&b.f&&(b.status=b.f.status,b.statusText=b.f.statusText);b.readyState=4;b.f=null;b.c=null;b.l=null;Lg(b)}function Lg(b){b.onreadystatechange&&
b.onreadystatechange.call(b)}function sf(b){Ea.call(this);this.headers=new M;this.D=b||null;this.c=!1;this.A=this.a=null;this.h=this.N=this.l="";this.f=this.I=this.i=this.G=!1;this.g=0;this.u=null;this.m=al;this.v=this.O=!1}function ji(b,d,c,g,l){if(b.a)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+b.l+"; newUri\x3d"+d);c=c?c.toUpperCase():"GET";b.l=d;b.h="";b.N=c;b.G=!1;b.c=!0;b.a=b.D?b.D.a():bl.a();b.A=b.D?Sd(b.D):Sd(bl);b.a.onreadystatechange=J(b.Jb,b);try{ie(b.b,Ed(b,
"Opening Xhr")),b.I=!0,b.a.open(c,String(d),!0),b.I=!1}catch(Mg){ie(b.b,Ed(b,"Error opening Xhr: "+Mg.message));Nb(b,Mg);return}d=g||"";var a=new M(b.headers);l&&D(l,function(b,d){a.set(d,b)});l=x(a.U());g=T.FormData&&d instanceof T.FormData;!N(cm,c)||l||g||a.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");a.forEach(function(b,d){this.a.setRequestHeader(d,b)},b);b.m&&(b.a.responseType=b.m);"withCredentials"in b.a&&b.a.withCredentials!==b.O&&(b.a.withCredentials=b.O);try{Qg(b),
0<b.g&&(b.v=db(b.a),ie(b.b,Ed(b,"Will abort after "+b.g+"ms if incomplete, xhr2 "+b.v)),b.v?(b.a.timeout=b.g,b.a.ontimeout=J(b.Ga,b)):b.u=Vc(b.Ga,b.g,b)),ie(b.b,Ed(b,"Sending request")),b.i=!0,b.a.send(d),b.i=!1}catch(Mg){ie(b.b,Ed(b,"Send error: "+Mg.message)),Nb(b,Mg)}}function db(b){return Mf&&Tc(9)&&"number"==typeof b.timeout&&void 0!==b.ontimeout}function dc(b){return"content-type"==b.toLowerCase()}function Nb(b,d){b.c=!1;b.a&&(b.f=!0,b.a.abort(),b.f=!1);b.h=d;Nf(b);vf(b)}function Nf(b){b.G||
(b.G=!0,b.dispatchEvent("complete"),b.dispatchEvent("error"))}function og(b){if(b.c&&"undefined"!=typeof Bj)if(b.A[1]&&4==pg(b)&&2==Ye(b))ie(b.b,Ed(b,"Local request error detected and ignored"));else if(b.i&&4==pg(b))Vc(b.Jb,0,b);else if(b.dispatchEvent("readystatechange"),4==pg(b)){ie(b.b,Ed(b,"Request complete"));b.c=!1;try{var d=Ye(b);a:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var g;if(!(g=c)){var l;if(l=0===d){var a=String(b.l).match(Gk)[1]||
null;if(!a&&T.self&&T.self.location){var A=T.self.location.protocol;a=A.substr(0,A.length-1)}l=!dm.test(a?a.toLowerCase():"")}g=l}if(g)b.dispatchEvent("complete"),b.dispatchEvent("success");else{try{var h=2<pg(b)?b.a.statusText:""}catch(Ti){ie(b.b,"Can not get status: "+Ti.message),h=""}b.h=h+" ["+Ye(b)+"]";Nf(b)}}finally{vf(b)}}}function vf(b,d){if(b.a){Qg(b);var c=b.a,g=b.A[0]?q:null;b.a=null;b.A=null;d||b.dispatchEvent("ready");try{c.onreadystatechange=g}catch(pi){(b=b.b)&&b.log(cl,"Problem encountered resetting onreadystatechange: "+
pi.message,void 0)}}}function Qg(b){b.a&&b.v&&(b.a.ontimeout=null);b.u&&(T.clearTimeout(b.u),b.u=null)}function pg(b){return b.a?b.a.readyState:0}function Ye(b){try{return 2<pg(b)?b.a.status:-1}catch(Qc){return-1}}function wf(b){try{return b.a?b.a.responseText:""}catch(Qc){return ie(b.b,"Can not get responseText: "+Qc.message),""}}function Ed(b,d){return d+" ["+b.N+" "+b.l+" "+Ye(b)+"]"}function Ge(b){var d=Qf;this.g=[];this.v=d;this.u=b||null;this.f=this.a=!1;this.c=void 0;this.l=this.A=this.i=!1;
this.h=0;this.b=null;this.o=0}function ve(b,d,c){b.a=!0;b.c=c;b.f=!d;yf(b)}function Of(b){if(b.a){if(!b.l)throw new jg(b);b.l=!1}}function xf(b,d){sg(b,null,d,void 0)}function sg(b,d,c,g){b.g.push([d,c,g]);b.a&&yf(b)}function qg(b){return em(b.g,function(b){return e(b[1])})}function yf(b){if(b.h&&b.a&&qg(b)){var d=b.h,c=uj[d];c&&(T.clearTimeout(c.a),delete uj[d]);b.h=0}b.b&&(b.b.o--,delete b.b);d=b.c;for(var g=c=!1;b.g.length&&!b.i;){var l=b.g.shift(),a=l[0],h=l[1];l=l[2];if(a=b.f?h:a)try{var A=a.call(l||
b.u,d);void 0!==A&&(b.f=b.f&&(A==d||A instanceof Error),b.c=d=A);if(G(d)||"function"===typeof T.Promise&&d instanceof T.Promise)g=!0,b.i=!0}catch(Ti){d=Ti,b.f=!0,qg(b)||(c=!0)}}b.c=d;g&&(A=J(b.m,b,!0),g=J(b.m,b,!1),d instanceof Ge?(sg(d,A,g),d.A=!0):d.then(A,g));c&&(d=new je(d),uj[d.a]=d,b.h=d.a)}function jg(){H.call(this)}function tf(){H.call(this)}function je(b){this.a=T.setTimeout(J(this.c,this),0);this.b=b}function zf(b){var d={},c=d.document||document,g=Rb(b).toString(),l=document.createElement("SCRIPT"),
a={Lb:l,Ga:void 0},h=new Ge(a),A=null,m=null!=d.timeout?d.timeout:5E3;0<m&&(A=window.setTimeout(function(){Pf(l,!0);var b=new rg(fm,"Timeout reached for loading script "+g);Of(h);ve(h,!1,b)},m),a.Ga=A);l.onload=l.onreadystatechange=function(){l.readyState&&"loaded"!=l.readyState&&"complete"!=l.readyState||(Pf(l,d.hd||!1,A),Of(h),ve(h,!0,null))};l.onerror=function(){Pf(l,!0,A);var b=new rg(gm,"Error while loading script "+g);Of(h);ve(h,!1,b)};a=d.attributes||{};La(a,{type:"text/javascript",charset:"UTF-8"});
Jc(l,a);md(l,b);Je(c).appendChild(l);return h}function Je(b){var d;return(d=(b||document).getElementsByTagName("HEAD"))&&0!=d.length?d[0]:b.documentElement}function Qf(){if(this&&this.Lb){var b=this.Lb;b&&"SCRIPT"==b.tagName&&Pf(b,!0,this.Ga)}}function Pf(b,d,c){null!=c&&T.clearTimeout(c);b.onload=q;b.onerror=q;b.onreadystatechange=q;d&&window.setTimeout(function(){b&&b.parentNode&&b.parentNode.removeChild(b)},0)}function rg(b,d){var c="Jsloader error (code #"+b+")";d&&(c+=": "+d);H.call(this,c);
this.code=b}function Vd(b){this.f=b}function ue(b,d,c){this.b=b;b=d||{};this.i=b.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token";this.o=b.secureTokenTimeout||hm;this.f=Ga(b.secureTokenHeaders||im);this.g=b.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/";this.h=b.firebaseTimeout||jm;this.a=Ga(b.firebaseHeaders||km);c&&(this.a["X-Client-Version"]=c,this.f["X-Client-Version"]=c);c="Node"==Lb();c=T.XMLHttpRequest||c&&Ta.INTERNAL.node&&Ta.INTERNAL.node.XMLHttpRequest;
if(!c&&!Db())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0;Db()?this.c=new qf(self):Md()?this.c=new Vd(c):this.c=new Lf}function Kh(b,d){d?b.a["X-Firebase-Locale"]=d:delete b.a["X-Firebase-Locale"]}function oh(b,d){d?(b.a["X-Client-Version"]=d,b.f["X-Client-Version"]=d):(delete b.a["X-Client-Version"],delete b.f["X-Client-Version"])}function Xf(b,d,c,g,l,a,h){gb()||Db()?b=J(b.m,b):(Yj||(Yj=new za(function(b,d){Ze(b,d)})),b=J(b.l,b));b(d,c,g,
l,a,h)}function Ze(b,d){if(((window.gapi||{}).client||{}).request)b();else{T[dl]=function(){((window.gapi||{}).client||{}).request?b():d(Error("CORS_UNSUPPORTED"))};var c=kd(lm,{onload:dl});xf(zf(c),function(){d(Error("CORS_UNSUPPORTED"))})}}function vh(b,d){return new za(function(c,g){"refresh_token"==d.grant_type&&d.refresh_token||"authorization_code"==d.grant_type&&d.code?Xf(b,b.i+"?key\x3d"+encodeURIComponent(b.b),function(b){b?b.error?g(Xg(b)):b.access_token&&b.refresh_token?c(b):g(new I("internal-error")):
g(new I("network-request-failed"))},"POST",sb(d).toString(),b.f,b.o.get()):g(new I("internal-error"))})}function ke(b,d,c,g,l,a){var h=ac(b.g+d);Qa(h,"key",b.b);a&&Qa(h,"cb",ng().toString());var A="GET"==c;if(A)for(var m in g)g.hasOwnProperty(m)&&Qa(h,m,g[m]);return new za(function(d,a){Xf(b,h.toString(),function(b){b?b.error?a(Xg(b,l||{})):d(b):a(new I("network-request-failed"))},c,A?void 0:xd(Ba(g)),b.a,b.h.get())})}function De(b){b=b.email;if(!f(b)||!mm.test(b))throw new I("invalid-email");}function Lh(b){"email"in
b&&De(b)}function Ph(b,d){return Wa(b,el,{identifier:d,continueUri:X()?fc():"http://localhost"}).then(function(b){return b.allProviders||[]})}function Rg(b,d){return Wa(b,el,{identifier:d,continueUri:X()?fc():"http://localhost"}).then(function(b){return b.signinMethods||[]})}function kg(b){return Wa(b,nm,{}).then(function(b){return b.authorizedDomains||[]})}function Ee(b){if(!b[uf])throw new I("internal-error");}function Sg(b){if(b.phoneNumber||b.temporaryProof){if(!b.phoneNumber||!b.temporaryProof)throw new I("internal-error");
}else{if(!b.sessionInfo)throw new I("missing-verification-id");if(!b.code)throw new I("missing-verification-code");}}function wh(b,d){return Wa(b,om,d)}function Fe(b,d,c){return Wa(b,pm,{idToken:d,deleteProvider:c})}function Dc(b){if(!b.requestUri||!b.sessionId&&!b.postBody&&!b.pendingToken)throw new I("internal-error");}function Fd(b,d){d.oauthIdToken&&d.providerId&&0==d.providerId.indexOf("oidc.")&&!d.pendingToken&&(b.sessionId?d.nonce=b.sessionId:b.postBody&&(b=new cb(b.postBody),vd(b,"nonce")&&
(d.nonce=b.get("nonce"))));return d}function ph(b){var d=null;b.needConfirmation?(b.code="account-exists-with-different-credential",d=ub(b)):"FEDERATED_USER_ID_ALREADY_LINKED"==b.errorMessage?(b.code="credential-already-in-use",d=ub(b)):"EMAIL_EXISTS"==b.errorMessage?(b.code="email-already-in-use",d=ub(b)):b.errorMessage&&(d=We(b.errorMessage));if(d)throw d;if(!b[uf])throw new I("internal-error");}function tg(b,d){d.returnIdpCredential=!0;return Wa(b,qm,d)}function He(b,d){d.returnIdpCredential=!0;
return Wa(b,rm,d)}function Ie(b,d){d.returnIdpCredential=!0;d.autoCreate=!1;return Wa(b,sm,d)}function ug(b){if(!b.oobCode)throw new I("invalid-action-code");}function Wa(b,d,c){if(!$f(c,d.T))return oa(new I("internal-error"));var g=d.Ib||"POST",l;return ha(c).then(d.C).then(function(){d.R&&(c.returnSecureToken=!0);return ke(b,d.endpoint,g,c,d.Xb,d.vb||!1)}).then(function(b){l=b;return d.Pa?d.Pa(c,l):l}).then(d.J).then(function(){if(!d.da)return l;if(!(d.da in l))throw new I("internal-error");return l[d.da]})}
function We(b){return Xg({error:{errors:[{message:b}],code:400,message:b}})}function Xg(b,d){var c=(b.error&&b.error.errors&&b.error.errors[0]||{}).reason||"",g={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=g[c]?new I(g[c]):null)return c;c=b.error&&b.error.message||"";g={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",
INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",
EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",
TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",
MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",
ADMIN_ONLY_OPERATION:"admin-restricted-operation"};La(g,d||{});d=(d=c.match(/^[^\s]+\s*:\s*(.*)$/))&&1<d.length?d[1]:void 0;for(var l in g)if(0===c.indexOf(l))return new I(g[l],d);!d&&b&&(d=Lc(b));return new I("internal-error",d)}function lc(b){this.b=b;this.a=null;this.gb=zg(this)}function zg(b){return Rf().then(function(){return new za(function(d,g){c("gapi.iframes.getContext")().open({where:document.body,url:b.b,messageHandlersFilter:c("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",
top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(c){function l(){clearTimeout(a);d()}b.a=c;b.a.restyle({setHideOnLeave:!1});var a=setTimeout(function(){g(Error("Network Error"))},tm.get());c.ping(l).then(l,function(){g(Error("Network Error"))})})})})}function Wd(b,d){return b.gb.then(function(){return new za(function(g){b.a.send(d.type,d,g,c("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function le(b,d){b.gb.then(function(){b.a.register("authEvent",d,c("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}
function Rf(){return vj?vj:vj=(new za(function(b,d){function g(){ef();c("gapi.load")("gapi.iframes",{callback:b,ontimeout:function(){ef();d(Error("Network Error"))},timeout:um.get()})}if(c("gapi.iframes.Iframe"))b();else if(c("gapi.load"))g();else{var l="__iframefcb"+Math.floor(1E6*Math.random()).toString();T[l]=function(){c("gapi.load")?g():d(Error("Network Error"))};l=kd(vm,{onload:l});ha(zf(l)).s(function(){d(Error("Network Error"))})}})).s(function(b){vj=null;throw b;})}function $e(b,d,c){this.i=
b;this.g=d;this.h=c;this.f=null;this.a=xb(this.i,"/__/auth/iframe");Qa(this.a,"apiKey",this.g);Qa(this.a,"appName",this.h);this.b=null;this.c=[]}function Sf(b,d,c,g,l){this.m=b;this.l=d;this.c=c;this.o=g;this.h=this.g=this.i=null;this.a=l;this.f=null}function Ug(b){try{return Ta.app(b).auth().ya()}catch(Qc){return[]}}function Tg(b,d,c,g,l){this.l=b;this.f=d;this.b=c;this.c=g||null;this.h=l||null;this.m=this.u=this.v=null;this.g=[];this.o=this.a=null}function Vg(b){var d=fc();return kg(b).then(function(b){a:{var c=
ac(d),g=c.c;c=c.b;for(var l=0;l<b.length;l++){var a=b[l],h=c,A=g;0==a.indexOf("chrome-extension://")?h=ac(a).b==h&&"chrome-extension"==A:"http"!=A&&"https"!=A?h=!1:wm.test(a)?h=h==a:(a=a.split(".").join("\\."),h=(new RegExp("^(.+\\."+a+"|"+a+")$","i")).test(h));if(h){b=!0;break a}}b=!1}if(!b)throw new If(fc());})}function vg(b){if(b.o)return b.o;b.o=Kd().then(function(){if(!b.u){var d=b.c,c=b.h,g=Ug(b.b),l=new $e(b.l,b.f,b.b);l.f=d;l.b=c;l.c=Na(g||[]);b.u=l.toString()}b.i=new lc(b.u);Qh(b)});return b.o}
function Wg(b){b.m||(b.v=b.c?Vb(b.c,Ug(b.b)):null,b.m=new ue(b.f,dd(b.h),b.v));return b.m}function Tf(b,d,c,g,l,a,h,m,v,y){b=new Sf(b,d,c,g,l);b.i=a;b.g=h;b.h=m;b.b=Ga(v||null);b.f=y;return b.toString()}function Qh(b){if(!b.i)throw Error("IfcHandler must be initialized!");le(b.i,function(d){var c={};if(d&&d.authEvent){var g=!1;d=Ae(d.authEvent);for(c=0;c<b.g.length;c++)g=b.g[c](d)||g;c={};c.status=g?"ACK":"ERROR";return ha(c)}c.status="ERROR";return ha(c)})}function vi(b){var d={type:"webStorageSupport"};
return vg(b).then(function(){return Wd(b.i,d)}).then(function(b){if(b&&b.length&&"undefined"!==typeof b[0].webStorageSupport)return b[0].webStorageSupport;throw Error();})}function xh(b){this.a=b||Ta.INTERNAL.reactNative&&Ta.INTERNAL.reactNative.AsyncStorage;if(!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wg(b){this.b=b;this.a={};this.c=J(this.f,this)}function g(){var b=Db()?self:null;gd(fl,function(c){c.b==b&&(d=c)});
if(!d){var d=new wg(b);fl.push(d)}return d}function b(b){this.a=b}function d(b){this.c=b;this.b=!1;this.a=[]}function l(b,d,c,g){var l,a=c||{},h,A,m,v=null;if(b.b)return oa(Error("connection_unavailable"));var t=g?800:50,e="undefined"!==typeof MessageChannel?new MessageChannel:null;return(new za(function(c,g){e?(l=Math.floor(Math.random()*Math.pow(10,20)).toString(),e.port1.start(),A=setTimeout(function(){g(Error("unsupported_event"))},t),h=function(b){b.data.eventId===l&&("ack"===b.data.status?(clearTimeout(A),
m=setTimeout(function(){g(Error("timeout"))},3E3)):"done"===b.data.status?(clearTimeout(m),"undefined"!==typeof b.data.response?c(b.data.response):g(Error("unknown_error"))):(clearTimeout(A),clearTimeout(m),g(Error("invalid_response"))))},v={messageChannel:e,onMessage:h},b.a.push(v),e.port1.addEventListener("message",h),b.c.postMessage({eventType:d,eventId:l,data:a},[e.port2])):g(Error("connection_unavailable"))})).then(function(d){y(b,v);return d}).s(function(d){y(b,v);throw d;})}function y(b,d){if(d){var c=
d.messageChannel,g=d.onMessage;c&&(c.port1.removeEventListener("message",g),c.port1.close());Z(b.a,function(b){return b==d})}}function ea(){if(!Xi())throw new I("web-storage-unsupported");this.c={};this.a=[];this.b=0;this.l=T.indexedDB;this.type="indexedDB";this.g=this.o=this.f=this.i=null;this.u=!1;this.h=null;var c=this;Db()&&self?(this.o=g(),this.o.subscribe("keyChanged",function(b,d){return sh(c).then(function(b){0<b.length&&gd(c.a,function(d){d(b)});return{keyProcessed:N(b,d.key)}})}),this.o.subscribe("ping",
function(){return ha(["keyChanged"])})):Df().then(function(g){if(c.h=g)c.g=new d(new b(g)),l(c.g,"ping",null,!0).then(function(b){b[0].fulfilled&&N(b[0].value,"keyChanged")&&(c.u=!0)}).s(function(){})})}function Bc(b){return new za(function(d,c){var g=b.l.deleteDatabase("firebaseLocalStorageDb");g.onsuccess=function(){d()};g.onerror=function(b){c(Error(b.target.error))}})}function ej(b){return new za(function(d,c){var g=b.l.open("firebaseLocalStorageDb",1);g.onerror=function(b){try{b.preventDefault()}catch(lj){}c(Error(b.target.error))};
g.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(lj){c(lj)}};g.onsuccess=function(g){g=g.target.result;g.objectStoreNames.contains("firebaseLocalStorage")?d(g):Bc(b).then(function(){return ej(b)}).then(function(b){d(b)}).s(function(b){c(b)})}})}function lg(b){b.m||(b.m=ej(b));return b.m}function Xi(){try{return!!T.indexedDB}catch(A){return!1}}function qh(b){return b.objectStore("firebaseLocalStorage")}function rh(b,d){return b.transaction(["firebaseLocalStorage"],
d?"readwrite":"readonly")}function Xe(b){return new za(function(d,c){b.onsuccess=function(b){b&&b.target?d(b.target.result):d()};b.onerror=function(b){c(b.target.error)}})}function Ni(b,d){return b.g&&b.h&&gf()===b.h?l(b.g,"keyChanged",{key:d},b.u).then(function(){}).s(function(){}):ha()}function sh(b){return lg(b).then(function(b){var d=qh(rh(b,!1));return d.getAll?Xe(d.getAll()):new za(function(b,c){var g=[],l=d.openCursor();l.onsuccess=function(d){(d=d.target.result)?(g.push(d.value),d["continue"]()):
b(g)};l.onerror=function(b){c(b.target.error)}})}).then(function(d){var c={},g=[];if(0==b.b){for(g=0;g<d.length;g++)c[d[g].fbase_key]=d[g].value;g=Yc(b.c,c);b.c=c}return g})}function fj(b){function d(){b.f=setTimeout(function(){b.i=sh(b).then(function(d){0<d.length&&gd(b.a,function(b){b(d)})}).then(function(){d()}).s(function(b){"STOP_EVENT"!=b.message&&d()})},800)}th(b);d()}function th(b){b.i&&b.i.cancel("STOP_EVENT");b.f&&(clearTimeout(b.f),b.f=null)}function gj(b){var d=this,c=null;this.a=[];this.type=
"indexedDB";this.c=b;this.b=ha().then(function(){if(Xi()){var b=Mc(),g="__sak"+b;Zj||(Zj=new ea);c=Zj;return c.set(g,b).then(function(){return c.get(g)}).then(function(d){if(d!==b)throw Error("indexedDB not supported!");return c.P(g)}).then(function(){return c}).s(function(){return d.c})}return d.c}).then(function(b){d.type=b.type;b.Y(function(b){gd(d.a,function(d){d(b)})});return b})}function yh(){this.a={};this.type="inMemory"}function ki(){if(!Dj()){if("Node"==Lb())throw new I("internal-error",
"The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported");}this.a=hj()||Ta.INTERNAL.node.localStorage;this.type="localStorage"}function hj(){try{var b=T.localStorage,d=Mc();b&&(b.setItem(d,"1"),b.removeItem(d));return b}catch(Ri){return null}}function Dj(){var b="Node"==Lb();b=hj()||b&&Ta.INTERNAL.node&&Ta.INTERNAL.node.localStorage;if(!b)return!1;try{return b.setItem("__sak","1"),b.removeItem("__sak"),!0}catch(Qc){return!1}}function Oi(){this.type="nullStorage"}
function Pi(){if(!Ej()){if("Node"==Lb())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported");}this.a=ij()||Ta.INTERNAL.node.sessionStorage;this.type="sessionStorage"}function ij(){try{var b=T.sessionStorage,d=Mc();b&&(b.setItem(d,"1"),b.removeItem(d));return b}catch(Ri){return null}}function Ej(){var b="Node"==Lb();b=ij()||b&&Ta.INTERNAL.node&&Ta.INTERNAL.node.sessionStorage;if(!b)return!1;try{return b.setItem("__sak","1"),
b.removeItem("__sak"),!0}catch(Qc){return!1}}function Fj(){var b={};b.Browser=xm;b.Node=ym;b.ReactNative=zm;b.Worker=Am;this.a=b[Lb()]}function Gj(b){var d=new I("invalid-persistence-type"),c=new I("unsupported-persistence-type");a:{for(g in ri)if(ri[g]==b){var g=!0;break a}g=!1}if(!g||"string"!==typeof b)throw d;switch(Lb()){case "ReactNative":if("session"===b)throw c;break;case "Node":if("none"!==b)throw c;break;default:if(!h()&&"none"!==b)throw c;}}function jj(){var b=!be(m())&&Zc()?!0:!1,d=bd(),
c=h();this.m=b;this.h=d;this.o=c;this.a={};ak||(ak=new Fj);b=ak;try{this.g=!Jd()&&ff()||!T.indexedDB?new b.a.B:new gj(Db()?new yh:new b.a.B)}catch(mg){this.g=new yh,this.h=!0}try{this.i=new b.a.Sa}catch(mg){this.i=new yh}this.l=new yh;this.f=J(this.Pb,this);this.b={}}function Mh(){bk||(bk=new jj);return bk}function Uf(b,d){switch(d){case "session":return b.i;case "none":return b.l;default:return b.g}}function Vf(b,d){return"firebase:"+b.name+(d?":"+d:"")}function kj(b,d,c){var g=Vf(d,c),l=Uf(b,d.B);
return b.get(d,c).then(function(a){var h=null;try{h=Sb(T.localStorage.getItem(g))}catch(qi){}if(h&&!a)return T.localStorage.removeItem(g),b.set(d,h,c);h&&a&&"localStorage"!=l.type&&T.localStorage.removeItem(g)})}function xg(b,d,c){c=Vf(d,c);"local"==d.B&&(b.b[c]=null);return Uf(b,d.B).P(c)}function Rh(b){Yg(b);b.c=setInterval(function(){for(var d in b.a){var c=T.localStorage.getItem(d),g=b.b[d];c!=g&&(b.b[d]=c,c=new qb({type:"storage",key:d,target:window,oldValue:g,newValue:c,a:!0}),b.Pb(c))}},1E3)}
function Yg(b){b.c&&(clearInterval(b.c),b.c=null)}function Yi(b){this.a=b;this.b=Mh()}function zj(b){return b.b.get(ck,b.a).then(function(b){return Ae(b)})}function Sh(){this.a=Mh()}function li(b,d){this.b=gl;this.f=T.Uint8Array?new Uint8Array(this.b):Array(this.b);this.g=this.c=0;this.a=[];this.i=b;this.h=d;this.o=T.Int32Array?new Int32Array(64):Array(64);void 0!==wj||(T.Int32Array?wj=new Int32Array(hl):wj=hl);this.reset()}function Uh(b){for(var d=b.f,c=b.o,g=0,l=0;l<d.length;)c[g++]=d[l]<<24|d[l+
1]<<16|d[l+2]<<8|d[l+3],l=4*g;for(d=16;64>d;d++){l=c[d-15]|0;g=c[d-2]|0;var a=(c[d-16]|0)+((l>>>7|l<<25)^(l>>>18|l<<14)^l>>>3)|0,h=(c[d-7]|0)+((g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)|0;c[d]=a+h|0}g=b.a[0]|0;l=b.a[1]|0;var A=b.a[2]|0,m=b.a[3]|0,v=b.a[4]|0,y=b.a[5]|0,t=b.a[6]|0;a=b.a[7]|0;for(d=0;64>d;d++){var e=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&l^g&A^l&A)|0;h=v&y^~v&t;a=a+((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))|0;h=h+(wj[d]|0)|0;h=a+(h+(c[d]|0)|0)|0;a=t;t=y;y=v;v=m+h|0;m=A;A=l;l=
g;g=h+e|0}b.a[0]=b.a[0]+g|0;b.a[1]=b.a[1]+l|0;b.a[2]=b.a[2]+A|0;b.a[3]=b.a[3]+m|0;b.a[4]=b.a[4]+v|0;b.a[5]=b.a[5]+y|0;b.a[6]=b.a[6]+t|0;b.a[7]=b.a[7]+a|0}function Wf(b,d,c){void 0===c&&(c=d.length);var g=0,l=b.c;if(f(d))for(;g<c;)b.f[l++]=d.charCodeAt(g++),l==b.b&&(Uh(b),l=0);else if(k(d))for(;g<c;){var a=d[g++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(a|0)))throw Error("message must be a byte array");b.f[l++]=a;l==b.b&&(Uh(b),l=0)}else throw Error("message must be string or array");b.c=l;b.g+=
c}function Vh(){li.call(this,8,Bm)}function ah(b,d,c,g,l){this.l=b;this.i=d;this.o=c;this.m=g||null;this.u=l||null;this.h=d+":"+c;this.v=new Sh;this.g=new Yi(this.h);this.f=null;this.b=[];this.a=this.c=null}function $g(b){return new I("invalid-cordova-configuration",b)}function Hj(){for(var b=20,d=[];0<b;)d.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),b--;return d.join("")}function Ii(b){var d=new Vh;Wf(d,b);b=[];var c=8*d.g;56>d.c?Wf(d,
il,56-d.c):Wf(d,il,d.b-(d.c-56));for(var g=63;56<=g;g--)d.f[g]=c&255,c/=256;Uh(d);for(g=c=0;g<d.i;g++)for(var l=24;0<=l;l-=8)b[c++]=d.a[g]>>l&255;return Fg(b)}function mi(b,d,g,l){var a=Hj(),h=new rd(d,l,null,a,new I("no-auth-event")),A=c("BuildInfo.packageName",T);if("string"!==typeof A)throw new I("invalid-cordova-configuration");var v=c("BuildInfo.displayName",T),y={};if(m().toLowerCase().match(/iphone|ipad|ipod/))y.ibi=A;else if(m().toLowerCase().match(/android/))y.apn=A;else return oa(new I("operation-not-supported-in-this-environment"));
v&&(y.appDisplayName=v);a=Ii(a);y.sessionId=a;var t=Tf(b.l,b.i,b.o,d,g,null,l,b.m,y,b.u);return b.ga().then(function(){var d=b.h;return b.v.a.set(ck,h.w(),d)}).then(function(){var d=c("cordova.plugins.browsertab.isAvailable",T);if("function"!==typeof d)throw new I("invalid-cordova-configuration");var g=null;d(function(d){if(d){g=c("cordova.plugins.browsertab.openUrl",T);if("function"!==typeof g)throw new I("invalid-cordova-configuration");g(t)}else{g=c("cordova.InAppBrowser.open",T);if("function"!==
typeof g)throw new I("invalid-cordova-configuration");d=m();b.a=g(t,d.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||d.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location\x3dyes")}})})}function wi(b,d){for(var c=0;c<b.b.length;c++)try{b.b[c](d)}catch(mg){}}function bh(b){b.f||(b.f=b.ga().then(function(){return new za(function(d){function c(g){d(g);b.Ka(c);return!1}b.wa(c);Aj(b)})}));return b.f}function Qi(b){var d=null;return zj(b.g).then(function(c){d=c;c=b.g;return xg(c.b,ck,c.a)}).then(function(){return d})}
function Aj(b){function d(d){l=!0;a&&a.cancel();Qi(b).then(function(c){var l=g;if(c&&d&&d.url){var a=null;l=aa(d.url);-1!=l.indexOf("/__/auth/callback")&&(a=ac(l),a=Sb(Oa(a,"firebaseError")||null),a=(a="object"===typeof a?Ff(a):null)?new rd(c.c,c.b,null,null,a):new rd(c.c,c.b,l,c.f));l=a||g}wi(b,l)})}var g=new rd("unknown",null,null,null,new I("no-auth-event")),l=!1,a=ab(500).then(function(){return Qi(b).then(function(){l||wi(b,g)})}),h=T.handleOpenURL;T.handleOpenURL=function(b){0==b.toLowerCase().indexOf(c("BuildInfo.packageName",
T).toLowerCase()+"://")&&d({url:b});if("function"===typeof h)try{h(b)}catch(qi){console.error(qi)}};dk||(dk=new cd);dk.subscribe(d)}function Fi(b){this.a=b;this.b=Mh()}function Gi(b){return b.b.set(ek,"pending",b.a)}function Li(b){return xg(b.b,ek,b.a)}function dj(b){return b.b.get(ek,b.a).then(function(b){return"pending"==b})}function Fh(b,d,c){this.i={};this.u=0;this.A=b;this.l=d;this.m=c;this.h=[];this.f=!1;this.o=J(this.cb,this);this.b=new Ke;this.v=new $h;this.g=new Fi(this.l+":"+this.m);this.c=
{};this.c.unknown=this.b;this.c.signInViaRedirect=this.b;this.c.linkViaRedirect=this.b;this.c.reauthViaRedirect=this.b;this.c.signInViaPopup=this.v;this.c.linkViaPopup=this.v;this.c.reauthViaPopup=this.v;this.a=bj(this.A,this.l,this.m,xj)}function bj(b,d,c,g){var l=Ta.SDK_VERSION||null;return ib()?new ah(b,d,c,l,g):new Tg(b,d,c,l,g)}function Wh(b){b.f||(b.f=!0,b.a.wa(b.o));var d=b.a;return b.a.ga().s(function(c){b.a==d&&b.reset();throw c;})}function yg(b){b.a.Mb()&&Wh(b).s(function(d){var c=new rd("unknown",
null,null,null,new I("operation-not-supported-in-this-environment"));wd(d)&&b.cb(c)});b.a.Hb()||Xh(b.b)}function Af(b,d,c,g,l,a){return b.a.Db(d,c,g,function(){b.f||(b.f=!0,b.a.wa(b.o))},function(){b.reset()},l,a)}function wd(b){return b&&"auth/cordova-not-ready"==b.code?!0:!1}function ne(b,d,c){var g=d+":"+c;fk[g]||(fk[g]=new Fh(b,d,c));return fk[g]}function Ke(){this.b=null;this.f=[];this.c=[];this.a=null;this.i=this.g=!1}function Xh(b){b.g||(b.g=!0,cf(b,!1,null,null))}function xi(b,d,c){c=c.xa(d.c,
d.b);var g=d.g,l=d.f,a=d.h,h=!!d.c.match(/Redirect$/);c(g,l,a).then(function(d){cf(b,h,d,null)}).s(function(d){cf(b,h,null,d)})}function Zi(b,d){b.b=function(){return oa(d)};if(b.c.length)for(var c=0;c<b.c.length;c++)b.c[c](d)}function zh(b,d){b.b=function(){return ha(d)};if(b.f.length)for(var c=0;c<b.f.length;c++)b.f[c](d)}function cf(b,d,c,g){d?g?Zi(b,g):zh(b,c):zh(b,{user:null});b.f=[];b.c=[]}function fh(b){var d=new I("timeout");b.a&&b.a.cancel();b.a=ab(Cm.get()).then(function(){b.b||(b.g=!0,
cf(b,!0,null,d))})}function $h(){}function Ah(b,d){var c=b.b,g=b.c;d.xa(g,c)(b.g,b.f,b.h).then(function(b){d.ha(g,b,null,c)}).s(function(b){d.ha(g,null,b,c)})}function Le(){this.tb=!1;Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.tb},set:function(b){this.tb=b},enumerable:!1})}function Bg(b,d){this.a=d;na(this,"verificationId",b)}function Ag(b,d,c,g){return(new v(b)).Va(d,c).then(function(b){return new Bg(b,g)})}function eh(b){var d=zc(b);if(!(d&&d.exp&&d.auth_time&&
d.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");gc(this,{token:b,expirationTime:Tb(1E3*d.exp),authTime:Tb(1E3*d.auth_time),issuedAtTime:Tb(1E3*d.iat),signInProvider:d.firebase&&d.firebase.sign_in_provider?d.firebase.sign_in_provider:null,claims:d})}function Ci(b,d,c){this.h=b;this.i=d;this.g=c;this.c=3E4;this.f=96E4;this.b=null;this.a=this.c;if(this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!");
}function Ch(b,d){if(d)return b.a=b.c,b.g();d=b.a;b.a*=2;b.a>b.f&&(b.a=b.f);return d}function Ai(b,d){b.stop();b.b=ab(Ch(b,d)).then(function(){return Da()}).then(function(){return b.h()}).then(function(){Ai(b,!0)}).s(function(d){b.i(d)&&Ai(b,!1)})}function Di(b){this.f=b;this.b=this.a=null;this.c=0}function ih(b,d){var c=d[uf],g=d.refreshToken;d=di(d.expiresIn);b.b=c;b.c=d;b.a=g}function Ei(b,d){b.b=d.b;b.a=d.a;b.c=d.c}function di(b){return ng()+1E3*parseInt(b,10)}function Zh(b,d){return vh(b.f,d).then(function(d){b.b=
d.access_token;b.c=di(d.expires_in);b.a=d.refresh_token;return{accessToken:b.b,expirationTime:b.c,refreshToken:b.a}}).s(function(d){"auth/user-token-expired"==d.code&&(b.a=null);throw d;})}function Yf(b,d){this.a=b||null;this.b=d||null;gc(this,{lastSignInTime:Tb(d||null),creationTime:Tb(b||null)})}function Zf(b){return new Yf(b.a,b.b)}function zd(b,d,c,g,l,a){gc(this,{uid:b,displayName:g||null,photoURL:l||null,email:c||null,phoneNumber:a||null,providerId:d})}function ae(b,d){rb.call(this,b);for(var c in d)this[c]=
d[c]}function ad(b,d,c){this.G=[];this.l=b.apiKey;this.m=b.appName;this.u=b.authDomain||null;b=Ta.SDK_VERSION?Vb(Ta.SDK_VERSION):null;this.b=new ue(this.l,dd(xj),b);this.h=new Di(this.b);Dg(this,d[uf]);ih(this.h,d);na(this,"refreshToken",this.h.a);we(this,c||{});Ea.call(this);this.I=!1;this.u&&t()&&(this.a=ne(this.u,this.l,this.m));this.N=[];this.i=null;this.A=Bh(this);this.V=J(this.Ha,this);var g=this;this.ka=null;this.ta=function(b){g.pa(b.g)};this.X=null;this.O=[];this.sa=function(b){df(g,b.c)};
this.W=null}function yd(b,d){b.X&&$a(b.X,"languageCodeChanged",b.ta);(b.X=d)&&Jb(d,"languageCodeChanged",b.ta)}function df(b,d){b.O=d;oh(b.b,Ta.SDK_VERSION?Vb(Ta.SDK_VERSION,b.O):null)}function Eg(b,d){b.W&&$a(b.W,"frameworkChanged",b.sa);(b.W=d)&&Jb(d,"frameworkChanged",b.sa)}function Me(b){try{return Ta.app(b.m).auth()}catch(Qc){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+b.m+"'!");}}function Bh(b){return new Ci(function(){return b.F(!0)},function(b){return b&&
"auth/network-request-failed"==b.code?!0:!1},function(){var d=b.h.c-ng()-3E5;return 0<d?d:0})}function dh(b){b.D||b.A.b||(b.A.start(),$a(b,"tokenChanged",b.V),Jb(b,"tokenChanged",b.V))}function Ne(b){$a(b,"tokenChanged",b.V);b.A.stop()}function Dg(b,d){b.ra=d;na(b,"_lat",d)}function yi(b,d){Z(b.N,function(b){return b==d})}function Cg(b){for(var d=[],c=0;c<b.N.length;c++)d.push(b.N[c](b));return bc(d).then(function(){return b})}function ch(b){b.a&&!b.I&&(b.I=!0,b.a.subscribe(b))}function we(b,d){gc(b,
{uid:d.uid,displayName:d.displayName||null,photoURL:d.photoURL||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,isAnonymous:d.isAnonymous||!1,metadata:new Yf(d.createdAt,d.lastLoginAt),providerData:[]})}function Cf(){}function Qe(b){return ha().then(function(){if(b.D)throw new I("app-deleted");})}function zi(b){return Sj(b.providerData,function(b){return b.providerId})}function Oe(b,d){d&&(bi(b,d.providerId),b.providerData.push(d))}function bi(b,d){Z(b.providerData,
function(b){return b.providerId==d})}function ye(b,d,c){("uid"!=d||c)&&b.hasOwnProperty(d)&&na(b,d,c)}function jf(b,d){b!=d&&(gc(b,{uid:d.uid,displayName:d.displayName,photoURL:d.photoURL,email:d.email,emailVerified:d.emailVerified,phoneNumber:d.phoneNumber,isAnonymous:d.isAnonymous,providerData:[]}),d.metadata?na(b,"metadata",Zf(d.metadata)):na(b,"metadata",new Yf),gd(d.providerData,function(d){Oe(b,d)}),Ei(b.h,d.h),na(b,"refreshToken",b.h.a))}function Gg(b){return b.F().then(function(d){var c=b.isAnonymous;
return aj(b,d).then(function(){c||ye(b,"isAnonymous",!1);return d})})}function bg(b,d){d[uf]&&b.ra!=d[uf]&&(ih(b.h,d),b.dispatchEvent(new ae("tokenChanged")),Dg(b,d[uf]),ye(b,"refreshToken",b.h.a))}function aj(b,d){return Wa(b.b,Dm,{idToken:d}).then(J(b.zc,b))}function ai(b){return(b=b.providerUserInfo)&&b.length?Sj(b,function(b){return new zd(b.rawId,b.providerId,b.email,b.displayName,b.photoUrl,b.phoneNumber)}):[]}function gh(b,d){return Gg(b).then(function(){if(N(zi(b),d))return Cg(b).then(function(){throw new I("provider-already-linked");
})})}function Re(b,d,c){var g=Be(d);d=nd(d);return nb({user:b,credential:g,additionalUserInfo:d,operationType:c})}function Ji(b,d){bg(b,d);return b.reload().then(function(){return b})}function fi(b,d,c,g,l){if(!t())return oa(new I("operation-not-supported-in-this-environment"));if(b.i&&!l)return oa(b.i);var a=kf(c.providerId),h=Mc(b.uid+":::"),m=null;(!bd()||Zc())&&b.u&&c.isOAuthProvider&&(m=Tf(b.u,b.l,b.m,d,c,null,h,Ta.SDK_VERSION||null));var v=hb(m,a&&a.Ba,a&&a.Aa);g=g().then(function(){Ki(b);if(!l)return b.F().then(function(){})}).then(function(){return Af(b.a,
v,d,c,h,!!m)}).then(function(){return new za(function(c,g){b.ha(d,null,new I("cancelled-popup-request"),b.g||null);b.f=c;b.v=g;b.g=h;b.c=b.a.Ea(b,d,v,h)})}).then(function(b){v&&Kb(v);return b?nb(b):null}).s(function(b){v&&Kb(v);throw b;});return od(b,g,l)}function Hi(b,d,c,g,l){if(!t())return oa(new I("operation-not-supported-in-this-environment"));if(b.i&&!l)return oa(b.i);var a=null,h=Mc(b.uid+":::");g=g().then(function(){Ki(b);if(!l)return b.F().then(function(){})}).then(function(){b.aa=h;return Cg(b)}).then(function(d){b.ba&&
(d=b.ba,d=d.b.set(gk,b.w(),d.a));return d}).then(function(){return b.a.Ca(d,c,h)}).s(function(d){a=d;if(b.ba)return jc(b.ba);throw a;}).then(function(){if(a)throw a;});return od(b,g,l)}function Ki(b){if(!b.a||!b.I){if(b.a&&!b.I)throw new I("internal-error");throw new I("auth-domain-config-required");}}function od(b,d,c){var g=Cj(b,d,c);b.G.push(g);g.ia(function(){O(b.G,g)});return g}function Cj(b,d,c){return b.i&&!c?(d.cancel(),oa(b.i)):d.s(function(d){!d||"auth/user-disabled"!=d.code&&"auth/user-token-expired"!=
d.code||(b.i||b.dispatchEvent(new ae("userInvalidated")),b.i=d);throw d;})}function gi(b){if(!b.apiKey)return null;var d={apiKey:b.apiKey,authDomain:b.authDomain,appName:b.appName},c={};if(b.stsTokenManager&&b.stsTokenManager.accessToken&&b.stsTokenManager.expirationTime)c[uf]=b.stsTokenManager.accessToken,c.refreshToken=b.stsTokenManager.refreshToken||null,c.expiresIn=(b.stsTokenManager.expirationTime-ng())/1E3;else return null;var g=new ad(d,c,b);b.providerData&&gd(b.providerData,function(b){b&&
Oe(g,nb(b))});b.redirectEventId&&(g.aa=b.redirectEventId);return g}function cj(b,d,c,g){var l=new ad(b,d);c&&(l.ba=c);g&&df(l,g);return l.reload().then(function(){return l})}function Mi(b,d,c,g){d=d||{apiKey:b.l,authDomain:b.u,appName:b.m};var l=b.h,a={};a[uf]=l.b;a.refreshToken=l.a;a.expiresIn=(l.c-ng())/1E3;d=new ad(d,a);c&&(d.ba=c);g&&df(d,g);jf(d,b);return d}function fg(b){this.a=b;this.b=Mh()}function jc(b){return xg(b.b,gk,b.a)}function mf(b,d){return b.b.get(gk,b.a).then(function(b){b&&d&&
(b.authDomain=d);return gi(b||{})})}function Bd(b){this.a=b;this.b=Mh();this.c=null;this.f=Bi(this);this.b.addListener(va("local"),this.a,J(this.g,this))}function Hf(b,d){var c=[],g;for(g in ri)ri[g]!==d&&c.push(xg(b.b,va(ri[g]),b.a));c.push(xg(b.b,hk,b.a));return vb(c)}function Bi(b){var d=va("local"),c=va("session"),g=va("none");return kj(b.b,d,b.a).then(function(){return b.b.get(c,b.a)}).then(function(l){return l?c:b.b.get(g,b.a).then(function(c){return c?g:b.b.get(d,b.a).then(function(c){return c?
d:b.b.get(hk,b.a).then(function(b){return b?va(b):d})})})}).then(function(d){b.c=d;return Hf(b,d.B)}).s(function(){b.c||(b.c=d)})}function va(b){return{name:"authUser",B:b}}function ei(b){return re(b,function(){return b.b.set(hk,b.c.B,b.a)})}function ci(b,d){return re(b,function(){return b.b.set(b.c,d.w(),b.a)})}function Eh(b){return re(b,function(){return xg(b.b,b.c,b.a)})}function Dh(b,d){return re(b,function(){return b.b.get(b.c,b.a).then(function(b){b&&d&&(b.authDomain=d);return gi(b||{})})})}
function re(b,d){b.f=b.f.then(d,d);return b.f}function Ac(b){this.l=!1;na(this,"settings",new Le);na(this,"app",b);if(this.app.options&&this.app.options.apiKey)b=Ta.SDK_VERSION?Vb(Ta.SDK_VERSION):null,this.b=new ue(this.app.options&&this.app.options.apiKey,dd(xj),b);else throw new I("invalid-api-key");this.N=[];this.m=[];this.I=[];this.Tb=Ta.INTERNAL.createSubscribe(J(this.oc,this));this.O=void 0;this.Ub=Ta.INTERNAL.createSubscribe(J(this.pc,this));he(this,null);this.h=new Bd(this.app.options.apiKey+
":"+this.app.name);this.A=new fg(this.app.options.apiKey+":"+this.app.name);this.V=zb(this,ii(this));this.i=zb(this,Cd(this));this.X=!1;this.ka=J(this.Oc,this);this.Ha=J(this.Z,this);this.ra=J(this.bc,this);this.sa=J(this.mc,this);this.ta=J(this.nc,this);pf(this);this.INTERNAL={};this.INTERNAL["delete"]=J(this.delete,this);this.INTERNAL.logFramework=J(this.vc,this);this.u=0;Ea.call(this);hi(this);this.G=[]}function Ud(b){rb.call(this,"languageCodeChanged");this.g=b}function Hh(b){rb.call(this,"frameworkChanged");
this.c=b}function hi(b){Object.defineProperty(b,"lc",{get:function(){return this.ea()},set:function(b){this.pa(b)},enumerable:!1});b.W=null}function ed(b){return b.Sb||oa(new I("auth-domain-config-required"))}function pf(b){var d=b.app.options.authDomain,c=b.app.options.apiKey;d&&t()&&(b.Sb=b.V.then(function(){if(!b.l){b.a=ne(d,c,b.app.name);b.a.subscribe(b);b.currentUser&&ch(b.currentUser);if(b.D){ch(b.D);var g=b.D;g.pa(b.ea());yd(g,b);g=b.D;df(g,b.G);Eg(g,b);b.D=null}return b.a}}))}function Dd(b,
d){var c={};c.apiKey=b.app.options.apiKey;c.authDomain=b.app.options.authDomain;c.appName=b.app.name;return b.V.then(function(){return cj(c,d,b.A,b.ya())}).then(function(d){if(b.currentUser&&d.uid==b.currentUser.uid)return jf(b.currentUser,d),b.Z(d);he(b,d);ch(d);return b.Z(d)}).then(function(){Ig(b)})}function he(b,d){b.currentUser&&(yi(b.currentUser,b.Ha),$a(b.currentUser,"tokenChanged",b.ra),$a(b.currentUser,"userDeleted",b.sa),$a(b.currentUser,"userInvalidated",b.ta),Ne(b.currentUser));d&&(d.N.push(b.Ha),
Jb(d,"tokenChanged",b.ra),Jb(d,"userDeleted",b.sa),Jb(d,"userInvalidated",b.ta),0<b.u&&dh(d));na(b,"currentUser",d);d&&(d.pa(b.ea()),yd(d,b),df(d,b.G),Eg(d,b))}function jh(b){var d=mf(b.A,b.app.options.authDomain).then(function(d){if(b.D=d)d.ba=b.A;return jc(b.A)});return zb(b,d)}function ii(b){var d=b.app.options.authDomain,c=jh(b).then(function(){return Dh(b.h,d)}).then(function(d){return d?(d.ba=b.A,b.D&&(b.D.aa||null)==(d.aa||null)?d:d.reload().then(function(){return ci(b.h,d).then(function(){return d})}).s(function(c){return"auth/network-request-failed"==
c.code?d:Eh(b.h)})):null}).then(function(d){he(b,d||null)});return zb(b,c)}function Cd(b){return b.V.then(function(){return b.fa()}).s(function(){}).then(function(){if(!b.l)return b.ka()}).s(function(){}).then(function(){if(!b.l){b.X=!0;var d=b.h;d.b.addListener(va("local"),d.a,b.ka)}})}function hg(b,d){var c=null,g=null;return zb(b,d.then(function(d){c=Be(d);g=nd(d);return Dd(b,d)}).then(function(){return nb({user:b.currentUser,credential:c,additionalUserInfo:g,operationType:"signIn"})}))}function Kf(b){return b.currentUser&&
b.currentUser._lat||null}function Ig(b){if(b.X){for(var d=0;d<b.m.length;d++)if(b.m[d])b.m[d](Kf(b));if(b.O!==b.getUid()&&b.I.length)for(b.O=b.getUid(),d=0;d<b.I.length;d++)if(b.I[d])b.I[d](Kf(b))}}function of(b,d){b.I.push(d);zb(b,b.i.then(function(){!b.l&&N(b.I,d)&&b.O!==b.getUid()&&(b.O=b.getUid(),d(Kf(b)))}))}function zb(b,d){b.N.push(d);d.ia(function(){O(b.N,d)});return d}function Gh(){}function nf(){this.a={};this.b=1E12}function Jh(b,d){return(d=Ih(d))?b.a[d]||null:null}function Ih(b){return(b=
"undefined"===typeof b?1E12:b)?b.toString():null}function Nh(b,d){this.g=!1;this.c=d;this.a=this.b=null;this.h="invisible"!==this.c.size;this.f=yc(b);var c=this;this.i=function(){c.execute()};this.h?this.execute():Jb(this.f,"click",this.i)}function ni(b){if(b.g)throw Error("reCAPTCHA mock was already deleted!");}function oi(){}function P(){this.b=T.grecaptcha?Infinity:0;this.f=null;this.a="__rcb"+Math.floor(1E6*Math.random()).toString()}function wa(b,d,g,l,a,h,m){na(this,"type","recaptcha");this.c=
this.f=null;this.D=!1;this.l=d;this.g=null;m?(ik||(ik=new oi),m=ik):(jk||(jk=new P),m=jk);this.m=m;this.a=g||{theme:"light",type:"image"};this.h=[];if(this.a[jl])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");this.i="invisible"===this.a[Em];if(!T.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!yc(d)||
!this.i&&yc(d).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new ue(b,h||null,a||null);this.v=l||function(){return null};var v=this;this.o=[];var y=this.a[kl];this.a[kl]=function(b){mc(v,b);if("function"===typeof y)y(b);else if("string"===typeof y){var d=c(y,T);"function"===typeof d&&d(b)}};var t=this.a[ll];this.a[ll]=function(){mc(v,null);if("function"===typeof t)t();else if("string"===typeof t){var b=c(t,T);"function"===
typeof b&&b()}}}function mc(b,d){for(var c=0;c<b.o.length;c++)try{b.o[c](d)}catch(mg){}}function si(b,d){Z(b.o,function(b){return b==d})}function ti(b,d){b.h.push(d);d.ia(function(){O(b.h,d)});return d}function Og(b){if(b.D)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.");}function ui(b,d,c){var g=!1;try{this.b=c||Ta.app()}catch(Mg){throw new I("argument-error","No firebase.app.App instance is currently initialized.");}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;
else throw new I("invalid-api-key");var l=this,a=null;try{a=this.b.auth().ya()}catch(Mg){}try{g=this.b.auth().settings.appVerificationDisabledForTesting}catch(Mg){}a=Ta.SDK_VERSION?Vb(Ta.SDK_VERSION,a):null;wa.call(this,c,b,d,function(){try{var b=l.b.auth().ea()}catch(qi){b=null}return b},a,dd(xj),g)}function Pg(b,d,c,g){a:{c=Array.prototype.slice.call(c);for(var l=0,a=!1,h=0;h<d.length;h++)if(d[h].optional)a=!0;else{if(a)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");
l++}a=d.length;if(c.length<l||a<c.length)g="Expected "+(l==a?1==l?"1 argument":l+" arguments":l+"-"+a+" arguments")+" but got "+c.length+".";else{for(l=0;l<c.length;l++)if(a=d[l].optional&&void 0===c[l],!d[l].M(c[l])&&!a){d=d[l];if(0>l||l>=ml.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");c=ml[l];g=(g?"":c+" argument ")+(d.name?'"'+d.name+'" ':"")+"must be "+d.K+".";break a}g=null}}if(g)throw new I("argument-error",b+" failed: "+g);}function ta(b,
d){return{name:b||"",K:"a valid string",optional:!!d,M:f}}function yj(b,d){return{name:b||"",K:"a boolean",optional:!!d,M:n}}function Cc(b,d){return{name:b||"",K:"a valid object",optional:!!d,M:S}}function Th(b,d){return{name:b||"",K:"a function",optional:!!d,M:e}}function Zg(b,d){return{name:b||"",K:"null",optional:!!d,M:R}}function rk(){return{name:"",K:"an HTML element",optional:!1,M:function(b){return!!(b&&b instanceof Element)}}}function wl(){return{name:"auth",K:"an instance of Firebase Auth",
optional:!0,M:function(b){return!!(b&&b instanceof Ac)}}}function yl(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(b){return!!(b&&b instanceof Ta.app.App)}}}function Bf(b){return{name:b?b+"Credential":"credential",K:b?"a valid "+b+" credential":"a valid credential",optional:!1,M:function(d){if(!d)return!1;var c=!b||d.providerId===b;return!(!d.la||!c)}}}function Yh(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(b){return!!(b&&b.providerId&&
b.hasOwnProperty&&b.hasOwnProperty("isOAuthProvider"))}}}function $i(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(b){return!!(b&&f(b.type)&&e(b.verify))}}}function Nd(b,d,c,g){return{name:c||"",K:b.K+" or "+d.K,optional:!!g,M:function(c){return b.M(c)||d.M(c)}}}function $c(b,d){for(var c in d){var g=d[c].name;b[g]=tk(g,b[c],d[c].j)}}function sk(b,d){for(var c in d){var g=d[c].name;g!==c&&Object.defineProperty(b,g,{get:E(function(b){return this[b]},
c),set:E(function(b,d,c,g){Pg(b,[c],[g],!0);this[d]=g},g,c,d[c].ub),enumerable:!0})}}function Od(b,d,c,g){b[d]=tk(d,c,g)}function tk(b,d,c){function g(){var b=Array.prototype.slice.call(arguments);Pg(l,c,b);return d.apply(this,b)}if(!c)return d;var l=xl(b),a;for(a in d)g[a]=d[a];for(a in d.prototype)g.prototype[a]=d.prototype[a];return g}function xl(b){b=b.split(".");return b[b.length-1]}var Ta=a(151).default,Bj=Bj||{},T=this,Nl=/^[\w+/_-]+[=]{0,2}$/,Pj=null,oj="closure_uid_"+(1E9*Math.random()>>>
0),Bk=0,ng=Date.now||function(){return+new Date};Q(H,Error);H.prototype.name="CustomError";Q(ca,H);ca.prototype.name="AssertionError";V.prototype.get=function(){if(0<this.b){this.b--;var b=this.a;this.a=b.next;b.next=null}else b=this.c();return b};var xk=new V(function(){return new W},function(b){b.reset()});Ja.prototype.add=function(b,d){var c=xk.get();c.set(b,d);this.b?this.b.next=c:this.a=c;this.b=c};W.prototype.set=function(b,d){this.a=b;this.b=d;this.next=null};W.prototype.reset=function(){this.next=
this.b=this.a=null};var vk=Array.prototype.indexOf?function(b,d){return Array.prototype.indexOf.call(b,d,void 0)}:function(b,d){if(f(b))return f(d)&&1==d.length?b.indexOf(d,0):-1;for(var c=0;c<b.length;c++)if(c in b&&b[c]===d)return c;return-1},gd=Array.prototype.forEach?function(b,d,c){Array.prototype.forEach.call(b,d,c)}:function(b,d,c){for(var g=b.length,l=f(b)?b.split(""):b,a=0;a<g;a++)a in l&&d.call(c,l[a],a,b)},Sj=Array.prototype.map?function(b,d){return Array.prototype.map.call(b,d,void 0)}:
function(b,d){for(var c=b.length,g=Array(c),l=f(b)?b.split(""):b,a=0;a<c;a++)a in l&&(g[a]=d.call(void 0,l[a],a,b));return g},em=Array.prototype.some?function(b,d){return Array.prototype.some.call(b,d,void 0)}:function(b,d){for(var c=b.length,g=f(b)?b.split(""):b,l=0;l<c;l++)if(l in g&&d.call(void 0,g[l],l,b))return!0;return!1},Ck=String.prototype.trim?function(b){return b.trim()}:function(b){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(b)[1]},Al=/&/g,Bl=/</g,Cl=/>/g,Dl=/"/g,El=/'/g,Fl=/\x00/g,zl=
/[\x00&<>"']/;a:{var nl=T.navigator;if(nl){var ol=nl.userAgent;if(ol){var Si=ol;break a}}Si=""}var wk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Jj,mj,Ij=!1,uk=new Ja,Oh=0,Ui=2,Ng=3;ra.prototype.reset=function(){this.f=this.b=this.g=this.a=null;this.c=!1};var yk=new V(function(){return new ra},function(b){b.reset()});za.prototype.then=function(b,d,c){return sd(this,e(b)?b:null,e(d)?d:null,c)};za.prototype.$goog_Thenable=!0;var B=za.prototype;
B.ia=function(b,d){b=Ka(b,b,d);b.c=!0;Ob(this,b);return this};B.s=function(b,d){return sd(this,null,b,d)};B.cancel=function(b){this.a==Oh&&Ib(function(){var d=new Pb(b);Ec(this,d)},this)};B.Pc=function(b){this.a=Oh;Eb(this,Ui,b)};B.Qc=function(b){this.a=Oh;Eb(this,Ng,b)};B.Yb=function(){for(var b;b=nc(this);)Sa(this,b,this.a,this.i);this.h=!1};var zk=K;Q(Pb,H);Pb.prototype.name="cancel";var Kj=0,Ak={};Yb.prototype.qa=!1;Yb.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()};
ua[" "]=q;var Fm=la("Opera"),Mf=la("Trident")||la("MSIE"),pl=la("Edge"),Ql=pl||Mf,Dk=la("Gecko")&&!(ba(Si.toLowerCase(),"webkit")&&!la("Edge"))&&!(la("Trident")||la("MSIE"))&&!la("Edge"),Gm=ba(Si.toLowerCase(),"webkit")&&!la("Edge");a:{var kk="",lk=function(){var b=Si;if(Dk)return/rv:([^\);]+)(\)|;)/.exec(b);if(pl)return/Edge\/([\d\.]+)/.exec(b);if(Mf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(b);if(Gm)return/WebKit\/(\S+)/.exec(b);if(Fm)return/(?:Version)[ \/]?(\S+)/.exec(b)}();lk&&(kk=lk?lk[1]:
"");if(Mf){var mk=Sc();if(null!=mk&&mk>parseFloat(kk)){var Lj=String(mk);break a}}Lj=kk}var Gl={},ql=T.document;var uh=ql&&Mf?Sc()||("CSS1Compat"==ql.compatMode?parseInt(Lj,10):5):void 0;var Hm=Object.freeze||function(b){return b},Fk=!Mf||9<=Number(uh),Im=Mf&&!Tc("9"),Jl=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var b=!1,d=Object.defineProperty({},"passive",{get:function(){b=!0}});try{T.addEventListener("test",q,d),T.removeEventListener("test",q,d)}catch(Ri){}return b}();
rb.prototype.preventDefault=function(){this.Kb=!1};Q(qb,rb);var Hl=Hm({2:"touch",3:"pen",4:"mouse"});qb.prototype.preventDefault=function(){qb.pb.preventDefault.call(this);var b=this.a;if(b.preventDefault)b.preventDefault();else if(b.returnValue=!1,Im)try{if(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)b.keyCode=-1}catch(Qc){}};qb.prototype.f=function(){return this.a};var Vi="closure_listenable_"+(1E6*Math.random()|0),Il=0;Za.prototype.add=function(b,d,c,g,l){var a=b.toString();(b=this.a[a])||(b=this.a[a]=
[],this.b++);var h=lb(b,d,g,l);-1<h?(d=b[h],c||(d.Ia=!1)):(d=new Aa(d,this.src,a,!!g,l),d.Ia=c,b.push(d));return d};var Mj="closure_lm_"+(1E6*Math.random()|0),Nj={},Ek=0,Oj="__closure_events_fn_"+(1E9*Math.random()>>>0);Q(Ea,Yb);Ea.prototype[Vi]=!0;Ea.prototype.addEventListener=function(b,d,c,g){Jb(this,b,d,c,g)};Ea.prototype.removeEventListener=function(b,d,c,g){$a(this,b,d,c,g)};Ea.prototype.dispatchEvent=function(b){var d,c=this.Wa;if(c)for(d=[];c;c=c.Wa)d.push(c);c=this.Rb;var g=b.type||b;if(f(b))b=
new rb(b,c);else if(b instanceof rb)b.target=b.target||c;else{var l=b;b=new rb(g,c);La(b,l)}l=!0;if(d)for(var a=d.length-1;0<=a;a--){var h=b.b=d[a];l=id(h,g,!0,b)&&l}h=b.b=c;l=id(h,g,!0,b)&&l;l=id(h,g,!1,b)&&l;if(d)for(a=0;a<d.length;a++)h=b.b=d[a],l=id(h,g,!1,b)&&l;return l};Ea.prototype.va=function(){Ea.pb.va.call(this);if(this.o){var b=this.o,d=0,c;for(c in b.a){for(var g=b.a[c],l=0;l<g.length;l++)++d,Fc(g[l]);delete b.a[c];b.b--}}this.Wa=null};B=M.prototype;B.S=function(){td(this);for(var b=[],
d=0;d<this.a.length;d++)b.push(this.b[this.a[d]]);return b};B.U=function(){td(this);return this.a.concat()};B.clear=function(){this.b={};this.c=this.a.length=0};B.get=function(b,d){return pc(this.b,b)?this.b[b]:d};B.set=function(b,d){pc(this.b,b)||(this.c++,this.a.push(b));this.b[b]=d};B.forEach=function(b,d){for(var c=this.U(),g=0;g<c.length;g++){var l=c[g],a=this.get(l);b.call(d,a,l,this)}};var Gk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;
Ia.prototype.toString=function(){var b=[],d=this.c;d&&b.push(Qb(d,rl,!0),":");var c=this.b;if(c||"file"==d)b.push("//"),(d=this.o)&&b.push(Qb(d,rl,!0),"@"),b.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.i,null!=c&&b.push(":",String(c));if(c=this.g)this.b&&"/"!=c.charAt(0)&&b.push("/"),b.push(Qb(c,"/"==c.charAt(0)?Jm:Km,!0));(c=this.a.toString())&&b.push("?",c);(c=this.h)&&b.push("#",Qb(c,Lm));return b.join("")};var rl=/[#\/\?@]/g,Km=/[#\?:]/g,Jm=/[#\?]/g,Kl=/[#\?@]/g,
Lm=/#/g;B=cb.prototype;B.add=function(b,d){vc(this);this.c=null;b=Fb(this,b);var c=this.a.get(b);c||this.a.set(b,c=[]);c.push(d);this.b+=1;return this};B.clear=function(){this.a=this.c=null;this.b=0};B.forEach=function(b,d){vc(this);this.a.forEach(function(c,g){gd(c,function(c){b.call(d,c,g,this)},this)},this)};B.U=function(){vc(this);for(var b=this.a.S(),d=this.a.U(),c=[],g=0;g<d.length;g++)for(var l=b[g],a=0;a<l.length;a++)c.push(d[g]);return c};B.S=function(b){vc(this);var d=[];if(f(b))vd(this,
b)&&(d=qa(d,this.a.get(Fb(this,b))));else{b=this.a.S();for(var c=0;c<b.length;c++)d=qa(d,b[c])}return d};B.set=function(b,d){vc(this);this.c=null;b=Fb(this,b);vd(this,b)&&(this.b-=this.a.get(b).length);this.a.set(b,[d]);this.b+=1;return this};B.get=function(b,d){if(!b)return d;b=this.S(b);return 0<b.length?String(b[0]):d};B.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var b=[],d=this.a.U(),c=0;c<d.length;c++){var g=d[c],l=encodeURIComponent(String(g));g=this.S(g);for(var a=
0;a<g.length;a++){var h=l;""!==g[a]&&(h+="\x3d"+encodeURIComponent(String(g[a])));b.push(h)}}return this.c=b.join("\x26")};var Ol=!Mf||9<=Number(uh);ec.prototype.na=!0;ec.prototype.ma=function(){return this.a};ec.prototype.toString=function(){return"Const{"+this.a+"}"};var Hk={},pj={};fb.prototype.na=!0;fb.prototype.ma=function(){return this.a.toString()};fb.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ml=/%{(\w+)}/g,Ll=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,
Ik={};Hb.prototype.na=!0;Hb.prototype.ma=function(){return this.a.toString()};Hb.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Kk=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Jk={};ld("about:blank");xc.prototype.na=!0;xc.prototype.ma=function(){return this.a.toString()};xc.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Lk={};Zd("\x3c!DOCTYPE html\x3e");Zd("");Zd("\x3cbr\x3e");var Mk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",
height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Nk={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Pl=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,wm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mm=/^[^@]+@[^@]+$/,Qj="Firefox",Ok="Chrome",Pk={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};xa.prototype.get=function(){var b=T.navigator;
return(b&&"boolean"===typeof b.onLine&&(X()||"chrome-extension:"===Kc()||"undefined"!==typeof b.connection)?b.onLine:1)?this.b?this.c:this.a:Math.min(5E3,this.a)};var Qk={};try{var nk={};Object.defineProperty(nk,"abcd",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(nk,"abcd",{configurable:!0,enumerable:!0,value:2});var Rk=2==nk.abcd}catch(A){Rk=!1}var Ul="EMAIL_SIGNIN",Rl="email",Sl="newEmail",Tl="requestType",Wl="email",Vl="fromEmail",Yl="data",Xl="operation";Q(I,Error);I.prototype.w=
function(){return{code:this.code,message:this.message}};I.prototype.toJSON=function(){return this.w()};var Wi="auth/",Zl={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",
"captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.",
"requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.",
"internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.",
"invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",
"invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.",
"invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",
"invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",
"invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.",
"auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.",
"missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",
"network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",
"operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.",
"quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.",
"unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.",
"user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Sk="android",Yk="dynamicLinkDomain",Rj="handleCodeInApp",Wk="iOS",$l="url",Uk="installApp",Vk="minimumVersion",Tk="packageName",Xk="bundleId",rj=null,qj=null;Ub.prototype.f=function(){return this.b};var Tj={bd:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",
jb:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};var xj=dd("__EID__")?"__EID__":void 0;var $k="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),
sj=["client_id","response_type","scope","redirect_uri","state"],Uj={Xc:{Na:"locale",Ba:500,Aa:600,Oa:"facebook.com",ib:sj},Zc:{Na:null,Ba:500,Aa:620,Oa:"github.com",ib:sj},$c:{Na:"hl",Ba:515,Aa:680,Oa:"google.com",ib:sj},fd:{Na:"lang",Ba:485,Aa:705,Oa:"twitter.com",ib:$k}},Vj="idToken",Zk="providerId";Q(L,cg);Q(Hg,L);Q(Ld,L);Q(Se,L);Q(oe,L);Oc.prototype.la=function(b){return tg(b,pe(this))};Oc.prototype.b=function(b,d){var c=pe(this);c.idToken=d;return He(b,c)};Oc.prototype.f=function(b,d){return ge(Ie(b,
pe(this)),d)};Oc.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};Qd.prototype.la=function(b){return tg(b,qe(this))};Qd.prototype.b=function(b,d){var c=qe(this);c.idToken=d;return He(b,c)};Qd.prototype.f=function(b,d){var c=qe(this);return ge(Ie(b,c),d)};Qd.prototype.w=function(){var b={providerId:this.providerId,signInMethod:this.signInMethod};this.idToken&&(b.oauthIdToken=this.idToken);this.accessToken&&(b.oauthAccessToken=this.accessToken);
this.secret&&(b.oauthTokenSecret=this.secret);this.nonce&&(b.nonce=this.nonce);this.a&&(b.pendingToken=this.a);return b};pd.prototype.Da=function(b){this.zb=Ga(b);return this};Q(Ue,pd);Q(qd,pd);qd.prototype.ua=function(b){N(this.a,b)||this.a.push(b);return this};qd.prototype.Fb=function(){return Na(this.a)};qd.prototype.credential=function(b,d){var c;S(b)?c={idToken:b.idToken||null,accessToken:b.accessToken||null,nonce:b.rawNonce||null}:c={idToken:b||null,accessToken:d||null};if(!c.idToken&&!c.accessToken)throw new I("argument-error",
"credential failed: must provide the ID token and/or the access token.");return new Qd(this.providerId,c,this.providerId)};Q(Mb,qd);na(Mb,"PROVIDER_ID","facebook.com");na(Mb,"FACEBOOK_SIGN_IN_METHOD","facebook.com");Q(pb,qd);na(pb,"PROVIDER_ID","github.com");na(pb,"GITHUB_SIGN_IN_METHOD","github.com");Q(ze,qd);na(ze,"PROVIDER_ID","google.com");na(ze,"GOOGLE_SIGN_IN_METHOD","google.com");Q(fd,pd);na(fd,"PROVIDER_ID","twitter.com");na(fd,"TWITTER_SIGN_IN_METHOD","twitter.com");sc.prototype.la=function(b){return this.signInMethod==
ob.EMAIL_LINK_SIGN_IN_METHOD?Wa(b,Mm,{email:this.a,oobCode:this.c}):Wa(b,sl,{email:this.a,password:this.c})};sc.prototype.b=function(b,d){return this.signInMethod==ob.EMAIL_LINK_SIGN_IN_METHOD?Wa(b,Nm,{idToken:d,email:this.a,oobCode:this.c}):Wa(b,tl,{idToken:d,email:this.a,password:this.c})};sc.prototype.f=function(b,d){return ge(this.la(b),d)};sc.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}};gc(ob,{PROVIDER_ID:"password"});gc(ob,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"});
gc(ob,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});ic.prototype.la=function(b){return b.Va(de(this))};ic.prototype.b=function(b,d){var c=de(this);c.idToken=d;return Wa(b,Om,c)};ic.prototype.f=function(b,d){var c=de(this);c.operation="REAUTH";b=Wa(b,Pm,c);return ge(b,d)};ic.prototype.w=function(){var b={providerId:"phone"};this.a.Ua&&(b.verificationId=this.a.Ua);this.a.Ta&&(b.verificationCode=this.a.Ta);this.a.Fa&&(b.temporaryProof=this.a.Fa);this.a.$&&(b.phoneNumber=this.a.$);return b};v.prototype.Va=
function(b,d){var c=this.a.b;return ha(d.verify()).then(function(g){if(!f(g))throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(d.type){case "recaptcha":return wh(c,{phoneNumber:b,recaptchaToken:g}).then(function(b){"function"===typeof d.reset&&d.reset();return b},function(b){"function"===typeof d.reset&&d.reset();throw b;});default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type\x3d"recaptcha" are currently supported.');
}})};gc(v,{PROVIDER_ID:"phone"});gc(v,{PHONE_SIGN_IN_METHOD:"phone"});rd.prototype.getUid=function(){var b=[];b.push(this.c);this.b&&b.push(this.b);this.f&&b.push(this.f);this.i&&b.push(this.i);return b.join("-")};rd.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var dk=null;cd.prototype.subscribe=function(b){var d=this;this.a.push(b);this.b||(this.b=function(b){for(var c=0;c<d.a.length;c++)d.a[c](b)},b=c("universalLinks.subscribe",
T),"function"===typeof b&&b(null,this.b))};cd.prototype.unsubscribe=function(b){Z(this.a,function(d){return d==b})};Q(If,I);Q(te,I);te.prototype.w=function(){var b={code:this.code,message:this.message};this.email&&(b.email=this.email);this.phoneNumber&&(b.phoneNumber=this.phoneNumber);var d=this.credential&&this.credential.w();d&&La(b,d);return b};te.prototype.toJSON=function(){return this.w()};Jg.prototype.c=null;Q(Jf,Jg);Jf.prototype.a=function(){var b=Wb(this);return b?new ActiveXObject(b):new XMLHttpRequest};
Jf.prototype.b=function(){var b={};Wb(this)&&(b[0]=!0,b[1]=!0);return b};var bl=new Jf;Q(Lf,Jg);Lf.prototype.a=function(){var b=new XMLHttpRequest;if("withCredentials"in b)return b;if("undefined"!=typeof XDomainRequest)return new hh;throw Error("Unsupported browser");};Lf.prototype.b=function(){return{}};B=hh.prototype;B.open=function(b,d,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.a.open(b,d)};B.send=function(b){if(b)if("string"==typeof b)this.a.send(b);else throw Error("Only string data is supported");
else this.a.send()};B.abort=function(){this.a.abort()};B.setRequestHeader=function(){};B.getResponseHeader=function(b){return"content-type"==b.toLowerCase()?this.a.contentType:""};B.fc=function(){this.status=200;this.response=this.responseText=this.a.responseText;kh(this,4)};B.Gb=function(){this.status=500;this.response=this.responseText="";kh(this,4)};B.kc=function(){this.Gb()};B.gc=function(){this.status=200;kh(this,1)};B.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};
lh.prototype.a=null;var Qm=0;lh.prototype.reset=function(b,d,c,g,l){"number"==typeof l||Qm++;g||ng();delete this.a};ig.prototype.toString=function(){return this.name};var cl=new ig("SEVERE",1E3),ok=new ig("WARNING",900),am=new ig("CONFIG",700),bm=new ig("FINE",500);mh.prototype.log=function(b,d,c){if(b.value>=nh(this).value)for(e(d)&&(d=d()),b=new lh(b,String(d),this.f),c&&(b.a=c),c=this;c;)c=c.a};var Wj={},tj=null;Q(qf,Jg);qf.prototype.a=function(){return new jb(this.f)};qf.prototype.b=function(b){return function(){return b}}({});
Q(jb,Ea);var Xj=0;B=jb.prototype;B.open=function(b,d){if(this.readyState!=Xj)throw this.abort(),Error("Error reopening a connection");this.m=b;this.g=d;this.readyState=1;Lg(this)};B.send=function(b){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var d={headers:this.i,method:this.m,credentials:void 0,cache:void 0};b&&(d.body=b);this.u.fetch(new Request(this.g,d)).then(this.jc.bind(this),this.La.bind(this))};B.abort=function(){this.response=this.responseText=
"";this.i=new Headers;this.status=0;this.c&&this.c.cancel("Request was aborted.");1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ce(this,!1));this.readyState=Xj};B.jc=function(b){this.a&&(this.f=b,this.b||(this.b=b.headers,this.readyState=2,Lg(this)),this.a&&(this.readyState=3,Lg(this),this.a&&("arraybuffer"===this.responseType?b.arrayBuffer().then(this.hc.bind(this),this.La.bind(this)):"undefined"!==typeof T.ReadableStream&&"body"in b?(this.response=this.responseText="",this.c=b.body.getReader(),
this.l=new TextDecoder,rf(this)):b.text().then(this.ic.bind(this),this.La.bind(this)))))};B.ec=function(b){if(this.a){var d=this.l.decode(b.value?b.value:new Uint8Array(0),{stream:!b.done});d&&(this.response=this.responseText+=d);b.done?Ce(this,!0):Lg(this);3==this.readyState&&rf(this)}};B.ic=function(b){this.a&&(this.response=this.responseText=b,Ce(this,!0))};B.hc=function(b){this.a&&(this.response=b,Ce(this,!0))};B.La=function(b){var d=this.h;d&&d.log(ok,"Failed to fetch url "+this.g,b instanceof
Error?b:Error(b));this.a&&Ce(this,!0)};B.setRequestHeader=function(b,d){this.i.append(b,d)};B.getResponseHeader=function(b){return this.b?this.b.get(b.toLowerCase())||"":((b=this.h)&&b.log(ok,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")};B.getAllResponseHeaders=function(){if(!this.b){var b=this.h;b&&b.log(ok,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0);return""}b=[];for(var d=this.b.entries(),
c=d.next();!c.done;)c=c.value,b.push(c[0]+": "+c[1]),c=d.next();return b.join("\r\n")};Q(sf,Ea);var al="";sf.prototype.b=Kg("goog.net.XhrIo");var dm=/^https?$/i,cm=["POST","PUT"];B=sf.prototype;B.Ga=function(){"undefined"!=typeof Bj&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ie(this.b,Ed(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};B.abort=function(){this.a&&this.c&&(ie(this.b,Ed(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),
this.dispatchEvent("abort"),vf(this))};B.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),vf(this,!0));sf.pb.va.call(this)};B.Jb=function(){this.qa||(this.I||this.i||this.f?og(this):this.yc())};B.yc=function(){og(this)};B.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case al:case "text":return this.a.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var b=
this.b;b&&b.log(cl,"Response type "+this.m+" is not supported on this browser",void 0);return null}catch(Qc){return ie(this.b,"Can not get response: "+Qc.message),null}};Ge.prototype.cancel=function(b){if(this.a)this.c instanceof Ge&&this.c.cancel();else{if(this.b){var d=this.b;delete this.b;b?d.cancel(b):(d.o--,0>=d.o&&d.cancel())}this.v?this.v.call(this.u,this):this.l=!0;this.a||(b=new tf(this),Of(this),ve(this,!1,b))}};Ge.prototype.m=function(b,d){this.i=!1;ve(this,b,d)};Ge.prototype.then=function(b,
d,c){var g,l,a=new za(function(b,d){g=b;l=d});sg(this,g,function(b){b instanceof tf?a.cancel():l(b)});return a.then(b,d,c)};Ge.prototype.$goog_Thenable=!0;Q(jg,H);jg.prototype.message="Deferred has already fired";jg.prototype.name="AlreadyCalledError";Q(tf,H);tf.prototype.message="Deferred was canceled";tf.prototype.name="CanceledError";je.prototype.c=function(){delete uj[this.a];throw this.b;};var uj={},gm=0,fm=1;Q(rg,H);Q(Vd,Jg);Vd.prototype.a=function(){return new this.f};Vd.prototype.b=function(){return{}};
var Yj,uf="idToken",hm=new xa(3E4,6E4),im={"Content-Type":"application/x-www-form-urlencoded"},jm=new xa(3E4,6E4),km={"Content-Type":"application/json"};ue.prototype.m=function(b,d,c,g,l,a){if(Db()&&("undefined"===typeof T.fetch||"undefined"===typeof T.Headers||"undefined"===typeof T.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var h=new sf(this.c);
if(a){h.g=Math.max(0,a);var m=setTimeout(function(){h.dispatchEvent("timeout")},a)}r(h,"complete",function(){m&&clearTimeout(m);var b=null;try{b=JSON.parse(wf(this))||null}catch(nj){b=null}d&&d(b)});$b(h,"ready",function(){m&&clearTimeout(m);Rc(this)});$b(h,"timeout",function(){m&&clearTimeout(m);Rc(this);d&&d(null)});ji(h,b,c,g,l)};var lm=new ec(pj,"https://apis.google.com/js/client.js?onload\x3d%{onload}"),dl="__fcb"+Math.floor(1E6*Math.random()).toString();ue.prototype.l=function(b,d,c,g,l){var a=
this;Yj.then(function(){window.gapi.client.setApiKey(a.b);var h=window.gapi.auth.getToken();window.gapi.auth.setToken(null);window.gapi.client.request({path:b,method:c,body:g,headers:l,authType:"none",callback:function(b){window.gapi.auth.setToken(h);d&&d(b)}})}).s(function(b){d&&d({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};ue.prototype.Ra=function(){return Wa(this,Rm,{})};ue.prototype.qb=function(b,d){return Wa(this,ul,{idToken:b,email:d})};ue.prototype.rb=function(b,d){return Wa(this,
tl,{idToken:b,password:d})};var Sm={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};B=ue.prototype;B.sb=function(b,d){var c={idToken:b},g=[];pa(Sm,function(b,l){var a=d[l];null===a?g.push(b):l in d&&(c[l]=a)});g.length&&(c.deleteAttribute=g);return Wa(this,ul,c)};B.lb=function(b,d){b={requestType:"PASSWORD_RESET",email:b};La(b,d);return Wa(this,Tm,b)};B.mb=function(b,d){b={requestType:"EMAIL_SIGNIN",email:b};La(b,d);return Wa(this,Um,b)};B.kb=function(b,d){b={requestType:"VERIFY_EMAIL",idToken:b};
La(b,d);return Wa(this,Vm,b)};B.Va=function(b){return Wa(this,Wm,b)};B.$a=function(b,d){return Wa(this,Xm,{oobCode:b,newPassword:d})};B.Ja=function(b){return Wa(this,Ym,{oobCode:b})};B.Xa=function(b){return Wa(this,Zm,{oobCode:b})};var Zm={endpoint:"setAccountInfo",C:ug,da:"email"},Ym={endpoint:"resetPassword",C:ug,J:function(b){var d=b.requestType;if(!d||!b.email&&"EMAIL_SIGNIN"!=d)throw new I("internal-error");}},$m={endpoint:"signupNewUser",C:function(b){De(b);if(!b.password)throw new I("weak-password");
},J:Ee,R:!0},el={endpoint:"createAuthUri"},an={endpoint:"deleteAccount",T:["idToken"]},pm={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(b){if(!w(b.deleteProvider))throw new I("internal-error");}},Mm={endpoint:"emailLinkSignin",T:["email","oobCode"],C:De,J:Ee,R:!0},Nm={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:De,J:Ee,R:!0},Dm={endpoint:"getAccountInfo"},Um={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(b){if("EMAIL_SIGNIN"!=b.requestType)throw new I("internal-error");
De(b)},da:"email"},Vm={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(b){if("VERIFY_EMAIL"!=b.requestType)throw new I("internal-error");},da:"email"},Tm={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(b){if("PASSWORD_RESET"!=b.requestType)throw new I("internal-error");De(b)},da:"email"},nm={vb:!0,endpoint:"getProjectConfig",Ib:"GET"},bn={vb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(b){if(!b.recaptchaSiteKey)throw new I("internal-error");}},Xm={endpoint:"resetPassword",
C:ug,da:"email"},om={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},ul={endpoint:"setAccountInfo",T:["idToken"],C:Lh,R:!0},tl={endpoint:"setAccountInfo",T:["idToken"],C:function(b){Lh(b);if(!b.password)throw new I("weak-password");},J:Ee,R:!0},Rm={endpoint:"signupNewUser",J:Ee,R:!0},qm={endpoint:"verifyAssertion",C:Dc,Pa:Fd,J:ph,R:!0},sm={endpoint:"verifyAssertion",C:Dc,Pa:Fd,J:function(b){if(b.errorMessage&&"USER_NOT_FOUND"==b.errorMessage)throw new I("user-not-found");
if(b.errorMessage)throw We(b.errorMessage);if(!b[uf])throw new I("internal-error");},R:!0},rm={endpoint:"verifyAssertion",C:function(b){Dc(b);if(!b.idToken)throw new I("internal-error");},Pa:Fd,J:ph,R:!0},cn={endpoint:"verifyCustomToken",C:function(b){if(!b.token)throw new I("invalid-custom-token");},J:Ee,R:!0},sl={endpoint:"verifyPassword",C:function(b){De(b);if(!b.password)throw new I("wrong-password");},J:Ee,R:!0},Wm={endpoint:"verifyPhoneNumber",C:Sg,J:Ee},Om={endpoint:"verifyPhoneNumber",C:function(b){if(!b.idToken)throw new I("internal-error");
Sg(b)},J:function(b){if(b.temporaryProof)throw b.code="credential-already-in-use",ub(b);Ee(b)}},Pm={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Sg,J:Ee},vm=new ec(pj,"https://apis.google.com/js/api.js?onload\x3d%{onload}"),um=new xa(3E4,6E4),tm=new xa(5E3,15E3),vj=null;$e.prototype.toString=function(){this.f?Qa(this.a,"v",this.f):eb(this.a.a,"v");this.b?Qa(this.a,"eid",this.b):eb(this.a.a,"eid");this.c.length?Qa(this.a,"fw",this.c.join(",")):eb(this.a.a,"fw");return this.a.toString()};
Sf.prototype.toString=function(){var b=xb(this.m,"/__/auth/handler");Qa(b,"apiKey",this.l);Qa(b,"appName",this.c);Qa(b,"authType",this.o);if(this.a.isOAuthProvider){var d=this.a;try{var c=Ta.app(this.c).auth().ea()}catch(qi){c=null}d.ab=c;Qa(b,"providerId",this.a.providerId);d=this.a;c=Ba(d.zb);for(var g in c)c[g]=c[g].toString();g=d.Fc;c=Ga(c);for(var l=0;l<g.length;l++){var a=g[l];a in c&&delete c[a]}d.eb&&d.ab&&!c[d.eb]&&(c[d.eb]=d.ab);Ca(c)||Qa(b,"customParameters",Lc(c))}"function"===typeof this.a.Fb&&
(d=this.a.Fb(),d.length&&Qa(b,"scopes",d.join(",")));this.i?Qa(b,"redirectUrl",this.i):eb(b.a,"redirectUrl");this.g?Qa(b,"eventId",this.g):eb(b.a,"eventId");this.h?Qa(b,"v",this.h):eb(b.a,"v");if(this.b)for(var h in this.b)this.b.hasOwnProperty(h)&&!Oa(b,h)&&Qa(b,h,this.b[h]);this.f?Qa(b,"eid",this.f):eb(b.a,"eid");h=Ug(this.c);h.length&&Qa(b,"fw",h.join(","));return b.toString()};B=Tg.prototype;B.Ea=function(b,d,c){var g=new I("popup-closed-by-user"),l=new I("web-storage-unsupported"),a=this,h=!1;
return this.ga().then(function(){vi(a).then(function(c){c||(b&&Kb(b),d(l),h=!0)})}).s(function(){}).then(function(){if(!h)return mb(b)}).then(function(){if(!h)return ab(c).then(function(){d(g)})})};B.Mb=function(){var b=m();return!bd(b)&&!be(b)};B.Hb=function(){return!1};B.Db=function(b,d,c,g,l,a,h){if(!b)return oa(new I("popup-blocked"));if(h&&!bd())return this.ga().s(function(d){Kb(b);l(d)}),g(),ha();this.a||(this.a=Vg(Wg(this)));var m=this;return this.a.then(function(){var d=m.ga().s(function(d){Kb(b);
l(d);throw d;});g();return d}).then(function(){se(c);if(!h){var g=Tf(m.l,m.f,m.b,d,c,null,a,m.c,void 0,m.h);Cb(g,b)}}).s(function(b){"auth/network-request-failed"==b.code&&(m.a=null);throw b;})};B.Ca=function(b,d,c){this.a||(this.a=Vg(Wg(this)));var g=this;return this.a.then(function(){se(d);var l=Tf(g.l,g.f,g.b,b,d,fc(),c,g.c,void 0,g.h);Cb(l)}).s(function(b){"auth/network-request-failed"==b.code&&(g.a=null);throw b;})};B.ga=function(){var b=this;return vg(this).then(function(){return b.i.gb}).s(function(){b.a=
null;throw new I("network-request-failed");})};B.Qb=function(){return!0};B.wa=function(b){this.g.push(b)};B.Ka=function(b){Z(this.g,function(d){return d==b})};B=xh.prototype;B.get=function(b){return ha(this.a.getItem(b)).then(function(b){return b&&Sb(b)})};B.set=function(b,d){return ha(this.a.setItem(b,Lc(d)))};B.P=function(b){return ha(this.a.removeItem(b))};B.Y=function(){};B.ca=function(){};var fl=[];wg.prototype.f=function(b){var d=b.data.eventType,c=b.data.eventId,g=this.a[d];if(g&&0<g.length){b.ports[0].postMessage({status:"ack",
eventId:c,eventType:d,response:null});var l=[];gd(g,function(d){l.push(ha().then(function(){return d(b.origin,b.data.data)}))});bc(l).then(function(g){var l=[];gd(g,function(b){l.push({fulfilled:b.Eb,value:b.value,reason:b.reason?b.reason.message:void 0})});gd(l,function(b){for(var d in b)"undefined"===typeof b[d]&&delete b[d]});b.ports[0].postMessage({status:"done",eventId:c,eventType:d,response:l})})}};wg.prototype.subscribe=function(b,d){Ca(this.a)&&this.b.addEventListener("message",this.c);"undefined"===
typeof this.a[b]&&(this.a[b]=[]);this.a[b].push(d)};wg.prototype.unsubscribe=function(b,d){"undefined"!==typeof this.a[b]&&d?(Z(this.a[b],function(b){return b==d}),0==this.a[b].length&&delete this.a[b]):d||delete this.a[b];Ca(this.a)&&this.b.removeEventListener("message",this.c)};b.prototype.postMessage=function(b,d){this.a.postMessage(b,d)};d.prototype.close=function(){for(;0<this.a.length;)y(this,this.a[0]);this.b=!0};var Zj;B=ea.prototype;B.set=function(b,d){var c=!1,g,l=this;return lg(this).then(function(d){g=
d;d=qh(rh(g,!0));return Xe(d.get(b))}).then(function(a){var h=qh(rh(g,!0));if(a)return a.value=d,Xe(h.put(a));l.b++;c=!0;a={};a.fbase_key=b;a.value=d;return Xe(h.add(a))}).then(function(){l.c[b]=d;return Ni(l,b)}).ia(function(){c&&l.b--})};B.get=function(b){return lg(this).then(function(d){return Xe(qh(rh(d,!1)).get(b))}).then(function(b){return b&&b.value})};B.P=function(b){var d=!1,c=this;return lg(this).then(function(g){d=!0;c.b++;return Xe(qh(rh(g,!0))["delete"](b))}).then(function(){delete c.c[b];
return Ni(c,b)}).ia(function(){d&&c.b--})};B.Y=function(b){0==this.a.length&&fj(this);this.a.push(b)};B.ca=function(b){Z(this.a,function(d){return d==b});0==this.a.length&&th(this)};B=gj.prototype;B.get=function(b){return this.b.then(function(d){return d.get(b)})};B.set=function(b,d){return this.b.then(function(c){return c.set(b,d)})};B.P=function(b){return this.b.then(function(d){return d.P(b)})};B.Y=function(b){this.a.push(b)};B.ca=function(b){Z(this.a,function(d){return d==b})};B=yh.prototype;
B.get=function(b){return ha(this.a[b])};B.set=function(b,d){this.a[b]=d;return ha()};B.P=function(b){delete this.a[b];return ha()};B.Y=function(){};B.ca=function(){};B=ki.prototype;B.get=function(b){var d=this;return ha().then(function(){var c=d.a.getItem(b);return Sb(c)})};B.set=function(b,d){var c=this;return ha().then(function(){var g=Lc(d);null===g?c.P(b):c.a.setItem(b,g)})};B.P=function(b){var d=this;return ha().then(function(){d.a.removeItem(b)})};B.Y=function(b){T.window&&Jb(T.window,"storage",
b)};B.ca=function(b){T.window&&$a(T.window,"storage",b)};B=Oi.prototype;B.get=function(){return ha(null)};B.set=function(){return ha()};B.P=function(){return ha()};B.Y=function(){};B.ca=function(){};B=Pi.prototype;B.get=function(b){var d=this;return ha().then(function(){var c=d.a.getItem(b);return Sb(c)})};B.set=function(b,d){var c=this;return ha().then(function(){var g=Lc(d);null===g?c.P(b):c.a.setItem(b,g)})};B.P=function(b){var d=this;return ha().then(function(){d.a.removeItem(b)})};B.Y=function(){};
B.ca=function(){};var ak,xm={B:ki,Sa:Pi},ym={B:ki,Sa:Pi},zm={B:xh,Sa:Oi},Am={B:ki,Sa:Oi},ri={ad:"local",NONE:"none",cd:"session"},bk;B=jj.prototype;B.get=function(b,d){return Uf(this,b.B).get(Vf(b,d))};B.set=function(b,d,c){var g=Vf(b,c),l=this,a=Uf(this,b.B);return a.set(g,d).then(function(){return a.get(g)}).then(function(d){"local"==b.B&&(l.b[g]=d)})};B.addListener=function(b,d,c){b=Vf(b,d);this.o&&(this.b[b]=T.localStorage.getItem(b));Ca(this.a)&&(Uf(this,"local").Y(this.f),this.h||(Jd()||!ff())&&
T.indexedDB||!this.o||Rh(this));this.a[b]||(this.a[b]=[]);this.a[b].push(c)};B.removeListener=function(b,d,c){b=Vf(b,d);this.a[b]&&(Z(this.a[b],function(b){return b==c}),0==this.a[b].length&&delete this.a[b]);Ca(this.a)&&(Uf(this,"local").ca(this.f),Yg(this))};B.Pb=function(b){if(b&&b.f){var d=b.a.key;if(null==d)for(var c in this.a){var g=this.b[c];"undefined"===typeof g&&(g=null);var l=T.localStorage.getItem(c);l!==g&&(this.b[c]=l,this.Ya(c))}else if(0==d.indexOf("firebase:")&&this.a[d]){"undefined"!==
typeof b.a.a?Uf(this,"local").ca(this.f):Yg(this);if(this.m)if(c=T.localStorage.getItem(d),g=b.a.newValue,g!==c)null!==g?T.localStorage.setItem(d,g):T.localStorage.removeItem(d);else if(this.b[d]===g&&"undefined"===typeof b.a.a)return;var a=this;c=function(){if("undefined"!==typeof b.a.a||a.b[d]!==T.localStorage.getItem(d))a.b[d]=T.localStorage.getItem(d),a.Ya(d)};Mf&&uh&&10==uh&&T.localStorage.getItem(d)!==b.a.newValue&&b.a.newValue!==b.a.oldValue?setTimeout(c,10):c()}}else gd(b,J(this.Ya,this))};
B.Ya=function(b){this.a[b]&&gd(this.a[b],function(b){b()})};var ck={name:"authEvent",B:"local"},wj;Q(li,function(){this.b=-1});for(var gl=64,dn=gl-1,vl=[],pk=0;pk<dn;pk++)vl[pk]=0;var il=qa(128,vl);li.prototype.reset=function(){this.g=this.c=0;this.a=T.Int32Array?new Int32Array(this.h):Na(this.h)};var hl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,
264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];Q(Vh,li);
var Bm=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];B=ah.prototype;B.ga=function(){return this.za?this.za:this.za=tb().then(function(){if("function"!==typeof c("universalLinks.subscribe",T))throw $g("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof c("BuildInfo.packageName",T))throw $g("cordova-plugin-buildinfo is not installed");if("function"!==typeof c("cordova.plugins.browsertab.openUrl",T))throw $g("cordova-plugin-browsertab is not installed");
if("function"!==typeof c("cordova.InAppBrowser.open",T))throw $g("cordova-plugin-inappbrowser is not installed");},function(){throw new I("cordova-not-ready");})};B.Ea=function(b,d){d(new I("operation-not-supported-in-this-environment"));return ha()};B.Db=function(){return oa(new I("operation-not-supported-in-this-environment"))};B.Qb=function(){return!1};B.Mb=function(){return!0};B.Hb=function(){return!0};B.Ca=function(b,d,g){if(this.c)return oa(new I("redirect-operation-pending"));var l=this,a=
T.document,h=null,v=null,y=null,t=null;return this.c=ha().then(function(){se(d);return bh(l)}).then(function(){return mi(l,b,d,g)}).then(function(){return(new za(function(b,d){v=function(){var d=c("cordova.plugins.browsertab.close",T);b();"function"===typeof d&&d();l.a&&"function"===typeof l.a.close&&(l.a.close(),l.a=null);return!1};l.wa(v);y=function(){h||(h=ab(2E3).then(function(){d(new I("redirect-cancelled-by-user"))}))};t=function(){ce()&&y()};a.addEventListener("resume",y,!1);m().toLowerCase().match(/android/)||
a.addEventListener("visibilitychange",t,!1)})).s(function(b){return Qi(l).then(function(){throw b;})})}).ia(function(){y&&a.removeEventListener("resume",y,!1);t&&a.removeEventListener("visibilitychange",t,!1);h&&h.cancel();v&&l.Ka(v);l.c=null})};B.wa=function(b){this.b.push(b);bh(this).s(function(d){"auth/invalid-cordova-configuration"===d.code&&(d=new rd("unknown",null,null,null,new I("no-auth-event")),b(d))})};B.Ka=function(b){Z(this.b,function(d){return d==b})};var ek={name:"pendingRedirect",B:"session"};
B=Fh.prototype;B.reset=function(){this.f=!1;this.a.Ka(this.o);this.a=bj(this.A,this.l,this.m);this.i={}};B.Za=function(){this.b.Za()};B.subscribe=function(b){N(this.h,b)||this.h.push(b);if(!this.f){var d=this;dj(this.g).then(function(b){b?Li(d.g).then(function(){Wh(d).s(function(b){var c=new rd("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));wd(b)&&d.cb(c)})}):yg(d)}).s(function(){yg(d)})}};B.unsubscribe=function(b){Z(this.h,function(d){return d==b})};B.cb=function(b){if(!b)throw new I("invalid-auth-event");
6E5<=ng()-this.u&&(this.i={},this.u=0);if(b&&b.getUid()&&this.i.hasOwnProperty(b.getUid()))return!1;for(var d=!1,c=0;c<this.h.length;c++){var g=this.h[c];if(g.wb(b.c,b.b)){if(d=this.c[b.c])d.h(b,g),b&&(b.f||b.b)&&(this.i[b.getUid()]=!0,this.u=ng());d=!0;break}}Xh(this.b);return d};var en=new xa(2E3,1E4),Cm=new xa(3E4,6E4);Fh.prototype.fa=function(){return this.b.fa()};Fh.prototype.Ca=function(b,d,c){var g=this,l;return Gi(this.g).then(function(){return g.a.Ca(b,d,c).s(function(b){if(wd(b))throw new I("operation-not-supported-in-this-environment");
l=b;return Li(g.g).then(function(){throw l;})}).then(function(){return g.a.Qb()?new za(function(){}):Li(g.g).then(function(){return g.fa()}).then(function(){}).s(function(){})})})};Fh.prototype.Ea=function(b,d,c,g){return this.a.Ea(c,function(c){b.ha(d,null,c,g)},en.get())};var fk={};Ke.prototype.reset=function(){this.b=null;this.a&&(this.a.cancel(),this.a=null)};Ke.prototype.h=function(b,d){if(b){this.reset();this.g=!0;var c=b.c,g=b.b,l=b.a&&"auth/web-storage-unsupported"==b.a.code,a=b.a&&"auth/operation-not-supported-in-this-environment"==
b.a.code;this.i=!(!l&&!a);"unknown"!=c||l||a?b.a?(cf(this,!0,null,b.a),ha()):d.xa(c,g)?xi(this,b,d):oa(new I("invalid-auth-event")):(cf(this,!1,null,null),ha())}else oa(new I("invalid-auth-event"))};Ke.prototype.Za=function(){this.g&&!this.i&&cf(this,!1,null,null)};Ke.prototype.fa=function(){var b=this;return new za(function(d,c){b.b?b.b().then(d,c):(b.f.push(d),b.c.push(c),fh(b))})};$h.prototype.h=function(b,d){if(b){var c=b.c,g=b.b;b.a?(d.ha(b.c,null,b.a,b.b),ha()):d.xa(c,g)?Ah(b,d):oa(new I("invalid-auth-event"))}else oa(new I("invalid-auth-event"))};
Bg.prototype.confirm=function(b){b=kc(this.verificationId,b);return this.a(b)};Ci.prototype.start=function(){this.a=this.c;Ai(this,!0)};Ci.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};Di.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}};Di.prototype.getToken=function(b){b=!!b;return this.b&&!this.a?oa(new I("user-token-expired")):b||!this.b||ng()>this.c-3E4?this.a?Zh(this,{grant_type:"refresh_token",refresh_token:this.a}):
ha(null):ha({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})};Yf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};Q(ae,rb);Q(ad,Ea);ad.prototype.pa=function(b){this.ka=b;Kh(this.b,b)};ad.prototype.ea=function(){return this.ka};ad.prototype.ya=function(){return Na(this.O)};ad.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())};na(ad.prototype,"providerId","firebase");B=ad.prototype;B.reload=function(){var b=this;return od(this,Qe(this).then(function(){return Gg(b).then(function(){return Cg(b)}).then(Cf)}))};
B.dc=function(b){return this.F(b).then(function(b){return new eh(b)})};B.F=function(b){var d=this;return od(this,Qe(this).then(function(){return d.h.getToken(b)}).then(function(b){if(!b)throw new I("internal-error");b.accessToken!=d.ra&&(Dg(d,b.accessToken),d.dispatchEvent(new ae("tokenChanged")));ye(d,"refreshToken",b.refreshToken);return b.accessToken}))};B.zc=function(b){b=b.users;if(!b||!b.length)throw new I("internal-error");b=b[0];we(this,{uid:b.localId,displayName:b.displayName,photoURL:b.photoUrl,
email:b.email,emailVerified:!!b.emailVerified,phoneNumber:b.phoneNumber,lastLoginAt:b.lastLoginAt,createdAt:b.createdAt});for(var d=ai(b),c=0;c<d.length;c++)Oe(this,d[c]);ye(this,"isAnonymous",!(this.email&&b.passwordHash)&&!(this.providerData&&this.providerData.length))};B.hb=function(b){var d=this,c=null;return od(this,b.f(this.b,this.uid).then(function(b){bg(d,b);c=Re(d,b,"reauthenticate");d.i=null;return d.reload()}).then(function(){return c}),!0)};B.Ac=function(b){Nc("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead.");
return this.hb(b).then(function(){})};B.fb=function(b){var d=this,c=null;return od(this,gh(this,b.providerId).then(function(){return d.F()}).then(function(c){return b.b(d.b,c)}).then(function(b){c=Re(d,b,"link");return Ji(d,b)}).then(function(){return c}))};B.rc=function(b){Nc("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead.");return this.fb(b).then(function(b){return b.user})};B.sc=function(b,d){var c=this;return od(this,
gh(this,"phone").then(function(){return Ag(Me(c),b,d,J(c.fb,c))}))};B.Bc=function(b,d){var c=this;return od(this,ha().then(function(){return Ag(Me(c),b,d,J(c.hb,c))}),!0)};B.qb=function(b){var d=this;return od(this,this.F().then(function(c){return d.b.qb(c,b)}).then(function(b){bg(d,b);return d.reload()}))};B.Tc=function(b){var d=this;return od(this,this.F().then(function(c){return b.b(d.b,c)}).then(function(b){bg(d,b);return d.reload()}))};B.rb=function(b){var d=this;return od(this,this.F().then(function(c){return d.b.rb(c,
b)}).then(function(b){bg(d,b);return d.reload()}))};B.sb=function(b){if(void 0===b.displayName&&void 0===b.photoURL)return Qe(this);var d=this;return od(this,this.F().then(function(c){return d.b.sb(c,{displayName:b.displayName,photoUrl:b.photoURL})}).then(function(b){bg(d,b);ye(d,"displayName",b.displayName||null);ye(d,"photoURL",b.photoUrl||null);gd(d.providerData,function(b){"password"===b.providerId&&(na(b,"displayName",d.displayName),na(b,"photoURL",d.photoURL))});return Cg(d)}).then(Cf))};B.Rc=
function(b){var d=this;return od(this,Gg(this).then(function(c){return N(zi(d),b)?Fe(d.b,c,[b]).then(function(b){var c={};gd(b.providerUserInfo||[],function(b){c[b.providerId]=!0});gd(zi(d),function(b){c[b]||bi(d,b)});c[v.PROVIDER_ID]||na(d,"phoneNumber",null);return Cg(d)}):Cg(d).then(function(){throw new I("no-such-provider");})}))};B.delete=function(){var b=this;return od(this,this.F().then(function(d){return Wa(b.b,an,{idToken:d})}).then(function(){b.dispatchEvent(new ae("userDeleted"))})).then(function(){for(var d=
0;d<b.G.length;d++)b.G[d].cancel("app-deleted");yd(b,null);Eg(b,null);b.G=[];b.D=!0;Ne(b);na(b,"refreshToken",null);b.a&&b.a.unsubscribe(b)})};B.wb=function(b,d){return"linkViaPopup"==b&&(this.g||null)==d&&this.f||"reauthViaPopup"==b&&(this.g||null)==d&&this.f||"linkViaRedirect"==b&&(this.aa||null)==d||"reauthViaRedirect"==b&&(this.aa||null)==d?!0:!1};B.ha=function(b,d,c,g){"linkViaPopup"!=b&&"reauthViaPopup"!=b||g!=(this.g||null)||(c&&this.v?this.v(c):d&&!c&&this.f&&this.f(d),this.c&&(this.c.cancel(),
this.c=null),delete this.f,delete this.v)};B.xa=function(b,d){return"linkViaPopup"==b&&d==(this.g||null)?J(this.Bb,this):"reauthViaPopup"==b&&d==(this.g||null)?J(this.Cb,this):"linkViaRedirect"==b&&(this.aa||null)==d?J(this.Bb,this):"reauthViaRedirect"==b&&(this.aa||null)==d?J(this.Cb,this):null};B.tc=function(b){var d=this;return fi(this,"linkViaPopup",b,function(){return gh(d,b.providerId).then(function(){return Cg(d)})},!1)};B.Cc=function(b){return fi(this,"reauthViaPopup",b,function(){return ha()},
!0)};B.uc=function(b){var d=this;return Hi(this,"linkViaRedirect",b,function(){return gh(d,b.providerId)},!1)};B.Dc=function(b){return Hi(this,"reauthViaRedirect",b,function(){return ha()},!0)};B.Bb=function(b,d,c){var g=this;this.c&&(this.c.cancel(),this.c=null);var l=null,a=this.F().then(function(l){return He(g.b,{requestUri:b,postBody:c,sessionId:d,idToken:l})}).then(function(b){l=Re(g,b,"link");return Ji(g,b)}).then(function(){return l});return od(this,a)};B.Cb=function(b,d,c){var g=this;this.c&&
(this.c.cancel(),this.c=null);var l=null,a=ha().then(function(){return ge(Ie(g.b,{requestUri:b,sessionId:d,postBody:c}),g.uid)}).then(function(b){l=Re(g,b,"reauthenticate");bg(g,b);g.i=null;return g.reload()}).then(function(){return l});return od(this,a,!0)};B.kb=function(b){var d=this,c=null;return od(this,this.F().then(function(d){c=d;return"undefined"===typeof b||Ca(b)?{}:Pd(new hf(b))}).then(function(b){return d.b.kb(c,b)}).then(function(b){if(d.email!=b)return d.reload()}).then(function(){}))};
B.toJSON=function(){return this.w()};B.w=function(){var b={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};this.metadata&&La(b,this.metadata.w());gd(this.providerData,function(d){b.providerData.push(hc(d))});return b};var gk={name:"redirectUser",B:"session"};
Bd.prototype.g=function(){var b=this,d=va("local");re(this,function(){return ha().then(function(){return b.c&&"local"!=b.c.B?b.b.get(d,b.a):null}).then(function(c){if(c)return Hf(b,"local").then(function(){b.c=d})})})};var hk={name:"persistence",B:"session"};Bd.prototype.nb=function(b){var d=null,c=this;Gj(b);return re(this,function(){return b!=c.c.B?c.b.get(c.c,c.a).then(function(g){d=g;return Hf(c,b)}).then(function(){c.c=va(b);if(d)return c.b.set(c.c,d,c.a)}):ha()})};Q(Ac,Ea);Q(Ud,rb);Q(Hh,rb);
B=Ac.prototype;B.nb=function(b){b=this.h.nb(b);return zb(this,b)};B.pa=function(b){this.W===b||this.l||(this.W=b,Kh(this.b,this.W),this.dispatchEvent(new Ud(this.ea())))};B.ea=function(){return this.W};B.Uc=function(){var b=T.navigator;this.pa(b?b.languages&&b.languages[0]||b.language||b.userLanguage||null:null)};B.vc=function(b){this.G.push(b);oh(this.b,Ta.SDK_VERSION?Vb(Ta.SDK_VERSION,this.G):null);this.dispatchEvent(new Hh(this.G))};B.ya=function(){return Na(this.G)};B.toJSON=function(){return{apiKey:this.app.options.apiKey,
authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:this.currentUser&&this.currentUser.w()}};B.wb=function(b,d){switch(b){case "unknown":case "signInViaRedirect":return!0;case "signInViaPopup":return this.g==d&&!!this.f;default:return!1}};B.ha=function(b,d,c,g){"signInViaPopup"==b&&this.g==g&&(c&&this.v?this.v(c):d&&!c&&this.f&&this.f(d),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)};B.xa=function(b,d){return"signInViaRedirect"==b||"signInViaPopup"==b&&this.g==
d&&this.f?J(this.ac,this):null};B.ac=function(b,d,c){var g=this;b={requestUri:b,postBody:c,sessionId:d};this.c&&(this.c.cancel(),this.c=null);var l=null,a=null,h=tg(g.b,b).then(function(b){l=Be(b);a=nd(b);return b});b=g.V.then(function(){return h}).then(function(b){return Dd(g,b)}).then(function(){return nb({user:g.currentUser,credential:l,additionalUserInfo:a,operationType:"signIn"})});return zb(this,b)};B.Mc=function(b){if(!t())return oa(new I("operation-not-supported-in-this-environment"));var d=
this,c=kf(b.providerId),g=Mc(),l=null;(!bd()||Zc())&&this.app.options.authDomain&&b.isOAuthProvider&&(l=Tf(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",b,null,g,Ta.SDK_VERSION||null));var a=hb(l,c&&c.Ba,c&&c.Aa);c=ed(this).then(function(d){return Af(d,a,"signInViaPopup",b,g,!!l)}).then(function(){return new za(function(b,c){d.ha("signInViaPopup",null,new I("cancelled-popup-request"),d.g);d.f=b;d.v=c;d.g=g;d.c=d.a.Ea(d,"signInViaPopup",a,g)})}).then(function(b){a&&
Kb(a);return b?nb(b):null}).s(function(b){a&&Kb(a);throw b;});return zb(this,c)};B.Nc=function(b){if(!t())return oa(new I("operation-not-supported-in-this-environment"));var d=this,c=ed(this).then(function(){return ei(d.h)}).then(function(){return d.a.Ca("signInViaRedirect",b)});return zb(this,c)};B.fa=function(){if(!t())return oa(new I("operation-not-supported-in-this-environment"));var b=this,d=ed(this).then(function(){return b.a.fa()}).then(function(b){return b?nb(b):null});return zb(this,d)};
B.Sc=function(b){if(!b)return oa(new I("null-user"));var d=this,c={};c.apiKey=this.app.options.apiKey;c.authDomain=this.app.options.authDomain;c.appName=this.app.name;var g=Mi(b,c,d.A,d.ya());return zb(this,this.i.then(function(){if(d.app.options.apiKey!=b.l)return g.reload()}).then(function(){if(d.currentUser&&b.uid==d.currentUser.uid)return jf(d.currentUser,b),d.Z(b);he(d,g);ch(g);return d.Z(g)}).then(function(){Ig(d)}))};B.ob=function(){var b=this,d=this.i.then(function(){if(!b.currentUser)return ha();
he(b,null);return Eh(b.h).then(function(){Ig(b)})});return zb(this,d)};B.Oc=function(){var b=this;return Dh(this.h,this.app.options.authDomain).then(function(d){if(!b.l){var c;if(c=b.currentUser&&d){c=b.currentUser.uid;var g=d.uid;c=void 0===c||null===c||""===c||void 0===g||null===g||""===g?!1:c==g}if(c)return jf(b.currentUser,d),b.currentUser.F();if(b.currentUser||d)he(b,d),d&&(ch(d),d.ba=b.A),b.a&&b.a.subscribe(b),Ig(b)}})};B.Z=function(b){return ci(this.h,b)};B.bc=function(){Ig(this);this.Z(this.currentUser)};
B.mc=function(){this.ob()};B.nc=function(){this.ob()};B.oc=function(b){var d=this;this.addAuthTokenListener(function(){b.next(d.currentUser)})};B.pc=function(b){var d=this;of(this,function(){b.next(d.currentUser)})};B.xc=function(b,d,c){var g=this;this.X&&Ta.Promise.resolve().then(function(){e(b)?b(g.currentUser):e(b.next)&&b.next(g.currentUser)});return this.Tb(b,d,c)};B.wc=function(b,d,c){var g=this;this.X&&Ta.Promise.resolve().then(function(){g.O=g.getUid();e(b)?b(g.currentUser):e(b.next)&&b.next(g.currentUser)});
return this.Ub(b,d,c)};B.cc=function(b){var d=this,c=this.i.then(function(){return d.currentUser?d.currentUser.F(b).then(function(b){return{accessToken:b}}):null});return zb(this,c)};B.Nb=function(b){var d=this;return this.i.then(function(){return hg(d,Wa(d.b,cn,{token:b}))}).then(function(b){var c=b.user;ye(c,"isAnonymous",!1);d.Z(c);return b})};B.Gc=function(b){Nc("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead.");
return this.Nb(b)};B.Hc=function(b,d){Nc("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead.");return this.Ob(b,d)};B.Ob=function(b,d){var c=this;return this.i.then(function(){return hg(c,Wa(c.b,sl,{email:b,password:d}))})};B.yb=function(b,d){var c=this;return this.i.then(function(){return hg(c,Wa(c.b,$m,{email:b,password:d}))})};B.Wb=function(b,d){Nc("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead.");
return this.yb(b,d)};B.Jc=function(b){Nc("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead.");return this.Qa(b).then(function(b){return b.user})};B.Qa=function(b){var d=this;return this.i.then(function(){return hg(d,b.la(d.b))})};B.Ra=function(){var b=this;return this.i.then(function(){var d=b.currentUser;if(d&&d.isAnonymous){var c=nb({providerId:null,isNewUser:!1});return nb({user:d,credential:null,
additionalUserInfo:c,operationType:"signIn"})}return hg(b,b.b.Ra()).then(function(d){var c=d.user;ye(c,"isAnonymous",!0);b.Z(c);return d})})};B.Ic=function(){Nc("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead.");return this.Ra()};B.getUid=function(){return this.currentUser&&this.currentUser.uid||null};B.Vb=function(b){this.addAuthTokenListener(b);this.u++;0<this.u&&this.currentUser&&dh(this.currentUser)};
B.Ec=function(b){var d=this;gd(this.m,function(c){c==b&&d.u--});0>this.u&&(this.u=0);0==this.u&&this.currentUser&&Ne(this.currentUser);this.removeAuthTokenListener(b)};B.addAuthTokenListener=function(b){var d=this;this.m.push(b);zb(this,this.i.then(function(){d.l||N(d.m,b)&&b(Kf(d))}))};B.removeAuthTokenListener=function(b){Z(this.m,function(d){return d==b})};B.delete=function(){this.l=!0;for(var b=0;b<this.N.length;b++)this.N[b].cancel("app-deleted");this.N=[];this.h&&(b=this.h,b.b.removeListener(va("local"),
b.a,this.ka));this.a&&(this.a.unsubscribe(this),this.a.Za());return Ta.Promise.resolve()};B.Zb=function(b){Nc("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead.");return zb(this,Ph(this.b,b))};B.$b=function(b){return zb(this,Rg(this.b,b))};B.qc=function(b){return!!Ve(b)};B.mb=function(b,d){var c=this;return zb(this,ha().then(function(){var b=new hf(d);if(!b.c)throw new I("argument-error",Rj+" must be true when sending sign in link to email");
return Pd(b)}).then(function(d){return c.b.mb(b,d)}).then(function(){}))};B.Vc=function(b){return this.Ja(b).then(function(b){return b.data.email})};B.$a=function(b,d){return zb(this,this.b.$a(b,d).then(function(){}))};B.Ja=function(b){return zb(this,this.b.Ja(b).then(function(b){return new ee(b)}))};B.Xa=function(b){return zb(this,this.b.Xa(b).then(function(){}))};B.lb=function(b,d){var c=this;return zb(this,ha().then(function(){return"undefined"===typeof d||Ca(d)?{}:Pd(new hf(d))}).then(function(d){return c.b.lb(b,
d)}).then(function(){}))};B.Lc=function(b,d){return zb(this,Ag(this,b,d,J(this.Qa,this)))};B.Kc=function(b,d){var c=this;return zb(this,ha().then(function(){var g=Ad(b,d||fc());return c.Qa(g)}))};Gh.prototype.render=function(){};Gh.prototype.reset=function(){};Gh.prototype.getResponse=function(){};Gh.prototype.execute=function(){};var qk=null;nf.prototype.render=function(b,d){this.a[this.b.toString()]=new Nh(b,d);return this.b++};nf.prototype.reset=function(b){var d=Jh(this,b);b=Ih(b);d&&b&&(d.delete(),
delete this.a[b])};nf.prototype.getResponse=function(b){return(b=Jh(this,b))?b.getResponse():null};nf.prototype.execute=function(b){(b=Jh(this,b))&&b.execute()};Nh.prototype.getResponse=function(){ni(this);return this.b};Nh.prototype.execute=function(){ni(this);var b=this;this.a||(this.a=setTimeout(function(){b.b=yb();var d=b.c.callback,c=b.c["expired-callback"];if(d)try{d(b.b)}catch(mg){}b.a=setTimeout(function(){b.a=null;b.b=null;if(c)try{c()}catch(mg){}b.h&&b.execute()},6E4)},500))};Nh.prototype.delete=
function(){ni(this);this.g=!0;clearTimeout(this.a);this.a=null;$a(this.f,"click",this.i)};oi.prototype.g=function(){qk||(qk=new nf);return ha(qk)};oi.prototype.c=function(){};var ik=null,fn=new ec(pj,"https://www.google.com/recaptcha/api.js?onload\x3d%{onload}\x26render\x3dexplicit\x26hl\x3d%{hl}"),gn=new xa(3E4,6E4);P.prototype.g=function(b){var d=this;return new za(function(c,g){var l=setTimeout(function(){g(new I("network-request-failed"))},gn.get());if(!T.grecaptcha||b!==d.f&&!d.b){T[d.a]=function(){if(T.grecaptcha){d.f=
b;var a=T.grecaptcha.render;T.grecaptcha.render=function(b,c){b=a(b,c);d.b++;return b};clearTimeout(l);c(T.grecaptcha)}else clearTimeout(l),g(new I("internal-error"));delete T[d.a]};var a=kd(fn,{onload:d.a,hl:b||""});ha(zf(a)).s(function(){clearTimeout(l);g(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(l),c(T.grecaptcha)})};P.prototype.c=function(){this.b--};var jk=null,kl="callback",ll="expired-callback",jl="sitekey",Em="size";B=wa.prototype;B.za=
function(){var b=this;return this.f?this.f:this.f=ti(this,ha().then(function(){if(X()&&!Db())return Kd();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.");}).then(function(){return b.m.g(b.v())}).then(function(d){b.g=d;return Wa(b.u,bn,{})}).then(function(d){b.a[jl]=d.recaptchaSiteKey}).s(function(d){b.f=null;throw d;}))};B.render=function(){Og(this);var b=this;return ti(this,this.za().then(function(){if(null===b.c){var d=
b.l;if(!b.i){var c=yc(d);d=af("DIV");c.appendChild(d)}b.c=b.g.render(d,b.a)}return b.c}))};B.verify=function(){Og(this);var b=this;return ti(this,this.render().then(function(d){return new za(function(c){var g=b.g.getResponse(d);if(g)c(g);else{var l=function(d){d&&(si(b,l),c(d))};b.o.push(l);b.i&&b.g.execute(b.c)}})}))};B.reset=function(){Og(this);null!==this.c&&this.g.reset(this.c)};B.clear=function(){Og(this);this.D=!0;this.m.c();for(var b=0;b<this.h.length;b++)this.h[b].cancel("RecaptchaVerifier instance has been destroyed.");
if(!this.i){b=yc(this.l);for(var d;d=b.firstChild;)b.removeChild(d)}};Q(ui,wa);var ml="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");$c(Ac.prototype,{Xa:{name:"applyActionCode",j:[ta("code")]},Ja:{name:"checkActionCode",j:[ta("code")]},$a:{name:"confirmPasswordReset",j:[ta("code"),ta("newPassword")]},yb:{name:"createUserWithEmailAndPassword",j:[ta("email"),ta("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[ta("email"),ta("password")]},Zb:{name:"fetchProvidersForEmail",
j:[ta("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[ta("email")]},fa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[ta("emailLink")]},wc:{name:"onAuthStateChanged",j:[Nd(Cc(),Th(),"nextOrObserver"),Th("opt_error",!0),Th("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Nd(Cc(),Th(),"nextOrObserver"),Th("opt_error",!0),Th("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[ta("email"),Nd(Cc("opt_actionCodeSettings",!0),Zg(null,!0),"opt_actionCodeSettings",!0)]},
mb:{name:"sendSignInLinkToEmail",j:[ta("email"),Cc("actionCodeSettings")]},nb:{name:"setPersistence",j:[ta("persistence")]},Qa:{name:"signInAndRetrieveDataWithCredential",j:[Bf()]},Ra:{name:"signInAnonymously",j:[]},Ic:{name:"signInAnonymouslyAndRetrieveData",j:[]},Jc:{name:"signInWithCredential",j:[Bf()]},Nb:{name:"signInWithCustomToken",j:[ta("token")]},Gc:{name:"signInAndRetrieveDataWithCustomToken",j:[ta("token")]},Ob:{name:"signInWithEmailAndPassword",j:[ta("email"),ta("password")]},Kc:{name:"signInWithEmailLink",
j:[ta("email"),ta("emailLink",!0)]},Hc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[ta("email"),ta("password")]},Lc:{name:"signInWithPhoneNumber",j:[ta("phoneNumber"),$i()]},Mc:{name:"signInWithPopup",j:[Yh()]},Nc:{name:"signInWithRedirect",j:[Yh()]},Sc:{name:"updateCurrentUser",j:[Nd(function(b){return{name:"user",K:"an instance of Firebase User",optional:!!b,M:function(b){return!!(b&&b instanceof ad)}}}(),Zg(),"user")]},ob:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ta(null,!0)]},Uc:{name:"useDeviceLanguage",
j:[]},Vc:{name:"verifyPasswordResetCode",j:[ta("code")]}});sk(Ac.prototype,{lc:{name:"languageCode",ub:Nd(ta(),Zg(),"languageCode")}});Ac.Persistence=ri;Ac.Persistence.LOCAL="local";Ac.Persistence.SESSION="session";Ac.Persistence.NONE="none";$c(ad.prototype,{"delete":{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[yj("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[yj("opt_forceRefresh",!0)]},fb:{name:"linkAndRetrieveDataWithCredential",j:[Bf()]},rc:{name:"linkWithCredential",j:[Bf()]},sc:{name:"linkWithPhoneNumber",
j:[ta("phoneNumber"),$i()]},tc:{name:"linkWithPopup",j:[Yh()]},uc:{name:"linkWithRedirect",j:[Yh()]},hb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Bf()]},Ac:{name:"reauthenticateWithCredential",j:[Bf()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[ta("phoneNumber"),$i()]},Cc:{name:"reauthenticateWithPopup",j:[Yh()]},Dc:{name:"reauthenticateWithRedirect",j:[Yh()]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Nd(Cc("opt_actionCodeSettings",!0),Zg(null,!0),"opt_actionCodeSettings",
!0)]},toJSON:{name:"toJSON",j:[ta(null,!0)]},Rc:{name:"unlink",j:[ta("provider")]},qb:{name:"updateEmail",j:[ta("email")]},rb:{name:"updatePassword",j:[ta("password")]},Tc:{name:"updatePhoneNumber",j:[Bf("phone")]},sb:{name:"updateProfile",j:[Cc("profile")]}});$c(nf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}});$c(Gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}});
$c(za.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}});sk(Le.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",ub:yj("appVerificationDisabledForTesting")}});$c(Bg.prototype,{confirm:{name:"confirm",j:[ta("verificationCode")]}});Od(dg,"fromJSON",function(b){b=f(b)?JSON.parse(b):b;for(var d,c=[Te,tc,gg,eg],g=0;g<c.length;g++)if(d=c[g](b))return d;return null},[Nd(ta(),Cc(),"json")]);Od(ob,"credential",function(b,d){return new sc(b,d)},[ta("email"),ta("password")]);
$c(sc.prototype,{w:{name:"toJSON",j:[ta(null,!0)]}});$c(Mb.prototype,{ua:{name:"addScope",j:[ta("scope")]},Da:{name:"setCustomParameters",j:[Cc("customOAuthParameters")]}});Od(Mb,"credential",Rd,[Nd(ta(),Cc(),"token")]);Od(ob,"credentialWithLink",Ad,[ta("email"),ta("emailLink")]);$c(pb.prototype,{ua:{name:"addScope",j:[ta("scope")]},Da:{name:"setCustomParameters",j:[Cc("customOAuthParameters")]}});Od(pb,"credential",Pc,[Nd(ta(),Cc(),"token")]);$c(ze.prototype,{ua:{name:"addScope",j:[ta("scope")]},
Da:{name:"setCustomParameters",j:[Cc("customOAuthParameters")]}});Od(ze,"credential",Pe,[Nd(ta(),Nd(Cc(),Zg()),"idToken"),Nd(ta(),Zg(),"accessToken",!0)]);$c(fd.prototype,{Da:{name:"setCustomParameters",j:[Cc("customOAuthParameters")]}});Od(fd,"credential",Td,[Nd(ta(),Cc(),"token"),ta("secret",!0)]);$c(qd.prototype,{ua:{name:"addScope",j:[ta("scope")]},credential:{name:"credential",j:[Nd(ta(),Nd(Cc(),Zg()),"optionsOrIdToken"),Nd(ta(),Zg(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Cc("customOAuthParameters")]}});
$c(Qd.prototype,{w:{name:"toJSON",j:[ta(null,!0)]}});$c(Oc.prototype,{w:{name:"toJSON",j:[ta(null,!0)]}});Od(v,"credential",kc,[ta("verificationId"),ta("verificationCode")]);$c(v.prototype,{Va:{name:"verifyPhoneNumber",j:[ta("phoneNumber"),$i()]}});$c(ic.prototype,{w:{name:"toJSON",j:[ta(null,!0)]}});$c(I.prototype,{toJSON:{name:"toJSON",j:[ta(null,!0)]}});$c(te.prototype,{toJSON:{name:"toJSON",j:[ta(null,!0)]}});$c(If.prototype,{toJSON:{name:"toJSON",j:[ta(null,!0)]}});$c(ui.prototype,{clear:{name:"clear",
j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}});(function(){if("undefined"!==typeof Ta&&Ta.INTERNAL&&Ta.INTERNAL.registerService){var b={Auth:Ac,AuthCredential:dg,Error:I};Od(b,"EmailAuthProvider",ob,[]);Od(b,"FacebookAuthProvider",Mb,[]);Od(b,"GithubAuthProvider",pb,[]);Od(b,"GoogleAuthProvider",ze,[]);Od(b,"TwitterAuthProvider",fd,[]);Od(b,"OAuthProvider",qd,[ta("providerId")]);Od(b,"SAMLAuthProvider",Ue,[ta("providerId")]);Od(b,"PhoneAuthProvider",v,[wl()]);Od(b,"RecaptchaVerifier",
ui,[Nd(ta(),rk(),"recaptchaContainer"),Cc("recaptchaParameters",!0),yl()]);Ta.INTERNAL.registerService("auth",function(b,d){b=new Ac(b);d({INTERNAL:{getUid:J(b.getUid,b),getToken:J(b.cc,b),addAuthTokenListener:J(b.Vb,b),removeAuthTokenListener:J(b.Ec,b)}});return b},b,function(b,d){if("create"===b)try{d.auth()}catch(mg){}});Ta.INTERNAL.extendNamespace({User:ad})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");})()}).apply("undefined"!==
typeof f?f:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})};
shadow$provide[153]=function(f,a,q,n){Object.defineProperty(n,"__esModule",{value:!0});var u=[];(function(a){a[a.DEBUG=0]="DEBUG";a[a.VERBOSE=1]="VERBOSE";a[a.INFO=2]="INFO";a[a.WARN=3]="WARN";a[a.ERROR=4]="ERROR";a[a.SILENT=5]="SILENT"})(n.LogLevel||(n.LogLevel={}));var p=n.LogLevel.INFO,z=function(a,f){for(var p=[],k=2;k<arguments.length;k++)p[k-2]=arguments[k];if(!(f<a.logLevel))switch(k=(new Date).toISOString(),f){case n.LogLevel.DEBUG:console.log.apply(console,["["+k+"]  "+a.name+":"].concat(p));
break;case n.LogLevel.VERBOSE:console.log.apply(console,["["+k+"]  "+a.name+":"].concat(p));break;case n.LogLevel.INFO:console.info.apply(console,["["+k+"]  "+a.name+":"].concat(p));break;case n.LogLevel.WARN:console.warn.apply(console,["["+k+"]  "+a.name+":"].concat(p));break;case n.LogLevel.ERROR:console.error.apply(console,["["+k+"]  "+a.name+":"].concat(p));break;default:throw Error("Attempted to log a message with an invalid logType (value: "+f+")");}};f=function(){function a(a){this.name=a;
this._logLevel=p;this._logHandler=z;u.push(this)}Object.defineProperty(a.prototype,"logLevel",{get:function(){return this._logLevel},set:function(a){if(!(a in n.LogLevel))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"logHandler",{get:function(){return this._logHandler},set:function(a){if("function"!==typeof a)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a},
enumerable:!0,configurable:!0});a.prototype.debug=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this._logHandler.apply(this,[this,n.LogLevel.DEBUG].concat(a))};a.prototype.log=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this._logHandler.apply(this,[this,n.LogLevel.VERBOSE].concat(a))};a.prototype.info=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this._logHandler.apply(this,[this,n.LogLevel.INFO].concat(a))};a.prototype.warn=function(){for(var a=
[],f=0;f<arguments.length;f++)a[f]=arguments[f];this._logHandler.apply(this,[this,n.LogLevel.WARN].concat(a))};a.prototype.error=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this._logHandler.apply(this,[this,n.LogLevel.ERROR].concat(a))};return a}();n.Logger=f;n.setLogLevel=function(a){u.forEach(function(f){f.logLevel=a})}};
shadow$provide[154]=function(f,a,q,n){function u(a,c){return qa(a.name,c.name)}function p(a,c){return qa(a,c)}function z(a,c){void 0===c&&(c=null);if(null===a)return ya.EMPTY_NODE;"object"===typeof a&&".priority"in a&&(c=a[".priority"]);e.assert(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new qb(a,z(c));if(a instanceof
Array){var h=ya.EMPTY_NODE,m=a;e.forEach(m,function(c,a){e.contains(m,c)&&"."!==c.substring(0,1)&&(a=z(a),a.isLeafNode()||!a.isEmpty())&&(h=h.updateImmediateChild(c,a))});return h.updatePriority(z(c))}var f=[],k=!1,r=a;e.forEach(r,function(c,a){if("string"!==typeof c||"."!==c.substring(0,1))a=z(r[c]),a.isEmpty()||(k=k||!a.getPriority().isEmpty(),f.push(new ja(c,a)))});if(0==f.length)return ya.EMPTY_NODE;a=oc(f,u,function(c){return c.name},p);if(k){var n=oc(f,Aa.getCompare());return new ya(a,z(c),
new Gc({".priority":n},{".priority":Aa}))}return new ya(a,z(c),Gc.Default)}function C(a){a=a.INTERNAL.registerService("database",function(c,a,m){return Db.getInstance().databaseFromApp(c,m)},{Reference:mb,Query:Bb,Database:Lb,DataSnapshot:r,enableLogging:Ja,INTERNAL:yb,ServerValue:Vb,TEST_ACCESS:rc},null,!0);e.isNodeSdk()&&(q.exports=a)}var R=a(3);"use strict";Object.defineProperty(n,"__esModule",{value:!0});var w=function(a){return a&&"object"===typeof a&&"default"in a?a["default"]:a}(a(151)),k=
a(149),e=a(150),S=a(153),fa=function(){function a(c){this.domStorage_=c;this.prefix_="firebase:"}a.prototype.set=function(c,a){null==a?this.domStorage_.removeItem(this.prefixedName_(c)):this.domStorage_.setItem(this.prefixedName_(c),e.stringify(a))};a.prototype.get=function(c){c=this.domStorage_.getItem(this.prefixedName_(c));return null==c?null:e.jsonEval(c)};a.prototype.remove=function(c){this.domStorage_.removeItem(this.prefixedName_(c))};a.prototype.prefixedName_=function(c){return this.prefix_+
c};a.prototype.toString=function(){return this.domStorage_.toString()};return a}(),U=function(){function a(){this.cache_={};this.isInMemoryStorage=!0}a.prototype.set=function(c,a){null==a?delete this.cache_[c]:this.cache_[c]=a};a.prototype.get=function(c){return e.contains(this.cache_,c)?this.cache_[c]:null};a.prototype.remove=function(c){delete this.cache_[c]};return a}(),J=function(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var c=window[a];c.setItem("firebase:sentinel",
"cache");c.removeItem("firebase:sentinel");return new fa(c)}}catch(h){}return new U},E=J("localStorage"),Q=J("sessionStorage"),G=new S.Logger("@firebase/database"),H=function(){var a=1;return function(){return a++}}(),ca=function(a){a=e.stringToByteArray(a);var c=new e.Sha1;c.update(a);a=c.digest();return e.base64.encodeByteArray(a)},Y=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];c="";for(var h=0;h<a.length;h++)c=Array.isArray(a[h])||a[h]&&"object"===typeof a[h]&&"number"===
typeof a[h].length?c+Y.apply(null,a[h]):"object"===typeof a[h]?c+e.stringify(a[h]):c+a[h],c+=" ";return c},V=null,ma=!0,Ja=function(a,c){e.assert(!c||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?(G.logLevel=S.LogLevel.VERBOSE,V=G.log.bind(G),c&&Q.set("logging_enabled",!0)):"function"===typeof a?V=a:(V=null,Q.remove("logging_enabled"))},sa=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];!0===ma&&(ma=!1,null===V&&!0===Q.get("logging_enabled")&&Ja(!0));V&&
(a=Y.apply(null,a),V(a))},W=function(a){return function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];sa.apply(void 0,[a].concat(c))}},F=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a="FIREBASE INTERNAL ERROR: "+Y.apply(void 0,a);G.error(a)},x=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a="FIREBASE FATAL ERROR: "+Y.apply(void 0,a);G.error(a);throw Error(a);},N=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a="FIREBASE WARNING: "+
Y.apply(void 0,a);G.warn(a)},O=function(a){return"number"===typeof a&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)},Z=function(a){if(e.isNodeSdk()||"complete"===document.readyState)a();else{var c=!1,h=function(){document.body?c||(c=!0,a()):setTimeout(h,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&
h()}),window.attachEvent("onload",h))}},qa=function(a,c){if(a===c)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===c)return-1;if("[MIN_NAME]"===c||"[MAX_NAME]"===a)return 1;var h=La(a),m=La(c);return null!==h?null!==m?0==h-m?a.length-c.length:h-m:-1:null!==m?1:a<c?-1:1},Na=function(a,c){return a===c?0:a<c?-1:1},ba=function(a,c){if(c&&a in c)return c[a];throw Error("Missing required key ("+a+") in object: "+e.stringify(c));},ka=function(a){if("object"!==typeof a||null===a)return e.stringify(a);var c=[];
for(h in a)c.push(h);c.sort();var h="{";for(var m=0;m<c.length;m++)0!==m&&(h+=","),h+=e.stringify(c[m]),h+=":",h+=ka(a[c[m]]);return h+"}"},la=function(a,c){var h=a.length;if(h<=c)return[a];for(var m=[],e=0;e<h;e+=c)e+c>h?m.push(a.substring(e,h)):m.push(a.substring(e,e+c));return m},pa=function(a,c){if(Array.isArray(a))for(var h=0;h<a.length;++h)c(h,a[h]);else e.forEach(a,function(a,h){return c(h,a)})},Ca=function(a){e.assert(!O(a),"Invalid JSON number");var c;if(0===a){var h=c=0;var m=-Infinity===
1/a?1:0}else m=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(h=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=h+1023,h=Math.round(a*Math.pow(2,52-h)-Math.pow(2,52))):(c=0,h=Math.round(a/Math.pow(2,-1074)));var f=[];for(a=52;a;--a)f.push(h%2?1:0),h=Math.floor(h/2);for(a=11;a;--a)f.push(c%2?1:0),c=Math.floor(c/2);f.push(m?1:0);f.reverse();m=f.join("");c="";for(a=0;64>a;a+=8)h=parseInt(m.substr(a,8),2).toString(16),1===h.length&&(h="0"+h),c+=h;return c.toLowerCase()},Ga=/^-?\d{1,10}$/,La=function(a){return Ga.test(a)&&
(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null},Ha=function(a){try{a()}catch(c){setTimeout(function(){N("Exception was thrown by user callback.",c.stack||"");throw c;},0)}},Ua=function(a,c){a=setTimeout(a,c);"object"===typeof a&&a.unref&&a.unref();return a},K=function(){function a(c,a){if(void 0===a){this.pieces_=c.split("/");for(a=c=0;a<this.pieces_.length;a++)0<this.pieces_[a].length&&(this.pieces_[c]=this.pieces_[a],c++);this.pieces_.length=c;this.pieceNum_=0}else this.pieces_=c,this.pieceNum_=
a}Object.defineProperty(a,"Empty",{get:function(){return new a("")},enumerable:!0,configurable:!0});a.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]};a.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_};a.prototype.popFront=function(){var c=this.pieceNum_;c<this.pieces_.length&&c++;return new a(this.pieces_,c)};a.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-
1]:null};a.prototype.toString=function(){for(var c="",a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(c+="/"+this.pieces_[a]);return c||"/"};a.prototype.toUrlEncodedString=function(){for(var c="",a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(c+="/"+encodeURIComponent(String(this.pieces_[a])));return c||"/"};a.prototype.slice=function(c){void 0===c&&(c=0);return this.pieces_.slice(this.pieceNum_+c)};a.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;
for(var c=[],h=this.pieceNum_;h<this.pieces_.length-1;h++)c.push(this.pieces_[h]);return new a(c,0)};a.prototype.child=function(c){for(var h=[],m=this.pieceNum_;m<this.pieces_.length;m++)h.push(this.pieces_[m]);if(c instanceof a)for(m=c.pieceNum_;m<c.pieces_.length;m++)h.push(c.pieces_[m]);else for(c=c.split("/"),m=0;m<c.length;m++)0<c[m].length&&h.push(c[m]);return new a(h,0)};a.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length};a.relativePath=function(c,h){var m=c.getFront(),
e=h.getFront();if(null===m)return h;if(m===e)return a.relativePath(c.popFront(),h.popFront());throw Error("INTERNAL ERROR: innerPath ("+h+") is not within outerPath ("+c+")");};a.comparePaths=function(c,a){c=c.slice();a=a.slice();for(var h=0;h<c.length&&h<a.length;h++){var m=qa(c[h],a[h]);if(0!==m)return m}return c.length===a.length?0:c.length<a.length?-1:1};a.prototype.equals=function(c){if(this.getLength()!==c.getLength())return!1;for(var a=this.pieceNum_,m=c.pieceNum_;a<=this.pieces_.length;a++,
m++)if(this.pieces_[a]!==c.pieces_[m])return!1;return!0};a.prototype.contains=function(c){var a=this.pieceNum_,m=c.pieceNum_;if(this.getLength()>c.getLength())return!1;for(;a<this.pieces_.length;){if(this.pieces_[a]!==c.pieces_[m])return!1;++a;++m}return!0};return a}(),Xb=function(){function a(c,a){this.errorPrefix_=a;this.parts_=c.slice();this.byteLength_=Math.max(1,this.parts_.length);for(c=0;c<this.parts_.length;c++)this.byteLength_+=e.stringLength(this.parts_[c]);this.checkValid_()}Object.defineProperty(a,
"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0});Object.defineProperty(a,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0});a.prototype.push=function(c){0<this.parts_.length&&(this.byteLength_+=1);this.parts_.push(c);this.byteLength_+=e.stringLength(c);this.checkValid_()};a.prototype.pop=function(){var c=this.parts_.pop();this.byteLength_-=e.stringLength(c);0<this.parts_.length&&--this.byteLength_};a.prototype.checkValid_=function(){if(this.byteLength_>
a.MAX_PATH_LENGTH_BYTES)throw Error(this.errorPrefix_+"has a key path longer than "+a.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>a.MAX_PATH_DEPTH)throw Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+a.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString());};a.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"};return a}(),Ib=function(){function a(c,a,
m,e,f){void 0===f&&(f="");this.secure=a;this.namespace=m;this.webSocketOnly=e;this.persistenceKey=f;this.host=c.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.internalHost=E.get("host:"+c)||this.host}a.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()};a.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)};a.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain};a.prototype.isCustomHost=
function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain};a.prototype.updateHost=function(c){c!==this.internalHost&&(this.internalHost=c,this.isCacheableHost()&&E.set("host:"+this.host,this.internalHost))};a.prototype.connectionURL=function(c,a){e.assert("string"===typeof c,"typeof type must \x3d\x3d string");e.assert("object"===typeof a,"typeof params must \x3d\x3d object");if("websocket"===c)c=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if("long_polling"===
c)c=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw Error("Unknown connection type: "+c);this.needsQueryParam()&&(a.ns=this.namespace);var h=[];e.forEach(a,function(c,a){h.push(c+"\x3d"+a)});return c+h.join("\x26")};a.prototype.toString=function(){var c=this.toURLString();this.persistenceKey&&(c+="\x3c"+this.persistenceKey+"\x3e");return c};a.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host};return a}(),kb=function(a){var c,h,m,e=a;var f=
m=h=c="";var k=!0;a="https";if("string"===typeof e){var r=e.indexOf("//");0<=r&&(a=e.substring(0,r-1),e=e.substring(r+2));r=e.indexOf("/");-1===r&&(r=e.length);var n=e.indexOf("?");-1===n&&(n=e.length);c=e.substring(0,Math.min(r,n));if(r<n){f="";r=e.substring(r,n).split("/");for(var p=0;p<r.length;p++)if(0<r[p].length){var q=r[p];try{q=decodeURIComponent(q.replace(/\+/g," "))}catch(xa){}f+="/"+q}}r=e.substring(Math.min(e.length,n));n={};"?"===r.charAt(0)&&(r=r.substring(1));p=0;for(q=r.split("\x26");p<
q.length;p++){var Ea=q[p];if(0!==Ea.length){var O=Ea.split("\x3d");2===O.length?n[decodeURIComponent(O[0])]=decodeURIComponent(O[1]):N("Invalid query segment '"+Ea+"' in query '"+r+"'")}}r=c.indexOf(":");0<=r?(k="https"===a||"wss"===a,parseInt(c.substring(r+1),10)):r=e.length;e=c.split(".");3===e.length?(h=e[1],m=e[0].toLowerCase()):2===e.length?h=e[0]:"localhost"===e[0].slice(0,r).toLowerCase()&&(h="localhost");""===m&&"ns"in n&&(m=n.ns)}"firebase"===h&&x(c+" is no longer supported. Please use \x3cYOUR FIREBASE\x3e.firebaseio.com instead");
m&&"undefined"!=m||"localhost"===h||x("Cannot parse Firebase url. Please use https://\x3cYOUR FIREBASE\x3e.firebaseio.com");k||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&N("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");return{repoInfo:new Ib(c,k,m,"ws"===a||"wss"===a),path:new K(f)}},Ab=/[\[\].#$\/\u0000-\u001F\u007F]/,za=/[\[\].#$\u0000-\u001F\u007F]/,ra=function(a){return"string"===
typeof a&&0!==a.length&&!Ab.test(a)},Ka=function(a){return"string"===typeof a&&0!==a.length&&!za.test(a)},ha=function(a){return null===a||"string"===typeof a||"number"===typeof a&&!O(a)||a&&"object"===typeof a&&e.contains(a,".sv")},oa=function(a,c,h,t,f){f&&void 0===h||Ra(e.errorPrefix(a,c,f),h,t)},Ra=function(a,c,h){var m=h instanceof K?new Xb(h,a):h;if(void 0===c)throw Error(a+"contains undefined "+m.toErrorString());if("function"===typeof c)throw Error(a+"contains a function "+m.toErrorString()+
" with contents \x3d "+c.toString());if(O(c))throw Error(a+"contains "+c.toString()+" "+m.toErrorString());if("string"===typeof c&&c.length>10485760/3&&10485760<e.stringLength(c))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+m.toErrorString()+" ('"+c.substring(0,50)+"...')");if(c&&"object"===typeof c){var f=!1,k=!1;e.forEach(c,function(c,h){if(".value"===c)f=!0;else if(".priority"!==c&&".sv"!==c&&(k=!0,!ra(c)))throw Error(a+" contains an invalid key ("+c+") "+m.toErrorString()+
'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');m.push(c);Ra(a,h,m);m.pop()});if(f&&k)throw Error(a+' contains ".value" child '+m.toErrorString()+" in addition to actual children.");}},vb=function(a,c){var h;for(h=0;h<c.length;h++){var m=c[h];for(var e=m.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!ra(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+m.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');
}c.sort(K.comparePaths);e=null;for(h=0;h<c.length;h++){m=c[h];if(null!==e&&e.contains(m))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+m.toString());e=m}},bc=function(a,c,h,t,f){if(!f||void 0!==h){var m=e.errorPrefix(a,c,f);if(!h||"object"!==typeof h||Array.isArray(h))throw Error(m+" must be an object containing the children to replace.");var X=[];e.forEach(h,function(c,a){c=new K(c);Ra(m,a,t.child(c));if(".priority"===c.getBack()&&!ha(a))throw Error(m+"contains an invalid value for '"+
c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");X.push(c)});vb(m,X)}},Ec=function(a,c,h,t){if(!t||void 0!==h){if(O(h))throw Error(e.errorPrefix(a,c,t)+"is "+h.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ha(h))throw Error(e.errorPrefix(a,c,t)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}},Ob=function(a,c,h,t){if(!t||void 0!==h)switch(h){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;
default:throw Error(e.errorPrefix(a,c,t)+'must be a valid event type \x3d "value", "child_added", "child_removed", "child_changed", or "child_moved".');}},sd=function(a,c,h,t){if(!(t&&void 0===h||ra(h)))throw Error(e.errorPrefix(a,c,t)+'was an invalid key \x3d "'+h+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');},Eb=function(a,c,h,t){if(!(t&&void 0===h||Ka(h)))throw Error(e.errorPrefix(a,c,t)+'was an invalid path \x3d "'+h+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');
},Pa=function(a,c){if(".info"===c.getFront())throw Error(a+" failed \x3d Can't modify data under /.info/");},cc=function(a,c,h){var m=h.path.toString();!(h="string"!==typeof h.repoInfo.host||0===h.repoInfo.host.length||!ra(h.repoInfo.namespace)&&"localhost"!==h.repoInfo.host.split(":")[0])&&(h=0!==m.length)&&(m&&(m=m.replace(/^\/*\.info(\/|$)/,"/")),h=!Ka(m));if(h)throw Error(e.errorPrefix(a,c,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');},nc=function(){function a(c,
a){this.repo_=c;this.path_=a}a.prototype.cancel=function(c){e.validateArgCount("OnDisconnect.cancel",0,1,arguments.length);e.validateCallback("OnDisconnect.cancel",1,c,!0);var a=new e.Deferred;this.repo_.onDisconnectCancel(this.path_,a.wrapCallback(c));return a.promise};a.prototype.remove=function(c){e.validateArgCount("OnDisconnect.remove",0,1,arguments.length);Pa("OnDisconnect.remove",this.path_);e.validateCallback("OnDisconnect.remove",1,c,!0);var a=new e.Deferred;this.repo_.onDisconnectSet(this.path_,
null,a.wrapCallback(c));return a.promise};a.prototype.set=function(c,a){e.validateArgCount("OnDisconnect.set",1,2,arguments.length);Pa("OnDisconnect.set",this.path_);oa("OnDisconnect.set",1,c,this.path_,!1);e.validateCallback("OnDisconnect.set",2,a,!0);var h=new e.Deferred;this.repo_.onDisconnectSet(this.path_,c,h.wrapCallback(a));return h.promise};a.prototype.setWithPriority=function(c,a,m){e.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length);Pa("OnDisconnect.setWithPriority",
this.path_);oa("OnDisconnect.setWithPriority",1,c,this.path_,!1);Ec("OnDisconnect.setWithPriority",2,a,!1);e.validateCallback("OnDisconnect.setWithPriority",3,m,!0);var h=new e.Deferred;this.repo_.onDisconnectSetWithPriority(this.path_,c,a,h.wrapCallback(m));return h.promise};a.prototype.update=function(c,a){e.validateArgCount("OnDisconnect.update",1,2,arguments.length);Pa("OnDisconnect.update",this.path_);if(Array.isArray(c)){for(var h={},m=0;m<c.length;++m)h[""+m]=c[m];c=h;N("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bc("OnDisconnect.update",
1,c,this.path_,!1);e.validateCallback("OnDisconnect.update",2,a,!0);h=new e.Deferred;this.repo_.onDisconnectUpdate(this.path_,c,h.wrapCallback(a));return h.promise};return a}(),Sa=function(){function a(c,a){this.committed=c;this.snapshot=a}a.prototype.toJSON=function(){e.validateArgCount("TransactionResult.toJSON",0,1,arguments.length);return{committed:this.committed,snapshot:this.snapshot.toJSON()}};return a}(),Ya=function(){var a=0,c=[];return function(h){var m=h===a;a=h;var f,k=Array(8);for(f=
7;0<=f;f--)k[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(h%64),h=Math.floor(h/64);e.assert(0===h,"Cannot push at time \x3d\x3d 0");h=k.join("");if(m){for(f=11;0<=f&&63===c[f];f--)c[f]=0;c[f]++}else for(f=0;12>f;f++)c[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)h+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c[f]);e.assert(20===h.length,"nextPushId: Length should be 20.");return h}}(),ja=function(){function a(c,a){this.name=c;this.node=
a}a.Wrap=function(c,h){return new a(c,h)};return a}(),Pb=function(){function a(){}a.prototype.getCompare=function(){return this.compare.bind(this)};a.prototype.indexedValueChanged=function(c,a){c=new ja("[MIN_NAME]",c);a=new ja("[MIN_NAME]",a);return 0!==this.compare(c,a)};a.prototype.minPost=function(){return ja.MIN};return a}(),Yb,Rc=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}k.__extends(c,a);Object.defineProperty(c,"__EMPTY_NODE",{get:function(){return Yb},set:function(c){Yb=
c},enumerable:!0,configurable:!0});c.prototype.compare=function(c,a){return qa(c.name,a.name)};c.prototype.isDefinedOn=function(c){throw e.assertionError("KeyIndex.isDefinedOn not expected to be called.");};c.prototype.indexedValueChanged=function(c,a){return!1};c.prototype.minPost=function(){return ja.MIN};c.prototype.maxPost=function(){return new ja("[MAX_NAME]",Yb)};c.prototype.makePost=function(c,a){e.assert("string"===typeof c,"KeyIndex indexValue must always be a string.");return new ja(c,Yb)};
c.prototype.toString=function(){return".key"};return c}(Pb),ua=new Rc,Fa,Sc=function(a){return"number"===typeof a?"number:"+Ca(a):"string:"+a},Tc=function(a){if(a.isLeafNode()){var c=a.val();e.assert("string"===typeof c||"number"===typeof c||"object"===typeof c&&e.contains(c,".sv"),"Priority must be a string or number.")}else e.assert(a===Fa||a.isEmpty(),"priority of unexpected type.");e.assert(a===Fa||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},rb,qb=function(){function a(c,
h){void 0===h&&(h=a.__childrenNodeConstructor.EMPTY_NODE);this.value_=c;this.priorityNode_=h;this.lazyHash_=null;e.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value.");Tc(this.priorityNode_)}Object.defineProperty(a,"__childrenNodeConstructor",{get:function(){return rb},set:function(c){rb=c},enumerable:!0,configurable:!0});a.prototype.isLeafNode=function(){return!0};a.prototype.getPriority=function(){return this.priorityNode_};a.prototype.updatePriority=
function(c){return new a(this.value_,c)};a.prototype.getImmediateChild=function(c){return".priority"===c?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE};a.prototype.getChild=function(c){return c.isEmpty()?this:".priority"===c.getFront()?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE};a.prototype.hasChild=function(){return!1};a.prototype.getPredecessorChildName=function(c,a){return null};a.prototype.updateImmediateChild=function(c,h){return".priority"===c?this.updatePriority(h):
h.isEmpty()&&".priority"!==c?this:a.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,h).updatePriority(this.priorityNode_)};a.prototype.updateChild=function(c,h){var m=c.getFront();if(null===m)return h;if(h.isEmpty()&&".priority"!==m)return this;e.assert(".priority"!==m||1===c.getLength(),".priority must be the last token in a path");return this.updateImmediateChild(m,a.__childrenNodeConstructor.EMPTY_NODE.updateChild(c.popFront(),h))};a.prototype.isEmpty=function(){return!1};a.prototype.numChildren=
function(){return 0};a.prototype.forEachChild=function(c,a){return!1};a.prototype.val=function(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()};a.prototype.hash=function(){if(null===this.lazyHash_){var c="";this.priorityNode_.isEmpty()||(c+="priority:"+Sc(this.priorityNode_.val())+":");var a=typeof this.value_;c+=a+":";c="number"===a?c+Ca(this.value_):c+this.value_;this.lazyHash_=ca(c)}return this.lazyHash_};a.prototype.getValue=
function(){return this.value_};a.prototype.compareTo=function(c){if(c===a.__childrenNodeConstructor.EMPTY_NODE)return 1;if(c instanceof a.__childrenNodeConstructor)return-1;e.assert(c.isLeafNode(),"Unknown node type");return this.compareToLeafNode_(c)};a.prototype.compareToLeafNode_=function(c){var h=typeof c.value_,m=typeof this.value_,f=a.VALUE_TYPE_ORDER.indexOf(h),k=a.VALUE_TYPE_ORDER.indexOf(m);e.assert(0<=f,"Unknown leaf type: "+h);e.assert(0<=k,"Unknown leaf type: "+m);return f===k?"object"===
m?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:k-f};a.prototype.withIndex=function(){return this};a.prototype.isIndexed=function(){return!0};a.prototype.equals=function(c){return c===this?!0:c.isLeafNode()?this.value_===c.value_&&this.priorityNode_.equals(c.priorityNode_):!1};a.VALUE_TYPE_ORDER=["object","boolean","number","string"];return a}(),Aa=new (function(a){function c(){return null!==a&&a.apply(this,arguments)||this}k.__extends(c,a);c.prototype.compare=function(c,a){var h=c.node.getPriority(),
m=a.node.getPriority();h=h.compareTo(m);return 0===h?qa(c.name,a.name):h};c.prototype.isDefinedOn=function(c){return!c.getPriority().isEmpty()};c.prototype.indexedValueChanged=function(c,a){return!c.getPriority().equals(a.getPriority())};c.prototype.minPost=function(){return ja.MIN};c.prototype.maxPost=function(){return new ja("[MAX_NAME]",new qb("[PRIORITY-POST]",Ic))};c.prototype.makePost=function(c,a){c=hd(c);return new ja(a,new qb("[PRIORITY-POST]",c))};c.prototype.toString=function(){return".priority"};
return c}(Pb)),Fc=function(){function a(c,a,m,e,f){void 0===f&&(f=null);this.isReverse_=e;this.resultGenerator_=f;for(this.nodeStack_=[];!c.isEmpty();)if(f=a?m(c.key,a):1,e&&(f*=-1),0>f)c=this.isReverse_?c.left:c.right;else if(0===f){this.nodeStack_.push(c);break}else this.nodeStack_.push(c),c=this.isReverse_?c.right:c.left}a.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var c=this.nodeStack_.pop();var a=this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,
value:c.value};if(this.isReverse_)for(c=c.left;!c.isEmpty();)this.nodeStack_.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack_.push(c),c=c.left;return a};a.prototype.hasNext=function(){return 0<this.nodeStack_.length};a.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var c=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value}};return a}(),Za=function(){function a(c,h,m,e,f){this.key=
c;this.value=h;this.color=null!=m?m:a.RED;this.left=null!=e?e:lb.EMPTY_NODE;this.right=null!=f?f:lb.EMPTY_NODE}a.prototype.copy=function(c,h,m,e,f){return new a(null!=c?c:this.key,null!=h?h:this.value,null!=m?m:this.color,null!=e?e:this.left,null!=f?f:this.right)};a.prototype.count=function(){return this.left.count()+1+this.right.count()};a.prototype.isEmpty=function(){return!1};a.prototype.inorderTraversal=function(c){return this.left.inorderTraversal(c)||c(this.key,this.value)||this.right.inorderTraversal(c)};
a.prototype.reverseTraversal=function(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)};a.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()};a.prototype.minKey=function(){return this.min_().key};a.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()};a.prototype.insert=function(c,a,m){var h=this;var e=m(c,h.key);h=0>e?h.copy(null,null,null,h.left.insert(c,a,m),null):0===e?h.copy(null,a,null,null,
null):h.copy(null,null,null,null,h.right.insert(c,a,m));return h.fixUp_()};a.prototype.removeMin_=function(){if(this.left.isEmpty())return lb.EMPTY_NODE;var c=this;c.left.isRed_()||c.left.left.isRed_()||(c=c.moveRedLeft_());c=c.copy(null,null,null,c.left.removeMin_(),null);return c.fixUp_()};a.prototype.remove=function(c,a){var h=this;if(0>a(c,h.key))h.left.isEmpty()||h.left.isRed_()||h.left.left.isRed_()||(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(c,a),null);else{h.left.isRed_()&&
(h=h.rotateRight_());h.right.isEmpty()||h.right.isRed_()||h.right.left.isRed_()||(h=h.moveRedRight_());if(0===a(c,h.key)){if(h.right.isEmpty())return lb.EMPTY_NODE;var m=h.right.min_();h=h.copy(m.key,m.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(c,a))}return h.fixUp_()};a.prototype.isRed_=function(){return this.color};a.prototype.fixUp_=function(){var c=this;c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_());c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_());
c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_());return c};a.prototype.moveRedLeft_=function(){var c=this.colorFlip_();c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_());return c};a.prototype.moveRedRight_=function(){var c=this.colorFlip_();c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_());return c};a.prototype.rotateLeft_=function(){var c=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,
c,null)};a.prototype.rotateRight_=function(){var c=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)};a.prototype.colorFlip_=function(){var c=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,a)};a.prototype.checkMaxDepth_=function(){var c=this.check_();return Math.pow(2,c)<=this.count()+1};a.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+
this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");var c=this.left.check_();if(c!==this.right.check_())throw Error("Black depths differ");return c+(this.isRed_()?0:1)};a.RED=!0;a.BLACK=!1;return a}(),Gd=function(){function a(){}a.prototype.copy=function(c,a,m,e,f){return this};a.prototype.insert=function(c,a,m){return new Za(c,a,null)};a.prototype.remove=function(c,a){return this};a.prototype.count=function(){return 0};a.prototype.isEmpty=
function(){return!0};a.prototype.inorderTraversal=function(c){return!1};a.prototype.reverseTraversal=function(c){return!1};a.prototype.minKey=function(){return null};a.prototype.maxKey=function(){return null};a.prototype.check_=function(){return 0};a.prototype.isRed_=function(){return!1};return a}(),lb=function(){function a(c,h){void 0===h&&(h=a.EMPTY_NODE);this.comparator_=c;this.root_=h}a.prototype.insert=function(c,h){return new a(this.comparator_,this.root_.insert(c,h,this.comparator_).copy(null,
null,Za.BLACK,null,null))};a.prototype.remove=function(c){return new a(this.comparator_,this.root_.remove(c,this.comparator_).copy(null,null,Za.BLACK,null,null))};a.prototype.get=function(c){for(var a,m=this.root_;!m.isEmpty();){a=this.comparator_(c,m.key);if(0===a)return m.value;0>a?m=m.left:0<a&&(m=m.right)}return null};a.prototype.getPredecessorKey=function(c){for(var a,m=this.root_,e=null;!m.isEmpty();){a=this.comparator_(c,m.key);if(0===a){if(m.left.isEmpty())return e?e.key:null;for(m=m.left;!m.right.isEmpty();)m=
m.right;return m.key}0>a?m=m.left:0<a&&(e=m,m=m.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");};a.prototype.isEmpty=function(){return this.root_.isEmpty()};a.prototype.count=function(){return this.root_.count()};a.prototype.minKey=function(){return this.root_.minKey()};a.prototype.maxKey=function(){return this.root_.maxKey()};a.prototype.inorderTraversal=function(c){return this.root_.inorderTraversal(c)};a.prototype.reverseTraversal=function(c){return this.root_.reverseTraversal(c)};
a.prototype.getIterator=function(c){return new Fc(this.root_,null,this.comparator_,!1,c)};a.prototype.getIteratorFrom=function(c,a){return new Fc(this.root_,c,this.comparator_,!1,a)};a.prototype.getReverseIteratorFrom=function(c,a){return new Fc(this.root_,c,this.comparator_,!0,a)};a.prototype.getReverseIterator=function(c){return new Fc(this.root_,null,this.comparator_,!0,c)};a.EMPTY_NODE=new Gd;return a}(),Jb=Math.log(2),Uc=function(){function a(c){this.count=parseInt(Math.log(c+1)/Jb,10);this.current_=
this.count-1;var a=parseInt(Array(this.count+1).join("1"),2);this.bits_=c+1&a}a.prototype.nextBitIsOne=function(){var c=!(this.bits_&1<<this.current_);this.current_--;return c};return a}(),oc=function(a,c,h,e){a.sort(c);var m=function(c,e){var t=e-c;if(0==t)return null;if(1==t){t=a[c];var f=h?h(t):t;return new Za(f,t.node,Za.BLACK,null,null)}t=parseInt(t/2,10)+c;c=m(c,t);e=m(t+1,e);t=a[t];f=h?h(t):t;return new Za(f,t.node,Za.BLACK,c,e)},t=function(c){for(var e=null,t=null,f=a.length,k=function(c,
k){var r=f-c,X=f;f-=c;c=m(r+1,X);r=a[r];X=h?h(r):r;k=new Za(X,r.node,k,null,c);e?e.left=k:t=k;e=k},r=0;r<c.count;++r){var X=c.nextBitIsOne(),n=Math.pow(2,c.count-(r+1));X?k(n,Za.BLACK):(k(n,Za.BLACK),k(n,Za.RED))}return t}(new Uc(a.length));return new lb(e||c,t)},uc,$a={},Gc=function(){function a(c,a){this.indexes_=c;this.indexSet_=a}Object.defineProperty(a,"Default",{get:function(){e.assert($a&&Aa,"ChildrenNode.ts has not been loaded");return uc=uc||new a({".priority":$a},{".priority":Aa})},enumerable:!0,
configurable:!0});a.prototype.get=function(c){var a=e.safeGet(this.indexes_,c);if(!a)throw Error("No index defined for "+c);return a===$a?null:a};a.prototype.hasIndex=function(c){return e.contains(this.indexSet_,c.toString())};a.prototype.addIndex=function(c,h){e.assert(c!==ua,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var m=[],f=!1;h=h.getIterator(ja.Wrap);for(var k=h.getNext();k;)f=f||c.isDefinedOn(k.node),m.push(k),k=h.getNext();m=f?oc(m,c.getCompare()):$a;f=c.toString();
h=e.clone(this.indexSet_);h[f]=c;c=e.clone(this.indexes_);c[f]=m;return new a(c,h)};a.prototype.addToIndexes=function(c,h){var m=this,f=e.map(this.indexes_,function(a,t){var f=e.safeGet(m.indexSet_,t);e.assert(f,"Missing index implementation for "+t);if(a===$a){if(f.isDefinedOn(c.node)){a=[];t=h.getIterator(ja.Wrap);for(var k=t.getNext();k;)k.name!=c.name&&a.push(k),k=t.getNext();a.push(c);return oc(a,f.getCompare())}return $a}(f=h.get(c.name))&&(a=a.remove(new ja(c.name,f)));return a.insert(c,c.node)});
return new a(f,this.indexSet_)};a.prototype.removeFromIndexes=function(c,h){var m=e.map(this.indexes_,function(a){if(a===$a)return a;var m=h.get(c.name);return m?a.remove(new ja(c.name,m)):a});return new a(m,this.indexSet_)};return a}(),Zb,ya=function(){function a(c,a,m){this.children_=c;this.priorityNode_=a;this.indexMap_=m;this.lazyHash_=null;this.priorityNode_&&Tc(this.priorityNode_);this.children_.isEmpty()&&e.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}
Object.defineProperty(a,"EMPTY_NODE",{get:function(){return Zb||(Zb=new a(new lb(p),null,Gc.Default))},enumerable:!0,configurable:!0});a.prototype.isLeafNode=function(){return!1};a.prototype.getPriority=function(){return this.priorityNode_||Zb};a.prototype.updatePriority=function(c){return this.children_.isEmpty()?this:new a(this.children_,c,this.indexMap_)};a.prototype.getImmediateChild=function(c){if(".priority"===c)return this.getPriority();c=this.children_.get(c);return null===c?Zb:c};a.prototype.getChild=
function(c){var a=c.getFront();return null===a?this:this.getImmediateChild(a).getChild(c.popFront())};a.prototype.hasChild=function(c){return null!==this.children_.get(c)};a.prototype.updateImmediateChild=function(c,h){e.assert(h,"We should always be passing snapshot nodes");if(".priority"===c)return this.updatePriority(h);var m=new ja(c,h);h.isEmpty()?(c=this.children_.remove(c),m=this.indexMap_.removeFromIndexes(m,this.children_)):(c=this.children_.insert(c,h),m=this.indexMap_.addToIndexes(m,this.children_));
h=c.isEmpty()?Zb:this.priorityNode_;return new a(c,h,m)};a.prototype.updateChild=function(c,a){var h=c.getFront();if(null===h)return a;e.assert(".priority"!==c.getFront()||1===c.getLength(),".priority must be the last token in a path");c=this.getImmediateChild(h).updateChild(c.popFront(),a);return this.updateImmediateChild(h,c)};a.prototype.isEmpty=function(){return this.children_.isEmpty()};a.prototype.numChildren=function(){return this.children_.count()};a.prototype.val=function(c){if(this.isEmpty())return null;
var h={},m=0,e=0,f=!0;this.forEachChild(Aa,function(t,k){h[t]=k.val(c);m++;f&&a.INTEGER_REGEXP_.test(t)?e=Math.max(e,Number(t)):f=!1});if(!c&&f&&e<2*m){var k=[],r;for(r in h)k[r]=h[r];return k}c&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val());return h};a.prototype.hash=function(){if(null===this.lazyHash_){var c="";this.getPriority().isEmpty()||(c+="priority:"+Sc(this.getPriority().val())+":");this.forEachChild(Aa,function(a,m){m=m.hash();""!==m&&(c+=":"+a+":"+m)});this.lazyHash_=
""===c?"":ca(c)}return this.lazyHash_};a.prototype.getPredecessorChildName=function(c,a,m){return(m=this.resolveIndex_(m))?(c=m.getPredecessorKey(new ja(c,a)))?c.name:null:this.children_.getPredecessorKey(c)};a.prototype.getFirstChildName=function(c){return(c=this.resolveIndex_(c))?(c=c.minKey())&&c.name:this.children_.minKey()};a.prototype.getFirstChild=function(c){return(c=this.getFirstChildName(c))?new ja(c,this.children_.get(c)):null};a.prototype.getLastChildName=function(c){return(c=this.resolveIndex_(c))?
(c=c.maxKey())&&c.name:this.children_.maxKey()};a.prototype.getLastChild=function(c){return(c=this.getLastChildName(c))?new ja(c,this.children_.get(c)):null};a.prototype.forEachChild=function(c,a){return(c=this.resolveIndex_(c))?c.inorderTraversal(function(c){return a(c.name,c.node)}):this.children_.inorderTraversal(a)};a.prototype.getIterator=function(c){return this.getIteratorFrom(c.minPost(),c)};a.prototype.getIteratorFrom=function(c,a){var h=this.resolveIndex_(a);if(h)return h.getIteratorFrom(c,
function(c){return c});h=this.children_.getIteratorFrom(c.name,ja.Wrap);for(var m=h.peek();null!=m&&0>a.compare(m,c);)h.getNext(),m=h.peek();return h};a.prototype.getReverseIterator=function(c){return this.getReverseIteratorFrom(c.maxPost(),c)};a.prototype.getReverseIteratorFrom=function(c,a){var h=this.resolveIndex_(a);if(h)return h.getReverseIteratorFrom(c,function(c){return c});h=this.children_.getReverseIteratorFrom(c.name,ja.Wrap);for(var m=h.peek();null!=m&&0<a.compare(m,c);)h.getNext(),m=h.peek();
return h};a.prototype.compareTo=function(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===Hc?-1:0};a.prototype.withIndex=function(c){if(c===ua||this.indexMap_.hasIndex(c))return this;c=this.indexMap_.addIndex(c,this.children_);return new a(this.children_,this.priorityNode_,c)};a.prototype.isIndexed=function(c){return c===ua||this.indexMap_.hasIndex(c)};a.prototype.equals=function(c){if(c===this)return!0;if(c.isLeafNode())return!1;if(this.getPriority().equals(c.getPriority())&&
this.children_.count()===c.children_.count()){var a=this.getIterator(Aa);c=c.getIterator(Aa);for(var m=a.getNext(),e=c.getNext();m&&e;){if(m.name!==e.name||!m.node.equals(e.node))return!1;m=a.getNext();e=c.getNext()}return null===m&&null===e}return!1};a.prototype.resolveIndex_=function(c){return c===ua?null:this.indexMap_.get(c.toString())};a.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;return a}(),Hc=new (function(a){function c(){return a.call(this,new lb(p),ya.EMPTY_NODE,Gc.Default)||this}k.__extends(c,a);
c.prototype.compareTo=function(c){return c===this?0:1};c.prototype.equals=function(c){return c===this};c.prototype.getPriority=function(){return this};c.prototype.getImmediateChild=function(c){return ya.EMPTY_NODE};c.prototype.isEmpty=function(){return!1};return c}(ya));Object.defineProperties(ja,{MIN:{value:new ja("[MIN_NAME]",ya.EMPTY_NODE)},MAX:{value:new ja("[MAX_NAME]",Hc)}});Rc.__EMPTY_NODE=ya.EMPTY_NODE;qb.__childrenNodeConstructor=ya;var Ic=Fa=Hc;var hd=z;var Va=new (function(a){function c(){return null!==
a&&a.apply(this,arguments)||this}k.__extends(c,a);c.prototype.compare=function(c,a){var h=c.node.compareTo(a.node);return 0===h?qa(c.name,a.name):h};c.prototype.isDefinedOn=function(c){return!0};c.prototype.indexedValueChanged=function(c,a){return!c.equals(a)};c.prototype.minPost=function(){return ja.MIN};c.prototype.maxPost=function(){return ja.MAX};c.prototype.makePost=function(c,a){c=z(c);return new ja(a,c)};c.prototype.toString=function(){return".value"};return c}(Pb)),Ea=function(a){function c(c){var h=
a.call(this)||this;h.indexPath_=c;e.assert(!c.isEmpty()&&".priority"!==c.getFront(),"Can't create PathIndex with empty path or .priority key");return h}k.__extends(c,a);c.prototype.extractChild=function(c){return c.getChild(this.indexPath_)};c.prototype.isDefinedOn=function(c){return!c.getChild(this.indexPath_).isEmpty()};c.prototype.compare=function(c,a){var h=this.extractChild(c.node),m=this.extractChild(a.node);h=h.compareTo(m);return 0===h?qa(c.name,a.name):h};c.prototype.makePost=function(c,
a){c=z(c);c=ya.EMPTY_NODE.updateChild(this.indexPath_,c);return new ja(a,c)};c.prototype.maxPost=function(){var c=ya.EMPTY_NODE.updateChild(this.indexPath_,Hc);return new ja("[MAX_NAME]",c)};c.prototype.toString=function(){return this.indexPath_.slice().join("/")};return c}(Pb),r=function(){function a(c,a,m){this.node_=c;this.ref_=a;this.index_=m}a.prototype.val=function(){e.validateArgCount("DataSnapshot.val",0,0,arguments.length);return this.node_.val()};a.prototype.exportVal=function(){e.validateArgCount("DataSnapshot.exportVal",
0,0,arguments.length);return this.node_.val(!0)};a.prototype.toJSON=function(){e.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length);return this.exportVal()};a.prototype.exists=function(){e.validateArgCount("DataSnapshot.exists",0,0,arguments.length);return!this.node_.isEmpty()};a.prototype.child=function(c){e.validateArgCount("DataSnapshot.child",0,1,arguments.length);c=String(c);Eb("DataSnapshot.child",1,c,!1);var h=new K(c),m=this.ref_.child(h);return new a(this.node_.getChild(h),m,Aa)};
a.prototype.hasChild=function(c){e.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length);Eb("DataSnapshot.hasChild",1,c,!1);var a=new K(c);return!this.node_.getChild(a).isEmpty()};a.prototype.getPriority=function(){e.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length);return this.node_.getPriority().val()};a.prototype.forEach=function(c){var h=this;e.validateArgCount("DataSnapshot.forEach",1,1,arguments.length);e.validateCallback("DataSnapshot.forEach",1,c,!1);return this.node_.isLeafNode()?
!1:!!this.node_.forEachChild(this.index_,function(m,e){return c(new a(e,h.ref_.child(m),Aa))})};a.prototype.hasChildren=function(){e.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length);return this.node_.isLeafNode()?!1:!this.node_.isEmpty()};Object.defineProperty(a.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0});a.prototype.numChildren=function(){e.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length);return this.node_.numChildren()};
a.prototype.getRef=function(){e.validateArgCount("DataSnapshot.ref",0,0,arguments.length);return this.ref_};Object.defineProperty(a.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0});return a}(),$b=function(){function a(c,a,m,e){this.eventType=c;this.eventRegistration=a;this.snapshot=m;this.prevName=e}a.prototype.getPath=function(){var c=this.snapshot.getRef();return"value"===this.eventType?c.path:c.getParent().path};a.prototype.getEventType=function(){return this.eventType};
a.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)};a.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+e.stringify(this.snapshot.exportVal())};return a}(),id=function(){function a(c,a,m){this.eventRegistration=c;this.error=a;this.path=m}a.prototype.getPath=function(){return this.path};a.prototype.getEventType=function(){return"cancel"};a.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)};
a.prototype.toString=function(){return this.path.toString()+":cancel"};return a}(),Vc=function(){function a(c,a,m){this.callback_=c;this.cancelCallback_=a;this.context_=m}a.prototype.respondsTo=function(c){return"value"===c};a.prototype.createEvent=function(c,a){var h=a.getQueryParams().getIndex();return new $b("value",this,new r(c.snapshotNode,a.getRef(),h))};a.prototype.getEventRunner=function(c){var a=this.context_;if("cancel"===c.getEventType()){e.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");
var m=this.cancelCallback_;return function(){m.call(a,c.error)}}var f=this.callback_;return function(){f.call(a,c.snapshot)}};a.prototype.createCancelEvent=function(c,a){return this.cancelCallback_?new id(this,c,a):null};a.prototype.matches=function(c){return c instanceof a?c.callback_&&this.callback_?c.callback_===this.callback_&&c.context_===this.context_:!0:!1};a.prototype.hasAnyCallback=function(){return null!==this.callback_};return a}(),ab=function(){function a(c,a,m){this.callbacks_=c;this.cancelCallback_=
a;this.context_=m}a.prototype.respondsTo=function(c){c="children_added"===c?"child_added":c;return e.contains(this.callbacks_,"children_removed"===c?"child_removed":c)};a.prototype.createCancelEvent=function(c,a){return this.cancelCallback_?new id(this,c,a):null};a.prototype.createEvent=function(c,a){e.assert(null!=c.childName,"Child events should have a childName.");var h=a.getRef().child(c.childName);a=a.getQueryParams().getIndex();return new $b(c.type,this,new r(c.snapshotNode,h,a),c.prevName)};
a.prototype.getEventRunner=function(c){var a=this.context_;if("cancel"===c.getEventType()){e.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var m=this.cancelCallback_;return function(){m.call(a,c.error)}}var f=this.callbacks_[c.eventType];return function(){f.call(a,c.snapshot,c.prevName)}};a.prototype.matches=function(c){if(c instanceof a){if(!this.callbacks_||!c.callbacks_)return!0;if(this.context_===c.context_){var h=e.getCount(c.callbacks_),m=e.getCount(this.callbacks_);
if(h===m)return 1===h?(h=e.getAnyKey(c.callbacks_),m=e.getAnyKey(this.callbacks_),m===h&&(!c.callbacks_[h]||!this.callbacks_[m]||c.callbacks_[h]===this.callbacks_[m])):e.every(this.callbacks_,function(a,h){return c.callbacks_[a]===h})}}return!1};a.prototype.hasAnyCallback=function(){return null!==this.callbacks_};return a}(),wb,Bb=function(){function a(c,a,e,m){this.repo=c;this.path=a;this.queryParams_=e;this.orderByCalled_=m}Object.defineProperty(a,"__referenceConstructor",{get:function(){e.assert(wb,
"Reference.ts has not been loaded");return wb},set:function(c){wb=c},enumerable:!0,configurable:!0});a.validateQueryEndpoints_=function(c){var a=null,m=null;c.hasStart()&&(a=c.getIndexStartValue());c.hasEnd()&&(m=c.getIndexEndValue());if(c.getIndex()===ua){if(c.hasStart()){if("[MIN_NAME]"!=c.getIndexStartName())throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof a)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");
}if(c.hasEnd()){if("[MAX_NAME]"!=c.getIndexEndName())throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof m)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(c.getIndex()===Aa){if(null!=a&&!ha(a)||null!=m&&!ha(m))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");
}else if(e.assert(c.getIndex()instanceof Ea||c.getIndex()===Va,"unknown index type."),null!=a&&"object"===typeof a||null!=m&&"object"===typeof m)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");};a.validateLimit_=function(c){if(c.hasStart()&&c.hasEnd()&&c.hasLimit()&&!c.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");};a.prototype.validateNoPreviousOrderByCall_=
function(c){if(!0===this.orderByCalled_)throw Error(c+": You can't combine multiple orderBy calls.");};a.prototype.getQueryParams=function(){return this.queryParams_};a.prototype.getRef=function(){e.validateArgCount("Query.ref",0,0,arguments.length);return new a.__referenceConstructor(this.repo,this.path)};a.prototype.on=function(c,h,m,f){e.validateArgCount("Query.on",2,4,arguments.length);Ob("Query.on",1,c,!1);e.validateCallback("Query.on",2,h,!1);var t=a.getCancelAndContextArgs_("Query.on",m,f);
if("value"===c)this.onValueEvent(h,t.cancel,t.context);else{var k={};k[c]=h;this.onChildEvent(k,t.cancel,t.context)}return h};a.prototype.onValueEvent=function(c,a,e){c=new Vc(c,a||null,e||null);this.repo.addEventCallbackForQuery(this,c)};a.prototype.onChildEvent=function(c,a,e){c=new ab(c,a,e);this.repo.addEventCallbackForQuery(this,c)};a.prototype.off=function(c,a,m){e.validateArgCount("Query.off",0,3,arguments.length);Ob("Query.off",1,c,!0);e.validateCallback("Query.off",2,a,!0);e.validateContextObject("Query.off",
3,m,!0);var h=null,f=null;"value"===c?h=new Vc(a||null,null,m||null):c&&(a&&(f={},f[c]=a),h=new ab(f,null,m||null));this.repo.removeEventCallbackForQuery(this,h)};a.prototype.once=function(c,h,m,f){var t=this;e.validateArgCount("Query.once",1,4,arguments.length);Ob("Query.once",1,c,!1);e.validateCallback("Query.once",2,h,!0);var k=a.getCancelAndContextArgs_("Query.once",m,f),r=!0,n=new e.Deferred;n.promise.catch(function(){});var X=function(a){r&&(r=!1,t.off(c,X),h&&h.bind(k.context)(a),n.resolve(a))};
this.on(c,X,function(a){t.off(c,X);k.cancel&&k.cancel.bind(k.context)(a);n.reject(a)});return n.promise};a.prototype.limitToFirst=function(c){e.validateArgCount("Query.limitToFirst",1,1,arguments.length);if("number"!==typeof c||Math.floor(c)!==c||0>=c)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new a(this.repo,this.path,
this.queryParams_.limitToFirst(c),this.orderByCalled_)};a.prototype.limitToLast=function(c){e.validateArgCount("Query.limitToLast",1,1,arguments.length);if("number"!==typeof c||Math.floor(c)!==c||0>=c)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new a(this.repo,this.path,this.queryParams_.limitToLast(c),this.orderByCalled_)};
a.prototype.orderByChild=function(c){e.validateArgCount("Query.orderByChild",1,1,arguments.length);if("$key"===c)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===c)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===c)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Eb("Query.orderByChild",1,c,!1);this.validateNoPreviousOrderByCall_("Query.orderByChild");
var h=new K(c);if(h.isEmpty())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");h=new Ea(h);h=this.queryParams_.orderBy(h);a.validateQueryEndpoints_(h);return new a(this.repo,this.path,h,!0)};a.prototype.orderByKey=function(){e.validateArgCount("Query.orderByKey",0,0,arguments.length);this.validateNoPreviousOrderByCall_("Query.orderByKey");var c=this.queryParams_.orderBy(ua);a.validateQueryEndpoints_(c);return new a(this.repo,this.path,c,!0)};a.prototype.orderByPriority=
function(){e.validateArgCount("Query.orderByPriority",0,0,arguments.length);this.validateNoPreviousOrderByCall_("Query.orderByPriority");var c=this.queryParams_.orderBy(Aa);a.validateQueryEndpoints_(c);return new a(this.repo,this.path,c,!0)};a.prototype.orderByValue=function(){e.validateArgCount("Query.orderByValue",0,0,arguments.length);this.validateNoPreviousOrderByCall_("Query.orderByValue");var c=this.queryParams_.orderBy(Va);a.validateQueryEndpoints_(c);return new a(this.repo,this.path,c,!0)};
a.prototype.startAt=function(c,h){void 0===c&&(c=null);e.validateArgCount("Query.startAt",0,2,arguments.length);oa("Query.startAt",1,c,this.path,!0);sd("Query.startAt",2,h,!0);var m=this.queryParams_.startAt(c,h);a.validateLimit_(m);a.validateQueryEndpoints_(m);if(this.queryParams_.hasStart())throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");void 0===c&&(h=c=null);return new a(this.repo,this.path,m,this.orderByCalled_)};a.prototype.endAt=function(c,
h){void 0===c&&(c=null);e.validateArgCount("Query.endAt",0,2,arguments.length);oa("Query.endAt",1,c,this.path,!0);sd("Query.endAt",2,h,!0);var m=this.queryParams_.endAt(c,h);a.validateLimit_(m);a.validateQueryEndpoints_(m);if(this.queryParams_.hasEnd())throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new a(this.repo,this.path,m,this.orderByCalled_)};a.prototype.equalTo=function(c,a){e.validateArgCount("Query.equalTo",1,2,arguments.length);oa("Query.equalTo",
1,c,this.path,!1);sd("Query.equalTo",2,a,!0);if(this.queryParams_.hasStart())throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(c,a).endAt(c,a)};a.prototype.toString=function(){e.validateArgCount("Query.toString",0,0,arguments.length);return this.repo.toString()+this.path.toUrlEncodedString()};a.prototype.toJSON=
function(){e.validateArgCount("Query.toJSON",0,1,arguments.length);return this.toString()};a.prototype.queryObject=function(){return this.queryParams_.getQueryObject()};a.prototype.queryIdentifier=function(){var c=this.queryObject();c=ka(c);return"{}"===c?"default":c};a.prototype.isEqual=function(c){e.validateArgCount("Query.isEqual",1,1,arguments.length);if(!(c instanceof a))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var h=this.repo===c.repo,
m=this.path.equals(c.path),f=this.queryIdentifier()===c.queryIdentifier();return h&&m&&f};a.getCancelAndContextArgs_=function(c,a,m){var h={cancel:null,context:null};if(a&&m)h.cancel=a,e.validateCallback(c,3,h.cancel,!0),h.context=m,e.validateContextObject(c,4,h.context,!0);else if(a)if("object"===typeof a&&null!==a)h.context=a;else if("function"===typeof a)h.cancel=a;else throw Error(e.errorPrefix(c,3,!0)+" must either be a cancel callback or a context object.");return h};Object.defineProperty(a.prototype,
"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0});return a}(),D=function(){function a(){this.set={}}a.prototype.add=function(c,a){this.set[c]=null!==a?a:!0};a.prototype.contains=function(c){return e.contains(this.set,c)};a.prototype.get=function(c){return this.contains(c)?this.set[c]:void 0};a.prototype.remove=function(c){delete this.set[c]};a.prototype.clear=function(){this.set={}};a.prototype.isEmpty=function(){return e.isEmpty(this.set)};a.prototype.count=function(){return e.getCount(this.set)};
a.prototype.each=function(c){e.forEach(this.set,function(a,e){return c(a,e)})};a.prototype.keys=function(){var c=[];e.forEach(this.set,function(a){c.push(a)});return c};return a}(),M=function(){function a(){this.children_=this.value_=null}a.prototype.find=function(c){if(null!=this.value_)return this.value_.getChild(c);if(c.isEmpty()||null==this.children_)return null;var a=c.getFront();c=c.popFront();return this.children_.contains(a)?this.children_.get(a).find(c):null};a.prototype.remember=function(c,
h){if(c.isEmpty())this.value_=h,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(c,h);else{null==this.children_&&(this.children_=new D);var e=c.getFront();this.children_.contains(e)||this.children_.add(e,new a);e=this.children_.get(e);c=c.popFront();e.remember(c,h)}};a.prototype.forget=function(c){if(c.isEmpty())return this.children_=this.value_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var a=this.value_;this.value_=null;var e=this;a.forEachChild(Aa,
function(c,a){e.remember(new K(c),a)});return this.forget(c)}return null!==this.children_?(a=c.getFront(),c=c.popFront(),this.children_.contains(a)&&this.children_.get(a).forget(c)&&this.children_.remove(a),this.children_.isEmpty()?(this.children_=null,!0):!1):!0};a.prototype.forEachTree=function(c,a){null!==this.value_?a(c,this.value_):this.forEachChild(function(h,e){h=new K(c.toString()+"/"+h);e.forEachTree(h,a)})};a.prototype.forEachChild=function(c){null!==this.children_&&this.children_.each(function(a,
e){c(a,e)})};return a}(),td=function(a,c){return a&&"object"===typeof a?(e.assert(".sv"in a,"Unexpected leaf node or priority contents"),c[a[".sv"]]):a},pc=function(a,c){var h=new M;a.forEachTree(new K(""),function(a,e){h.remember(a,jd(e,c))});return h},jd=function(a,c){var h=a.getPriority().val();h=td(h,c);if(a.isLeafNode()){var e=td(a.getValue(),c);return e!==a.getValue()||h!==a.getPriority().val()?new qb(e,z(h)):a}var m=a;h!==a.getPriority().val()&&(m=m.updatePriority(new qb(h)));a.forEachChild(Aa,
function(a,h){var e=jd(h,c);e!==h&&(m=m.updateImmediateChild(a,e))});return m},Ia;(function(a){a[a.OVERWRITE=0]="OVERWRITE";a[a.MERGE=1]="MERGE";a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE";a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ia||(Ia={}));var bb=function(){function a(c,a,m,f){this.fromUser=c;this.fromServer=a;this.queryId=m;this.tagged=f;e.assert(!f||a,"Tagged queries must be from server.")}a.User=new a(!0,!1,null,!1);a.Server=new a(!1,!0,null,!1);a.forServerTaggedQuery=function(c){return new a(!1,
!0,c,!0)};return a}(),ud=function(){function a(c,a,e){this.path=c;this.affectedTree=a;this.revert=e;this.type=Ia.ACK_USER_WRITE;this.source=bb.User}a.prototype.operationForChild=function(c){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return e.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;c=this.affectedTree.subtree(new K(c));return new a(K.Empty,c,this.revert)}e.assert(this.path.getFront()===c,"operationForChild called for unrelated child.");
return new a(this.path.popFront(),this.affectedTree,this.revert)};return a}(),Xd,Qa=function(){function a(c,a){void 0===a&&(Xd||(Xd=new lb(Na)),a=Xd);this.value=c;this.children=a}a.fromObject=function(c){var h=a.Empty;e.forEach(c,function(c,a){h=h.set(new K(c),a)});return h};a.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()};a.prototype.findRootMostMatchingPathAndValue=function(c,a){if(null!=this.value&&a(this.value))return{path:K.Empty,value:this.value};if(c.isEmpty())return null;
var h=c.getFront(),e=this.children.get(h);return null!==e?(c=e.findRootMostMatchingPathAndValue(c.popFront(),a),null!=c?{path:(new K(h)).child(c.path),value:c.value}:null):null};a.prototype.findRootMostValueAndPath=function(c){return this.findRootMostMatchingPathAndValue(c,function(){return!0})};a.prototype.subtree=function(c){if(c.isEmpty())return this;var h=c.getFront();h=this.children.get(h);return null!==h?h.subtree(c.popFront()):a.Empty};a.prototype.set=function(c,h){if(c.isEmpty())return new a(h,
this.children);var e=c.getFront();c=(this.children.get(e)||a.Empty).set(c.popFront(),h);e=this.children.insert(e,c);return new a(this.value,e)};a.prototype.remove=function(c){if(c.isEmpty())return this.children.isEmpty()?a.Empty:new a(null,this.children);var h=c.getFront(),e=this.children.get(h);return e?(c=e.remove(c.popFront()),h=c.isEmpty()?this.children.remove(h):this.children.insert(h,c),null===this.value&&h.isEmpty()?a.Empty:new a(this.value,h)):this};a.prototype.get=function(c){if(c.isEmpty())return this.value;
var a=c.getFront();return(a=this.children.get(a))?a.get(c.popFront()):null};a.prototype.setTree=function(c,h){if(c.isEmpty())return h;var e=c.getFront();c=(this.children.get(e)||a.Empty).setTree(c.popFront(),h);e=c.isEmpty()?this.children.remove(e):this.children.insert(e,c);return new a(this.value,e)};a.prototype.fold=function(c){return this.fold_(K.Empty,c)};a.prototype.fold_=function(c,a){var h={};this.children.inorderTraversal(function(e,m){h[e]=m.fold_(c.child(e),a)});return a(c,this.value,h)};
a.prototype.findOnPath=function(c,a){return this.findOnPath_(c,K.Empty,a)};a.prototype.findOnPath_=function(c,a,e){var h=this.value?e(a,this.value):!1;if(h)return h;if(c.isEmpty())return null;h=c.getFront();var m=this.children.get(h);return m?m.findOnPath_(c.popFront(),a.child(h),e):null};a.prototype.foreachOnPath=function(c,a){return this.foreachOnPath_(c,K.Empty,a)};a.prototype.foreachOnPath_=function(c,h,e){if(c.isEmpty())return this;this.value&&e(h,this.value);var m=c.getFront(),f=this.children.get(m);
return f?f.foreachOnPath_(c.popFront(),h.child(m),e):a.Empty};a.prototype.foreach=function(c){this.foreach_(K.Empty,c)};a.prototype.foreach_=function(c,a){this.children.inorderTraversal(function(h,e){e.foreach_(c.child(h),a)});this.value&&a(c,this.value)};a.prototype.foreachChild=function(c){this.children.inorderTraversal(function(a,e){e.value&&c(a,e.value)})};a.Empty=new a(null);return a}(),Oa=function(){function a(c,a){this.source=c;this.path=a;this.type=Ia.LISTEN_COMPLETE}a.prototype.operationForChild=
function(c){return this.path.isEmpty()?new a(this.source,K.Empty):new a(this.source,this.path.popFront())};return a}(),ac=function(){function a(c,a,e){this.source=c;this.path=a;this.snap=e;this.type=Ia.OVERWRITE}a.prototype.operationForChild=function(c){return this.path.isEmpty()?new a(this.source,K.Empty,this.snap.getImmediateChild(c)):new a(this.source,this.path.popFront(),this.snap)};return a}(),xb=function(){function a(c,a,e){this.source=c;this.path=a;this.children=e;this.type=Ia.MERGE}a.prototype.operationForChild=
function(c){if(this.path.isEmpty())return c=this.children.subtree(new K(c)),c.isEmpty()?null:c.value?new ac(this.source,K.Empty,c.value):new a(this.source,K.Empty,c);e.assert(this.path.getFront()===c,"Can't get a merge for a child not on the path of the operation");return new a(this.source,this.path.popFront(),this.children)};a.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};return a}(),ia=function(){function a(c,a,e){this.node_=
c;this.fullyInitialized_=a;this.filtered_=e}a.prototype.isFullyInitialized=function(){return this.fullyInitialized_};a.prototype.isFiltered=function(){return this.filtered_};a.prototype.isCompleteForPath=function(c){if(c.isEmpty())return this.isFullyInitialized()&&!this.filtered_;c=c.getFront();return this.isCompleteForChild(c)};a.prototype.isCompleteForChild=function(c){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(c)};a.prototype.getNode=function(){return this.node_};return a}(),
Qb=function(){function a(c,a){this.eventCache_=c;this.serverCache_=a}a.prototype.updateEventSnap=function(c,h,e){return new a(new ia(c,h,e),this.serverCache_)};a.prototype.updateServerSnap=function(c,h,e){return new a(this.eventCache_,new ia(c,h,e))};a.prototype.getEventCache=function(){return this.eventCache_};a.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null};a.prototype.getServerCache=function(){return this.serverCache_};a.prototype.getCompleteServerSnap=
function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null};a.Empty=new a(new ia(ya.EMPTY_NODE,!1,!1),new ia(ya.EMPTY_NODE,!1,!1));return a}(),da=function(){function a(c,a,e,m,f){this.type=c;this.snapshotNode=a;this.childName=e;this.oldSnap=m;this.prevName=f}a.valueChange=function(c){return new a(a.VALUE,c)};a.childAddedChange=function(c,h){return new a(a.CHILD_ADDED,h,c)};a.childRemovedChange=function(c,h){return new a(a.CHILD_REMOVED,h,c)};a.childChangedChange=function(c,
h,e){return new a(a.CHILD_CHANGED,h,c,e)};a.childMovedChange=function(c,h){return new a(a.CHILD_MOVED,h,c)};a.CHILD_ADDED="child_added";a.CHILD_REMOVED="child_removed";a.CHILD_CHANGED="child_changed";a.CHILD_MOVED="child_moved";a.VALUE="value";return a}(),cb=function(){function a(c){this.index_=c}a.prototype.updateChild=function(c,a,m,f,k,r){e.assert(c.isIndexed(this.index_),"A node must be indexed if only a child is updated");k=c.getImmediateChild(a);if(k.getChild(f).equals(m.getChild(f))&&k.isEmpty()==
m.isEmpty())return c;null!=r&&(m.isEmpty()?c.hasChild(a)?r.trackChildChange(da.childRemovedChange(a,k)):e.assert(c.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):k.isEmpty()?r.trackChildChange(da.childAddedChange(a,m)):r.trackChildChange(da.childChangedChange(a,m,k)));return c.isLeafNode()&&m.isEmpty()?c:c.updateImmediateChild(a,m).withIndex(this.index_)};a.prototype.updateFullNode=function(c,a,e){null!=e&&(c.isLeafNode()||c.forEachChild(Aa,function(c,h){a.hasChild(c)||
e.trackChildChange(da.childRemovedChange(c,h))}),a.isLeafNode()||a.forEachChild(Aa,function(a,h){if(c.hasChild(a)){var m=c.getImmediateChild(a);m.equals(h)||e.trackChildChange(da.childChangedChange(a,h,m))}else e.trackChildChange(da.childAddedChange(a,h))}));return a.withIndex(this.index_)};a.prototype.updatePriority=function(c,a){return c.isEmpty()?ya.EMPTY_NODE:c.updatePriority(a)};a.prototype.filtersNodes=function(){return!1};a.prototype.getIndexedFilter=function(){return this};a.prototype.getIndex=
function(){return this.index_};return a}(),vc=function(){function a(){this.changeMap_={}}a.prototype.trackChildChange=function(c){var a=c.type,m=c.childName;e.assert(a==da.CHILD_ADDED||a==da.CHILD_CHANGED||a==da.CHILD_REMOVED,"Only child changes supported for tracking");e.assert(".priority"!==m,"Only non-priority child changes can be tracked.");var f=e.safeGet(this.changeMap_,m);if(f){var k=f.type;if(a==da.CHILD_ADDED&&k==da.CHILD_REMOVED)this.changeMap_[m]=da.childChangedChange(m,c.snapshotNode,
f.snapshotNode);else if(a==da.CHILD_REMOVED&&k==da.CHILD_ADDED)delete this.changeMap_[m];else if(a==da.CHILD_REMOVED&&k==da.CHILD_CHANGED)this.changeMap_[m]=da.childRemovedChange(m,f.oldSnap);else if(a==da.CHILD_CHANGED&&k==da.CHILD_ADDED)this.changeMap_[m]=da.childAddedChange(m,c.snapshotNode);else if(a==da.CHILD_CHANGED&&k==da.CHILD_CHANGED)this.changeMap_[m]=da.childChangedChange(m,c.snapshotNode,f.oldSnap);else throw e.assertionError("Illegal combination of changes: "+c+" occurred after "+f);
}else this.changeMap_[m]=c};a.prototype.getChanges=function(){return e.getValues(this.changeMap_)};return a}(),sb=new (function(){function a(){}a.prototype.getCompleteChild=function(c){return null};a.prototype.getChildAfterChild=function(c,a,e){return null};return a}()),eb=function(){function a(c,a,e){void 0===e&&(e=null);this.writes_=c;this.viewCache_=a;this.optCompleteServerCache_=e}a.prototype.getCompleteChild=function(c){var a=this.viewCache_.getEventCache();if(a.isCompleteForChild(c))return a.getNode().getImmediateChild(c);
a=null!=this.optCompleteServerCache_?new ia(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(c,a)};a.prototype.getChildAfterChild=function(c,a,e){var h=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap();c=this.writes_.calcIndexedSlice(h,a,1,e,c);return 0===c.length?null:c[0]};return a}(),vd=function(){return function(a,c){this.viewCache=a;this.changes=c}}(),me=function(){function a(c){this.filter_=
c}a.prototype.assertIndexed=function(c){e.assert(c.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed");e.assert(c.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")};a.prototype.applyOperation=function(c,h,m,f){var t=new vc;if(h.type===Ia.OVERWRITE)if(h.source.fromUser)h=this.applyUserOverwrite_(c,h.path,h.snap,m,f,t);else{e.assert(h.source.fromServer,"Unknown source.");var k=h.source.tagged||c.getServerCache().isFiltered()&&
!h.path.isEmpty();h=this.applyServerOverwrite_(c,h.path,h.snap,m,f,k,t)}else if(h.type===Ia.MERGE)h.source.fromUser?h=this.applyUserMerge_(c,h.path,h.children,m,f,t):(e.assert(h.source.fromServer,"Unknown source."),k=h.source.tagged||c.getServerCache().isFiltered(),h=this.applyServerMerge_(c,h.path,h.children,m,f,k,t));else if(h.type===Ia.ACK_USER_WRITE)h=h.revert?this.revertUserWrite_(c,h.path,m,f,t):this.ackUserWrite_(c,h.path,h.affectedTree,m,f,t);else if(h.type===Ia.LISTEN_COMPLETE)h=this.listenComplete_(c,
h.path,m,t);else throw e.assertionError("Unknown operation type: "+h.type);t=t.getChanges();a.maybeAddValueEvent_(c,h,t);return new vd(h,t)};a.maybeAddValueEvent_=function(c,a,e){var h=a.getEventCache();if(h.isFullyInitialized()){var m=h.getNode().isLeafNode()||h.getNode().isEmpty(),f=c.getCompleteEventSnap();(0<e.length||!c.getEventCache().isFullyInitialized()||m&&!h.getNode().equals(f)||!h.getNode().getPriority().equals(f.getPriority()))&&e.push(da.valueChange(a.getCompleteEventSnap()))}};a.prototype.generateEventCacheAfterServerEvent_=
function(c,a,m,f,k){var h=c.getEventCache();if(null!=m.shadowingWrite(a))return c;if(a.isEmpty())e.assert(c.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),c.getServerCache().isFiltered()?(f=c.getCompleteServerSnap(),m=m.calcCompleteEventChildren(f instanceof ya?f:ya.EMPTY_NODE),k=this.filter_.updateFullNode(c.getEventCache().getNode(),m,k)):(m=m.calcCompleteEventCache(c.getCompleteServerSnap()),k=this.filter_.updateFullNode(c.getEventCache().getNode(),
m,k));else{var t=a.getFront();if(".priority"==t){e.assert(1==a.getLength(),"Can't have a priority with additional path components");k=h.getNode();var r=c.getServerCache().getNode();m=m.calcEventCacheAfterServerOverwrite(a,k,r);k=null!=m?this.filter_.updatePriority(k,m):h.getNode()}else{var n=a.popFront();h.isCompleteForChild(t)?(r=c.getServerCache().getNode(),m=m.calcEventCacheAfterServerOverwrite(a,h.getNode(),r),m=null!=m?h.getNode().getImmediateChild(t).updateChild(n,m):h.getNode().getImmediateChild(t)):
m=m.calcCompleteChild(t,c.getServerCache());k=null!=m?this.filter_.updateChild(h.getNode(),t,m,n,f,k):h.getNode()}}return c.updateEventSnap(k,h.isFullyInitialized()||a.isEmpty(),this.filter_.filtersNodes())};a.prototype.applyServerOverwrite_=function(c,a,e,m,f,k,r){var h=c.getServerCache();k=k?this.filter_:this.filter_.getIndexedFilter();if(a.isEmpty())e=k.updateFullNode(h.getNode(),e,null);else if(k.filtersNodes()&&!h.isFiltered())e=h.getNode().updateChild(a,e),e=k.updateFullNode(h.getNode(),e,null);
else{var t=a.getFront();if(!h.isCompleteForPath(a)&&1<a.getLength())return c;var n=a.popFront();e=h.getNode().getImmediateChild(t).updateChild(n,e);e=".priority"==t?k.updatePriority(h.getNode(),e):k.updateChild(h.getNode(),t,e,n,sb,null)}c=c.updateServerSnap(e,h.isFullyInitialized()||a.isEmpty(),k.filtersNodes());f=new eb(m,c,f);return this.generateEventCacheAfterServerEvent_(c,a,m,f,r)};a.prototype.applyUserOverwrite_=function(c,a,e,m,f,k){var h=c.getEventCache();m=new eb(m,c,f);if(a.isEmpty())k=
this.filter_.updateFullNode(c.getEventCache().getNode(),e,k),c=c.updateEventSnap(k,!0,this.filter_.filtersNodes());else if(f=a.getFront(),".priority"===f)k=this.filter_.updatePriority(c.getEventCache().getNode(),e),c=c.updateEventSnap(k,h.isFullyInitialized(),h.isFiltered());else{a=a.popFront();var t=h.getNode().getImmediateChild(f);if(!a.isEmpty()){var r=m.getCompleteChild(f);e=null!=r?".priority"===a.getBack()&&r.getChild(a.parent()).isEmpty()?r:r.updateChild(a,e):ya.EMPTY_NODE}t.equals(e)||(k=
this.filter_.updateChild(h.getNode(),f,e,a,m,k),c=c.updateEventSnap(k,h.isFullyInitialized(),this.filter_.filtersNodes()))}return c};a.cacheHasChild_=function(c,a){return c.getEventCache().isCompleteForChild(a)};a.prototype.applyUserMerge_=function(c,h,e,m,f,k){var t=this,r=c;e.foreach(function(e,n){e=h.child(e);a.cacheHasChild_(c,e.getFront())&&(r=t.applyUserOverwrite_(r,e,n,m,f,k))});e.foreach(function(e,n){e=h.child(e);a.cacheHasChild_(c,e.getFront())||(r=t.applyUserOverwrite_(r,e,n,m,f,k))});
return r};a.prototype.applyMerge_=function(c,a){a.foreach(function(a,h){c=c.updateChild(a,h)});return c};a.prototype.applyServerMerge_=function(c,a,e,m,f,k,r){var h=this;if(c.getServerCache().getNode().isEmpty()&&!c.getServerCache().isFullyInitialized())return c;var t=c;a=a.isEmpty()?e:Qa.Empty.setTree(a,e);var n=c.getServerCache().getNode();a.children.inorderTraversal(function(a,e){if(n.hasChild(a)){var X=c.getServerCache().getNode().getImmediateChild(a);e=h.applyMerge_(X,e);t=h.applyServerOverwrite_(t,
new K(a),e,m,f,k,r)}});a.children.inorderTraversal(function(a,e){var X=!c.getServerCache().isCompleteForChild(a)&&null==e.value;n.hasChild(a)||X||(X=c.getServerCache().getNode().getImmediateChild(a),e=h.applyMerge_(X,e),t=h.applyServerOverwrite_(t,new K(a),e,m,f,k,r))});return t};a.prototype.ackUserWrite_=function(c,a,e,m,f,k){if(null!=m.shadowingWrite(a))return c;var h=c.getServerCache().isFiltered(),t=c.getServerCache();if(null!=e.value){if(a.isEmpty()&&t.isFullyInitialized()||t.isCompleteForPath(a))return this.applyServerOverwrite_(c,
a,t.getNode().getChild(a),m,f,h,k);if(a.isEmpty()){var r=Qa.Empty;t.getNode().forEachChild(ua,function(c,a){r=r.set(new K(c),a)});return this.applyServerMerge_(c,a,r,m,f,h,k)}return c}var n=Qa.Empty;e.foreach(function(c,h){h=a.child(c);t.isCompleteForPath(h)&&(n=n.set(c,t.getNode().getChild(h)))});return this.applyServerMerge_(c,a,n,m,f,h,k)};a.prototype.listenComplete_=function(c,a,e,m){var h=c.getServerCache();c=c.updateServerSnap(h.getNode(),h.isFullyInitialized()||a.isEmpty(),h.isFiltered());
return this.generateEventCacheAfterServerEvent_(c,a,e,sb,m)};a.prototype.revertUserWrite_=function(c,a,m,f,k){if(null!=m.shadowingWrite(a))return c;var h=new eb(m,c,f);f=c.getEventCache().getNode();if(a.isEmpty()||".priority"===a.getFront())c.getServerCache().isFullyInitialized()?a=m.calcCompleteEventCache(c.getCompleteServerSnap()):(a=c.getServerCache().getNode(),e.assert(a instanceof ya,"serverChildren would be complete if leaf node"),a=m.calcCompleteEventChildren(a)),a=this.filter_.updateFullNode(f,
a,k);else{var t=a.getFront(),r=m.calcCompleteChild(t,c.getServerCache());null==r&&c.getServerCache().isCompleteForChild(t)&&(r=f.getImmediateChild(t));a=null!=r?this.filter_.updateChild(f,t,r,a.popFront(),h,k):c.getEventCache().getNode().hasChild(t)?this.filter_.updateChild(f,t,ya.EMPTY_NODE,a.popFront(),h,k):f;a.isEmpty()&&c.getServerCache().isFullyInitialized()&&(f=m.calcCompleteEventCache(c.getCompleteServerSnap()),f.isLeafNode()&&(a=this.filter_.updateFullNode(a,f,k)))}f=c.getServerCache().isFullyInitialized()||
null!=m.shadowingWrite(K.Empty);return c.updateEventSnap(a,f,this.filter_.filtersNodes())};return a}(),Fb=function(){function a(c){this.query_=c;this.index_=this.query_.getQueryParams().getIndex()}a.prototype.generateEventsForChanges=function(c,a,e){var h=this,m=[],f=[];c.forEach(function(c){c.type===da.CHILD_CHANGED&&h.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&f.push(da.childMovedChange(c.childName,c.snapshotNode))});this.generateEventsForType_(m,da.CHILD_REMOVED,c,e,a);this.generateEventsForType_(m,
da.CHILD_ADDED,c,e,a);this.generateEventsForType_(m,da.CHILD_MOVED,f,e,a);this.generateEventsForType_(m,da.CHILD_CHANGED,c,e,a);this.generateEventsForType_(m,da.VALUE,c,e,a);return m};a.prototype.generateEventsForType_=function(c,a,e,m,f){var h=this;e=e.filter(function(c){return c.type===a});e.sort(this.compareChanges_.bind(this));e.forEach(function(a){var e=h.materializeSingleChange_(a,f);m.forEach(function(m){m.respondsTo(a.type)&&c.push(m.createEvent(e,h.query_))})})};a.prototype.materializeSingleChange_=
function(c,a){"value"!==c.type&&"child_removed"!==c.type&&(c.prevName=a.getPredecessorChildName(c.childName,c.snapshotNode,this.index_));return c};a.prototype.compareChanges_=function(c,a){if(null==c.childName||null==a.childName)throw e.assertionError("Should only compare child_ events.");c=new ja(c.childName,c.snapshotNode);a=new ja(a.childName,a.snapshotNode);return this.index_.compare(c,a)};return a}(),Yd=function(){function a(c,a){this.query_=c;this.eventRegistrations_=[];var h=this.query_.getQueryParams();
c=new cb(h.getIndex());h=h.getNodeFilter();this.processor_=new me(h);var e=a.getServerCache();a=a.getEventCache();var m=c.updateFullNode(ya.EMPTY_NODE,e.getNode(),null),f=h.updateFullNode(ya.EMPTY_NODE,a.getNode(),null);c=new ia(m,e.isFullyInitialized(),c.filtersNodes());h=new ia(f,a.isFullyInitialized(),h.filtersNodes());this.viewCache_=new Qb(h,c);this.eventGenerator_=new Fb(this.query_)}a.prototype.getQuery=function(){return this.query_};a.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()};
a.prototype.getCompleteServerCache=function(c){var a=this.viewCache_.getCompleteServerSnap();return a&&(this.query_.getQueryParams().loadsAllData()||!c.isEmpty()&&!a.getImmediateChild(c.getFront()).isEmpty())?a.getChild(c):null};a.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length};a.prototype.addEventRegistration=function(c){this.eventRegistrations_.push(c)};a.prototype.removeEventRegistration=function(c,a){var h=[];if(a){e.assert(null==c,"A cancel should cancel all event registrations.");
var m=this.query_.path;this.eventRegistrations_.forEach(function(c){(c=c.createCancelEvent(a,m))&&h.push(c)})}if(c){for(var f=[],k=0;k<this.eventRegistrations_.length;++k){var r=this.eventRegistrations_[k];if(!r.matches(c))f.push(r);else if(c.hasAnyCallback()){f=f.concat(this.eventRegistrations_.slice(k+1));break}}this.eventRegistrations_=f}else this.eventRegistrations_=[];return h};a.prototype.applyOperation=function(c,a,m){c.type===Ia.MERGE&&null!==c.source.queryId&&(e.assert(this.viewCache_.getCompleteServerSnap(),
"We should always have a full cache before handling merges"),e.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var h=this.viewCache_;c=this.processor_.applyOperation(h,c,a,m);this.processor_.assertIndexed(c.viewCache);e.assert(c.viewCache.getServerCache().isFullyInitialized()||!h.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back");this.viewCache_=c.viewCache;return this.generateEventsForChanges_(c.changes,
c.viewCache.getEventCache().getNode(),null)};a.prototype.getInitialEvents=function(c){var a=this.viewCache_.getEventCache(),e=[];a.getNode().isLeafNode()||a.getNode().forEachChild(Aa,function(c,a){e.push(da.childAddedChange(c,a))});a.isFullyInitialized()&&e.push(da.valueChange(a.getNode()));return this.generateEventsForChanges_(e,a.getNode(),c)};a.prototype.generateEventsForChanges_=function(c,a,e){return this.eventGenerator_.generateEventsForChanges(c,a,e?[e]:this.eventRegistrations_)};return a}(),
ec,wc=function(){function a(){this.views_={}}Object.defineProperty(a,"__referenceConstructor",{get:function(){e.assert(ec,"Reference.ts has not been loaded");return ec},set:function(c){e.assert(!ec,"__referenceConstructor has already been defined");ec=c},enumerable:!0,configurable:!0});a.prototype.isEmpty=function(){return e.isEmpty(this.views_)};a.prototype.applyOperation=function(c,a,m){var h=c.source.queryId;if(null!==h)return h=e.safeGet(this.views_,h),e.assert(null!=h,"SyncTree gave us an op for an invalid query."),
h.applyOperation(c,a,m);var f=[];e.forEach(this.views_,function(h,e){f=f.concat(e.applyOperation(c,a,m))});return f};a.prototype.addEventRegistration=function(c,a,m,f,k){var h=c.queryIdentifier(),t=e.safeGet(this.views_,h);t||((t=m.calcCompleteEventCache(k?f:null))?m=!0:(t=f instanceof ya?m.calcCompleteEventChildren(f):ya.EMPTY_NODE,m=!1),f=new Qb(new ia(t,m,!1),new ia(f,k,!1)),t=new Yd(c,f),this.views_[h]=t);t.addEventRegistration(a);return t.getInitialEvents(a)};a.prototype.removeEventRegistration=
function(c,h,m){var f=c.queryIdentifier(),t=[],k=[],r=this.hasCompleteView();if("default"===f){var n=this;e.forEach(this.views_,function(c,a){k=k.concat(a.removeEventRegistration(h,m));a.isEmpty()&&(delete n.views_[c],a.getQuery().getQueryParams().loadsAllData()||t.push(a.getQuery()))})}else{var p=e.safeGet(this.views_,f);p&&(k=k.concat(p.removeEventRegistration(h,m)),p.isEmpty()&&(delete this.views_[f],p.getQuery().getQueryParams().loadsAllData()||t.push(p.getQuery())))}r&&!this.hasCompleteView()&&
t.push(new a.__referenceConstructor(c.repo,c.path));return{removed:t,events:k}};a.prototype.getQueryViews=function(){var c=this;return Object.keys(this.views_).map(function(a){return c.views_[a]}).filter(function(c){return!c.getQuery().getQueryParams().loadsAllData()})};a.prototype.getCompleteServerCache=function(c){var a=null;e.forEach(this.views_,function(h,e){a=a||e.getCompleteServerCache(c)});return a};a.prototype.viewForQuery=function(c){if(c.getQueryParams().loadsAllData())return this.getCompleteView();
c=c.queryIdentifier();return e.safeGet(this.views_,c)};a.prototype.viewExistsForQuery=function(c){return null!=this.viewForQuery(c)};a.prototype.hasCompleteView=function(){return null!=this.getCompleteView()};a.prototype.getCompleteView=function(){return e.findValue(this.views_,function(c){return c.getQuery().getQueryParams().loadsAllData()})||null};return a}(),fb=function(){function a(c){this.writeTree_=c}a.prototype.addWrite=function(c,h){if(c.isEmpty())return new a(new Qa(h));var e=this.writeTree_.findRootMostValueAndPath(c);
if(null!=e){var f=e.path;e=e.value;c=K.relativePath(f,c);e=e.updateChild(c,h);return new a(this.writeTree_.set(f,e))}h=new Qa(h);c=this.writeTree_.setTree(c,h);return new a(c)};a.prototype.addWrites=function(c,a){var h=this;e.forEach(a,function(a,e){h=h.addWrite(c.child(a),e)});return h};a.prototype.removeWrite=function(c){if(c.isEmpty())return a.Empty;c=this.writeTree_.setTree(c,Qa.Empty);return new a(c)};a.prototype.hasCompleteWrite=function(c){return null!=this.getCompleteNode(c)};a.prototype.getCompleteNode=
function(c){var a=this.writeTree_.findRootMostValueAndPath(c);return null!=a?this.writeTree_.get(a.path).getChild(K.relativePath(a.path,c)):null};a.prototype.getCompleteChildren=function(){var c=[],a=this.writeTree_.value;null!=a?a.isLeafNode()||a.forEachChild(Aa,function(a,h){c.push(new ja(a,h))}):this.writeTree_.children.inorderTraversal(function(a,h){null!=h.value&&c.push(new ja(a,h.value))});return c};a.prototype.childCompoundWrite=function(c){if(c.isEmpty())return this;var h=this.getCompleteNode(c);
return null!=h?new a(new Qa(h)):new a(this.writeTree_.subtree(c))};a.prototype.isEmpty=function(){return this.writeTree_.isEmpty()};a.prototype.apply=function(c){return a.applySubtreeWrite_(K.Empty,this.writeTree_,c)};a.Empty=new a(new Qa(null));a.applySubtreeWrite_=function(c,h,f){if(null!=h.value)return f.updateChild(c,h.value);var m=null;h.children.inorderTraversal(function(h,t){".priority"===h?(e.assert(null!==t.value,"Priority writes must always be leaf nodes"),m=t.value):f=a.applySubtreeWrite_(c.child(h),
t,f)});f.getChild(c).isEmpty()||null===m||(f=f.updateChild(c.child(".priority"),m));return f};return a}(),Rb=function(){function a(){this.visibleWrites_=fb.Empty;this.allWrites_=[];this.lastWriteId_=-1}a.prototype.childWrites=function(c){return new kd(c,this)};a.prototype.addOverwrite=function(c,a,f,m){e.assert(f>this.lastWriteId_,"Stacking an older write on top of newer ones");void 0===m&&(m=!0);this.allWrites_.push({path:c,snap:a,writeId:f,visible:m});m&&(this.visibleWrites_=this.visibleWrites_.addWrite(c,
a));this.lastWriteId_=f};a.prototype.addMerge=function(c,a,f){e.assert(f>this.lastWriteId_,"Stacking an older merge on top of newer ones");this.allWrites_.push({path:c,children:a,writeId:f,visible:!0});this.visibleWrites_=this.visibleWrites_.addWrites(c,a);this.lastWriteId_=f};a.prototype.getWrite=function(c){for(var a=0;a<this.allWrites_.length;a++){var e=this.allWrites_[a];if(e.writeId===c)return e}return null};a.prototype.removeWrite=function(c){var a=this,f=this.allWrites_.findIndex(function(a){return a.writeId===
c});e.assert(0<=f,"removeWrite called with nonexistent writeId.");var m=this.allWrites_[f];this.allWrites_.splice(f,1);for(var k=m.visible,r=!1,n=this.allWrites_.length-1;k&&0<=n;){var p=this.allWrites_[n];p.visible&&(n>=f&&this.recordContainsPath_(p,m.path)?k=!1:m.path.contains(p.path)&&(r=!0));n--}return k?(r?this.resetTree_():m.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(m.path):e.forEach(m.children,function(c){a.visibleWrites_=a.visibleWrites_.removeWrite(m.path.child(c))}),!0):!1};
a.prototype.getCompleteWriteData=function(c){return this.visibleWrites_.getCompleteNode(c)};a.prototype.calcCompleteEventCache=function(c,h,e,f){if(e||f){var m=this.visibleWrites_.childCompoundWrite(c);return!f&&m.isEmpty()?h:f||null!=h||m.hasCompleteWrite(K.Empty)?(m=a.layerTree_(this.allWrites_,function(a){return(a.visible||f)&&(!e||!~e.indexOf(a.writeId))&&(a.path.contains(c)||c.contains(a.path))},c),h=h||ya.EMPTY_NODE,m.apply(h)):null}m=this.visibleWrites_.getCompleteNode(c);if(null!=m)return m;
m=this.visibleWrites_.childCompoundWrite(c);return m.isEmpty()?h:null!=h||m.hasCompleteWrite(K.Empty)?(h=h||ya.EMPTY_NODE,m.apply(h)):null};a.prototype.calcCompleteEventChildren=function(c,a){var h=ya.EMPTY_NODE,e=this.visibleWrites_.getCompleteNode(c);if(e)e.isLeafNode()||e.forEachChild(Aa,function(c,a){h=h.updateImmediateChild(c,a)});else if(a){var f=this.visibleWrites_.childCompoundWrite(c);a.forEachChild(Aa,function(c,a){a=f.childCompoundWrite(new K(c)).apply(a);h=h.updateImmediateChild(c,a)});
f.getCompleteChildren().forEach(function(c){h=h.updateImmediateChild(c.name,c.node)})}else this.visibleWrites_.childCompoundWrite(c).getCompleteChildren().forEach(function(c){h=h.updateImmediateChild(c.name,c.node)});return h};a.prototype.calcEventCacheAfterServerOverwrite=function(c,a,f,m){e.assert(f||m,"Either existingEventSnap or existingServerSnap must exist");c=c.child(a);if(this.visibleWrites_.hasCompleteWrite(c))return null;c=this.visibleWrites_.childCompoundWrite(c);return c.isEmpty()?m.getChild(a):
c.apply(m.getChild(a))};a.prototype.calcCompleteChild=function(c,a,e){c=c.child(a);var h=this.visibleWrites_.getCompleteNode(c);return null!=h?h:e.isCompleteForChild(a)?this.visibleWrites_.childCompoundWrite(c).apply(e.getNode().getImmediateChild(a)):null};a.prototype.shadowingWrite=function(c){return this.visibleWrites_.getCompleteNode(c)};a.prototype.calcIndexedSlice=function(c,a,e,f,m,k){c=this.visibleWrites_.childCompoundWrite(c);var h=c.getCompleteNode(K.Empty);if(null==h)if(null!=a)h=c.apply(a);
else return[];h=h.withIndex(k);if(h.isEmpty()||h.isLeafNode())return[];a=[];c=k.getCompare();m=m?h.getReverseIteratorFrom(e,k):h.getIteratorFrom(e,k);for(k=m.getNext();k&&a.length<f;)0!==c(k,e)&&a.push(k),k=m.getNext();return a};a.prototype.recordContainsPath_=function(c,a){return c.snap?c.path.contains(a):!!e.findKey(c.children,function(h,e){return c.path.child(e).contains(a)})};a.prototype.resetTree_=function(){this.visibleWrites_=a.layerTree_(this.allWrites_,a.DefaultFilter_,K.Empty);this.lastWriteId_=
0<this.allWrites_.length?this.allWrites_[this.allWrites_.length-1].writeId:-1};a.DefaultFilter_=function(c){return c.visible};a.layerTree_=function(c,a,f){for(var h=fb.Empty,m=0;m<c.length;++m){var k=c[m];if(a(k)){var t=k.path;if(k.snap)f.contains(t)?(t=K.relativePath(f,t),h=h.addWrite(t,k.snap)):t.contains(f)&&(t=K.relativePath(t,f),h=h.addWrite(K.Empty,k.snap.getChild(t)));else if(k.children)if(f.contains(t))t=K.relativePath(f,t),h=h.addWrites(t,k.children);else{if(t.contains(f))if(t=K.relativePath(t,
f),t.isEmpty())h=h.addWrites(K.Empty,k.children);else if(k=e.safeGet(k.children,t.getFront()))k=k.getChild(t.popFront()),h=h.addWrite(K.Empty,k)}else throw e.assertionError("WriteRecord should have .snap or .children");}}return h};return a}(),kd=function(){function a(c,a){this.treePath_=c;this.writeTree_=a}a.prototype.calcCompleteEventCache=function(c,a,e){return this.writeTree_.calcCompleteEventCache(this.treePath_,c,a,e)};a.prototype.calcCompleteEventChildren=function(c){return this.writeTree_.calcCompleteEventChildren(this.treePath_,
c)};a.prototype.calcEventCacheAfterServerOverwrite=function(c,a,e){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,c,a,e)};a.prototype.shadowingWrite=function(c){return this.writeTree_.shadowingWrite(this.treePath_.child(c))};a.prototype.calcIndexedSlice=function(c,a,e,f,m){return this.writeTree_.calcIndexedSlice(this.treePath_,c,a,e,f,m)};a.prototype.calcCompleteChild=function(c,a){return this.writeTree_.calcCompleteChild(this.treePath_,c,a)};a.prototype.child=function(c){return new a(this.treePath_.child(c),
this.writeTree_)};return a}(),Gb=function(){function a(c){this.listenProvider_=c;this.syncPointTree_=Qa.Empty;this.pendingWriteTree_=new Rb;this.tagToQueryMap_={};this.queryToTagMap_={}}a.prototype.applyUserOverwrite=function(c,a,e,f){this.pendingWriteTree_.addOverwrite(c,a,e,f);return f?this.applyOperationToSyncPoints_(new ac(bb.User,c,a)):[]};a.prototype.applyUserMerge=function(c,a,e){this.pendingWriteTree_.addMerge(c,a,e);a=Qa.fromObject(a);return this.applyOperationToSyncPoints_(new xb(bb.User,
c,a))};a.prototype.ackUserWrite=function(c,a){void 0===a&&(a=!1);var h=this.pendingWriteTree_.getWrite(c);if(this.pendingWriteTree_.removeWrite(c)){var f=Qa.Empty;null!=h.snap?f=f.set(K.Empty,!0):e.forEach(h.children,function(c,a){f=f.set(new K(c),a)});return this.applyOperationToSyncPoints_(new ud(h.path,f,a))}return[]};a.prototype.applyServerOverwrite=function(c,a){return this.applyOperationToSyncPoints_(new ac(bb.Server,c,a))};a.prototype.applyServerMerge=function(c,a){a=Qa.fromObject(a);return this.applyOperationToSyncPoints_(new xb(bb.Server,
c,a))};a.prototype.applyListenComplete=function(c){return this.applyOperationToSyncPoints_(new Oa(bb.Server,c))};a.prototype.applyTaggedQueryOverwrite=function(c,h,e){e=this.queryKeyForTag_(e);if(null!=e){var f=a.parseQueryKey_(e);e=f.path;f=f.queryId;c=K.relativePath(e,c);h=new ac(bb.forServerTaggedQuery(f),c,h);return this.applyTaggedOperation_(e,h)}return[]};a.prototype.applyTaggedQueryMerge=function(c,h,e){if(e=this.queryKeyForTag_(e)){var f=a.parseQueryKey_(e);e=f.path;f=f.queryId;c=K.relativePath(e,
c);h=Qa.fromObject(h);h=new xb(bb.forServerTaggedQuery(f),c,h);return this.applyTaggedOperation_(e,h)}return[]};a.prototype.applyTaggedListenComplete=function(c,h){if(h=this.queryKeyForTag_(h)){var e=a.parseQueryKey_(h);h=e.path;e=e.queryId;c=K.relativePath(h,c);c=new Oa(bb.forServerTaggedQuery(e),c);return this.applyTaggedOperation_(h,c)}return[]};a.prototype.addEventRegistration=function(c,h){var f=c.path,m=null,k=!1;this.syncPointTree_.foreachOnPath(f,function(c,a){c=K.relativePath(c,f);m=m||a.getCompleteServerCache(c);
k=k||a.hasCompleteView()});var r=this.syncPointTree_.get(f);r?(k=k||r.hasCompleteView(),m=m||r.getCompleteServerCache(K.Empty)):(r=new wc,this.syncPointTree_=this.syncPointTree_.set(f,r));if(null!=m)var n=!0;else n=!1,m=ya.EMPTY_NODE,this.syncPointTree_.subtree(f).foreachChild(function(c,a){(a=a.getCompleteServerCache(K.Empty))&&(m=m.updateImmediateChild(c,a))});var p=r.viewExistsForQuery(c);if(!p&&!c.getQueryParams().loadsAllData()){var q=a.makeQueryKey_(c);e.assert(!(q in this.queryToTagMap_),"View does not exist, but we have a tag");
var Ea=a.getNextQueryTag_();this.queryToTagMap_[q]=Ea;this.tagToQueryMap_["_"+Ea]=q}q=this.pendingWriteTree_.childWrites(f);h=r.addEventRegistration(c,h,q,m,n);p||k||(r=r.viewForQuery(c),h=h.concat(this.setupListener_(c,r)));return h};a.prototype.removeEventRegistration=function(c,h,e){var f=this,m=c.path,k=this.syncPointTree_.get(m),t=[];if(k&&("default"===c.queryIdentifier()||k.viewExistsForQuery(c))){t=k.removeEventRegistration(c,h,e);k.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(m));
k=t.removed;t=t.events;h=-1!==k.findIndex(function(c){return c.getQueryParams().loadsAllData()});var r=this.syncPointTree_.findOnPath(m,function(c,a){return a.hasCompleteView()});if(h&&!r&&(m=this.syncPointTree_.subtree(m),!m.isEmpty())){m=this.collectDistinctViewsForSubTree_(m);for(var n=0;n<m.length;++n){var p=m[n],q=p.getQuery();p=this.createListenerForView_(p);this.listenProvider_.startListening(a.queryForListening_(q),this.tagForQuery_(q),p.hashFn,p.onComplete)}}!r&&0<k.length&&!e&&(h?this.listenProvider_.stopListening(a.queryForListening_(c),
null):k.forEach(function(c){var h=f.queryToTagMap_[a.makeQueryKey_(c)];f.listenProvider_.stopListening(a.queryForListening_(c),h)}));this.removeTags_(k)}return t};a.prototype.calcCompleteEventCache=function(c,a){var h=this.pendingWriteTree_,e=this.syncPointTree_.findOnPath(c,function(a,h){a=K.relativePath(a,c);if(h=h.getCompleteServerCache(a))return h});return h.calcCompleteEventCache(c,e,a,!0)};a.prototype.collectDistinctViewsForSubTree_=function(c){return c.fold(function(c,a,f){if(a&&a.hasCompleteView())return[a.getCompleteView()];
var h=[];a&&(h=a.getQueryViews());e.forEach(f,function(c,a){h=h.concat(a)});return h})};a.prototype.removeTags_=function(c){for(var h=0;h<c.length;++h){var e=c[h];if(!e.getQueryParams().loadsAllData()){e=a.makeQueryKey_(e);var f=this.queryToTagMap_[e];delete this.queryToTagMap_[e];delete this.tagToQueryMap_["_"+f]}}};a.queryForListening_=function(c){return c.getQueryParams().loadsAllData()&&!c.getQueryParams().isDefault()?c.getRef():c};a.prototype.setupListener_=function(c,h){var f=c.path,m=this.tagForQuery_(c);
h=this.createListenerForView_(h);c=this.listenProvider_.startListening(a.queryForListening_(c),m,h.hashFn,h.onComplete);f=this.syncPointTree_.subtree(f);if(m)e.assert(!f.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(m=f.fold(function(c,a,h){if(!c.isEmpty()&&a&&a.hasCompleteView())return[a.getCompleteView().getQuery()];var f=[];a&&(f=f.concat(a.getQueryViews().map(function(c){return c.getQuery()})));e.forEach(h,function(c,a){f=f.concat(a)});return f}),f=0;f<
m.length;++f)h=m[f],this.listenProvider_.stopListening(a.queryForListening_(h),this.tagForQuery_(h));return c};a.prototype.createListenerForView_=function(c){var a=this,e=c.getQuery(),f=this.tagForQuery_(e);return{hashFn:function(){return(c.getServerCache()||ya.EMPTY_NODE).hash()},onComplete:function(c){if("ok"===c)return f?a.applyTaggedListenComplete(e.path,f):a.applyListenComplete(e.path);var h="Unknown Error";"too_big"===c?h="The data requested exceeds the maximum size that can be accessed with a single request.":
"permission_denied"==c?h="Client doesn't have permission to access the desired data.":"unavailable"==c&&(h="The service is unavailable");h=Error(c+" at "+e.path.toString()+": "+h);h.code=c.toUpperCase();return a.removeEventRegistration(e,null,h)}}};a.makeQueryKey_=function(c){return c.path.toString()+"$"+c.queryIdentifier()};a.parseQueryKey_=function(c){var a=c.indexOf("$");e.assert(-1!==a&&a<c.length-1,"Bad queryKey.");return{queryId:c.substr(a+1),path:new K(c.substr(0,a))}};a.prototype.queryKeyForTag_=
function(c){return this.tagToQueryMap_["_"+c]};a.prototype.tagForQuery_=function(c){c=a.makeQueryKey_(c);return e.safeGet(this.queryToTagMap_,c)};a.getNextQueryTag_=function(){return a.nextQueryTag_++};a.prototype.applyTaggedOperation_=function(c,a){var h=this.syncPointTree_.get(c);e.assert(h,"Missing sync point for query tag that we're tracking");c=this.pendingWriteTree_.childWrites(c);return h.applyOperation(a,c,null)};a.prototype.applyOperationToSyncPoints_=function(c){return this.applyOperationHelper_(c,
this.syncPointTree_,null,this.pendingWriteTree_.childWrites(K.Empty))};a.prototype.applyOperationHelper_=function(c,a,e,f){if(c.path.isEmpty())return this.applyOperationDescendantsHelper_(c,a,e,f);var h=a.get(K.Empty);null==e&&null!=h&&(e=h.getCompleteServerCache(K.Empty));var m=[],k=c.path.getFront(),r=c.operationForChild(k);if((a=a.children.get(k))&&r){var t=e?e.getImmediateChild(k):null;k=f.child(k);m=m.concat(this.applyOperationHelper_(r,a,t,k))}h&&(m=m.concat(h.applyOperation(c,f,e)));return m};
a.prototype.applyOperationDescendantsHelper_=function(c,a,e,f){var h=this,m=a.get(K.Empty);null==e&&null!=m&&(e=m.getCompleteServerCache(K.Empty));var k=[];a.children.inorderTraversal(function(a,m){var r=e?e.getImmediateChild(a):null,t=f.child(a);(a=c.operationForChild(a))&&(k=k.concat(h.applyOperationDescendantsHelper_(a,m,r,t)))});m&&(k=k.concat(m.applyOperation(c,f,e)));return k};a.nextQueryTag_=1;return a}(),Hb=function(){function a(){this.rootNode_=ya.EMPTY_NODE}a.prototype.getNode=function(c){return this.rootNode_.getChild(c)};
a.prototype.updateSnapshot=function(c,a){this.rootNode_=this.rootNode_.updateChild(c,a)};return a}(),Hd=function(){function a(c){this.app_=c}a.prototype.getToken=function(c){return this.app_.INTERNAL.getToken(c).then(null,function(c){return c&&"auth/token-not-initialized"===c.code?(sa("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)})};a.prototype.addTokenChangeListener=function(c){this.app_.INTERNAL.addAuthTokenListener(c)};a.prototype.removeTokenChangeListener=
function(c){this.app_.INTERNAL.removeAuthTokenListener(c)};a.prototype.notifyForInvalidToken=function(){var c='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';c="credential"in this.app_.options?c+'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?c+'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':
c+'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.';N(c)};return a}(),Id=function(){function a(){this.counters_={}}a.prototype.incrementCounter=function(c,a){void 0===a&&(a=1);e.contains(this.counters_,c)||(this.counters_[c]=0);this.counters_[c]+=a};a.prototype.get=function(){return e.deepCopy(this.counters_)};return a}(),ld=function(){function a(){}a.getCollection=function(c){c=c.toString();
this.collections_[c]||(this.collections_[c]=new Id);return this.collections_[c]};a.getOrCreateReporter=function(c,a){c=c.toString();this.reporters_[c]||(this.reporters_[c]=a());return this.reporters_[c]};a.collections_={};a.reporters_={};return a}(),xc=function(){function a(c){this.collection_=c;this.last_=null}a.prototype.get=function(){var c=this.collection_.get(),a=e.clone(c);this.last_&&e.forEach(this.last_,function(c,h){a[c]-=h});this.last_=c;return a};return a}(),Wc=function(){function a(c,
a){this.server_=a;this.statsToReport_={};this.statsListener_=new xc(c);c=1E4+2E4*Math.random();Ua(this.reportStats_.bind(this),Math.floor(c))}a.prototype.includeStat=function(c){this.statsToReport_[c]=!0};a.prototype.reportStats_=function(){var c=this,a=this.statsListener_.get(),f={},m=!1;e.forEach(a,function(a,h){0<h&&e.contains(c.statsToReport_,a)&&(f[a]=h,m=!0)});m&&this.server_.reportStats(f);Ua(this.reportStats_.bind(this),Math.floor(6E5*Math.random()))};return a}(),Zd=function(){function a(){this.eventLists_=
[];this.recursionDepth_=0}a.prototype.queueEvents=function(c){for(var a=null,e=0;e<c.length;e++){var f=c[e],m=f.getPath();null===a||m.equals(a.getPath())||(this.eventLists_.push(a),a=null);null===a&&(a=new md(m));a.add(f)}a&&this.eventLists_.push(a)};a.prototype.raiseEventsAtPath=function(c,a){this.queueEvents(a);this.raiseQueuedEventsMatchingPredicate_(function(a){return a.equals(c)})};a.prototype.raiseEventsForChangedPath=function(c,a){this.queueEvents(a);this.raiseQueuedEventsMatchingPredicate_(function(a){return a.contains(c)||
c.contains(a)})};a.prototype.raiseQueuedEventsMatchingPredicate_=function(c){this.recursionDepth_++;for(var a=!0,e=0;e<this.eventLists_.length;e++){var f=this.eventLists_[e];f&&(f=f.getPath(),c(f)?(this.eventLists_[e].raise(),this.eventLists_[e]=null):a=!1)}a&&(this.eventLists_=[]);this.recursionDepth_--};return a}(),md=function(){function a(c){this.path_=c;this.events_=[]}a.prototype.add=function(c){this.events_.push(c)};a.prototype.raise=function(){for(var c=0;c<this.events_.length;c++){var a=this.events_[c];
if(null!==a){this.events_[c]=null;var e=a.getEventRunner();V&&sa("event: "+a.toString());Ha(e)}}};a.prototype.getPath=function(){return this.path_};return a}(),yc=function(){function a(c){this.allowedEvents_=c;this.listeners_={};e.assert(Array.isArray(c)&&0<c.length,"Requires a non-empty array")}a.prototype.trigger=function(c){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];if(Array.isArray(this.listeners_[c])){e=this.listeners_[c].slice();for(var f=0;f<e.length;f++)e[f].callback.apply(e[f].context,
a)}};a.prototype.on=function(c,a,e){this.validateEventType_(c);this.listeners_[c]=this.listeners_[c]||[];this.listeners_[c].push({callback:a,context:e});(c=this.getInitialEvent(c))&&a.apply(e,c)};a.prototype.off=function(c,a,e){this.validateEventType_(c);c=this.listeners_[c]||[];for(var h=0;h<c.length;h++)if(c[h].callback===a&&(!e||e===c[h].context)){c.splice(h,1);break}};a.prototype.validateEventType_=function(c){e.assert(this.allowedEvents_.find(function(a){return a===c}),"Unknown event: "+c)};
return a}(),Jc=function(a){function c(){var c=a.call(this,["visible"])||this;if("undefined"!==typeof document&&"undefined"!==typeof document.addEventListener)if("undefined"!==typeof document.hidden){var e="visibilitychange";var f="hidden"}else"undefined"!==typeof document.mozHidden?(e="mozvisibilitychange",f="mozHidden"):"undefined"!==typeof document.msHidden?(e="msvisibilitychange",f="msHidden"):"undefined"!==typeof document.webkitHidden&&(e="webkitvisibilitychange",f="webkitHidden");c.visible_=
!0;e&&document.addEventListener(e,function(){var a=!document[f];a!==c.visible_&&(c.visible_=a,c.trigger("visible",a))},!1);return c}k.__extends(c,a);c.getInstance=function(){return new c};c.prototype.getInitialEvent=function(c){e.assert("visible"===c,"Unknown event type: "+c);return[this.visible_]};return c}(yc),af=function(a){function c(){var c=a.call(this,["online"])||this;c.online_=!0;"undefined"===typeof window||"undefined"===typeof window.addEventListener||e.isMobileCordova()||(window.addEventListener("online",
function(){c.online_||(c.online_=!0,c.trigger("online",!0))},!1),window.addEventListener("offline",function(){c.online_&&(c.online_=!1,c.trigger("online",!1))},!1));return c}k.__extends(c,a);c.getInstance=function(){return new c};c.prototype.getInitialEvent=function(c){e.assert("online"===c,"Unknown event type: "+c);return[this.online_]};c.prototype.currentlyOnline=function(){return this.online_};return c}(yc),bf=function(){function a(c){this.onMessage_=c;this.pendingResponses=[];this.currentResponseNum=
0;this.closeAfterResponse=-1;this.onClose=null}a.prototype.closeAfter=function(c,a){this.closeAfterResponse=c;this.onClose=a;this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)};a.prototype.handleResponse=function(c,a){var h=this;this.pendingResponses[c]=a;c=function(){var c=e.pendingResponses[e.currentResponseNum];delete e.pendingResponses[e.currentResponseNum];for(var a=function(a){c[a]&&Ha(function(){h.onMessage_(c[a])})},f=0;f<c.length;++f)a(f);if(e.currentResponseNum===
e.closeAfterResponse)return e.onClose&&(e.onClose(),e.onClose=null),"break";e.currentResponseNum++};for(var e=this;this.pendingResponses[this.currentResponseNum]&&"break"!==c(););};return a}(),Xa=function(){function a(c,a,e,f){this.connId=c;this.repoInfo=a;this.transportSessionId=e;this.lastSessionId=f;this.bytesReceived=this.bytesSent=0;this.everConnected_=!1;this.log_=W(c);this.stats_=ld.getCollection(a);this.urlFn=function(c){return a.connectionURL("long_polling",c)}}a.prototype.open=function(c,
a){var h=this;this.curSegmentNum=0;this.onDisconnect_=a;this.myPacketOrderer=new bf(c);this.isClosed_=!1;this.connectTimeoutTimer_=setTimeout(function(){h.log_("Timed out trying to connect.");h.onClosed_();h.connectTimeoutTimer_=null},3E4);Z(function(){if(!h.isClosed_){h.scriptTagHolder=new xd(function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];a=c[0];var e=c[1],f=c[2];h.incrementIncomingBytes_(c);if(h.scriptTagHolder)if(h.connectTimeoutTimer_&&(clearTimeout(h.connectTimeoutTimer_),
h.connectTimeoutTimer_=null),h.everConnected_=!0,"start"==a)h.id=e,h.password=f;else if("close"===a)if(e)h.scriptTagHolder.sendNewPolls=!1,h.myPacketOrderer.closeAfter(e,function(){h.onClosed_()});else h.onClosed_();else throw Error("Unrecognized command received: "+a);},function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];a=c[0];var e=c[1];h.incrementIncomingBytes_(c);h.myPacketOrderer.handleResponse(a,e)},function(){h.onClosed_()},h.urlFn);var c={start:"t"};c.ser=Math.floor(1E8*
Math.random());h.scriptTagHolder.uniqueCallbackIdentifier&&(c.cb=h.scriptTagHolder.uniqueCallbackIdentifier);c.v="5";h.transportSessionId&&(c.s=h.transportSessionId);h.lastSessionId&&(c.ls=h.lastSessionId);!e.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(c.r="f");c=h.urlFn(c);h.log_("Connecting via long-poll to "+c);h.scriptTagHolder.addTag(c,function(){})}})};a.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password);
this.addDisconnectPingFrame(this.id,this.password)};a.forceAllow=function(){a.forceAllow_=!0};a.forceDisallow=function(){a.forceDisallow_=!0};a.isAvailable=function(){return a.forceAllow_||!a.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI)&&!e.isNodeSdk()};a.prototype.markConnectionHealthy=function(){};a.prototype.shutdown_=
function(){this.isClosed_=!0;this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null);this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null);this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)};a.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))};a.prototype.close=
function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())};a.prototype.send=function(c){c=e.stringify(c);this.bytesSent+=c.length;this.stats_.incrementCounter("bytes_sent",c.length);c=e.base64Encode(c);c=la(c,1840);for(var a=0;a<c.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[a]),this.curSegmentNum++};a.prototype.addDisconnectPingFrame=function(c,a){if(!e.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var h={dframe:"t"};
h.id=c;h.pw=a;this.myDisconnFrame.src=this.urlFn(h);this.myDisconnFrame.style.display="none";document.body.appendChild(this.myDisconnFrame)}};a.prototype.incrementIncomingBytes_=function(c){c=e.stringify(c).length;this.bytesReceived+=c;this.stats_.incrementCounter("bytes_received",c)};return a}(),xd=function(){function a(c,h,f,m){this.onDisconnect=f;this.urlFn=m;this.outstandingRequests=new D;this.pendingSegs=[];this.currentSerial=Math.floor(1E8*Math.random());this.sendNewPolls=!0;if(e.isNodeSdk())this.commandCB=
c,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=H();window["pLPCommand"+this.uniqueCallbackIdentifier]=c;window["pRTLPCB"+this.uniqueCallbackIdentifier]=h;this.myIFrame=a.createIFrame_();c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='\x3cscript\x3edocument.domain\x3d"'+document.domain+'";\x3c/script\x3e');c="\x3chtml\x3e\x3cbody\x3e"+c+"\x3c/body\x3e\x3c/html\x3e";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(Kc){sa("frame writing exception"),
Kc.stack&&sa(Kc.stack),sa(Kc)}}}a.createIFrame_=function(){var c=document.createElement("iframe");c.style.display="none";if(document.body){document.body.appendChild(c);try{c.contentWindow.document||sa("No IE domain setting required")}catch(h){c.src="javascript:void((function(){document.open();document.domain\x3d'"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";c.contentDocument?c.doc=c.contentDocument:
c.contentWindow?c.doc=c.contentWindow.document:c.document&&(c.doc=c.document);return c};a.prototype.close=function(){var c=this;this.alive=!1;this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==c.myIFrame&&(document.body.removeChild(c.myIFrame),c.myIFrame=null)},0));if(e.isNodeSdk()&&this.myID){var h={disconn:"t"};h.id=this.myID;h.pw=this.myPW;h=this.urlFn(h);a.nodeRestRequest(h)}if(h=this.onDisconnect)this.onDisconnect=null,h()};a.prototype.startLongPoll=function(c,a){this.myID=
c;this.myPW=a;for(this.alive=!0;this.newRequest_(););};a.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var c={};c.id=this.myID;c.pw=this.myPW;c.ser=this.currentSerial;c=this.urlFn(c);for(var a="",e=0;0<this.pendingSegs.length;)if(1870>=this.pendingSegs[0].d.length+30+a.length){var f=this.pendingSegs.shift();a=a+"\x26seg"+e+"\x3d"+f.seg+"\x26ts"+e+"\x3d"+f.ts+"\x26d"+e+"\x3d"+f.d;e++}else break;
this.addLongPollTag_(c+a,this.currentSerial);return!0}return!1};a.prototype.enqueueSegment=function(c,a,e){this.pendingSegs.push({seg:c,ts:a,d:e});this.alive&&this.newRequest_()};a.prototype.addLongPollTag_=function(c,a){var h=this;this.outstandingRequests.add(a,1);var e=function(){h.outstandingRequests.remove(a);h.newRequest_()},f=setTimeout(e,25E3);this.addTag(c,function(){clearTimeout(f);e()})};a.prototype.addTag=function(c,a){var h=this;e.isNodeSdk()?this.doNodeLongPoll(c,a):setTimeout(function(){try{if(h.sendNewPolls){var e=
h.myIFrame.doc.createElement("script");e.type="text/javascript";e.async=!0;e.src=c;e.onload=e.onreadystatechange=function(){var c=e.readyState;c&&"loaded"!==c&&"complete"!==c||(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),a())};e.onerror=function(){sa("Long-poll script failed to load: "+c);h.sendNewPolls=!1;h.close()};h.myIFrame.doc.body.appendChild(e)}}catch(Kc){}},1)};return a}(),qc=null;"undefined"!==typeof MozWebSocket?qc=MozWebSocket:"undefined"!==typeof WebSocket&&
(qc=WebSocket);var Ma=function(){function a(c,h,e,f){this.connId=c;this.frames=this.keepaliveTimer=null;this.bytesReceived=this.bytesSent=this.totalFrames=0;this.log_=W(this.connId);this.stats_=ld.getCollection(h);this.connURL=a.connectionURL_(h,e,f)}a.connectionURL_=function(c,a,f){var h={v:"5"};!e.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(h.r="f");a&&(h.s=a);f&&(h.ls=f);return c.connectionURL("websocket",h)};a.prototype.open=function(c,
a){var h=this;this.onDisconnect=a;this.onMessage=c;this.log_("Websocket connecting to "+this.connURL);this.everConnected_=!1;E.set("previous_websocket_failure",!0);try{if(e.isNodeSdk()){var f={headers:{"User-Agent":"Firebase/5/"+w.SDK_VERSION+"/"+R.platform+"/"+(e.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},m=R.env,k=0==this.connURL.indexOf("wss://")?m.HTTPS_PROXY||m.https_proxy:m.HTTP_PROXY||m.http_proxy;k&&(f.proxy={origin:k});this.mySock=new qc(this.connURL,[],f)}else this.mySock=new qc(this.connURL)}catch(Lc){this.log_("Error instantiating WebSocket.");
(c=Lc.message||Lc.data)&&this.log_(c);this.onClosed_();return}this.mySock.onopen=function(){h.log_("Websocket connected.");h.everConnected_=!0};this.mySock.onclose=function(){h.log_("Websocket connection was disconnected.");h.mySock=null;h.onClosed_()};this.mySock.onmessage=function(c){h.handleIncomingFrame(c)};this.mySock.onerror=function(c){h.log_("WebSocket error.  Closing connection.");(c=c.message||c.data)&&h.log_(c);h.onClosed_()}};a.prototype.start=function(){};a.forceDisallow=function(){a.forceDisallow_=
!0};a.isAvailable=function(){var c=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&1<h.length&&4.4>parseFloat(h[1])&&(c=!0)}return!c&&null!==qc&&!a.forceDisallow_};a.previouslyFailed=function(){return E.isInMemoryStorage||!0===E.get("previous_websocket_failure")};a.prototype.markConnectionHealthy=function(){E.remove("previous_websocket_failure")};a.prototype.appendFrame_=function(c){this.frames.push(c);this.frames.length==
this.totalFrames&&(c=this.frames.join(""),this.frames=null,c=e.jsonEval(c),this.onMessage(c))};a.prototype.handleNewFrameCount_=function(c){this.totalFrames=c;this.frames=[]};a.prototype.extractFrameCount_=function(c){e.assert(null===this.frames,"We already have a frame buffer");if(6>=c.length){var a=Number(c);if(!isNaN(a))return this.handleNewFrameCount_(a),null}this.handleNewFrameCount_(1);return c};a.prototype.handleIncomingFrame=function(c){null!==this.mySock&&(c=c.data,this.bytesReceived+=c.length,
this.stats_.incrementCounter("bytes_received",c.length),this.resetKeepAlive(),null!==this.frames?this.appendFrame_(c):(c=this.extractFrameCount_(c),null!==c&&this.appendFrame_(c)))};a.prototype.send=function(c){this.resetKeepAlive();c=e.stringify(c);this.bytesSent+=c.length;this.stats_.incrementCounter("bytes_sent",c.length);c=la(c,16384);1<c.length&&this.sendString_(String(c.length));for(var a=0;a<c.length;a++)this.sendString_(c[a])};a.prototype.shutdown_=function(){this.isClosed_=!0;this.keepaliveTimer&&
(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null);this.mySock&&(this.mySock.close(),this.mySock=null)};a.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))};a.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())};a.prototype.resetKeepAlive=function(){var c=this;clearInterval(this.keepaliveTimer);this.keepaliveTimer=
setInterval(function(){c.mySock&&c.sendString_("0");c.resetKeepAlive()},45E3)};a.prototype.sendString_=function(c){try{this.mySock.send(c)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}};a.responsesRequiredToBeHealthy=2;a.healthyTimeout=3E4;return a}(),Xc=function(){function a(c){this.initTransports_(c)}Object.defineProperty(a,"ALL_TRANSPORTS",{get:function(){return[Xa,Ma]},enumerable:!0,configurable:!0});
a.prototype.initTransports_=function(c){var h=Ma&&Ma.isAvailable(),e=h&&!Ma.previouslyFailed();c.webSocketOnly&&(h||N("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),e=!0);if(e)this.transports_=[Ma];else{var f=this.transports_=[];pa(a.ALL_TRANSPORTS,function(c,a){a&&a.isAvailable()&&f.push(a)})}};a.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw Error("No transports available");};a.prototype.upgradeTransport=function(){return 1<
this.transports_.length?this.transports_[1]:null};return a}(),Jd=function(){function a(c,a,e,f,m,k,r){this.id=c;this.repoInfo_=a;this.onMessage_=e;this.onReady_=f;this.onDisconnect_=m;this.onKill_=k;this.lastSessionId=r;this.connectionCount=0;this.pendingDataMessages=[];this.state_=0;this.log_=W("c:"+this.id+":");this.transportManager_=new Xc(a);this.log_("Connection created");this.start_()}a.prototype.start_=function(){var c=this,a=this.transportManager_.initialTransport();this.conn_=new a(this.nextTransportId_(),
this.repoInfo_,void 0,this.lastSessionId);this.primaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;var e=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.rx_=this.tx_=this.conn_;this.secondaryConn_=null;this.isHealthy_=!1;setTimeout(function(){c.conn_&&c.conn_.open(e,f)},0);a=a.healthyTimeout||0;0<a&&(this.healthyTimeout_=Ua(function(){c.healthyTimeout_=null;c.isHealthy_||(c.conn_&&102400<c.conn_.bytesReceived?(c.log_("Connection exceeded healthy timeout but has received "+
c.conn_.bytesReceived+" bytes.  Marking connection healthy."),c.isHealthy_=!0,c.conn_.markConnectionHealthy()):c.conn_&&10240<c.conn_.bytesSent?c.log_("Connection exceeded healthy timeout but has sent "+c.conn_.bytesSent+" bytes.  Leaving connection alive."):(c.log_("Closing unhealthy connection after timeout."),c.close()))},Math.floor(a)))};a.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++};a.prototype.disconnReceiver_=function(c){var a=this;return function(h){if(c===
a.conn_)a.onConnectionLost_(h);else c===a.secondaryConn_?(a.log_("Secondary connection lost."),a.onSecondaryConnectionLost_()):a.log_("closing an old connection")}};a.prototype.connReceiver_=function(c){var a=this;return function(h){if(2!=a.state_)if(c===a.rx_)a.onPrimaryMessageReceived_(h);else if(c===a.secondaryConn_)a.onSecondaryMessageReceived_(h);else a.log_("message on old connection")}};a.prototype.sendRequest=function(c){this.sendData_({t:"d",d:c})};a.prototype.tryCleanupConnection=function(){this.tx_===
this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)};a.prototype.onSecondaryControl_=function(c){"t"in c&&(c=c.t,"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===c&&(this.log_("got pong on secondary."),
this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))};a.prototype.onSecondaryMessageReceived_=function(c){var a=ba("t",c);c=ba("d",c);if("c"==a)this.onSecondaryControl_(c);else if("d"==a)this.pendingDataMessages.push(c);else throw Error("Unknown protocol layer: "+a);};a.prototype.upgradeIfSecondaryHealthy_=function(){0>=this.secondaryResponsesRequired_?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):
(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))};a.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start();this.log_("sending client ack on secondary");this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}});this.log_("Ending transmission on primary");this.conn_.send({t:"c",d:{t:"n",d:{}}});this.tx_=this.secondaryConn_;this.tryCleanupConnection()};a.prototype.onPrimaryMessageReceived_=function(c){var a=ba("t",c);c=ba("d",c);if("c"==a)this.onControl_(c);
else if("d"==a)this.onDataMessage_(c)};a.prototype.onDataMessage_=function(c){this.onPrimaryResponse_();this.onMessage_(c)};a.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,0>=this.primaryResponsesRequired_&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))};a.prototype.onControl_=function(c){var a=ba("t",c);if("d"in c)if(c=c.d,"h"===a)this.onHandshake_(c);else if("n"===a){this.log_("recvd end transmission on primary");
this.rx_=this.secondaryConn_;for(a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[];this.tryCleanupConnection()}else if("s"===a)this.onConnectionShutdown_(c);else if("r"===a)this.onReset_(c);else"e"===a?F("Server Error: "+c):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):F("Unknown control packet command: "+a)};a.prototype.onHandshake_=function(c){var a=c.ts,e=c.v,f=c.h;
this.sessionId=c.s;this.repoInfo_.updateHost(f);0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==e&&N("Protocol version mismatch detected"),this.tryStartUpgrade_())};a.prototype.tryStartUpgrade_=function(){var c=this.transportManager_.upgradeTransport();c&&this.startUpgrade_(c)};a.prototype.startUpgrade_=function(c){var a=this;this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.sessionId);this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||
0;c=this.connReceiver_(this.secondaryConn_);var e=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,e);Ua(function(){a.secondaryConn_&&(a.log_("Timed out trying to upgrade."),a.secondaryConn_.close())},6E4)};a.prototype.onReset_=function(c){this.log_("Reset packet received.  New host: "+c);this.repoInfo_.updateHost(c);1===this.state_?this.close():(this.closeConnections_(),this.start_())};a.prototype.onConnectionEstablished_=function(c,a){var h=this;this.log_("Realtime connection established.");
this.conn_=c;this.state_=1;this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null);0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ua(function(){h.sendPingOnPrimaryIfNecessary_()},5E3)};a.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))};a.prototype.onSecondaryConnectionLost_=function(){var c=this.secondaryConn_;this.secondaryConn_=
null;this.tx_!==c&&this.rx_!==c||this.close()};a.prototype.onConnectionLost_=function(c){this.conn_=null;c||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(E.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host));this.close()};a.prototype.onConnectionShutdown_=function(c){this.log_("Connection shutdown command received. Shutting down...");this.onKill_&&(this.onKill_(c),
this.onKill_=null);this.onDisconnect_=null;this.close()};a.prototype.sendData_=function(c){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(c)};a.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))};a.prototype.closeConnections_=function(){this.log_("Shutting down all connections");this.conn_&&(this.conn_.close(),this.conn_=null);this.secondaryConn_&&
(this.secondaryConn_.close(),this.secondaryConn_=null);this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)};return a}(),fc=function(){function a(){}a.prototype.put=function(c,a,e,f){};a.prototype.merge=function(c,a,e,f){};a.prototype.refreshAuthToken=function(c){};a.prototype.onDisconnectPut=function(c,a,e){};a.prototype.onDisconnectMerge=function(c,a,e){};a.prototype.onDisconnectCancel=function(c,a){};a.prototype.reportStats=function(c){};return a}(),Cb=function(a){function c(h,
f,m,k,r,n){var t=a.call(this)||this;t.repoInfo_=h;t.onDataUpdate_=f;t.onConnectStatus_=m;t.onServerInfoUpdate_=k;t.authTokenProvider_=r;t.authOverride_=n;t.id=c.nextPersistentConnectionId_++;t.log_=W("p:"+t.id+":");t.interruptReasons_={};t.listens_={};t.outstandingPuts_=[];t.outstandingPutCount_=0;t.onDisconnectRequestQueue_=[];t.connected_=!1;t.reconnectDelay_=1E3;t.maxReconnectDelay_=3E5;t.securityDebugCallback_=null;t.lastSessionId=null;t.establishConnectionTimer_=null;t.visible_=!1;t.requestCBHash_=
{};t.requestNumber_=0;t.realtime_=null;t.authToken_=null;t.forceTokenRefresh_=!1;t.invalidAuthTokenCount_=0;t.firstConnection_=!0;t.lastConnectionAttemptTime_=null;t.lastConnectionEstablishedTime_=null;if(n&&!e.isNodeSdk())throw Error("Auth override specified in options, but not supported on non Node.js platforms");t.scheduleConnect_(0);Jc.getInstance().on("visible",t.onVisible_,t);if(-1===h.host.indexOf("fblocal"))af.getInstance().on("online",t.onOnline_,t);return t}k.__extends(c,a);c.prototype.sendRequest=
function(c,a,f){var h=++this.requestNumber_;c={r:h,a:c,b:a};this.log_(e.stringify(c));e.assert(this.connected_,"sendRequest call when we're not connected not allowed.");this.realtime_.sendRequest(c);f&&(this.requestCBHash_[h]=f)};c.prototype.listen=function(c,a,f,m){var h=c.queryIdentifier(),k=c.path.toString();this.log_("Listen called for "+k+" "+h);this.listens_[k]=this.listens_[k]||{};e.assert(c.getQueryParams().isDefault()||!c.getQueryParams().loadsAllData(),"listen() called for non-default but complete query");
e.assert(!this.listens_[k][h],"listen() called twice for same path/queryId.");c={onComplete:m,hashFn:a,query:c,tag:f};this.listens_[k][h]=c;this.connected_&&this.sendListen_(c)};c.prototype.sendListen_=function(a){var h=this,e=a.query,f=e.path.toString(),m=e.queryIdentifier();this.log_("Listen on "+f+" for "+m);var k={p:f};a.tag&&(k.q=e.queryObject(),k.t=a.tag);k.h=a.hashFn();this.sendRequest("q",k,function(k){var r=k.d,n=k.s;c.warnOnListenWarnings_(r,e);if((h.listens_[f]&&h.listens_[f][m])===a&&
(h.log_("listen response",k),"ok"!==n&&h.removeListen_(f,m),a.onComplete))a.onComplete(n,r)})};c.warnOnListenWarnings_=function(c,a){c&&"object"===typeof c&&e.contains(c,"w")&&(c=e.safeGet(c,"w"),Array.isArray(c)&&~c.indexOf("no_index")&&(c='".indexOn": "'+a.getQueryParams().getIndex().toString()+'"',N("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+c+" at ")+(a.path.toString()+" to your security rules for better performance."))))};c.prototype.refreshAuthToken=
function(c){this.authToken_=c;this.log_("Auth token refreshed");this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){});this.reduceReconnectDelayIfAdminCredential_(c)};c.prototype.reduceReconnectDelayIfAdminCredential_=function(c){if(c&&40===c.length||e.isAdmin(c))this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3E4};c.prototype.tryAuth=function(){var c=this;if(this.connected_&&this.authToken_){var a=this.authToken_,
f=e.isValidFormat(a)?"auth":"gauth",m={cred:a};null===this.authOverride_?m.noauth=!0:"object"===typeof this.authOverride_&&(m.authvar=this.authOverride_);this.sendRequest(f,m,function(h){var e=h.s;h=h.d||"error";if(c.authToken_===a)if("ok"===e)c.invalidAuthTokenCount_=0;else c.onAuthRevoked_(e,h)})}};c.prototype.unlisten=function(c,a){var h=c.path.toString(),f=c.queryIdentifier();this.log_("Unlisten called for "+h+" "+f);e.assert(c.getQueryParams().isDefault()||!c.getQueryParams().loadsAllData(),
"unlisten() called for non-default but complete query");this.removeListen_(h,f)&&this.connected_&&this.sendUnlisten_(h,f,c.queryObject(),a)};c.prototype.sendUnlisten_=function(c,a,e,f){this.log_("Unlisten on "+c+" for "+a);c={p:c};f&&(c.q=e,c.t=f);this.sendRequest("n",c)};c.prototype.onDisconnectPut=function(c,a,e){this.connected_?this.sendOnDisconnect_("o",c,a,e):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:a,onComplete:e})};c.prototype.onDisconnectMerge=function(c,a,e){this.connected_?
this.sendOnDisconnect_("om",c,a,e):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:a,onComplete:e})};c.prototype.onDisconnectCancel=function(c,a){this.connected_?this.sendOnDisconnect_("oc",c,null,a):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:a})};c.prototype.sendOnDisconnect_=function(c,a,e,f){a={p:a,d:e};this.log_("onDisconnect "+c,a);this.sendRequest(c,a,function(c){f&&setTimeout(function(){f(c.s,c.d)},0)})};c.prototype.put=function(c,
a,e,f){this.putInternal("p",c,a,e,f)};c.prototype.merge=function(c,a,e,f){this.putInternal("m",c,a,e,f)};c.prototype.putInternal=function(c,a,e,f,m){e={p:a,d:e};void 0!==m&&(e.h=m);this.outstandingPuts_.push({action:c,request:e,onComplete:f});this.outstandingPutCount_++;c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+a)};c.prototype.sendPut_=function(c){var a=this,h=this.outstandingPuts_[c].action,e=this.outstandingPuts_[c].request,f=this.outstandingPuts_[c].onComplete;
this.outstandingPuts_[c].queued=this.connected_;this.sendRequest(h,e,function(e){a.log_(h+" response",e);delete a.outstandingPuts_[c];a.outstandingPutCount_--;0===a.outstandingPutCount_&&(a.outstandingPuts_=[]);f&&f(e.s,e.d)})};c.prototype.reportStats=function(c){var a=this;this.connected_&&(c={c:c},this.log_("reportStats",c),this.sendRequest("s",c,function(c){"ok"!==c.s&&a.log_("reportStats","Error sending stats: "+c.d)}))};c.prototype.onDataMessage_=function(c){if("r"in c){this.log_("from server: "+
e.stringify(c));var a=c.r,h=this.requestCBHash_[a];h&&(delete this.requestCBHash_[a],h(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;if("a"in c)this.onDataPush_(c.a,c.b)}};c.prototype.onDataPush_=function(c,a){this.log_("handleServerMessage",c,a);if("d"===c)this.onDataUpdate_(a.p,a.d,!1,a.t);else if("m"===c)this.onDataUpdate_(a.p,a.d,!0,a.t);else if("c"===c)this.onListenRevoked_(a.p,a.q);else if("ac"===c)this.onAuthRevoked_(a.s,a.d);else if("sd"===c)this.onSecurityDebugPacket_(a);
else F("Unrecognized action received from server: "+e.stringify(c)+"\nAre you using the latest client?")};c.prototype.onReady_=function(c,a){this.log_("connection ready");this.connected_=!0;this.lastConnectionEstablishedTime_=(new Date).getTime();this.handleTimestamp_(c);this.lastSessionId=a;this.firstConnection_&&this.sendConnectStats_();this.restoreState_();this.firstConnection_=!1;this.onConnectStatus_(!0)};c.prototype.scheduleConnect_=function(c){var a=this;e.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?");
this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_);this.establishConnectionTimer_=setTimeout(function(){a.establishConnectionTimer_=null;a.establishConnection_()},Math.floor(c))};c.prototype.onVisible_=function(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1E3,this.realtime_||this.scheduleConnect_(0));this.visible_=c};c.prototype.onOnline_=function(c){c?(this.log_("Browser went online."),
this.reconnectDelay_=1E3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())};c.prototype.onRealtimeDisconnect_=function(){this.log_("data client disconnected");this.connected_=!1;this.realtime_=null;this.cancelSentTransactions_();this.requestCBHash_={};if(this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(3E4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=
1E3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var c=(new Date).getTime()-this.lastConnectionAttemptTime_;c=Math.max(0,this.reconnectDelay_-c);c*=Math.random();this.log_("Trying to reconnect in "+c+"ms");this.scheduleConnect_(c);this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)};c.prototype.establishConnection_=
function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt");this.lastConnectionAttemptTime_=(new Date).getTime();this.lastConnectionEstablishedTime_=null;var a=this.onDataMessage_.bind(this),f=this.onReady_.bind(this),m=this.onRealtimeDisconnect_.bind(this),k=this.id+":"+c.nextConnectionId_++,r=this,n=this.lastSessionId,p=!1,q=null,Ea=function(){q?q.close():(p=!0,m())};this.realtime_={close:Ea,sendRequest:function(c){e.assert(q,"sendRequest call when we're not connected not allowed.");
q.sendRequest(c)}};var x=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;this.authTokenProvider_.getToken(x).then(function(c){p?sa("getToken() completed but was canceled"):(sa("getToken() completed. Creating connection."),r.authToken_=c&&c.accessToken,q=new Jd(k,r.repoInfo_,a,f,m,function(c){N(c+" ("+r.repoInfo_.toString()+")");r.interrupt("server_kill")},n))}).then(null,function(c){r.log_("Failed to get token: "+c);p||(e.CONSTANTS.NODE_ADMIN&&N(c),Ea())})}};c.prototype.interrupt=function(c){sa("Interrupting connection for reason: "+
c);this.interruptReasons_[c]=!0;if(this.realtime_)this.realtime_.close();else if(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_)this.onRealtimeDisconnect_()};c.prototype.resume=function(c){sa("Resuming connection for reason: "+c);delete this.interruptReasons_[c];e.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1E3,this.realtime_||this.scheduleConnect_(0))};c.prototype.handleTimestamp_=function(c){c-=(new Date).getTime();
this.onServerInfoUpdate_({serverTimeOffset:c})};c.prototype.cancelSentTransactions_=function(){for(var c=0;c<this.outstandingPuts_.length;c++){var a=this.outstandingPuts_[c];if(a&&"h"in a.request&&a.queued){if(a.onComplete)a.onComplete("disconnect");delete this.outstandingPuts_[c];this.outstandingPutCount_--}}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])};c.prototype.onListenRevoked_=function(c,a){a=a?a.map(function(c){return ka(c)}).join("$"):"default";if((c=this.removeListen_(c,a))&&
c.onComplete)c.onComplete("permission_denied")};c.prototype.removeListen_=function(c,a){c=(new K(c)).toString();if(void 0!==this.listens_[c]){var h=this.listens_[c][a];delete this.listens_[c][a];0===e.getCount(this.listens_[c])&&delete this.listens_[c]}else h=void 0;return h};c.prototype.onAuthRevoked_=function(c,a){sa("Auth token revoked: "+c+"/"+a);this.authToken_=null;this.forceTokenRefresh_=!0;this.realtime_.close();if("invalid_token"===c||"permission_denied"===c)this.invalidAuthTokenCount_++,
3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3E4,this.authTokenProvider_.notifyForInvalidToken())};c.prototype.onSecurityDebugPacket_=function(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))};c.prototype.restoreState_=function(){var c=this;this.tryAuth();e.forEach(this.listens_,function(a,h){e.forEach(h,function(a,h){c.sendListen_(h)})});for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&
this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;)a=this.onDisconnectRequestQueue_.shift(),this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)};c.prototype.sendConnectStats_=function(){var c={},a="js";e.CONSTANTS.NODE_ADMIN?a="admin_node":e.CONSTANTS.NODE_CLIENT&&(a="node");c["sdk."+a+"."+w.SDK_VERSION.replace(/\./g,"-")]=1;e.isMobileCordova()?c["framework.cordova"]=1:e.isReactNative()&&(c["framework.reactnative"]=1);this.reportStats(c)};c.prototype.shouldReconnect_=function(){var c=
af.getInstance().currentlyOnline();return e.isEmpty(this.interruptReasons_)&&c};c.nextPersistentConnectionId_=0;c.nextConnectionId_=0;return c}(fc),Yc=function(a){function c(c,e,f){var h=a.call(this)||this;h.repoInfo_=c;h.onDataUpdate_=e;h.authTokenProvider_=f;h.log_=W("p:rest:");h.listens_={};return h}k.__extends(c,a);c.prototype.reportStats=function(c){throw Error("Method not implemented.");};c.getListenId_=function(c,a){if(void 0!==a)return"tag$"+a;e.assert(c.getQueryParams().isDefault(),"should have a tag if it's not a default query.");
return c.path.toString()};c.prototype.listen=function(a,f,m,k){var h=this,r=a.path.toString();this.log_("Listen called for "+r+" "+a.queryIdentifier());var n=c.getListenId_(a,m),t={};this.listens_[n]=t;a=a.getQueryParams().toRestQueryStringParameters();this.restRequest_(r+".json",a,function(c,a){404===c&&(c=a=null);if(null===c)h.onDataUpdate_(r,a,!1,m);e.safeGet(h.listens_,n)===t&&k(c?401==c?"permission_denied":"rest_error:"+c:"ok",null)})};c.prototype.unlisten=function(a,e){a=c.getListenId_(a,e);
delete this.listens_[a]};c.prototype.refreshAuthToken=function(c){};c.prototype.restRequest_=function(c,a,f){var h=this;void 0===a&&(a={});a.format="export";this.authTokenProvider_.getToken(!1).then(function(m){(m=m&&m.accessToken)&&(a.auth=m);var k=(h.repoInfo_.secure?"https://":"http://")+h.repoInfo_.host+c+"?ns\x3d"+h.repoInfo_.namespace+e.querystring(a);h.log_("Sending REST request for "+k);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(f&&4===r.readyState){h.log_("REST Response for "+
k+" received. status:",r.status,"response:",r.responseText);var c=null;if(200<=r.status&&300>r.status){try{c=e.jsonEval(r.responseText)}catch(Mc){N("Failed to parse JSON response for "+k+": "+r.responseText)}f(null,c)}else 401!==r.status&&404!==r.status&&N("Got unsuccessful REST response for "+k+" Status: "+r.status),f(r.status);f=null}};r.open("GET",k,!0);r.send()})};return c}(fc),gb=function(){function a(c,a,f){var h=this;this.repoInfo_=c;this.app=f;this.dataUpdateCount=0;this.statsListener_=null;
this.eventQueue_=new Zd;this.nextWriteId_=1;this.interceptServerDataCallback_=null;this.onDisconnect_=new M;this.persistentConnection_=null;var m=new Hd(f);this.stats_=ld.getCollection(c);if(a||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new Yc(this.repoInfo_,this.onDataUpdate_.bind(this),m),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{a=f.options.databaseAuthVariableOverride;
if("undefined"!==typeof a&&null!==a){if("object"!==typeof a)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{e.stringify(a)}catch(bd){throw Error("Invalid authOverride provided: "+bd);}}this.server_=this.persistentConnection_=new Cb(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),m,a)}m.addTokenChangeListener(function(c){h.server_.refreshAuthToken(c)});this.statsReporter_=ld.getOrCreateReporter(c,
function(){return new Wc(h.stats_,h.server_)});this.transactions_init_();this.infoData_=new Hb;this.infoSyncTree_=new Gb({startListening:function(c,a,e,f){a=[];e=h.infoData_.getNode(c.path);e.isEmpty()||(a=h.infoSyncTree_.applyServerOverwrite(c.path,e),setTimeout(function(){f("ok")},0));return a},stopListening:function(){}});this.updateInfo_("connected",!1);this.serverSyncTree_=new Gb({startListening:function(c,a,e,f){h.server_.listen(c,e,a,function(a,e){a=f(a,e);h.eventQueue_.raiseEventsForChangedPath(c.path,
a)});return[]},stopListening:function(c,a){h.server_.unlisten(c,a)}})}a.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host};a.prototype.name=function(){return this.repoInfo_.namespace};a.prototype.serverTime=function(){var c=this.infoData_.getNode(new K(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c};a.prototype.generateServerValues=function(){var c={timestamp:this.serverTime()};c=c||{};c.timestamp=c.timestamp||(new Date).getTime();
return c};a.prototype.onDataUpdate_=function(c,a,f,m){this.dataUpdateCount++;var h=new K(c);a=this.interceptServerDataCallback_?this.interceptServerDataCallback_(c,a):a;c=[];m?f?(a=e.map(a,function(c){return z(c)}),c=this.serverSyncTree_.applyTaggedQueryMerge(h,a,m)):(a=z(a),c=this.serverSyncTree_.applyTaggedQueryOverwrite(h,a,m)):f?(m=e.map(a,function(c){return z(c)}),c=this.serverSyncTree_.applyServerMerge(h,m)):(m=z(a),c=this.serverSyncTree_.applyServerOverwrite(h,m));m=h;0<c.length&&(m=this.rerunTransactions_(h));
this.eventQueue_.raiseEventsForChangedPath(m,c)};a.prototype.interceptServerData_=function(c){this.interceptServerDataCallback_=c};a.prototype.onConnectStatus_=function(c){this.updateInfo_("connected",c);!1===c&&this.runOnDisconnectEvents_()};a.prototype.onServerInfoUpdate_=function(c){var a=this;pa(c,function(c,h){a.updateInfo_(h,c)})};a.prototype.updateInfo_=function(c,a){c=new K("/.info/"+c);a=z(a);this.infoData_.updateSnapshot(c,a);a=this.infoSyncTree_.applyServerOverwrite(c,a);this.eventQueue_.raiseEventsForChangedPath(c,
a)};a.prototype.getNextWriteId_=function(){return this.nextWriteId_++};a.prototype.setWithPriority=function(c,a,e,f){var h=this;this.log_("set",{path:c.toString(),value:a,priority:e});var m=this.generateServerValues();a=z(a,e);m=jd(a,m);var k=this.getNextWriteId_();m=this.serverSyncTree_.applyUserOverwrite(c,m,k,!0);this.eventQueue_.queueEvents(m);this.server_.put(c.toString(),a.val(!0),function(a,e){var m="ok"===a;m||N("set at "+c+" failed: "+a);m=h.serverSyncTree_.ackUserWrite(k,!m);h.eventQueue_.raiseEventsForChangedPath(c,
m);h.callOnCompleteCallback(f,a,e)});m=this.abortTransactions_(c);this.rerunTransactions_(m);this.eventQueue_.raiseEventsForChangedPath(m,[])};a.prototype.update=function(c,a,f){var h=this;this.log_("update",{path:c.toString(),value:a});var m=!0,k=this.generateServerValues(),r={};e.forEach(a,function(c,a){m=!1;a=z(a);r[c]=jd(a,k)});if(m)sa("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(f,"ok");else{var n=this.getNextWriteId_(),t=this.serverSyncTree_.applyUserMerge(c,
r,n);this.eventQueue_.queueEvents(t);this.server_.merge(c.toString(),a,function(a,e){var m="ok"===a;m||N("update at "+c+" failed: "+a);m=h.serverSyncTree_.ackUserWrite(n,!m);var k=0<m.length?h.rerunTransactions_(c):c;h.eventQueue_.raiseEventsForChangedPath(k,m);h.callOnCompleteCallback(f,a,e)});e.forEach(a,function(a){a=h.abortTransactions_(c.child(a));h.rerunTransactions_(a)});this.eventQueue_.raiseEventsForChangedPath(c,[])}};a.prototype.runOnDisconnectEvents_=function(){var c=this;this.log_("onDisconnectEvents");
var a=this.generateServerValues(),e=[];pc(this.onDisconnect_,a).forEachTree(K.Empty,function(a,h){e=e.concat(c.serverSyncTree_.applyServerOverwrite(a,h));a=c.abortTransactions_(a);c.rerunTransactions_(a)});this.onDisconnect_=new M;this.eventQueue_.raiseEventsForChangedPath(K.Empty,e)};a.prototype.onDisconnectCancel=function(c,a){var h=this;this.server_.onDisconnectCancel(c.toString(),function(e,f){"ok"===e&&h.onDisconnect_.forget(c);h.callOnCompleteCallback(a,e,f)})};a.prototype.onDisconnectSet=function(c,
a,e){var h=this,f=z(a);this.server_.onDisconnectPut(c.toString(),f.val(!0),function(a,m){"ok"===a&&h.onDisconnect_.remember(c,f);h.callOnCompleteCallback(e,a,m)})};a.prototype.onDisconnectSetWithPriority=function(c,a,e,f){var h=this,m=z(a,e);this.server_.onDisconnectPut(c.toString(),m.val(!0),function(a,e){"ok"===a&&h.onDisconnect_.remember(c,m);h.callOnCompleteCallback(f,a,e)})};a.prototype.onDisconnectUpdate=function(c,a,f){var h=this;if(e.isEmpty(a))sa("onDisconnect().update() called with empty data.  Don't do anything."),
this.callOnCompleteCallback(f,"ok");else this.server_.onDisconnectMerge(c.toString(),a,function(m,k){"ok"===m&&e.forEach(a,function(a,e){e=z(e);h.onDisconnect_.remember(c.child(a),e)});h.callOnCompleteCallback(f,m,k)})};a.prototype.addEventCallbackForQuery=function(c,a){a=".info"===c.path.getFront()?this.infoSyncTree_.addEventRegistration(c,a):this.serverSyncTree_.addEventRegistration(c,a);this.eventQueue_.raiseEventsAtPath(c.path,a)};a.prototype.removeEventCallbackForQuery=function(c,a){a=".info"===
c.path.getFront()?this.infoSyncTree_.removeEventRegistration(c,a):this.serverSyncTree_.removeEventRegistration(c,a);this.eventQueue_.raiseEventsAtPath(c.path,a)};a.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")};a.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")};a.prototype.stats=function(c){void 0===c&&(c=!1);if("undefined"!==typeof console){c?(this.statsListener_||(this.statsListener_=
new xc(this.stats_)),c=this.statsListener_.get()):c=this.stats_.get();var a=Object.keys(c).reduce(function(c,a){return Math.max(a.length,c)},0);e.forEach(c,function(c,h){for(var e=c.length;e<a+2;e++)c+=" ";console.log(c+h)})}};a.prototype.statsIncrementCounter=function(c){this.stats_.incrementCounter(c);this.statsReporter_.includeStat(c)};a.prototype.log_=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];a="";this.persistentConnection_&&(a=this.persistentConnection_.id+":");sa.apply(void 0,
[a].concat(c))};a.prototype.callOnCompleteCallback=function(c,a,e){c&&Ha(function(){if("ok"==a)c(null);else{var h=(a||"error").toUpperCase(),f=h;e&&(f+=": "+e);f=Error(f);f.code=h;c(f)}})};Object.defineProperty(a.prototype,"database",{get:function(){return this.__database||(this.__database=new Lb(this))},enumerable:!0,configurable:!0});return a}(),$d=function(){function a(c){this.indexedFilter_=new cb(c.getIndex());this.index_=c.getIndex();this.startPost_=a.getStartPost_(c);this.endPost_=a.getEndPost_(c)}
a.prototype.getStartPost=function(){return this.startPost_};a.prototype.getEndPost=function(){return this.endPost_};a.prototype.matches=function(c){return 0>=this.index_.compare(this.getStartPost(),c)&&0>=this.index_.compare(c,this.getEndPost())};a.prototype.updateChild=function(c,a,e,f,m,k){this.matches(new ja(a,e))||(e=ya.EMPTY_NODE);return this.indexedFilter_.updateChild(c,a,e,f,m,k)};a.prototype.updateFullNode=function(c,a,e){a.isLeafNode()&&(a=ya.EMPTY_NODE);var h=a.withIndex(this.index_);h=
h.updatePriority(ya.EMPTY_NODE);var f=this;a.forEachChild(Aa,function(c,a){f.matches(new ja(c,a))||(h=h.updateImmediateChild(c,ya.EMPTY_NODE))});return this.indexedFilter_.updateFullNode(c,h,e)};a.prototype.updatePriority=function(c,a){return c};a.prototype.filtersNodes=function(){return!0};a.prototype.getIndexedFilter=function(){return this.indexedFilter_};a.prototype.getIndex=function(){return this.index_};a.getStartPost_=function(c){if(c.hasStart()){var a=c.getIndexStartName();return c.getIndex().makePost(c.getIndexStartValue(),
a)}return c.getIndex().minPost()};a.getEndPost_=function(c){if(c.hasEnd()){var a=c.getIndexEndName();return c.getIndex().makePost(c.getIndexEndValue(),a)}return c.getIndex().maxPost()};return a}(),Kb=function(){function a(c){this.rangedFilter_=new $d(c);this.index_=c.getIndex();this.limit_=c.getLimit();this.reverse_=!c.isViewFromLeft()}a.prototype.updateChild=function(c,a,e,f,m,k){this.rangedFilter_.matches(new ja(a,e))||(e=ya.EMPTY_NODE);return c.getImmediateChild(a).equals(e)?c:c.numChildren()<
this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(c,a,e,f,m,k):this.fullLimitUpdateChild_(c,a,e,m,k)};a.prototype.updateFullNode=function(c,a,e){if(a.isLeafNode()||a.isEmpty())var h=ya.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<a.numChildren()&&a.isIndexed(this.index_)){h=ya.EMPTY_NODE.withIndex(this.index_);var f=void 0;f=this.reverse_?a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(a=
0;f.hasNext()&&a<this.limit_;){var m=f.getNext(),k=void 0;if(k=this.reverse_?0>=this.index_.compare(this.rangedFilter_.getStartPost(),m):0>=this.index_.compare(m,this.rangedFilter_.getEndPost()))h=h.updateImmediateChild(m.name,m.node),a++;else break}}else{h=a.withIndex(this.index_);h=h.updatePriority(ya.EMPTY_NODE);var r=void 0,n=void 0,t=void 0;f=void 0;if(this.reverse_){f=h.getReverseIterator(this.index_);r=this.rangedFilter_.getEndPost();n=this.rangedFilter_.getStartPost();var p=this.index_.getCompare();
t=function(c,a){return p(a,c)}}else f=h.getIterator(this.index_),r=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),t=this.index_.getCompare();a=0;for(var q=!1;f.hasNext();)m=f.getNext(),!q&&0>=t(r,m)&&(q=!0),(k=q&&a<this.limit_&&0>=t(m,n))?a++:h=h.updateImmediateChild(m.name,ya.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(c,h,e)};a.prototype.updatePriority=function(c,a){return c};a.prototype.filtersNodes=function(){return!0};a.prototype.getIndexedFilter=
function(){return this.rangedFilter_.getIndexedFilter()};a.prototype.getIndex=function(){return this.index_};a.prototype.fullLimitUpdateChild_=function(c,a,f,m,k){if(this.reverse_){var h=this.index_.getCompare();var r=function(c,a){return h(a,c)}}else r=this.index_.getCompare();e.assert(c.numChildren()==this.limit_,"");var n=new ja(a,f),t=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(n);if(c.hasChild(a)){var q=c.getImmediateChild(a);for(t=m.getChildAfterChild(this.index_,
t,this.reverse_);null!=t&&(t.name==a||c.hasChild(t.name));)t=m.getChildAfterChild(this.index_,t,this.reverse_);m=null==t?1:r(t,n);if(p&&!f.isEmpty()&&0<=m)return null!=k&&k.trackChildChange(da.childChangedChange(a,f,q)),c.updateImmediateChild(a,f);null!=k&&k.trackChildChange(da.childRemovedChange(a,q));c=c.updateImmediateChild(a,ya.EMPTY_NODE);return null!=t&&this.rangedFilter_.matches(t)?(null!=k&&k.trackChildChange(da.childAddedChange(t.name,t.node)),c.updateImmediateChild(t.name,t.node)):c}return f.isEmpty()?
c:p&&0<=r(t,n)?(null!=k&&(k.trackChildChange(da.childRemovedChange(t.name,t.node)),k.trackChildChange(da.childAddedChange(a,f))),c.updateImmediateChild(a,f).updateImmediateChild(t.name,ya.EMPTY_NODE)):c};return a}(),hb=function(){function a(){this.endNameSet_=this.endSet_=this.startNameSet_=this.startSet_=this.limitSet_=!1;this.limit_=0;this.viewFrom_="";this.indexStartValue_=null;this.indexStartName_="";this.indexEndValue_=null;this.indexEndName_="";this.index_=Aa}a.prototype.hasStart=function(){return this.startSet_};
a.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===a.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT};a.prototype.getIndexStartValue=function(){e.assert(this.startSet_,"Only valid if start has been set");return this.indexStartValue_};a.prototype.getIndexStartName=function(){e.assert(this.startSet_,"Only valid if start has been set");return this.startNameSet_?this.indexStartName_:"[MIN_NAME]"};a.prototype.hasEnd=function(){return this.endSet_};a.prototype.getIndexEndValue=
function(){e.assert(this.endSet_,"Only valid if end has been set");return this.indexEndValue_};a.prototype.getIndexEndName=function(){e.assert(this.endSet_,"Only valid if end has been set");return this.endNameSet_?this.indexEndName_:"[MAX_NAME]"};a.prototype.hasLimit=function(){return this.limitSet_};a.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_};a.prototype.getLimit=function(){e.assert(this.limitSet_,"Only valid if limit has been set");return this.limit_};a.prototype.getIndex=
function(){return this.index_};a.prototype.copy_=function(){var c=new a;c.limitSet_=this.limitSet_;c.limit_=this.limit_;c.startSet_=this.startSet_;c.indexStartValue_=this.indexStartValue_;c.startNameSet_=this.startNameSet_;c.indexStartName_=this.indexStartName_;c.endSet_=this.endSet_;c.indexEndValue_=this.indexEndValue_;c.endNameSet_=this.endNameSet_;c.indexEndName_=this.indexEndName_;c.index_=this.index_;c.viewFrom_=this.viewFrom_;return c};a.prototype.limit=function(c){var a=this.copy_();a.limitSet_=
!0;a.limit_=c;a.viewFrom_="";return a};a.prototype.limitToFirst=function(c){var e=this.copy_();e.limitSet_=!0;e.limit_=c;e.viewFrom_=a.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT;return e};a.prototype.limitToLast=function(c){var e=this.copy_();e.limitSet_=!0;e.limit_=c;e.viewFrom_=a.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT;return e};a.prototype.startAt=function(c,a){var e=this.copy_();e.startSet_=!0;void 0===c&&(c=null);e.indexStartValue_=c;null!=a?(e.startNameSet_=!0,e.indexStartName_=a):(e.startNameSet_=
!1,e.indexStartName_="");return e};a.prototype.endAt=function(c,a){var e=this.copy_();e.endSet_=!0;void 0===c&&(c=null);e.indexEndValue_=c;void 0!==a?(e.endNameSet_=!0,e.indexEndName_=a):(e.endNameSet_=!1,e.indexEndName_="");return e};a.prototype.orderBy=function(c){var a=this.copy_();a.index_=c;return a};a.prototype.getQueryObject=function(){var c=a.WIRE_PROTOCOL_CONSTANTS_,e={};this.startSet_&&(e[c.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(e[c.INDEX_START_NAME]=this.indexStartName_));
this.endSet_&&(e[c.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(e[c.INDEX_END_NAME]=this.indexEndName_));if(this.limitSet_){e[c.LIMIT]=this.limit_;var f=this.viewFrom_;""===f&&(f=this.isViewFromLeft()?c.VIEW_FROM_LEFT:c.VIEW_FROM_RIGHT);e[c.VIEW_FROM]=f}this.index_!==Aa&&(e[c.INDEX]=this.index_.toString());return e};a.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)};a.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Aa};a.prototype.getNodeFilter=
function(){return this.loadsAllData()?new cb(this.getIndex()):this.hasLimit()?new Kb(this):new $d(this)};a.prototype.toRestQueryStringParameters=function(){var c=a.REST_QUERY_CONSTANTS_,h={};if(this.isDefault())return h;if(this.index_===Aa)var f=c.PRIORITY_INDEX;else this.index_===Va?f=c.VALUE_INDEX:this.index_===ua?f=c.KEY_INDEX:(e.assert(this.index_ instanceof Ea,"Unrecognized index type!"),f=this.index_.toString());h[c.ORDER_BY]=e.stringify(f);this.startSet_&&(h[c.START_AT]=e.stringify(this.indexStartValue_),
this.startNameSet_&&(h[c.START_AT]+=","+e.stringify(this.indexStartName_)));this.endSet_&&(h[c.END_AT]=e.stringify(this.indexEndValue_),this.endNameSet_&&(h[c.END_AT]+=","+e.stringify(this.indexEndName_)));this.limitSet_&&(this.isViewFromLeft()?h[c.LIMIT_TO_FIRST]=this.limit_:h[c.LIMIT_TO_LAST]=this.limit_);return h};a.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"};
a.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"};a.DEFAULT=new a;return a}(),mb=function(a){function c(c,e){if(!(c instanceof gb))throw Error("new Reference() no longer supported - use app.database().");return a.call(this,c,e,hb.DEFAULT,!1)||this}k.__extends(c,a);c.prototype.getKey=function(){e.validateArgCount("Reference.key",0,0,arguments.length);
return this.path.isEmpty()?null:this.path.getBack()};c.prototype.child=function(a){e.validateArgCount("Reference.child",1,1,arguments.length);if("number"===typeof a)a=String(a);else if(!(a instanceof K))if(null===this.path.getFront()){var h=a;h&&(h=h.replace(/^\/*\.info(\/|$)/,"/"));Eb("Reference.child",1,h,!1)}else Eb("Reference.child",1,a,!1);return new c(this.repo,this.path.child(a))};c.prototype.getParent=function(){e.validateArgCount("Reference.parent",0,0,arguments.length);var a=this.path.parent();
return null===a?null:new c(this.repo,a)};c.prototype.getRoot=function(){e.validateArgCount("Reference.root",0,0,arguments.length);for(var c=this;null!==c.getParent();)c=c.getParent();return c};c.prototype.databaseProp=function(){return this.repo.database};c.prototype.set=function(c,a){e.validateArgCount("Reference.set",1,2,arguments.length);Pa("Reference.set",this.path);oa("Reference.set",1,c,this.path,!1);e.validateCallback("Reference.set",2,a,!0);var h=new e.Deferred;this.repo.setWithPriority(this.path,
c,null,h.wrapCallback(a));return h.promise};c.prototype.update=function(c,a){e.validateArgCount("Reference.update",1,2,arguments.length);Pa("Reference.update",this.path);if(Array.isArray(c)){for(var h={},f=0;f<c.length;++f)h[""+f]=c[f];c=h;N("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bc("Reference.update",1,c,this.path,!1);e.validateCallback("Reference.update",
2,a,!0);h=new e.Deferred;this.repo.update(this.path,c,h.wrapCallback(a));return h.promise};c.prototype.setWithPriority=function(c,a,f){e.validateArgCount("Reference.setWithPriority",2,3,arguments.length);Pa("Reference.setWithPriority",this.path);oa("Reference.setWithPriority",1,c,this.path,!1);Ec("Reference.setWithPriority",2,a,!1);e.validateCallback("Reference.setWithPriority",3,f,!0);if(".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";
var h=new e.Deferred;this.repo.setWithPriority(this.path,c,a,h.wrapCallback(f));return h.promise};c.prototype.remove=function(c){e.validateArgCount("Reference.remove",0,1,arguments.length);Pa("Reference.remove",this.path);e.validateCallback("Reference.remove",1,c,!0);return this.set(null,c)};c.prototype.transaction=function(c,a,f){e.validateArgCount("Reference.transaction",1,3,arguments.length);Pa("Reference.transaction",this.path);e.validateCallback("Reference.transaction",1,c,!1);e.validateCallback("Reference.transaction",
2,a,!0);if(void 0!==f&&"boolean"!==typeof f)throw Error(e.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===f&&(f=!0);var h=new e.Deferred;"function"===typeof a&&h.promise.catch(function(){});this.repo.startTransaction(this.path,c,function(c,e,f){c?h.reject(c):h.resolve(new Sa(e,f));"function"===typeof a&&a(c,e,f)},f);return h.promise};c.prototype.setPriority=
function(c,a){e.validateArgCount("Reference.setPriority",1,2,arguments.length);Pa("Reference.setPriority",this.path);Ec("Reference.setPriority",1,c,!1);e.validateCallback("Reference.setPriority",2,a,!0);var h=new e.Deferred;this.repo.setWithPriority(this.path.child(".priority"),c,null,h.wrapCallback(a));return h.promise};c.prototype.push=function(c,a){e.validateArgCount("Reference.push",0,2,arguments.length);Pa("Reference.push",this.path);oa("Reference.push",1,c,this.path,!0);e.validateCallback("Reference.push",
2,a,!0);var h=this.repo.serverTime(),f=Ya(h);h=this.child(f);var m=this.child(f);f=null!=c?h.set(c,a).then(function(){return m}):Promise.resolve(m);h.then=f.then.bind(f);h.catch=f.then.bind(f,void 0);"function"===typeof a&&f.catch(function(){});return h};c.prototype.onDisconnect=function(){Pa("Reference.onDisconnect",this.path);return new nc(this.repo,this.path)};Object.defineProperty(c.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0});return c}(Bb);Bb.__referenceConstructor=mb;wc.__referenceConstructor=mb;var Kd=function(){return function(){this.children={};this.childCount=0;this.value=null}}(),tb=function(){function a(c,a,e){void 0===
c&&(c="");void 0===a&&(a=null);void 0===e&&(e=new Kd);this.name_=c;this.parent_=a;this.node_=e}a.prototype.subTree=function(c){c=c instanceof K?c:new K(c);for(var h=this,f;null!==(f=c.getFront());){var m=e.safeGet(h.node_.children,f)||new Kd;h=new a(f,h,m);c=c.popFront()}return h};a.prototype.getValue=function(){return this.node_.value};a.prototype.setValue=function(c){e.assert("undefined"!==typeof c,"Cannot set value to undefined");this.node_.value=c;this.updateParents_()};a.prototype.clear=function(){this.node_.value=
null;this.node_.children={};this.node_.childCount=0;this.updateParents_()};a.prototype.hasChildren=function(){return 0<this.node_.childCount};a.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()};a.prototype.forEachChild=function(c){var h=this;e.forEach(this.node_.children,function(e,f){c(new a(e,h,f))})};a.prototype.forEachDescendant=function(c,a,e){a&&!e&&c(this);this.forEachChild(function(a){a.forEachDescendant(c,!0,e)});a&&e&&c(this)};a.prototype.forEachAncestor=function(c,
a){for(a=a?this:this.parent();null!==a;){if(c(a))return!0;a=a.parent()}return!1};a.prototype.forEachImmediateDescendantWithValue=function(c){this.forEachChild(function(a){null!==a.getValue()?c(a):a.forEachImmediateDescendantWithValue(c)})};a.prototype.path=function(){return new K(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)};a.prototype.name=function(){return this.name_};a.prototype.parent=function(){return this.parent_};a.prototype.updateParents_=function(){null!==this.parent_&&
this.parent_.updateChild_(this.name_,this)};a.prototype.updateChild_=function(c,a){var h=a.isEmpty(),f=e.contains(this.node_.children,c);h&&f?(delete this.node_.children[c],this.node_.childCount--,this.updateParents_()):h||f||(this.node_.children[c]=a.node_,this.node_.childCount++,this.updateParents_())};return a}(),ib;(function(a){a[a.RUN=0]="RUN";a[a.SENT=1]="SENT";a[a.COMPLETED=2]="COMPLETED";a[a.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT";a[a.NEEDS_ABORT=4]="NEEDS_ABORT"})(ib||(ib={}));gb.MAX_TRANSACTION_RETRIES_=
25;gb.prototype.transactions_init_=function(){this.transactionQueueTree_=new tb};gb.prototype.startTransaction=function(a,c,h,f){this.log_("transaction on "+a);var m=function(){},k=new mb(this,a);k.on("value",m);c={path:a,update:c,onComplete:h,status:null,order:H(),applyLocally:f,retryCount:0,unwatcher:function(){k.off("value",m)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};h=this.getLatestState_(a);c.currentInputSnapshot=
h;h=c.update(h.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&(a=new r(c.currentInputSnapshot,new mb(this,c.path),Aa),c.onComplete(null,!1,a));else{Ra("transaction failed: Data returned ",h,c.path);c.status=ib.RUN;f=this.transactionQueueTree_.subTree(a);var n=f.getValue()||[];n.push(c);f.setValue(n);n=void 0;"object"===typeof h&&null!==h&&e.contains(h,".priority")?(n=e.safeGet(h,".priority"),e.assert(ha(n),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
n=(this.serverSyncTree_.calcCompleteEventCache(a)||ya.EMPTY_NODE).getPriority().val();f=this.generateServerValues();h=z(h,n);f=jd(h,f);c.currentOutputSnapshotRaw=h;c.currentOutputSnapshotResolved=f;c.currentWriteId=this.getNextWriteId_();c=this.serverSyncTree_.applyUserOverwrite(a,f,c.currentWriteId,c.applyLocally);this.eventQueue_.raiseEventsForChangedPath(a,c);this.sendReadyTransactions_()}};gb.prototype.getLatestState_=function(a,c){return this.serverSyncTree_.calcCompleteEventCache(a,c)||ya.EMPTY_NODE};
gb.prototype.sendReadyTransactions_=function(a){var c=this;void 0===a&&(a=this.transactionQueueTree_);a||this.pruneCompletedTransactionsBelowNode_(a);if(null!==a.getValue()){var h=this.buildTransactionQueue_(a);e.assert(0<h.length,"Sending zero length transaction queue");h.every(function(c){return c.status===ib.RUN})&&this.sendTransactionQueue_(a.path(),h)}else a.hasChildren()&&a.forEachChild(function(a){c.sendReadyTransactions_(a)})};gb.prototype.sendTransactionQueue_=function(a,c){var h=this,f=
c.map(function(c){return c.currentWriteId}),m=this.getLatestState_(a,f);f=m;m=m.hash();for(var k=0;k<c.length;k++){var n=c[k];e.assert(n.status===ib.RUN,"tryToSendTransactionQueue_: items in queue should all be run.");n.status=ib.SENT;n.retryCount++;var p=K.relativePath(a,n.path);f=f.updateChild(p,n.currentOutputSnapshotRaw)}f=f.val(!0);this.server_.put(a.toString(),f,function(e){h.log_("transaction put response",{path:a.toString(),status:e});var f=[];if("ok"===e){e=[];for(var m=0;m<c.length;m++){c[m].status=
ib.COMPLETED;f=f.concat(h.serverSyncTree_.ackUserWrite(c[m].currentWriteId));if(c[m].onComplete){var k=c[m].currentOutputSnapshotResolved,n=new mb(h,c[m].path);k=new r(k,n,Aa);e.push(c[m].onComplete.bind(null,null,!0,k))}c[m].unwatcher()}h.pruneCompletedTransactionsBelowNode_(h.transactionQueueTree_.subTree(a));h.sendReadyTransactions_();h.eventQueue_.raiseEventsForChangedPath(a,f);for(m=0;m<e.length;m++)Ha(e[m])}else{if("datastale"===e)for(m=0;m<c.length;m++)c[m].status=c[m].status===ib.SENT_NEEDS_ABORT?
ib.NEEDS_ABORT:ib.RUN;else for(N("transaction at "+a.toString()+" failed: "+e),m=0;m<c.length;m++)c[m].status=ib.NEEDS_ABORT,c[m].abortReason=e;h.rerunTransactions_(a)}},m)};gb.prototype.rerunTransactions_=function(a){var c=this.getAncestorTransactionNode_(a);a=c.path();c=this.buildTransactionQueue_(c);this.rerunTransactionQueue_(c,a);return a};gb.prototype.rerunTransactionQueue_=function(a,c){if(0!==a.length){for(var h=[],f=[],m=a.filter(function(c){return c.status===ib.RUN}).map(function(c){return c.currentWriteId}),
k=0;k<a.length;k++){var n=a[k],p=K.relativePath(c,n.path),q=!1,Ea=void 0;e.assert(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null.");if(n.status===ib.NEEDS_ABORT)q=!0,Ea=n.abortReason,f=f.concat(this.serverSyncTree_.ackUserWrite(n.currentWriteId,!0));else if(n.status===ib.RUN)if(n.retryCount>=gb.MAX_TRANSACTION_RETRIES_)q=!0,Ea="maxretry",f=f.concat(this.serverSyncTree_.ackUserWrite(n.currentWriteId,!0));else{var x=this.getLatestState_(n.path,m);n.currentInputSnapshot=x;var O=
a[k].update(x.val());void 0!==O?(Ra("transaction failed: Data returned ",O,n.path),p=z(O),"object"===typeof O&&null!=O&&e.contains(O,".priority")||(p=p.updatePriority(x.getPriority())),x=n.currentWriteId,O=this.generateServerValues(),O=jd(p,O),n.currentOutputSnapshotRaw=p,n.currentOutputSnapshotResolved=O,n.currentWriteId=this.getNextWriteId_(),m.splice(m.indexOf(x),1),f=f.concat(this.serverSyncTree_.applyUserOverwrite(n.path,O,n.currentWriteId,n.applyLocally)),f=f.concat(this.serverSyncTree_.ackUserWrite(x,
!0))):(q=!0,Ea="nodata",f=f.concat(this.serverSyncTree_.ackUserWrite(n.currentWriteId,!0)))}this.eventQueue_.raiseEventsForChangedPath(c,f);f=[];q&&(a[k].status=ib.COMPLETED,setTimeout(a[k].unwatcher,0),a[k].onComplete&&("nodata"===Ea?(n=new mb(this,a[k].path),n=new r(a[k].currentInputSnapshot,n,Aa),h.push(a[k].onComplete.bind(null,null,!1,n))):h.push(a[k].onComplete.bind(null,Error(Ea),!1,null))))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(k=0;k<h.length;k++)Ha(h[k]);
this.sendReadyTransactions_()}};gb.prototype.getAncestorTransactionNode_=function(a){for(var c,e=this.transactionQueueTree_;null!==(c=a.getFront())&&null===e.getValue();)e=e.subTree(c),a=a.popFront();return e};gb.prototype.buildTransactionQueue_=function(a){var c=[];this.aggregateTransactionQueuesForNode_(a,c);c.sort(function(c,a){return c.order-a.order});return c};gb.prototype.aggregateTransactionQueuesForNode_=function(a,c){var e=this,f=a.getValue();if(null!==f)for(var m=0;m<f.length;m++)c.push(f[m]);
a.forEachChild(function(a){e.aggregateTransactionQueuesForNode_(a,c)})};gb.prototype.pruneCompletedTransactionsBelowNode_=function(a){var c=this,e=a.getValue();if(e){for(var f=0,m=0;m<e.length;m++)e[m].status!==ib.COMPLETED&&(e[f]=e[m],f++);e.length=f;a.setValue(0<e.length?e:null)}a.forEachChild(function(a){c.pruneCompletedTransactionsBelowNode_(a)})};gb.prototype.abortTransactions_=function(a){var c=this,e=this.getAncestorTransactionNode_(a).path();a=this.transactionQueueTree_.subTree(a);a.forEachAncestor(function(a){c.abortTransactionsOnNode_(a)});
this.abortTransactionsOnNode_(a);a.forEachDescendant(function(a){c.abortTransactionsOnNode_(a)});return e};gb.prototype.abortTransactionsOnNode_=function(a){var c=a.getValue();if(null!==c){for(var h=[],f=[],m=-1,k=0;k<c.length;k++)c[k].status!==ib.SENT_NEEDS_ABORT&&(c[k].status===ib.SENT?(e.assert(m===k-1,"All SENT items should be at beginning of queue."),m=k,c[k].status=ib.SENT_NEEDS_ABORT,c[k].abortReason="set"):(e.assert(c[k].status===ib.RUN,"Unexpected transaction status in abort"),c[k].unwatcher(),
f=f.concat(this.serverSyncTree_.ackUserWrite(c[k].currentWriteId,!0)),c[k].onComplete&&h.push(c[k].onComplete.bind(null,Error("set"),!1,null))));-1===m?a.setValue(null):c.length=m+1;this.eventQueue_.raiseEventsForChangedPath(a.path(),f);for(k=0;k<h.length;k++)Ha(h[k])}};var Zc,Db=function(){function a(){this.repos_={};this.useRestClient_=!1}a.getInstance=function(){Zc||(Zc=new a);return Zc};a.prototype.interrupt=function(){for(var a in this.repos_)for(var e in this.repos_[a])this.repos_[a][e].interrupt()};
a.prototype.resume=function(){for(var a in this.repos_)for(var e in this.repos_[a])this.repos_[a][e].resume()};a.prototype.databaseFromApp=function(a,e){e=e||a.options.databaseURL;void 0===e&&x("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");e=kb(e);var c=e.repoInfo;cc("Invalid Firebase Database URL",1,e);e.path.isEmpty()||x("Database URL must point to the root of a Firebase Database (not including a child path).");return this.createRepo(c,
a).database};a.prototype.deleteRepo=function(a){var c=e.safeGet(this.repos_,a.app.name);c&&e.safeGet(c,a.repoInfo_.toURLString())===a||x("Database "+a.app.name+"("+a.repoInfo_+") has already been deleted.");a.interrupt();delete c[a.repoInfo_.toURLString()]};a.prototype.createRepo=function(a,h){var c=e.safeGet(this.repos_,h.name);c||(c={},this.repos_[h.name]=c);var f=e.safeGet(c,a.toURLString());f&&x("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");
f=new gb(a,this.useRestClient_,h);return c[a.toURLString()]=f};a.prototype.forceRestClient=function(a){this.useRestClient_=a};return a}(),Lb=function(){function a(a){this.repo_=a;a instanceof gb||x("Don't call new Database() directly - please use firebase.database().");this.root_=new mb(a,K.Empty);this.INTERNAL=new Md(this)}Object.defineProperty(a.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0});a.prototype.ref=function(a){this.checkDeleted_("ref");e.validateArgCount("database.ref",
0,1,arguments.length);return a instanceof mb?this.refFromURL(a.toString()):void 0!==a?this.root_.child(a):this.root_};a.prototype.refFromURL=function(a){this.checkDeleted_("database.refFromURL");e.validateArgCount("database.refFromURL",1,1,arguments.length);var c=kb(a);cc("database.refFromURL",1,c);var f=c.repoInfo;f.host!==this.repo_.repoInfo_.host&&x("database.refFromURL: Host name does not match the current database: (found "+f.host+" but expected "+this.repo_.repoInfo_.host+")");return this.ref(c.path.toString())};
a.prototype.checkDeleted_=function(a){null===this.repo_&&x("Cannot call "+a+" on a deleted database.")};a.prototype.goOffline=function(){e.validateArgCount("database.goOffline",0,0,arguments.length);this.checkDeleted_("goOffline");this.repo_.interrupt()};a.prototype.goOnline=function(){e.validateArgCount("database.goOnline",0,0,arguments.length);this.checkDeleted_("goOnline");this.repo_.resume()};a.ServerValue={TIMESTAMP:{".sv":"timestamp"}};return a}(),Md=function(){function a(a){this.database=a}
a.prototype.delete=function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){this.database.checkDeleted_("delete");Db.getInstance().deleteRepo(this.database.repo_);this.database.repo_=null;this.database.root_=null;this.database=this.database.INTERNAL=null;return[2]})})};return a}(),yb=Object.freeze({forceLongPolling:function(){Ma.forceDisallow();Xa.forceAllow()},forceWebSockets:function(){Xa.forceDisallow()},isWebSocketsAvailable:function(){return Ma.isAvailable()},
setSecurityDebugCallback:function(a,c){a.repo.persistentConnection_.securityDebugCallback_=c},stats:function(a,c){a.repo.stats(c)},statsIncrementCounter:function(a,c){a.repo.statsIncrementCounter(c)},dataUpdateCount:function(a){return a.repo.dataUpdateCount},interceptServerData:function(a,c){return a.repo.interceptServerData_(c)}});Cb.prototype.simpleListen=function(a,c){this.sendRequest("q",{p:a},c)};Cb.prototype.echo=function(a,c){this.sendRequest("echo",{d:a},c)};var rc=Object.freeze({DataConnection:Cb,
RealTimeConnection:Jd,hijackHash:function(a){var c=Cb.prototype.put;Cb.prototype.put=function(e,f,k,m){void 0!==m&&(m=a());c.call(this,e,f,k,m)};return function(){Cb.prototype.put=c}},ConnectionTarget:Ib,queryIdentifier:function(a){return a.queryIdentifier()},listens:function(a){return a.repo.persistentConnection_.listens_},forceRestClient:function(a){Db.getInstance().forceRestClient(a)}}),Vb=Lb.ServerValue;C(w);n.DataSnapshot=r;n.Database=Lb;n.OnDisconnect=nc;n.Query=Bb;n.Reference=mb;n.ServerValue=
Vb;n.enableLogging=Ja;n.registerDatabase=C};
shadow$provide[155]=function(f,a,q,n){(function(){function a(a){return"string"==typeof a}function f(a){return"number"==typeof a}function n(a,c){a=a.split(".");c=c||xa;for(var e=0;e<a.length;e++)if(c=c[a[e]],null==c)return null;return c}function C(){}function R(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var e=Object.prototype.toString.call(a);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof a.length&&"undefined"!=
typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==c&&"undefined"==typeof a.call)return"object";return c}function w(a){return"array"==R(a)}function k(a){var c=R(a);return"array"==c||"object"==c&&"number"==typeof a.length}function e(a){var c=typeof a;return"object"==
c&&null!=a||"function"==c}function S(a,c,e){return a.call.apply(a.bind,arguments)}function fa(a,c,e){if(!a)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,h);return a.apply(c,e)}}return function(){return a.apply(c,arguments)}}function U(a,c,e){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?U=S:U=fa;return U.apply(null,arguments)}function J(a,
c){var e=Array.prototype.slice.call(arguments,1);return function(){var c=e.slice();c.push.apply(c,arguments);return a.apply(this,c)}}function E(a,c){function e(){}e.prototype=c.prototype;a.N=c.prototype;a.prototype=new e;a.prototype.constructor=a;a.yb=function(a,e,h){for(var f=Array(arguments.length-2),v=2;v<arguments.length;v++)f[v-2]=arguments[v];return c.prototype[e].apply(a,f)}}function Q(){0!=ff&&(gf[this[ce]||(this[ce]=++Da)]=this);this.j=this.j;this.i=this.i}function G(c){a:{for(var e=qc,h=
c.length,f=a(c)?c.split(""):c,v=0;v<h;v++)if(v in f&&e.call(void 0,f[v],v,c)){e=v;break a}e=-1}return 0>e?null:a(c)?c.charAt(e):c[e]}function H(a){return Array.prototype.concat.apply([],arguments)}function ca(a){var c=a.length;if(0<c){for(var e=Array(c),h=0;h<c;h++)e[h]=a[h];return e}return[]}function Y(a){return/^[\s\xa0]*$/.test(a)}function V(a,c){return-1!=a.indexOf(c)}function ma(a,c){return a<c?-1:a>c?1:0}function Ja(a,c,e){for(var h in a)c.call(e,a[h],h,a)}function sa(a){var c={},e;for(e in a)c[e]=
a[e];return c}function W(a,c){for(var e,h,f=1;f<arguments.length;f++){h=arguments[f];for(e in h)a[e]=h[e];for(var v=0;v<$f.length;v++)e=$f[v],Object.prototype.hasOwnProperty.call(h,e)&&(a[e]=h[e])}}function F(a){F[" "](a);return a}function x(a,c){var e=Ub;return Object.prototype.hasOwnProperty.call(e,a)?e[a]:e[a]=c(a)}function N(){var a=xa.document;return a?a.documentMode:void 0}function O(a){return x(a,function(){for(var c=0,e=na(String(xe)).split("."),h=na(String(a)).split("."),f=Math.max(e.length,
h.length),v=0;0==c&&v<f;v++){var k=e[v]||"",m=h[v]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""];if(0==k[0].length&&0==m[0].length)break;c=ma(0==k[1].length?0:parseInt(k[1],10),0==m[1].length?0:parseInt(m[1],10))||ma(0==k[2].length,0==m[2].length)||ma(k[2],m[2]);k=k[3];m=m[3]}while(0==c)}return 0<=c})}function Z(a,c){this.type=a;this.a=this.target=c;this.Ja=!0}function qa(c,e){Z.call(this,c?c.type:"");this.relatedTarget=this.a=this.target=null;this.button=
this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.c=null;if(c){var h=this.type=c.type,f=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement;this.a=e;if(e=c.relatedTarget){if(hf){a:{try{F(e.nodeName);h=!0;break a}catch(rd){}h=!1}h||(e=null)}}else"mouseover"==h?e=c.fromElement:"mouseout"==h&&(e=c.toElement);this.relatedTarget=e;f?(this.clientX=
void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0);this.button=c.button;this.key=c.key||"";this.ctrlKey=c.ctrlKey;this.altKey=c.altKey;this.shiftKey=c.shiftKey;this.metaKey=c.metaKey;this.pointerId=c.pointerId||0;this.pointerType=a(c.pointerType)?c.pointerType:
cg[c.pointerType]||"";this.c=c;c.defaultPrevented&&this.b()}}function Na(a,c,e,h,f){this.listener=a;this.proxy=null;this.src=c;this.type=e;this.capture=!!h;this.da=f;this.key=++Hg;this.X=this.Z=!1}function ba(a){a.X=!0;a.listener=null;a.proxy=null;a.src=null;a.da=null}function ka(a){this.src=a;this.a={};this.b=0}function la(a,c){var e=c.type;if(e in a.a){var h=a.a[e],f=Df(h,c),v;(v=0<=f)&&Array.prototype.splice.call(h,f,1);v&&(ba(c),0==a.a[e].length&&(delete a.a[e],a.b--))}}function pa(a,c,e,h){for(var f=
0;f<a.length;++f){var v=a[f];if(!v.X&&v.listener==c&&v.capture==!!e&&v.da==h)return f}return-1}function Ca(a,c,h,f,k){if(f&&f.once)return Ha(a,c,h,f,k);if(w(c)){for(var v=0;v<c.length;v++)Ca(a,c[v],h,f,k);return null}h=za(h);return a&&a[L]?a.Aa(c,h,e(f)?!!f.capture:!!f,k):Ga(a,c,h,!1,f,k)}function Ga(a,c,h,f,k,m){if(!c)throw Error("Invalid event type");var v=e(k)?!!k.capture:!!k;if(v&&!dd)return null;var r=Ab(a);r||(a[Ld]=r=new ka(a));h=r.add(c,h,f,v,m);if(h.proxy)return h;f=La();h.proxy=f;f.src=
a;f.listener=h;if(a.addEventListener)nd||(k=v),void 0===k&&(k=!1),a.addEventListener(c.toString(),f,k);else if(a.attachEvent)a.attachEvent(Xb(c.toString()),f);else if(a.addListener&&a.removeListener)a.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");oe++;return h}function La(){var a=kb,c=dd?function(e){return a.call(c.src,c.listener,e)}:function(e){e=a.call(c.src,c.listener,e);if(!e)return e};return c}function Ha(a,c,h,f,k){if(w(c)){for(var v=0;v<c.length;v++)Ha(a,
c[v],h,f,k);return null}h=za(h);return a&&a[L]?a.Ba(c,h,e(f)?!!f.capture:!!f,k):Ga(a,c,h,!0,f,k)}function Ua(a,c,h,f,k){if(w(c))for(var v=0;v<c.length;v++)Ua(a,c[v],h,f,k);else(f=e(f)?!!f.capture:!!f,h=za(h),a&&a[L])?(a=a.c,c=String(c).toString(),c in a.a&&(v=a.a[c],h=pa(v,h,f,k),-1<h&&(ba(v[h]),Array.prototype.splice.call(v,h,1),0==v.length&&(delete a.a[c],a.b--)))):a&&(a=Ab(a))&&(c=a.a[c.toString()],a=-1,c&&(a=pa(c,h,f,k)),(h=-1<a?c[a]:null)&&K(h))}function K(a){if(!f(a)&&a&&!a.X){var c=a.src;if(c&&
c[L])la(c.c,a);else{var e=a.type,h=a.proxy;c.removeEventListener?c.removeEventListener(e,h,a.capture):c.detachEvent?c.detachEvent(Xb(e),h):c.addListener&&c.removeListener&&c.removeListener(h);oe--;(e=Ab(c))?(la(e,a),0==e.b&&(e.src=null,c[Ld]=null)):ba(a)}}}function Xb(a){return a in Se?Se[a]:Se[a]="on"+a}function Ib(a,c){var e=a.listener,h=a.da||a.src;a.Z&&K(a);return e.call(h,c)}function kb(a,c){return a.X?!0:dd?Ib(a,new qa(c,this)):(c=new qa(c||n("window.event"),this),Ib(a,c))}function Ab(a){a=
a[Ld];return a instanceof ka?a:null}function za(a){if("function"==R(a))return a;a[lf]||(a[lf]=function(c){return a.handleEvent(c)});return a[lf]}function ra(){Q.call(this);this.c=new ka(this);this.J=this;this.B=null}function Ka(a,c,e,h){c=a.c.a[String(c)];if(!c)return!0;c=c.concat();for(var f=!0,v=0;v<c.length;++v){var k=c[v];if(k&&!k.X&&k.capture==e){var m=k.listener,r=k.da||k.src;k.Z&&la(a.c,k);f=!1!==m.call(r,h)&&f}}return f&&0!=h.Ja}function ha(a,c){this.c=a;this.f=c;this.b=0;this.a=null}function oa(){this.b=
this.a=null}function Ra(){var a=eg,c=null;a.a&&(c=a.a,a.a=a.a.next,a.a||(a.b=null),c.next=null);return c}function vb(){this.next=this.b=this.a=null}function bc(a){xa.setTimeout(function(){throw a;},0)}function Ec(){var a=xa.Promise.resolve(void 0);Oc=function(){a.then(Ob)}}function Ob(){for(var a;a=Ra();){try{a.a.call(a.b)}catch(Be){bc(Be)}var c=ge;c.f(a);100>c.b&&(c.b++,a.next=c.a,c.a=a)}pe=!1}function sd(a,c){ra.call(this);this.b=a||1;this.a=c||xa;this.f=U(this.gb,this);this.g=Tb()}function Eb(a){a.ba=
!1;a.L&&(a.a.clearTimeout(a.L),a.L=null)}function Pa(a,c,e){if("function"==R(a))e&&(a=U(a,e));else if(a&&"function"==typeof a.handleEvent)a=U(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:xa.setTimeout(a,c||0)}function cc(a,c,e){Q.call(this);this.f=null!=e?U(a,e):a;this.c=c;this.b=U(this.ab,this);this.a=[]}function nc(a){a.U=Pa(a.b,a.c);a.f.apply(null,a.a)}function Sa(a){Q.call(this);this.b=a;this.a={}}function Ya(a,c,e,h){w(e)||(e&&(Qd[0]=e.toString()),
e=Qd);for(var f=0;f<e.length;f++){var v=Ca(c,e[f],h||a.handleEvent,!1,a.b||a);if(!v)break;a.a[v.key]=v}}function ja(a){Ja(a.a,function(a,c){this.a.hasOwnProperty(c)&&K(a)},a);a.a={}}function Pb(){}function Yb(a){Z.call(this,"serverreachability",a)}function Rc(a){qe.dispatchEvent(new Yb(qe,a))}function ua(a){Z.call(this,"statevent",a)}function Fa(a){qe.dispatchEvent(new ua(qe,a))}function Sc(a){Z.call(this,"timingevent",a)}function Tc(a,c){if("function"!=R(a))throw Error("Fn must not be null and must be a function");
return xa.setTimeout(function(){a()},c)}function rb(){}function qb(a){var c;(c=a.a)||(c=a.a={});return c}function Aa(){}function Fc(){Z.call(this,"d")}function Za(){Z.call(this,"c")}function Gd(){}function lb(a,c,e){this.g=a;this.W=c;this.V=e||1;this.I=new Sa(this);this.O=Mb;a=Ff?125:void 0;this.P=new sd(a);this.h=null;this.b=!1;this.l=this.D=this.f=this.F=this.v=this.R=this.i=null;this.j=[];this.a=null;this.A=0;this.c=this.w=null;this.o=-1;this.m=!1;this.J=0;this.B=null;this.s=this.S=this.H=!1}function Jb(a,
c,e){a.F=1;a.f=ud(D(c));a.l=e;a.H=!0;oc(a,null)}function Uc(a,c,e,h){a.F=1;a.f=ud(D(c));a.l=null;a.H=e;oc(a,h)}function oc(a,c){a.v=Tb();Gc(a);a.D=D(a.f);bb(a.D,"t",a.V);a.A=0;a.a=a.g.$(a.g.Y()?c:null);0<a.J&&(a.B=new cc(U(a.Ka,a,a.a),a.J));Ya(a.I,a.a,"readystatechange",a.eb);c=a.h?sa(a.h):{};a.l?(a.w||(a.w="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.a.ca(a.D,a.w,a.l,c)):(a.w="GET",a.a.ca(a.D,a.w,null,c));Rc(1)}function uc(a,c,e){for(var h=!0;!a.m&&a.A<e.length;){var f=$a(a,e);
if(f==pb){4==c&&(a.c=4,Fa(14),h=!1);break}else if(f==Rd){a.c=4;Fa(15);h=!1;break}else hd(a,f)}4==c&&0==e.length&&(a.c=1,Fa(16),h=!1);a.b=a.b&&h;h||(Ic(a),Hc(a))}function $a(a,c){var e=a.A,h=c.indexOf("\n",e);if(-1==h)return pb;e=Number(c.substring(e,h));if(isNaN(e))return Rd;h+=1;if(h+e>c.length)return pb;c=c.substr(h,e);a.A=h+e;return c}function Gc(a){a.R=Tb()+a.O;Zb(a,a.O)}function Zb(a,c){if(null!=a.i)throw Error("WatchDog timer not null");a.i=Tc(U(a.bb,a),c)}function ya(a){a.i&&(xa.clearTimeout(a.i),
a.i=null)}function Hc(a){a.g.Da()||a.m||a.g.na(a)}function Ic(a){ya(a);var c=a.B;c&&"function"==typeof c.la&&c.la();a.B=null;Eb(a.P);ja(a.I);a.a&&(c=a.a,a.a=null,c.abort(),c.la())}function hd(a,c){try{a.g.Ga(a,c),Rc(4)}catch(Be){}}function Va(c){if(c.C&&"function"==typeof c.C)return c.C();if(a(c))return c.split("");if(k(c)){for(var e=[],h=c.length,f=0;f<h;f++)e.push(c[f]);return e}e=[];h=0;for(f in c)e[h++]=c[f];return e}function Ea(c,e){if(c.forEach&&"function"==typeof c.forEach)c.forEach(e,void 0);
else if(k(c)||a(c))Nc(c,e,void 0);else{if(c.K&&"function"==typeof c.K)var h=c.K();else if(c.C&&"function"==typeof c.C)h=void 0;else if(k(c)||a(c)){h=[];for(var f=c.length,v=0;v<f;v++)h.push(v)}else for(v in h=[],f=0,c)h[f++]=v;f=Va(c);v=f.length;for(var m=0;m<v;m++)e.call(void 0,f[m],h&&h[m],c)}}function r(a,c){this.b={};this.a=[];this.c=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var h=0;h<e;h+=2)this.set(arguments[h],arguments[h+1])}else if(a)if(a instanceof
r)for(e=a.K(),h=0;h<e.length;h++)this.set(e[h],a.get(e[h]));else for(h in a)this.set(h,a[h])}function $b(a){a.b={};a.a.length=0;a.c=0}function id(a,c){ab(a.b,c)&&(delete a.b[c],a.c--,a.a.length>2*a.c&&Vc(a))}function Vc(a){if(a.c!=a.a.length){for(var c=0,e=0;c<a.a.length;){var h=a.a[c];ab(a.b,h)&&(a.a[e++]=h);c++}a.a.length=e}if(a.c!=a.a.length){var f={};for(e=c=0;c<a.a.length;)h=a.a[c],ab(f,h)||(a.a[e++]=h,f[h]=1),c++;a.a.length=e}}function ab(a,c){return Object.prototype.hasOwnProperty.call(a,c)}
function wb(a,c){if(a){a=a.split("\x26");for(var e=0;e<a.length;e++){var h=a[e].indexOf("\x3d"),f=null;if(0<=h){var v=a[e].substring(0,h);f=a[e].substring(h+1)}else v=a[e];c(v,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}function Bb(a,c){this.b=this.j=this.f="";this.i=null;this.g=this.a="";this.h=!1;var e;a instanceof Bb?(this.h=void 0!==c?c:a.h,M(this,a.f),this.j=a.j,td(this,a.b),pc(this,a.i),this.a=a.a,jd(this,sb(a.c)),this.g=a.g):a&&(e=String(a).match(Pc))?(this.h=!!c,M(this,e[1]||"",!0),this.j=
Oa(e[2]||""),td(this,e[3]||"",!0),pc(this,e[4]),this.a=Oa(e[5]||"",!0),jd(this,e[6]||"",!0),this.g=Oa(e[7]||"")):(this.h=!!c,this.c=new ia(null,this.h))}function D(a){return new Bb(a)}function M(a,c,e){a.f=e?Oa(c,!0):c;a.f&&(a.f=a.f.replace(/:$/,""))}function td(a,c,e){a.b=e?Oa(c,!0):c}function pc(a,c){if(c){c=Number(c);if(isNaN(c)||0>c)throw Error("Bad port number "+c);a.i=c}else a.i=null}function jd(a,c,e){c instanceof ia?(a.c=c,vd(a.c,a.h)):(e||(c=ac(c,Td)),a.c=new ia(c,a.h))}function Ia(a,c,e){a.c.set(c,
e)}function bb(a,c,e){w(e)||(e=[String(e)]);vc(a.c,c,e)}function ud(a){Ia(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Tb()).toString(36));return a}function Xd(a){return a instanceof Bb?D(a):new Bb(a,void 0)}function Qa(a,c,e,h){var f=new Bb(null,void 0);a&&M(f,a);c&&td(f,c);e&&pc(f,e);h&&(f.a=h);return f}function Oa(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ac(c,e,h){return a(c)?(c=encodeURI(c).replace(e,
xb),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}function ia(a,c){this.b=this.a=null;this.c=a||null;this.f=!!c}function Qb(a){a.a||(a.a=new r,a.b=0,a.c&&wb(a.c,function(c,e){a.add(decodeURIComponent(c.replace(/\+/g," ")),e)}))}function da(a,c){Qb(a);c=eb(a,c);ab(a.a.b,c)&&(a.c=null,a.b-=a.a.get(c).length,id(a.a,c))}function cb(a,c){Qb(a);c=eb(a,c);return ab(a.a.b,c)}function vc(a,c,e){da(a,c);0<e.length&&
(a.c=null,a.a.set(eb(a,c),ca(e)),a.b+=e.length)}function sb(a){var c=new ia;c.c=a.c;a.a&&(c.a=new r(a.a),c.b=a.b);return c}function eb(a,c){c=String(c);a.f&&(c=c.toLowerCase());return c}function vd(a,c){c&&!a.f&&(Qb(a),a.c=null,a.a.forEach(function(a,c){var e=c.toLowerCase();c!=e&&(da(this,c),vc(this,e,a))},a));a.f=c}function me(){this.a=Tb()}function Fb(){tc||(tc=new me)}function Yd(a){this.a=a;this.b=this.h=null;this.g=!1;this.i=null;this.c=-1;this.l=this.f=null}function ec(a){var c=a.a.F.a;if(null!=
c)Fa(4),c?(Fa(10),Vb(a.a,a,!1)):(Fa(11),Vb(a.a,a,!0));else{a.b=new lb(a,void 0,void 0);a.b.h=a.h;c=a.a;c=X(c,c.Y()?a.f:null,a.i);Fa(4);bb(c,"TYPE","xmlhttp");var e=a.a.j,h=a.a.I;e&&h&&Ia(c,e,h);Uc(a.b,c,!1,a.f)}}function wc(){this.a=this.b=null}function fb(){this.a=new r}function Rb(a){var c=typeof a;return"object"==c&&a||"function"==c?"o"+(a[ce]||(a[ce]=++Da)):c.charAt(0)+a}function kd(a,c){this.b=a;this.a=c}function Gb(a){this.g=a||ob;xa.PerformanceNavigationTiming?(a=xa.performance.getEntriesByType("navigation"),
a=0<a.length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol)):a=!!(xa.ka&&xa.ka.Ea&&xa.ka.Ea()&&xa.ka.Ea().zb);this.f=a?this.g:1;this.a=null;1<this.f&&(this.a=new fb);this.b=null;this.c=[]}function Hb(a,c){!a.a&&(V(c,"spdy")||V(c,"quic")||V(c,"h2"))&&(a.f=a.g,a.a=new fb,a.b&&(xc(a,a.b),a.b=null))}function Hd(a){return a.b?!0:a.a?a.a.a.c>=a.f:!1}function Id(a){return a.b?1:a.a?a.a.a.c:0}function ld(a,c){a.b?a=a.b==c:a.a?(c=Rb(c),a=ab(a.a.a.b,c)):a=!1;return a}function xc(a,c){a.a?a.a.add(c):
a.b=c}function Wc(a,c){if(a.b&&a.b==c)a.b=null;else{var e;if(e=a.a)e=Rb(c),e=ab(a.a.a.b,e);e&&id(a.a.a,Rb(c))}}function Zd(a){if(null!=a.b)return a.c.concat(a.b.j);if(null!=a.a&&0!=a.a.a.c){var c=a.c;Nc(a.a.C(),function(a){c=c.concat(a.j)});return c}return ca(a.c)}function md(){}function yc(){this.a=new md}function Jc(a,c,h){var f=h||"";try{Ea(a,function(a,h){var k=a;e(a)&&(k=dg(a));c.push(f+h+"\x3d"+encodeURIComponent(k))})}catch(rd){throw c.push(f+"type\x3d"+encodeURIComponent("_badmap")),rd;}}
function af(a,c){var e=new Pb;if(xa.Image){var h=new Image;h.onload=J(bf,e,h,"TestLoadImage: loaded",!0,c);h.onerror=J(bf,e,h,"TestLoadImage: error",!1,c);h.onabort=J(bf,e,h,"TestLoadImage: abort",!1,c);h.ontimeout=J(bf,e,h,"TestLoadImage: timeout",!1,c);xa.setTimeout(function(){if(h.ontimeout)h.ontimeout()},1E4);h.src=a}else c(!1)}function bf(a,c,e,h,f){try{c.onload=null,c.onerror=null,c.onabort=null,c.ontimeout=null,f(h)}catch(Ae){}}function Xa(a){ra.call(this);this.headers=new r;this.H=a||null;
this.b=!1;this.s=this.a=null;this.A="";this.h=0;this.f="";this.g=this.w=this.l=this.v=!1;this.o=0;this.m=null;this.I=Ve;this.D=this.F=!1}function xd(a){return ee&&O(9)&&f(a.timeout)&&void 0!==a.ontimeout}function qc(a){return"content-type"==a.toLowerCase()}function Ma(a,c){a.b=!1;a.a&&(a.g=!0,a.a.abort(),a.g=!1);a.f=c;a.h=5;Xc(a);fc(a)}function Xc(a){a.v||(a.v=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function Jd(a){if(a.b&&"undefined"!=typeof ef&&(!a.s[1]||4!=Yc(a)||2!=a.T()))if(a.l&&
4==Yc(a))Pa(a.Fa,0,a);else if(a.dispatchEvent("readystatechange"),4==Yc(a)){a.b=!1;try{var c=a.T();a:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break a;default:e=!1}var h;if(!(h=e)){var f;if(f=0===c){var k=String(a.A).match(Pc)[1]||null;if(!k&&xa.self&&xa.self.location){var m=xa.self.location.protocol;k=m.substr(0,m.length-1)}f=!ic.test(k?k.toLowerCase():"")}h=f}h?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.h=6,a.f=a.za()+" ["+a.T()+"]",Xc(a))}finally{fc(a)}}}
function fc(a,c){if(a.a){Cb(a);var e=a.a,h=a.s[0]?C:null;a.a=null;a.s=null;c||a.dispatchEvent("ready");try{e.onreadystatechange=h}catch(rd){}}}function Cb(a){a.a&&a.D&&(a.a.ontimeout=null);a.m&&(xa.clearTimeout(a.m),a.m=null)}function Yc(a){return a.a?a.a.readyState:0}function gb(a,c){return a.a?a.a.getResponseHeader(c):null}function $d(a){var c="";Ja(a,function(a,e){c+=e;c+=":";c+=a;c+="\r\n"});return c}function Kb(c,e,h){a:{for(f in h){var f=!1;break a}f=!0}if(f)return c;h=$d(h);if(a(c)){e=encodeURIComponent(String(e));
h=null!=h?"\x3d"+encodeURIComponent(String(h)):"";if(e+=h){h=c.indexOf("#");0>h&&(h=c.length);f=c.indexOf("?");if(0>f||f>h){f=h;var k=""}else k=c.substring(f+1,h);c=[c.substr(0,f),k,c.substr(h)];h=c[1];c[1]=e?h?h+"\x26"+e:e:h;c=c[0]+(c[1]?"?"+c[1]:"")+c[2]}return c}Ia(c,e,h);return c}function hb(a){this.f=[];this.F=new wc;this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null;this.Ra=this.P=0;this.Pa=!!n("internalChannelParams.failFast",a);this.ia=this.w=this.s=this.l=
this.h=this.c=null;this.oa=!0;this.m=this.ra=this.O=-1;this.S=this.v=this.A=0;this.Oa=n("internalChannelParams.baseRetryDelayMs",a)||5E3;this.Sa=n("internalChannelParams.retryDelaySeedMs",a)||1E4;this.Qa=n("internalChannelParams.forwardChannelMaxRetries",a)||2;this.qa=n("internalChannelParams.forwardChannelRequestTimeoutMs",a)||2E4;this.La=a&&a.Ab||void 0;this.D=void 0;this.R=a&&a.supportsCrossDomainXhr||!1;this.H="";this.b=new Gb(a&&a.concurrentRequestLimit);this.ja=new yc;this.o=a&&void 0!==a.backgroundChannelTest?
a.backgroundChannelTest:!0;(this.W=a&&a.fastHandshake||!1)&&!this.o&&(this.o=!0);a&&a.forceLongPolling&&(this.oa=!1);this.fa=void 0}function mb(a){Kd(a);if(3==a.u){var c=a.P++,e=D(a.B);Ia(e,"SID",a.H);Ia(e,"RID",c);Ia(e,"TYPE","terminate");Lb(a,e);c=new lb(a,c,void 0);c.F=2;c.f=ud(D(e));e=!1;xa.navigator&&xa.navigator.sendBeacon&&(e=xa.navigator.sendBeacon(c.f.toString(),""));!e&&xa.Image&&((new Image).src=c.f,e=!0);e||(c.a=c.g.$(null),c.a.ca(c.f));c.v=Tb();Gc(c)}t(a)}function Kd(a){a.w&&(a.w.abort(),
a.w=null);a.a&&(a.a.cancel(),a.a=null);a.l&&(xa.clearTimeout(a.l),a.l=null);m(a);a.b.cancel();a.h&&(f(a.h)&&xa.clearTimeout(a.h),a.h=null)}function tb(a,c){a.f.push(new kd(a.Ra++,c));3==a.u&&ib(a)}function ib(a){if(!Hd(a.b)&&!a.h){a.h=!0;var c=a.Ia;Oc||Ec();pe||(Oc(),pe=!0);eg.add(c,a);a.A=0}}function Zc(a,e){if(Id(a.b)>=a.b.f-(a.h?1:0))return!1;if(a.h)return a.f=e.j.concat(a.f),!0;if(1==a.u||2==a.u||a.A>=(a.Pa?0:a.Qa))return!1;a.h=Tc(U(a.Ia,a,e),c(a,a.A));a.A++;return!0}function Db(a,c){var e;c?
e=c.W:e=a.P++;var h=D(a.B);Ia(h,"SID",a.H);Ia(h,"RID",e);Ia(h,"AID",a.O);Lb(a,h);a.g&&a.i&&Kb(h,a.g,a.i);e=new lb(a,e,a.A+1);null===a.g&&(e.h=a.i);c&&(a.f=c.j.concat(a.f));c=Md(a,e,1E3);e.setTimeout(Math.round(.5*a.qa)+Math.round(.5*a.qa*Math.random()));xc(a.b,e);Jb(e,h,c)}function Lb(a,c){a.c&&Ea({},function(a,e){Ia(c,e,a)})}function Md(a,c,e){e=Math.min(a.f.length,e);var h=a.c?U(a.c.Ta,a.c,a):null,f=a.f,k=-1;a:for(;;){var m=["count\x3d"+e];-1==k?0<e?(k=f[0].b,m.push("ofs\x3d"+k)):k=0:m.push("ofs\x3d"+
k);for(var r=!0,n=0;n<e;n++){var v=f[n].b,p=f[n].a;v-=k;if(0>v)k=Math.max(0,f[n].b-100),r=!1;else try{Jc(p,m,"req"+v+"_")}catch(Sd){h&&h(p)}}if(r){h=m.join("\x26");break a}}a=a.f.splice(0,e);c.j=a;return h}function yb(a){if(!a.a&&!a.l){a.S=1;var c=a.Ha;Oc||Ec();pe||(Oc(),pe=!0);eg.add(c,a);a.v=0}}function rc(a){if(a.a||a.l||3<=a.v)return!1;a.S++;a.l=Tc(U(a.Ha,a),c(a,a.v));a.v++;return!0}function Vb(a,c,e){var h=c.l;h&&Hb(a.b,h);a.ia=a.oa&&e;a.m=c.c;a.B=X(a,null,a.ha);ib(a)}function m(a){null!=a.s&&
(xa.clearTimeout(a.s),a.s=null)}function c(a,c){var e=a.Oa+Math.floor(Math.random()*a.Sa);a.ma()||(e*=2);return e*c}function h(a,c){if(2==c){var e=null;a.c&&(e=null);var h=U(a.fb,a);e||(e=new Bb("//www.google.com/images/cleardot.gif"),xa.location&&"http"==xa.location.protocol||M(e,"https"),ud(e));af(e.toString(),h)}else Fa(2);a.u=0;a.c&&a.c.ta(c);t(a);Kd(a)}function t(a){a.u=0;a.m=-1;if(a.c){if(0!=Zd(a.b).length||0!=a.f.length)a.b.c.length=0,ca(a.f),a.f.length=0;a.c.sa()}}function X(a,c,e){var h=
Xd(e);if(""!=h.b)c&&td(h,c+"."+h.b),pc(h,h.i);else{var f=xa.location,k;c?k=c+"."+f.hostname:k=f.hostname;h=Qa(f.protocol,k,+f.port,e)}a.V&&Ja(a.V,function(a,c){Ia(h,c,a)});c=a.j;e=a.I;c&&e&&Ia(h,c,e);Ia(h,"VER",a.wa);Lb(a,h);return h}function Kc(){}function bd(a){for(var c=arguments[0],e=1;e<arguments.length;e++){var h=arguments[e];if(0==h.lastIndexOf("/",0))c=h;else{var f;(f=""==c)||(f=c.length-1,f=0<=f&&c.indexOf("/",f)==f);f?c+=h:c+="/"+h}}return c}function Lc(){if(ee&&!(10<=Number(zc)))throw Error("Environmental error: no available transport.");
}function Ba(a,c){ra.call(this);this.a=new hb(c);this.g=a;this.m=c&&c.testUrl?c.testUrl:bd(this.g,"test");this.b=c&&c.messageUrlParams||null;a=c&&c.messageHeaders||null;c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"});this.a.i=a;a=c&&c.initMessageHeaders||null;c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType});c&&c.xa&&(a?a["X-WebChannel-Client-Profile"]=
c.xa:a={"X-WebChannel-Client-Profile":c.xa});this.a.J=a;(a=c&&c.httpHeadersOverwriteParam)&&!Y(a)&&(this.a.g=a);this.l=c&&c.supportsCrossDomainXhr||!1;this.h=c&&c.sendRawJson||!1;(c=c&&c.httpSessionIdParam)&&!Y(c)&&(this.a.j=c,a=this.b,null!==a&&c in a&&(a=this.b,c in a&&delete a[c]));this.f=new be(this)}function Sb(a){Fc.call(this);var c=a.__sm__;if(c){a:{for(var e in c){a=e;break a}a=void 0}(this.c=a)?(a=this.c,this.data=null!==c&&a in c?c[a]:void 0):this.data=c}else this.data=a}function Mc(){Za.call(this);
this.status=1}function be(a){this.a=a}var ef=ef||{},xa=this,ce="closure_uid_"+(1E9*Math.random()>>>0),Da=0,Tb=Date.now||function(){return+new Date},ff=0,gf={};Q.prototype.j=!1;Q.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0!=ff)){var a=this[ce]||(this[ce]=++Da);if(0!=ff&&this.i&&0<this.i.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete gf[a]}};Q.prototype.G=
function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Df=Array.prototype.indexOf?function(a,c){return Array.prototype.indexOf.call(a,c,void 0)}:function(c,e){if(a(c))return a(e)&&1==e.length?c.indexOf(e,0):-1;for(var h=0;h<c.length;h++)if(h in c&&c[h]===e)return h;return-1},Nc=Array.prototype.forEach?function(a,c,e){Array.prototype.forEach.call(a,c,e)}:function(c,e,h){for(var f=c.length,k=a(c)?c.split(""):c,m=0;m<f;m++)m in k&&e.call(h,k[m],m,c)},na=String.prototype.trim?function(a){return a.trim()}:
function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};a:{var gc=xa.navigator;if(gc){var nb=gc.userAgent;if(nb){var hc=nb;break a}}hc=""}var $f="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");F[" "]=C;var Ef=V(hc,"Opera"),ee=V(hc,"Trident")||V(hc,"MSIE"),I=V(hc,"Edge"),Ff=I||ee,hf=V(hc,"Gecko")&&!(V(hc.toLowerCase(),"webkit")&&!V(hc,"Edge"))&&!(V(hc,"Trident")||V(hc,"MSIE"))&&!V(hc,"Edge"),Pd=V(hc.toLowerCase(),"webkit")&&!V(hc,"Edge");
a:{var Fg="",ag=function(){var a=hc;if(hf)return/rv:([^\);]+)(\)|;)/.exec(a);if(I)return/Edge\/([\d\.]+)/.exec(a);if(ee)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Pd)return/WebKit\/(\S+)/.exec(a);if(Ef)return/(?:Version)[ \/]?(\S+)/.exec(a)}();ag&&(Fg=ag?ag[1]:"");if(ee){var Gf=N();if(null!=Gf&&Gf>parseFloat(Fg)){var xe=String(Gf);break a}}xe=Fg}var Ub={},fe=xa.document;var zc=fe&&ee?N()||("CSS1Compat"==fe.compatMode?parseInt(xe,10):5):void 0;var dd=!ee||9<=Number(zc),kf=ee&&!O("9"),nd=function(){if(!xa.addEventListener||
!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{xa.addEventListener("test",C,c),xa.removeEventListener("test",C,c)}catch(Be){}return a}();Z.prototype.b=function(){this.Ja=!1};E(qa,Z);var cg={2:"touch",3:"pen",4:"mouse"};qa.prototype.b=function(){qa.N.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,kf)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(kc){}};var L="closure_listenable_"+
(1E6*Math.random()|0),Hg=0;ka.prototype.add=function(a,c,e,h,f){var k=a.toString();(a=this.a[k])||(a=this.a[k]=[],this.b++);var m=pa(a,c,h,f);-1<m?(c=a[m],e||(c.Z=!1)):(c=new Na(c,this.src,k,!!h,f),c.Z=e,a.push(c));return c};var Ld="closure_lm_"+(1E6*Math.random()|0),Se={},oe=0,lf="__closure_events_fn_"+(1E9*Math.random()>>>0);E(ra,Q);ra.prototype[L]=!0;var aa=ra.prototype;aa.addEventListener=function(a,c,e,h){Ca(this,a,c,e,h)};aa.removeEventListener=function(a,c,e,h){Ua(this,a,c,e,h)};aa.dispatchEvent=
function(c){var e,h=this.B;if(h)for(e=[];h;h=h.B)e.push(h);h=this.J;var f=c.type||c;if(a(c))c=new Z(c,h);else if(c instanceof Z)c.target=c.target||h;else{var k=c;c=new Z(f,h);W(c,k)}k=!0;if(e)for(var m=e.length-1;0<=m;m--){var r=c.a=e[m];k=Ka(r,f,!0,c)&&k}r=c.a=h;k=Ka(r,f,!0,c)&&k;k=Ka(r,f,!1,c)&&k;if(e)for(m=0;m<e.length;m++)r=c.a=e[m],k=Ka(r,f,!1,c)&&k;return k};aa.G=function(){ra.N.G.call(this);if(this.c){var a=this.c,c=0,e;for(e in a.a){for(var h=a.a[e],f=0;f<h.length;f++)++c,ba(h[f]);delete a.a[e];
a.b--}}this.B=null};aa.Aa=function(a,c,e,h){return this.c.add(String(a),c,!1,e,h)};aa.Ba=function(a,c,e,h){return this.c.add(String(a),c,!0,e,h)};var dg=xa.JSON.stringify;ha.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next;a.next=null}else a=this.c();return a};var ge=new ha(function(){return new vb},function(a){a.reset()});oa.prototype.add=function(a,c){var e=ge.get();e.set(a,c);this.b?this.b.next=e:this.a=e;this.b=e};vb.prototype.set=function(a,c){this.a=a;this.b=c;this.next=
null};vb.prototype.reset=function(){this.next=this.b=this.a=null};var Oc,pe=!1,eg=new oa;E(sd,ra);aa=sd.prototype;aa.ba=!1;aa.L=null;aa.gb=function(){if(this.ba){var a=Tb()-this.g;0<a&&a<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-a):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Eb(this),this.start()))}};aa.start=function(){this.ba=!0;this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=Tb())};aa.G=function(){sd.N.G.call(this);Eb(this);delete this.a};
E(cc,Q);aa=cc.prototype;aa.ea=!1;aa.U=null;aa.Ua=function(a){this.a=arguments;this.U?this.ea=!0:nc(this)};aa.G=function(){cc.N.G.call(this);this.U&&(xa.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])};aa.ab=function(){this.U=null;this.ea&&(this.ea=!1,nc(this))};E(Sa,Q);var Qd=[];Sa.prototype.G=function(){Sa.N.G.call(this);ja(this)};Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var qe=new ra;E(Yb,Z);E(ua,Z);E(Sc,Z);var Te={NO_ERROR:0,hb:1,ob:2,
nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},pd={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};rb.prototype.a=null;var Ue={OPEN:"a",ib:"b",Na:"c",rb:"d"};E(Fc,Z);E(Za,Z);E(Gd,rb);var qd=new Gd;var Mb=45E3,Rd={},pb={};aa=lb.prototype;aa.setTimeout=function(a){this.O=a};aa.eb=function(a){a=a.target;var c=this.B;c&&3==Yc(a)?c.Ua():this.Ka(a)};aa.Ka=function(a){try{if(a==this.a)a:{var c=
Yc(this.a),e=this.a.ya(),h=this.a.T();if(!(3>c||3==c&&!Ff&&!this.a.aa())){this.m||4!=c||7==e||(8==e||0>=h?Rc(3):Rc(2));ya(this);var f=this.a.T();this.o=f;var k=this.a.aa();if(this.b=200==f){if(this.S&&!this.s){b:{if(this.a){var m=gb(this.a,"X-HTTP-Initial-Response");if(m&&!Y(m)){var r=m;break b}}r=null}if(r)this.s=!0,hd(this,r);else{this.b=!1;this.c=3;Fa(12);Ic(this);Hc(this);break a}}this.H?(uc(this,c,k),Ff&&this.b&&3==c&&(Ya(this.I,this.P,"tick",this.cb),this.P.start())):hd(this,k);4==c&&Ic(this);
this.b&&!this.m&&(4==c?this.g.na(this):(this.b=!1,Gc(this)))}else 400==f&&0<k.indexOf("Unknown SID")?(this.c=3,Fa(12)):(this.c=0,Fa(13)),Ic(this),Hc(this)}}}catch(te){}finally{}};aa.cb=function(){if(this.a){var a=Yc(this.a),c=this.a.aa();this.A<c.length&&(ya(this),uc(this,a,c),this.b&&4!=a&&Gc(this))}};aa.cancel=function(){this.m=!0;Ic(this)};aa.bb=function(){this.i=null;var a=Tb();0<=a-this.R?(2!=this.F&&(Rc(3),Fa(17)),Ic(this),this.c=2,Hc(this)):Zb(this,this.R-a)};aa=r.prototype;aa.C=function(){Vc(this);
for(var a=[],c=0;c<this.a.length;c++)a.push(this.b[this.a[c]]);return a};aa.K=function(){Vc(this);return this.a.concat()};aa.get=function(a,c){return ab(this.b,a)?this.b[a]:c};aa.set=function(a,c){ab(this.b,a)||(this.c++,this.a.push(a));this.b[a]=c};aa.forEach=function(a,c){for(var e=this.K(),h=0;h<e.length;h++){var f=e[h],k=this.get(f);a.call(c,k,f,this)}};var Pc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Bb.prototype.toString=
function(){var a=[],c=this.f;c&&a.push(ac(c,ze,!0),":");var e=this.b;if(e||"file"==c)a.push("//"),(c=this.j)&&a.push(ac(c,ze,!0),"@"),a.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e=this.i,null!=e&&a.push(":",String(e));if(e=this.a)this.b&&"/"!=e.charAt(0)&&a.push("/"),a.push(ac(e,"/"==e.charAt(0)?fd:Pe,!0));(e=this.c.toString())&&a.push("?",e);(e=this.g)&&a.push("#",ac(e,sc));return a.join("")};Bb.prototype.resolve=function(a){var c=D(this),e=!!a.f;e?M(c,a.f):e=!!a.j;
e?c.j=a.j:e=!!a.b;e?td(c,a.b):e=null!=a.i;var h=a.a;if(e)pc(c,a.i);else if(e=!!a.a){if("/"!=h.charAt(0))if(this.b&&!this.a)h="/"+h;else{var f=c.a.lastIndexOf("/");-1!=f&&(h=c.a.substr(0,f+1)+h)}f=h;if(".."==f||"."==f)h="";else if(V(f,"./")||V(f,"/.")){h=0==f.lastIndexOf("/",0);f=f.split("/");for(var k=[],m=0;m<f.length;){var r=f[m++];"."==r?h&&m==f.length&&k.push(""):".."==r?((1<k.length||1==k.length&&""!=k[0])&&k.pop(),h&&m==f.length&&k.push("")):(k.push(r),h=!0)}h=k.join("/")}else h=f}e?c.a=h:e=
""!==a.c.toString();e?jd(c,sb(a.c)):e=!!a.g;e&&(c.g=a.g);return c};var ze=/[#\/\?@]/g,Pe=/[#\?:]/g,fd=/[#\?]/g,Td=/[#\?@]/g,sc=/#/g;aa=ia.prototype;aa.add=function(a,c){Qb(this);this.c=null;a=eb(this,a);var e=this.a.get(a);e||this.a.set(a,e=[]);e.push(c);this.b+=1;return this};aa.forEach=function(a,c){Qb(this);this.a.forEach(function(e,h){Nc(e,function(e){a.call(c,e,h,this)},this)},this)};aa.K=function(){Qb(this);for(var a=this.a.C(),c=this.a.K(),e=[],h=0;h<c.length;h++)for(var f=a[h],k=0;k<f.length;k++)e.push(c[h]);
return e};aa.C=function(c){Qb(this);var e=[];if(a(c))cb(this,c)&&(e=H(e,this.a.get(eb(this,c))));else{c=this.a.C();for(var h=0;h<c.length;h++)e=H(e,c[h])}return e};aa.set=function(a,c){Qb(this);this.c=null;a=eb(this,a);cb(this,a)&&(this.b-=this.a.get(a).length);this.a.set(a,[c]);this.b+=1;return this};aa.get=function(a,c){if(!a)return c;a=this.C(a);return 0<a.length?String(a[0]):c};aa.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],c=this.a.K(),e=0;e<c.length;e++){var h=
c[e],f=encodeURIComponent(String(h));h=this.C(h);for(var k=0;k<h.length;k++){var m=f;""!==h[k]&&(m+="\x3d"+encodeURIComponent(String(h[k])));a.push(m)}}return this.c=a.join("\x26")};var tc=null;me.prototype.set=function(a){this.a=a};me.prototype.reset=function(){this.set(Tb())};me.prototype.get=function(){return this.a};E(Fb,function(){tc||(tc=new me)});aa=Yd.prototype;aa.M=null;aa.$=function(a){return this.a.$(a)};aa.abort=function(){this.b&&(this.b.cancel(),this.b=null);this.c=-1};aa.Da=function(){return!1};
aa.Ga=function(a,c){this.c=a.o;if(0==this.M){if(!this.a.o&&(a=a.a)){var e=gb(a,"X-Client-Wire-Protocol");this.l=e?e:null;this.a.j&&(a=gb(a,"X-HTTP-Session-Id"))&&(this.a.I=a)}if(c){try{var f=this.a.ja.a.parse(c)}catch(rd){c=this.a;c.m=this.c;h(c,2);return}this.f=f[0]}else c=this.a,c.m=this.c,h(c,2)}else if(1==this.M)if(this.g)Fa(6);else if("11111"==c){if(Fa(5),this.g=!0,!ee||10<=Number(zc))this.c=200,this.b.cancel(),Fa(11),Vb(this.a,this,!0)}else Fa(7),this.g=!1};aa.na=function(){this.c=this.b.o;
if(this.b.b)0==this.M?(this.M=1,ec(this)):1==this.M&&(this.g?(Fa(11),Vb(this.a,this,!0)):(Fa(10),Vb(this.a,this,!1)));else{0==this.M?Fa(8):1==this.M&&Fa(9);var a=this.a;a.m=this.c;h(a,2)}};aa.Y=function(){return this.a.Y()};aa.ma=function(){return this.a.ma()};fb.prototype.add=function(a){this.a.set(Rb(a),a)};fb.prototype.C=function(){return this.a.C()};var ob=10;Gb.prototype.cancel=function(){this.c=Zd(this);this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(Nc(this.a.C(),function(a){a.cancel()}),
$b(this.a.a))};md.prototype.stringify=function(a){return xa.JSON.stringify(a,void 0)};md.prototype.parse=function(a){return xa.JSON.parse(a,void 0)};var Ad=xa.JSON.parse;E(Xa,ra);var Ve="",ic=/^https?$/i,gg=["POST","PUT"];aa=Xa.prototype;aa.ca=function(a,c,e,h){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.A+"; newUri\x3d"+a);c=c?c.toUpperCase():"GET";this.A=a;this.f="";this.h=0;this.v=!1;this.b=!0;this.a=new XMLHttpRequest;this.s=this.H?qb(this.H):qb(qd);
this.a.onreadystatechange=U(this.Fa,this);try{this.w=!0,this.a.open(c,String(a),!0),this.w=!1}catch(Ae){Ma(this,Ae);return}a=e||"";var f=new r(this.headers);h&&Ea(h,function(a,c){f.set(c,a)});h=G(f.K());e=xa.FormData&&a instanceof xa.FormData;!(0<=Df(gg,c))||h||e||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,c){this.a.setRequestHeader(c,a)},this);this.I&&(this.a.responseType=this.I);"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=
this.F);try{Cb(this),0<this.o&&((this.D=xd(this.a))?(this.a.timeout=this.o,this.a.ontimeout=U(this.Ca,this)):this.m=Pa(this.Ca,this.o,this)),this.l=!0,this.a.send(a),this.l=!1}catch(Ae){Ma(this,Ae)}};aa.Ca=function(){"undefined"!=typeof ef&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))};aa.abort=function(a){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),
fc(this))};aa.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),fc(this,!0));Xa.N.G.call(this)};aa.Fa=function(){this.j||(this.w||this.l||this.g?Jd(this):this.$a())};aa.$a=function(){Jd(this)};aa.T=function(){try{return 2<Yc(this)?this.a.status:-1}catch(v){return-1}};aa.za=function(){try{return 2<Yc(this)?this.a.statusText:""}catch(v){return""}};aa.aa=function(){try{return this.a?this.a.responseText:""}catch(v){return""}};aa.Va=function(a){if(this.a){var c=this.a.responseText;
a&&0==c.indexOf(a)&&(c=c.substring(a.length));return Ad(c)}};aa.ya=function(){return this.h};aa.Ya=function(){return a(this.f)?this.f:String(this.f)};aa=hb.prototype;aa.wa=8;aa.u=1;aa.Da=function(){return 0==this.u};aa.Ia=function(c){if(this.h)if(this.h=null,1==this.u){if(!c){this.P=Math.floor(1E5*Math.random());c=this.P++;var e=new lb(this,c,void 0),h=this.i;this.J&&(h?(h=sa(h),W(h,this.J)):h=this.J);null===this.g&&(e.h=h);var f;if(this.W)a:{for(var k=f=0;k<this.f.length;k++){var m=this.f[k];m="__data__"in
m.a&&(m=m.a.__data__,a(m))?m.length:void 0;if(void 0===m)break;f+=m;if(4096<f){f=k;break a}if(4096===f||k===this.f.length-1){f=k+1;break a}}f=1E3}else f=1E3;f=Md(this,e,f);k=D(this.B);Ia(k,"RID",c);Ia(k,"CVER",22);this.o&&this.j&&Ia(k,"X-HTTP-Session-Id",this.j);Lb(this,k);this.g&&h&&Kb(k,this.g,h);xc(this.b,e);this.W?(Ia(k,"$req",f),Ia(k,"SID","null"),e.S=!0,Jb(e,k,null)):Jb(e,k,f);this.u=2}}else 3==this.u&&(c?Db(this,c):0==this.f.length||Hd(this.b)||Db(this))};aa.Ha=function(){this.l=null;this.a=
new lb(this,"rpc",this.S);null===this.g&&(this.a.h=this.i);this.a.J=0;var a=D(this.pa);Ia(a,"RID","rpc");Ia(a,"SID",this.H);Ia(a,"CI",this.ia?"0":"1");Ia(a,"AID",this.O);Lb(this,a);Ia(a,"TYPE","xmlhttp");this.g&&this.i&&Kb(a,this.g,this.i);this.D&&this.a.setTimeout(this.D);Uc(this.a,a,!0,this.ga)};aa.Ga=function(a,c){if(0!=this.u&&(this.a==a||ld(this.b,a)))if(this.m=a.o,!a.s&&ld(this.b,a)&&3==this.u){try{var e=this.ja.a.parse(c)}catch(Ae){e=null}if(w(e)&&3==e.length){c=e;if(0==c[0])a:{if(!this.l){if(this.a)if(this.a.v+
3E3<a.v)m(this),this.a.cancel(),this.a=null;else break a;rc(this);Fa(18)}}else this.ra=c[1],0<this.ra-this.O&&37500>c[2]&&this.ia&&0==this.v&&!this.s&&(this.s=Tc(U(this.Za,this),6E3));if(1>=Id(this.b)&&this.fa){try{this.fa()}catch(Ae){}this.fa=void 0}}else h(this,11)}else if((a.s||this.a==a)&&m(this),!Y(c))for(c=this.ja.a.parse(c),e=0;e<c.length;e++){var k=c[e];this.O=k[0];k=k[1];if(2==this.u)if("c"==k[0]){this.H=k[1];this.ga=k[2];var r=k[3];null!=r&&(this.wa=r);k=k[5];null!=k&&f(k)&&0<k&&(this.D=
1.5*k);this.o&&(k=a.a)&&((r=gb(k,"X-Client-Wire-Protocol"))&&Hb(this.b,r),this.j&&(k=gb(k,"X-HTTP-Session-Id")))&&(this.I=k,Ia(this.B,this.j,k));this.u=3;this.c&&this.c.va();k=a;this.pa=X(this,this.Y()?this.ga:null,this.ha);k.s?(Wc(this.b,k),(r=this.D)&&k.setTimeout(r),k.i&&(ya(k),Gc(k)),this.a=k):yb(this);0<this.f.length&&ib(this)}else"stop"!=k[0]&&"close"!=k[0]||h(this,7);else 3==this.u&&("stop"==k[0]||"close"==k[0]?"stop"==k[0]?h(this,7):mb(this):"noop"!=k[0]&&this.c&&this.c.ua(k),this.v=0)}};
aa.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,rc(this),Fa(19))};aa.na=function(a){var c=null;if(this.a==a){m(this);this.a=null;var e=2}else if(ld(this.b,a))c=a.j,Wc(this.b,a),e=1;else return;this.m=a.o;if(0!=this.u)if(a.b)1==e?(c=Tb()-a.v,qe.dispatchEvent(new Sc(qe,a.l?a.l.length:0,c,this.A)),ib(this)):yb(this);else{var f=a.c;if(3==f||0==f&&0<this.m||!(1==e&&Zc(this,a)||2==e&&rc(this)))switch(c&&0<c.length&&(a=this.b,a.c=a.c.concat(c)),f){case 1:h(this,5);break;case 4:h(this,
10);break;case 3:h(this,6);break;default:h(this,2)}}};aa.fb=function(a){a?Fa(2):Fa(1)};aa.$=function(a){if(a&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");a=new Xa(this.La);a.F=this.R;return a};aa.ma=function(){return!!this.c&&!0};aa.Y=function(){return this.R};new Fb;aa=Kc.prototype;aa.va=function(){};aa.ua=function(){};aa.ta=function(){};aa.sa=function(){};aa.Ta=function(){};Lc.prototype.a=function(a,c){return new Ba(a,c)};E(Ba,ra);aa=Ba.prototype;aa.addEventListener=
function(a,c,e,h){Ba.N.addEventListener.call(this,a,c,e,h)};aa.removeEventListener=function(a,c,e,h){Ba.N.removeEventListener.call(this,a,c,e,h)};aa.Wa=function(){this.a.c=this.f;this.l&&(this.a.R=!0);var a=this.a,c=this.m,e=this.g,h=this.b||void 0;Fa(0);a.ha=e;a.V=h||{};a.o&&(a.F.b=[],a.F.a=!1);a.w=new Yd(a);null===a.g&&(a.w.h=a.i);e=c;a.g&&a.i&&(e=Kb(c,a.g,a.i));a=a.w;a.i=e;c=X(a.a,null,a.i);Fa(3);e=a.a.F.b;null!=e?(a.f=e[0],a.M=1,ec(a)):(bb(c,"MODE","init"),!a.a.o&&a.a.j&&bb(c,"X-HTTP-Session-Id",
a.a.j),a.b=new lb(a,void 0,void 0),a.b.h=a.h,Uc(a.b,c,!1,null),a.M=0)};aa.close=function(){mb(this.a)};aa.Xa=function(c){if(a(c)){var e={};e.__data__=c;tb(this.a,e)}else this.h?(e={},e.__data__=dg(c),tb(this.a,e)):tb(this.a,c)};aa.G=function(){this.a.c=null;delete this.f;mb(this.a);delete this.a;Ba.N.G.call(this)};E(Sb,Fc);E(Mc,Za);E(be,Kc);be.prototype.va=function(){this.a.dispatchEvent("a")};be.prototype.ua=function(a){this.a.dispatchEvent(new Sb(a))};be.prototype.ta=function(a){this.a.dispatchEvent(new Mc(a))};
be.prototype.sa=function(){this.a.dispatchEvent("b")};var de=J(function(a,c){function e(){}e.prototype=a.prototype;var h=new e;a.apply(h,Array.prototype.slice.call(arguments,1));return h},Lc);Lc.prototype.createWebChannel=Lc.prototype.a;Ba.prototype.send=Ba.prototype.Xa;Ba.prototype.open=Ba.prototype.Wa;Ba.prototype.close=Ba.prototype.close;Te.NO_ERROR=0;Te.TIMEOUT=8;Te.HTTP_ERROR=6;pd.COMPLETE="complete";Aa.EventType=Ue;Ue.OPEN="a";Ue.CLOSE="b";Ue.ERROR="c";Ue.MESSAGE="d";ra.prototype.listen=ra.prototype.Aa;
Xa.prototype.listenOnce=Xa.prototype.Ba;Xa.prototype.getLastError=Xa.prototype.Ya;Xa.prototype.getLastErrorCode=Xa.prototype.ya;Xa.prototype.getStatus=Xa.prototype.T;Xa.prototype.getStatusText=Xa.prototype.za;Xa.prototype.getResponseJson=Xa.prototype.Va;Xa.prototype.getResponseText=Xa.prototype.aa;Xa.prototype.send=Xa.prototype.ca;q.exports={createWebChannelTransport:de,ErrorCode:Te,EventType:pd,WebChannel:Aa,XhrIo:Xa}}).call("undefined"!==typeof f?f:"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})};
shadow$provide[156]=function(f,a,q,n){function u(){return ab.logLevel===Ea.LogLevel.DEBUG?wb.DEBUG:ab.logLevel===Ea.LogLevel.SILENT?wb.SILENT:wb.ERROR}function p(a){switch(a){case wb.DEBUG:ab.logLevel=Ea.LogLevel.DEBUG;break;case wb.ERROR:ab.logLevel=Ea.LogLevel.ERROR;break;case wb.SILENT:ab.logLevel=Ea.LogLevel.SILENT;break;default:ab.error("Firestore ("+Vc+"): Invalid value passed to `setLogLevel`")}}function z(a,b){for(var d=[],c=2;c<arguments.length;c++)d[c-2]=arguments[c];ab.logLevel<=Ea.LogLevel.DEBUG&&
(d=d.map(R),ab.debug.apply(ab,["Firestore ("+Vc+") ["+a+"]: "+b].concat(d)))}function C(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];ab.logLevel<=Ea.LogLevel.ERROR&&(b=b.map(R),ab.error.apply(ab,["Firestore ("+Vc+"): "+a].concat(b)))}function R(a){if("string"===typeof a)return a;var b=Bb.getPlatform();try{return b.formatJSON(a)}catch(d){return a}}function w(a){a="FIRESTORE ("+Vc+") INTERNAL ASSERTION FAILED: "+a;C(a);throw Error(a);}function k(a,b){a||w(b)}function e(){return Bb.getPlatform().emptyByteString}
function S(a,b){function d(){var d="This constructor is private.";b&&(d=d+" "+b);throw new M(D.INVALID_ARGUMENT,d);}d.prototype=a.prototype;for(var c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);return d}function fa(a,b){return void 0!==a?a:b}function U(a,b){for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var c=Number(d);isNaN(c)||b(c,a[d])}}function J(a){var b=[];E(a,function(d,a){return b.push(a)});return b}function E(a,b){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b(d,a[d])}
function Q(a){k(null!=a&&"object"===typeof a,"isEmpty() expects object parameter.");for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0}function G(a){k(a&&"object"===typeof a,"shallowCopy() expects object parameter.");var b={},d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);return b}function H(a,b){if(0!==b.length)throw new M(D.INVALID_ARGUMENT,"Function "+a+"() does not support arguments, but was called with "+la(b.length,"argument")+".");}function ca(a,
b,d){if(b.length!==d)throw new M(D.INVALID_ARGUMENT,"Function "+a+"() requires "+la(d,"argument")+", but was called with "+la(b.length,"argument")+".");}function Y(a,b,d){if(b.length<d)throw new M(D.INVALID_ARGUMENT,"Function "+a+"() requires at least "+la(d,"argument")+", but was called with "+la(b.length,"argument")+".");}function V(a,b,d,c){if(b.length<d||b.length>c)throw new M(D.INVALID_ARGUMENT,"Function "+a+"() requires between "+d+" and "+(c+" arguments, but was called with ")+la(b.length,
"argument")+".");}function ma(a,b,d,c){N(a,b,ka(d)+" argument",c)}function Ja(a,b,d,c){void 0!==c&&ma(a,b,d,c)}function sa(a,b,d,c){void 0!==c&&N(a,b,d+" option",c)}function W(a,b,d,c,e){if(void 0!==c){if(!(c instanceof Array))throw new M(D.INVALID_ARGUMENT,"Function "+a+"() requires its "+b+" "+("option to be an array, but it was: "+Z(c)));for(var g=0;g<c.length;++g)if(!e(c[g]))throw new M(D.INVALID_ARGUMENT,"Function "+a+"() requires all "+b+" "+("elements to be "+d+", but the value at index "+
g+" ")+("was: "+Z(c[g])));}}function F(a,b,d,c,e){b=[];for(var g=0;g<e.length;g++){var l=e[g];if(l===c)return;b.push(Z(l))}c=Z(c);throw new M(D.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+a+"() for option "+('"'+d+'". Acceptable values: '+b.join(", ")));}function x(a,b,d,c){if(!b.some(function(b){return b===c}))throw new M(D.INVALID_ARGUMENT,"Invalid value "+Z(c)+" provided to function "+(a+"() for its "+ka(d)+" argument. Acceptable ")+("values: "+b.join(", ")));}function N(a,b,d,
c){if("object"===b?!O(c):"non-empty string"===b?"string"!==typeof c||""===c:typeof c!==b)throw c=Z(c),new M(D.INVALID_ARGUMENT,"Function "+a+"() requires its "+d+" "+("to be of type "+b+", but it was: "+c));}function O(a){return"object"===typeof a&&null!==a&&(Object.getPrototypeOf(a)===Object.prototype||null===Object.getPrototypeOf(a))}function Z(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"===typeof a)return 20<a.length&&(a=a.substring(0,20)+"..."),JSON.stringify(a);if("number"===
typeof a||"boolean"===typeof a)return""+a;if("object"===typeof a){if(a instanceof Array)return"an array";a:{if(a.constructor&&(a=/function\s+([^\s(]+)\s*\(/.exec(a.constructor.toString()))&&1<a.length){a=a[1];break a}a=null}return a?"a custom "+a+" object":"an object"}return"function"===typeof a?"a function":w("Unknown wrong type: "+typeof a)}function qa(a,b,d){if(void 0===d)throw new M(D.INVALID_ARGUMENT,"Function "+a+"() requires a valid "+ka(b)+" argument, but it was undefined.");}function Na(a,
b,d){E(b,function(b,c){if(0>d.indexOf(b))throw new M(D.INVALID_ARGUMENT,"Unknown option '"+b+"' passed to function "+a+"(). Available options: "+d.join(", "));})}function ba(a,b,d,c){c=Z(c);return new M(D.INVALID_ARGUMENT,"Function "+a+"() requires its "+ka(d)+" "+("argument to be a "+b+", but it was: "+c))}function ka(a){switch(a){case 1:return"first";case 2:return"second";case 3:return"third";default:return a+"th"}}function la(a,b){return a+" "+b+(1===a?"":"s")}function pa(a,b){return a<b?-1:a>
b?1:0}function Ca(a,b){if(a.length!==b.length)return!1;for(var d=0;d<a.length;d++)if(!a[d].isEqual(b[d]))return!1;return!0}function Ga(){if("undefined"===typeof Uint8Array)throw new M(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.");}function La(){if(!Bb.getPlatform().base64Available)throw new M(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.");}function Ha(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function Ua(a){return null===a||void 0===a}function K(a){return Xa(a)&&
a<=bf&&a>=af}function Xb(a){switch(a){case D.OK:return w("Treated status OK as error");case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return w("Unknown status code: "+a)}}function Ib(a){return Xb(a)&&
a!==D.ABORTED}function kb(a){if(void 0===a)return C("GRPC error has no .code"),D.UNKNOWN;switch(a){case Ba.OK:return D.OK;case Ba.CANCELLED:return D.CANCELLED;case Ba.UNKNOWN:return D.UNKNOWN;case Ba.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ba.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ba.INTERNAL:return D.INTERNAL;case Ba.UNAVAILABLE:return D.UNAVAILABLE;case Ba.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ba.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ba.NOT_FOUND:return D.NOT_FOUND;
case Ba.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ba.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ba.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ba.ABORTED:return D.ABORTED;case Ba.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ba.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ba.DATA_LOSS:return D.DATA_LOSS;default:return w("Unknown status code: "+a)}}function Ab(a){if(void 0===a)return Ba.OK;switch(a){case D.OK:return Ba.OK;case D.CANCELLED:return Ba.CANCELLED;case D.UNKNOWN:return Ba.UNKNOWN;
case D.DEADLINE_EXCEEDED:return Ba.DEADLINE_EXCEEDED;case D.RESOURCE_EXHAUSTED:return Ba.RESOURCE_EXHAUSTED;case D.INTERNAL:return Ba.INTERNAL;case D.UNAVAILABLE:return Ba.UNAVAILABLE;case D.UNAUTHENTICATED:return Ba.UNAUTHENTICATED;case D.INVALID_ARGUMENT:return Ba.INVALID_ARGUMENT;case D.NOT_FOUND:return Ba.NOT_FOUND;case D.ALREADY_EXISTS:return Ba.ALREADY_EXISTS;case D.PERMISSION_DENIED:return Ba.PERMISSION_DENIED;case D.FAILED_PRECONDITION:return Ba.FAILED_PRECONDITION;case D.ABORTED:return Ba.ABORTED;
case D.OUT_OF_RANGE:return Ba.OUT_OF_RANGE;case D.UNIMPLEMENTED:return Ba.UNIMPLEMENTED;case D.DATA_LOSS:return Ba.DATA_LOSS;default:return w("Unknown status code: "+a)}}function za(a){switch(a){case 200:return D.OK;case 400:return D.INVALID_ARGUMENT;case 401:return D.UNAUTHENTICATED;case 403:return D.PERMISSION_DENIED;case 404:return D.NOT_FOUND;case 409:return D.ABORTED;case 416:return D.OUT_OF_RANGE;case 429:return D.RESOURCE_EXHAUSTED;case 499:return D.CANCELLED;case 500:return D.UNKNOWN;case 501:return D.UNIMPLEMENTED;
case 503:return D.UNAVAILABLE;case 504:return D.DEADLINE_EXCEEDED;default:return 200<=a&&300>a?D.OK:400<=a&&500>a?D.FAILED_PRECONDITION:500<=a&&600>a?D.INTERNAL:D.UNKNOWN}}function ra(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b=ef;for(var d=0;d<a.length;d++)b=b.add(a[d]);return b}function Ka(a,b){k(!Ua(a),b+" is missing")}function ha(a){return"number"===typeof a?a:"string"===typeof a?Number(a):w("can't parse "+a)}function oa(a,b,d){return b===d||!b&&d in a}function Ra(a){for(var b=
"",d=0;d<a.length;d++){0<b.length&&(b+="");for(var c=a.get(d),g=c.length,e=0;e<g;e++){var h=c.charAt(e);switch(h){case "\x00":b+="";break;case "":b+="";break;default:b+=h}}}return b+""}function vb(a){var b=a.length;k(2<=b,"Invalid path "+a);if(2===b)return k(""===a.charAt(0)&&""===a.charAt(1),"Non-empty path "+a+" had length 2"),Oa.EMPTY_PATH;for(var d=b-2,c=[],g="",e=0;e<b;){var h=a.indexOf("",e);(0>h||h>d)&&w('Invalid encoded resource path: "'+a+'"');switch(a.charAt(h+1)){case "":e=
a.substring(e,h);0!==g.length&&(e=g+=e,g="");c.push(e);break;case "":g+=a.substring(e,h);g+="\x00";break;case "":g+=a.substring(e,h+1);break;default:w('Invalid encoded resource path: "'+a+'"')}e=h+2}return new Oa(c)}function bc(a,b,d){d=Pc.prefixForPath(b,d.path);var c=d[1];d=IDBKeyRange.lowerBound(d);var g=!1;return Pa(a).iterate({range:d,keysOnly:!0},function(d,a,l){a=d[1];d[0]===b&&a===c&&(g=!0);l.done()}).next(function(){return g})}function Ec(a,b){var d=!1;return ub.getStore(a,Rd.store).iterateSerial(function(c){return bc(a,
c,b).next(function(b){b&&(d=!0);return L.resolve(!b)})}).next(function(){return d})}function Ob(a,b,d){var c=a.store(pb.store);a=a.store(Pc.store);var g=[],e=IDBKeyRange.only(d.batchId),h=0;c=c.iterate({range:e},function(b,d,a){h++;return a.delete()});g.push(c.next(function(){k(1===h,"Dangling document-mutation reference found: Missing batch "+d.batchId)}));var f=[];c=0;for(e=d.mutations;c<e.length;c++){var m=e[c],r=Pc.key(b,m.key.path,d.batchId);g.push(a.delete(r));f.push(m.key)}return L.waitFor(g).next(function(){return f})}
function sd(a){return a instanceof Uint8Array?(k("YES"===hd.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),a.toString()):a}function Eb(a){return ub.getStore(a,pb.store)}function Pa(a){return ub.getStore(a,Pc.store)}function cc(a){return new L(function(b,d){a.onsuccess=function(d){b(d.target.result)};a.onerror=function(b){d(b.target.error)}})}function nc(a){return ub.getStore(a,sc.store)}function Sa(a){return oe.getStore(a,ob.store).get(ob.key).next(function(b){k(null!==
b,"Missing metadata row.");return b})}function Ya(a){return Sa(a).next(function(b){return b.highestListenSequenceNumber})}function ja(a){return ub.getStore(a,tc.store)}function Pb(a){return ub.getStore(a,fd.store)}function Yb(a){if(a.document)a=a.document;else if(a.unknownDocument)a=a.unknownDocument;else if(a.noDocument)a=a.noDocument;else throw w("Unknown remote document type");return JSON.stringify(a).length}function Rc(a){a.createObjectStore(Rd.store,{keyPath:Rd.keyPath});a.createObjectStore(pb.store,
{keyPath:pb.keyPath,autoIncrement:!0}).createIndex(pb.userMutationsIndex,pb.userMutationsKeyPath,{unique:!0});a.createObjectStore(Pc.store)}function ua(a,b){return b.store(pb.store).loadAll().next(function(d){a.deleteObjectStore(pb.store);a.createObjectStore(pb.store,{keyPath:pb.keyPath,autoIncrement:!0}).createIndex(pb.userMutationsIndex,pb.userMutationsKeyPath,{unique:!0});var c=b.store(pb.store);d=d.map(function(b){return c.put(b)});return L.waitFor(d)})}function Fa(a){a.createObjectStore(tc.store,
{keyPath:tc.keyPath}).createIndex(tc.documentTargetsIndex,tc.documentTargetsKeyPath,{unique:!0});a.createObjectStore(sc.store,{keyPath:sc.keyPath}).createIndex(sc.queryTargetsIndexName,sc.queryTargetsKeyPath,{unique:!0});a.createObjectStore(ob.store)}function Sc(a){a.deleteObjectStore(tc.store);a.deleteObjectStore(sc.store);a.deleteObjectStore(ob.store)}function Tc(a,b){var d=a[1],c=b[1];a=pa(a[0],b[0]);return 0===a?pa(d,c):a}function rb(a){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,
function(b){if(a.code===D.FAILED_PRECONDITION&&a.message===If)z(cd,"Unexpectedly lost primary lease");else throw a;return[2]})})}function qb(a,b){return new tc(0,Ra(a.path),b)}function Aa(a,b){return ja(a).put(qb(b,a.currentSequenceNumber))}function Fc(a,b){var d=function(b){switch(b){case Da.Added:return 1;case Da.Modified:return 2;case Da.Metadata:return 2;case Da.Removed:return 0;default:return w("Unknown ChangeType: "+b)}};return d(a)-d(b)}function Za(a){a:{if("object"===typeof a&&null!==a)for(var b=
0,d=["next","error","complete"];b<d.length;b++){var c=d[b];if(c in a&&"function"===typeof a[c]){a=!0;break a}}a=!1}return a}function Gd(a){switch(a){case Dc.Set:case Dc.MergeSet:case Dc.Update:return!0;case Dc.Argument:return!1;default:throw w("Unexpected case for UserDataSource: "+a);}}function lb(a){return"object"===typeof a&&null!==a&&!(a instanceof Array)&&!(a instanceof Date)&&!(a instanceof bb)&&!(a instanceof Ia)&&!(a instanceof pc)&&!(a instanceof ph)&&!(a instanceof ke)}function Jb(a,b,d){if(!lb(d)||
!O(d)){d=Z(d);if("an object"===d)throw b.createError(a+" a custom object");throw b.createError(a+" "+d);}}function Uc(a,b){if(b instanceof Vd)return b._internalPath;if("string"===typeof b)return oc(a,b);throw new M(D.INVALID_ARGUMENT,"Function "+a+"() called with invalid data. Field path arguments must be of type string or FieldPath.");}function oc(a,b){try{if(0<=b.search(ue))throw new M(D.INVALID_ARGUMENT,"Invalid field path ("+b+"). Paths must not contain '~', '*', '/', '[', or ']'");try{var d=
new (Vd.bind.apply(Vd,[void 0].concat(b.split("."))))}catch(l){throw new M(D.INVALID_ARGUMENT,"Invalid field path ("+b+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");}return d._internalPath}catch(l){throw new M(D.INVALID_ARGUMENT,"Function "+a+"() called with invalid data. "+(l instanceof Error?l.message:l.toString()));}}function uc(a,b){if(void 0===b)return{merge:!1};Na(a,b,["merge","mergeFields"]);sa(a,"boolean","merge",b.merge);W(a,"mergeFields","a string or a FieldPath",
b.mergeFields,function(b){return"string"===typeof b||b instanceof Vd});if(void 0!==b.mergeFields&&void 0!==b.merge)throw new M(D.INVALID_ARGUMENT,"Invalid options passed to function "+a+'(): You cannot specify both "merge" and "mergeFields".');return b}function $a(a,b){if(void 0===b)return{};Na(a,b,["serverTimestamps"]);var d=b.serverTimestamps,c=["estimate","previous","none"];void 0!==d&&F(a,"options","serverTimestamps",d,c);return b}function Gc(a,b){Ja(a,"object",1,b);if(b){Na(a,b,["source"]);b=
b.source;var d=["default","server","cache"];void 0!==b&&F(a,"options","source",b,d)}}function Zb(a,b,d){if(b instanceof lc){if(b.firestore!==d)throw new M(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return b}throw ba(a,"DocumentReference",1,b);}function ya(a,b,d){if(d.oldDocs.isEmpty()){var c,g=0;return d.docChanges.map(function(b){var l=new le(a,b.doc.key,b.doc,d.fromCache,d.mutatedKeys.has(b.doc.key));k(b.type===Da.Added,"Invalid event type for first snapshot");
k(!c||0>d.query.docComparator(c,b.doc),"Got added events in wrong order");c=b.doc;return{type:"added",doc:l,oldIndex:-1,newIndex:g++}})}var e=d.oldDocs;return d.docChanges.filter(function(d){return b||d.type!==Da.Metadata}).map(function(b){var c=new le(a,b.doc.key,b.doc,d.fromCache,d.mutatedKeys.has(b.doc.key)),g=-1,l=-1;b.type!==Da.Added&&(g=e.indexOf(b.doc.key),k(0<=g,"Index for document not found"),e=e.delete(b.doc.key));b.type!==Da.Removed&&(e=e.add(b.doc),l=e.indexOf(b.doc.key));return{type:Hc(b.type),
doc:c,oldIndex:g,newIndex:l}})}function Hc(a){switch(a){case Da.Added:return"added";case Da.Modified:case Da.Metadata:return"modified";case Da.Removed:return"removed";default:return w("Unknown change type: "+a)}}function Ic(a){a.INTERNAL.registerService("firestore",function(b){return new Wa(b)},G(wg))}var hd=a(3);"use strict";Object.defineProperty(n,"__esModule",{value:!0});var Va=function(a){return a&&"object"===typeof a&&"default"in a?a["default"]:a}(a(151)),Ea=a(153),r=a(149),$b=a(155),id=a(150),
Vc=Va.SDK_VERSION,ab=new Ea.Logger("@firebase/firestore"),wb;(function(a){a[a.DEBUG=0]="DEBUG";a[a.ERROR=1]="ERROR";a[a.SILENT=2]="SILENT"})(wb||(wb={}));var Bb=function(){function a(){}a.setPlatform=function(b){a.platform&&w("Platform already defined");a.platform=b};a.getPlatform=function(){a.platform||w("Platform not set");return a.platform};return a}(),D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",
ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=function(a){function b(b,c){var d=a.call(this,c)||this;d.code=b;d.message=c;d.name="FirebaseError";d.toString=function(){return d.name+": [code\x3d"+d.code+"]: "+d.message};
return d}r.__extends(b,a);return b}(Error),td=function(){function a(){}a.newId=function(){for(var b="",d=0;20>d;d++)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));k(20===b.length,"Invalid auto ID: "+b);return b};return a}(),pc=function(){function a(b){La();this._binaryString=b}a.fromBase64String=function(b){ca("Blob.fromBase64String",arguments,1);ma("Blob.fromBase64String","string",1,b);La();try{var d=Bb.getPlatform().atob(b);return new a(d)}catch(l){throw new M(D.INVALID_ARGUMENT,
"Failed to construct Blob from Base64 string: "+l);}};a.fromUint8Array=function(b){ca("Blob.fromUint8Array",arguments,1);Ga();if(!(b instanceof Uint8Array))throw ba("Blob.fromUint8Array","Uint8Array",1,b);var d=Array.prototype.map.call(b,function(b){return String.fromCharCode(b)}).join("");return new a(d)};a.prototype.toBase64=function(){ca("Blob.toBase64",arguments,0);La();return Bb.getPlatform().btoa(this._binaryString)};a.prototype.toUint8Array=function(){ca("Blob.toUint8Array",arguments,0);Ga();
for(var b=new Uint8Array(this._binaryString.length),d=0;d<this._binaryString.length;d++)b[d]=this._binaryString.charCodeAt(d);return b};a.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"};a.prototype.isEqual=function(b){return this._binaryString===b._binaryString};a.prototype._compareTo=function(b){return pa(this._binaryString,b._binaryString)};return a}(),jd=S(pc,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Ia=function(){function a(b,d){ca("GeoPoint",arguments,
2);ma("GeoPoint","number",1,b);ma("GeoPoint","number",2,d);if(!isFinite(b)||-90>b||90<b)throw new M(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+b);if(!isFinite(d)||-180>d||180<d)throw new M(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+d);this._lat=b;this._long=d}Object.defineProperty(a.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"longitude",{get:function(){return this._long},
enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){return this._lat===b._lat&&this._long===b._long};a.prototype._compareTo=function(b){return pa(this._lat,b._lat)||pa(this._long,b._long)};return a}(),bb=function(){function a(b,a){this.seconds=b;this.nanoseconds=a;if(0>a)throw new M(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(1E9<=a)throw new M(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(-62135596800>b)throw new M(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+
b);if(253402300800<=b)throw new M(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+b);}a.now=function(){return a.fromMillis(Date.now())};a.fromDate=function(b){return a.fromMillis(b.getTime())};a.fromMillis=function(b){var d=Math.floor(b/1E3);return new a(d,1E6*(b-1E3*d))};a.prototype.toDate=function(){return new Date(this.toMillis())};a.prototype.toMillis=function(){return 1E3*this.seconds+this.nanoseconds/1E6};a.prototype._compareTo=function(b){return this.seconds===b.seconds?pa(this.nanoseconds,
b.nanoseconds):pa(this.seconds,b.seconds)};a.prototype.isEqual=function(b){return b.seconds===this.seconds&&b.nanoseconds===this.nanoseconds};a.prototype.toString=function(){return"Timestamp(seconds\x3d"+this.seconds+", nanoseconds\x3d"+this.nanoseconds+")"};return a}(),ud=function(){return function(a,b,d,c,e){this.databaseId=a;this.persistenceKey=b;this.host=d;this.ssl=c;this.forceLongPolling=e}}(),Xd=function(){function a(b,a){this.projectId=b;this.database=a?a:"(default)"}Object.defineProperty(a.prototype,
"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){return b instanceof a&&b.projectId===this.projectId&&b.database===this.database};a.prototype.compareTo=function(b){return pa(this.projectId,b.projectId)||pa(this.database,b.database)};return a}(),Qa=function(){function a(b,a,c){this.init(b,a,c)}a.prototype.init=function(b,a,c){void 0===a?a=0:a>b.length&&w("offset "+a+" out of range "+b.length);void 0===c?c=b.length-
a:c>b.length-a&&w("length "+c+" out of range "+(b.length-a));this.segments=b;this.offset=a;this.len=c};a.prototype.construct=function(b,a,c){var d=Object.create(Object.getPrototypeOf(this));d.init(b,a,c);return d};Object.defineProperty(a.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){return 0===a.comparator(this,b)};a.prototype.child=function(b){var d=this.segments.slice(this.offset,this.limit());b instanceof a?b.forEach(function(b){d.push(b)}):
"string"===typeof b?d.push(b):w("Unknown parameter type for Path.child(): "+b);return this.construct(d)};a.prototype.limit=function(){return this.offset+this.length};a.prototype.popFirst=function(b){b=void 0===b?1:b;k(this.length>=b,"Can't call popFirst() with less segments");return this.construct(this.segments,this.offset+b,this.length-b)};a.prototype.popLast=function(){k(!this.isEmpty(),"Can't call popLast() on empty path");return this.construct(this.segments,this.offset,this.length-1)};a.prototype.firstSegment=
function(){k(!this.isEmpty(),"Can't call firstSegment() on empty path");return this.segments[this.offset]};a.prototype.lastSegment=function(){return this.get(this.length-1)};a.prototype.get=function(b){k(b<this.length,"Index out of range");return this.segments[this.offset+b]};a.prototype.isEmpty=function(){return 0===this.length};a.prototype.isPrefixOf=function(b){if(b.length<this.length)return!1;for(var a=0;a<this.length;a++)if(this.get(a)!==b.get(a))return!1;return!0};a.prototype.isImmediateParentOf=
function(b){if(this.length+1!==b.length)return!1;for(var a=0;a<this.length;a++)if(this.get(a)!==b.get(a))return!1;return!0};a.prototype.forEach=function(b){for(var a=this.offset,c=this.limit();a<c;a++)b(this.segments[a])};a.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())};a.comparator=function(b,a){for(var d=Math.min(b.length,a.length),c=0;c<d;c++){var g=b.get(c),e=a.get(c);if(g<e)return-1;if(g>e)return 1}return b.length<a.length?-1:b.length>a.length?1:0};return a}(),
Oa=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r.__extends(b,a);b.prototype.canonicalString=function(){return this.toArray().join("/")};b.prototype.toString=function(){return this.canonicalString()};b.fromString=function(a){if(0<=a.indexOf("//"))throw new M(D.INVALID_ARGUMENT,"Invalid path ("+a+"). Paths must not contain // in them.");a=a.split("/").filter(function(b){return 0<b.length});return new b(a)};b.EMPTY_PATH=new b([]);return b}(Qa),ac=/^[_a-zA-Z][_a-zA-Z0-9]*$/,
xb=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r.__extends(b,a);b.isValidIdentifier=function(b){return ac.test(b)};b.prototype.canonicalString=function(){return this.toArray().map(function(a){a=a.replace("\\","\\\\").replace("`","\\`");b.isValidIdentifier(a)||(a="`"+a+"`");return a}).join(".")};b.prototype.toString=function(){return this.canonicalString()};b.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)};b.keyField=function(){return new b(["__name__"])};
b.fromServerFormat=function(a){for(var d=[],c="",g=0,e=function(){if(0===c.length)throw new M(D.INVALID_ARGUMENT,"Invalid field path ("+a+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");d.push(c);c=""},h=!1;g<a.length;){var f=a[g];if("\\"===f){if(g+1===a.length)throw new M(D.INVALID_ARGUMENT,"Path has trailing escape character: "+a);f=a[g+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new M(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+a);c+=f;g+=2}else"`"===f?h=!h:
"."!==f||h?c+=f:e(),g++}e();if(h)throw new M(D.INVALID_ARGUMENT,"Unterminated ` in path: "+a);return new b(d)};b.EMPTY_PATH=new b([]);return b}(Qa),ia=function(){function a(b){this.path=b;k(a.isDocumentKey(b),"Invalid DocumentKey with an odd number of segments: "+b.toArray().join("/"))}a.prototype.hasCollectionId=function(b){return 2<=this.path.length&&this.path.get(this.path.length-2)===b};a.prototype.isEqual=function(b){return null!==b&&0===Oa.comparator(this.path,b.path)};a.prototype.toString=
function(){return this.path.toString()};a.comparator=function(b,a){return Oa.comparator(b.path,a.path)};a.isDocumentKey=function(b){return 0===b.length%2};a.fromSegments=function(b){return new a(new Oa(b.slice()))};a.fromPathString=function(b){return new a(Oa.fromString(b))};a.EMPTY=new a(new Oa([]));return a}(),Qb=function(){function a(b,a){this.key=b;this.version=a}a.compareByKey=function(b,a){return ia.comparator(b.key,a.key)};return a}(),da=function(a){function b(b,c,g,e,h){b=a.call(this,b,c)||
this;b.data=g;b.proto=h;b.hasLocalMutations=!!e.hasLocalMutations;b.hasCommittedMutations=!!e.hasCommittedMutations;return b}r.__extends(b,a);b.prototype.field=function(b){return this.data.field(b)};b.prototype.fieldValue=function(b){return(b=this.field(b))?b.value():void 0};b.prototype.value=function(){return this.data.value()};b.prototype.isEqual=function(a){return a instanceof b&&this.key.isEqual(a.key)&&this.version.isEqual(a.version)&&this.data.isEqual(a.data)&&this.hasLocalMutations===a.hasLocalMutations&&
this.hasCommittedMutations===a.hasCommittedMutations};b.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", "+("{hasLocalMutations: "+this.hasLocalMutations+"}), ")+("{hasCommittedMutations: "+this.hasCommittedMutations+"})")};Object.defineProperty(b.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0});b.compareByField=function(b,a,c){a=a.field(b);b=c.field(b);return void 0!==
a&&void 0!==b?a.compareTo(b):w("Trying to compare documents on fields that don't exist")};return b}(Qb),cb=function(a){function b(b,c,g){b=a.call(this,b,c)||this;b.hasCommittedMutations=!(!g||!g.hasCommittedMutations);return b}r.__extends(b,a);b.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"};Object.defineProperty(b.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0});b.prototype.isEqual=function(a){return a instanceof
b&&a.hasCommittedMutations===this.hasCommittedMutations&&a.version.isEqual(this.version)&&a.key.isEqual(this.key)};return b}(Qb),vc=function(a){function b(b,c){return a.call(this,b,c)||this}r.__extends(b,a);b.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"};Object.defineProperty(b.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0});b.prototype.isEqual=function(a){return a instanceof b&&a.version.isEqual(this.version)&&a.key.isEqual(this.key)};
return b}(Qb),sb=function(){function a(b,a){this.comparator=b;this.root=a?a:vd.EMPTY}a.prototype.insert=function(b,d){return new a(this.comparator,this.root.insert(b,d,this.comparator).copy(null,null,vd.BLACK,null,null))};a.prototype.remove=function(b){return new a(this.comparator,this.root.remove(b,this.comparator).copy(null,null,vd.BLACK,null,null))};a.prototype.get=function(b){for(var a=this.root;!a.isEmpty();){var c=this.comparator(b,a.key);if(0===c)return a.value;0>c?a=a.left:0<c&&(a=a.right)}return null};
a.prototype.indexOf=function(b){for(var a=0,c=this.root;!c.isEmpty();){var g=this.comparator(b,c.key);if(0===g)return a+c.left.size;0>g?c=c.left:(a+=c.left.size+1,c=c.right)}return-1};a.prototype.isEmpty=function(){return this.root.isEmpty()};Object.defineProperty(a.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0});a.prototype.minKey=function(){return this.root.minKey()};a.prototype.maxKey=function(){return this.root.maxKey()};a.prototype.inorderTraversal=function(b){return this.root.inorderTraversal(b)};
a.prototype.forEach=function(b){this.inorderTraversal(function(a,c){b(a,c);return!1})};a.prototype.toString=function(){var b=[];this.inorderTraversal(function(a,c){b.push(a+":"+c);return!1});return"{"+b.join(", ")+"}"};a.prototype.reverseTraversal=function(b){return this.root.reverseTraversal(b)};a.prototype.getIterator=function(){return new eb(this.root,null,this.comparator,!1)};a.prototype.getIteratorFrom=function(b){return new eb(this.root,b,this.comparator,!1)};a.prototype.getReverseIterator=
function(){return new eb(this.root,null,this.comparator,!0)};a.prototype.getReverseIteratorFrom=function(b){return new eb(this.root,b,this.comparator,!0)};return a}(),eb=function(){function a(b,a,c,g){this.isReverse=g;this.nodeStack=[];for(var d;!b.isEmpty();)if(d=a?c(b.key,a):1,g&&(d*=-1),0>d)b=this.isReverse?b.left:b.right;else if(0===d){this.nodeStack.push(b);break}else this.nodeStack.push(b),b=this.isReverse?b.right:b.left}a.prototype.getNext=function(){k(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");
var b=this.nodeStack.pop(),a={key:b.key,value:b.value};if(this.isReverse)for(b=b.left;!b.isEmpty();)this.nodeStack.push(b),b=b.right;else for(b=b.right;!b.isEmpty();)this.nodeStack.push(b),b=b.left;return a};a.prototype.hasNext=function(){return 0<this.nodeStack.length};a.prototype.peek=function(){if(0===this.nodeStack.length)return null;var b=this.nodeStack[this.nodeStack.length-1];return{key:b.key,value:b.value}};return a}(),vd=function(){function a(b,d,c,g,e){this.key=b;this.value=d;this.color=
null!=c?c:a.RED;this.left=null!=g?g:a.EMPTY;this.right=null!=e?e:a.EMPTY;this.size=this.left.size+1+this.right.size}a.prototype.copy=function(b,d,c,g,e){return new a(null!=b?b:this.key,null!=d?d:this.value,null!=c?c:this.color,null!=g?g:this.left,null!=e?e:this.right)};a.prototype.isEmpty=function(){return!1};a.prototype.inorderTraversal=function(b){return this.left.inorderTraversal(b)||b(this.key,this.value)||this.right.inorderTraversal(b)};a.prototype.reverseTraversal=function(b){return this.right.reverseTraversal(b)||
b(this.key,this.value)||this.left.reverseTraversal(b)};a.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()};a.prototype.minKey=function(){return this.min().key};a.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()};a.prototype.insert=function(b,a,c){var d=this,g=c(b,d.key);d=0>g?d.copy(null,null,null,d.left.insert(b,a,c),null):0===g?d.copy(null,a,null,null,null):d.copy(null,null,null,null,d.right.insert(b,a,c));return d.fixUp()};a.prototype.removeMin=
function(){if(this.left.isEmpty())return a.EMPTY;var b=this;b.left.isRed()||b.left.left.isRed()||(b=b.moveRedLeft());b=b.copy(null,null,null,b.left.removeMin(),null);return b.fixUp()};a.prototype.remove=function(b,d){var c=this;if(0>d(b,c.key))c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(b,d),null);else{c.left.isRed()&&(c=c.rotateRight());c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight());if(0===d(b,c.key)){if(c.right.isEmpty())return a.EMPTY;
var g=c.right.min();c=c.copy(g.key,g.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(b,d))}return c.fixUp()};a.prototype.isRed=function(){return this.color};a.prototype.fixUp=function(){var b=this;b.right.isRed()&&!b.left.isRed()&&(b=b.rotateLeft());b.left.isRed()&&b.left.left.isRed()&&(b=b.rotateRight());b.left.isRed()&&b.right.isRed()&&(b=b.colorFlip());return b};a.prototype.moveRedLeft=function(){var b=this.colorFlip();b.right.left.isRed()&&(b=b.copy(null,null,
null,null,b.right.rotateRight()),b=b.rotateLeft(),b=b.colorFlip());return b};a.prototype.moveRedRight=function(){var b=this.colorFlip();b.left.left.isRed()&&(b=b.rotateRight(),b=b.colorFlip());return b};a.prototype.rotateLeft=function(){var b=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,b,null)};a.prototype.rotateRight=function(){var b=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,b)};a.prototype.colorFlip=
function(){var b=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,b,a)};a.prototype.checkMaxDepth=function(){var b=this.check();return Math.pow(2,b)<=this.size+1?!0:!1};a.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw w("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw w("Right child of ("+this.key+","+this.value+") is red");var b=this.left.check();
if(b!==this.right.check())throw w("Black depths differ");return b+(this.isRed()?0:1)};a.EMPTY=null;a.RED=!0;a.BLACK=!1;return a}(),me=function(){function a(){this.size=0}a.prototype.copy=function(b,a,c,g,e){return this};a.prototype.insert=function(b,a,c){return new vd(b,a)};a.prototype.remove=function(b,a){return this};a.prototype.isEmpty=function(){return!0};a.prototype.inorderTraversal=function(b){return!1};a.prototype.reverseTraversal=function(b){return!1};a.prototype.minKey=function(){return null};
a.prototype.maxKey=function(){return null};a.prototype.isRed=function(){return!1};a.prototype.checkMaxDepth=function(){return!0};a.prototype.check=function(){return 0};return a}();vd.EMPTY=new me;var Fb;(function(a){a[a.NullValue=0]="NullValue";a[a.BooleanValue=1]="BooleanValue";a[a.NumberValue=2]="NumberValue";a[a.TimestampValue=3]="TimestampValue";a[a.StringValue=4]="StringValue";a[a.BlobValue=5]="BlobValue";a[a.RefValue=6]="RefValue";a[a.GeoPointValue=7]="GeoPointValue";a[a.ArrayValue=8]="ArrayValue";
a[a.ObjectValue=9]="ObjectValue"})(Fb||(Fb={}));var Yd;(function(a){a[a.Default=0]="Default";a[a.Estimate=1]="Estimate";a[a.Previous=2]="Previous"})(Yd||(Yd={}));var ec=function(){function a(b,a){this.serverTimestampBehavior=b;this.timestampsInSnapshots=a}a.fromSnapshotOptions=function(b,d){switch(b.serverTimestamps){case "estimate":return new a(Yd.Estimate,d);case "previous":return new a(Yd.Previous,d);case "none":case void 0:return new a(Yd.Default,d);default:return w("fromSnapshotOptions() called with invalid options.")}};
return a}(),wc=function(){function a(){}a.prototype.toString=function(){var b=this.value();return null===b?"null":b.toString()};a.prototype.defaultCompareTo=function(b){k(this.typeOrder!==b.typeOrder,"Default compareTo should not be used for values of same type.");return pa(this.typeOrder,b.typeOrder)};return a}(),fb=function(a){function b(){var b=a.call(this)||this;b.typeOrder=Fb.NullValue;b.internalValue=null;return b}r.__extends(b,a);b.prototype.value=function(b){return null};b.prototype.isEqual=
function(a){return a instanceof b};b.prototype.compareTo=function(a){return a instanceof b?0:this.defaultCompareTo(a)};b.INSTANCE=new b;return b}(wc),Rb=function(a){function b(b){var d=a.call(this)||this;d.internalValue=b;d.typeOrder=Fb.BooleanValue;return d}r.__extends(b,a);b.prototype.value=function(b){return this.internalValue};b.prototype.isEqual=function(a){return a instanceof b&&this.internalValue===a.internalValue};b.prototype.compareTo=function(a){return a instanceof b?pa(this,a):this.defaultCompareTo(a)};
b.of=function(a){return a?b.TRUE:b.FALSE};b.TRUE=new b(!0);b.FALSE=new b(!1);return b}(wc),kd=function(a){function b(b){var d=a.call(this)||this;d.internalValue=b;d.typeOrder=Fb.NumberValue;return d}r.__extends(b,a);b.prototype.value=function(b){return this.internalValue};b.prototype.compareTo=function(a){if(a instanceof b){var d=this.internalValue;a=a.internalValue;d=d<a?-1:d>a?1:d===a?0:isNaN(d)?isNaN(a)?0:-1:1}else d=this.defaultCompareTo(a);return d};return b}(wc),Gb=function(a){function b(b){return a.call(this,
b)||this}r.__extends(b,a);b.prototype.isEqual=function(a){return a instanceof b?Ha(this.internalValue,a.internalValue):!1};return b}(kd),Hb=function(a){function b(b){var d=a.call(this,b)||this;d.internalValue=b;return d}r.__extends(b,a);b.prototype.isEqual=function(a){return a instanceof b?Ha(this.internalValue,a.internalValue):!1};b.NAN=new b(NaN);b.POSITIVE_INFINITY=new b(Infinity);b.NEGATIVE_INFINITY=new b(-Infinity);return b}(kd),Hd=function(a){function b(b){var d=a.call(this)||this;d.internalValue=
b;d.typeOrder=Fb.StringValue;return d}r.__extends(b,a);b.prototype.value=function(b){return this.internalValue};b.prototype.isEqual=function(a){return a instanceof b&&this.internalValue===a.internalValue};b.prototype.compareTo=function(a){return a instanceof b?pa(this.internalValue,a.internalValue):this.defaultCompareTo(a)};return b}(wc),Id=function(a){function b(b){var d=a.call(this)||this;d.internalValue=b;d.typeOrder=Fb.TimestampValue;return d}r.__extends(b,a);b.prototype.value=function(b){return!b||
b.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()};b.prototype.isEqual=function(a){return a instanceof b&&this.internalValue.isEqual(a.internalValue)};b.prototype.compareTo=function(a){return a instanceof b?this.internalValue._compareTo(a.internalValue):a instanceof ld?-1:this.defaultCompareTo(a)};return b}(wc),ld=function(a){function b(b,c){var d=a.call(this)||this;d.localWriteTime=b;d.previousValue=c;d.typeOrder=Fb.TimestampValue;return d}r.__extends(b,a);b.prototype.value=
function(b){return b&&b.serverTimestampBehavior===Yd.Estimate?(new Id(this.localWriteTime)).value(b):b&&b.serverTimestampBehavior===Yd.Previous?this.previousValue?this.previousValue.value(b):null:null};b.prototype.isEqual=function(a){return a instanceof b&&this.localWriteTime.isEqual(a.localWriteTime)};b.prototype.compareTo=function(a){return a instanceof b?this.localWriteTime._compareTo(a.localWriteTime):a instanceof Id?1:this.defaultCompareTo(a)};b.prototype.toString=function(){return"\x3cServerTimestamp localTime\x3d"+
this.localWriteTime.toString()+"\x3e"};return b}(wc),xc=function(a){function b(b){var d=a.call(this)||this;d.internalValue=b;d.typeOrder=Fb.BlobValue;return d}r.__extends(b,a);b.prototype.value=function(b){return this.internalValue};b.prototype.isEqual=function(a){return a instanceof b&&this.internalValue.isEqual(a.internalValue)};b.prototype.compareTo=function(a){return a instanceof b?this.internalValue._compareTo(a.internalValue):this.defaultCompareTo(a)};return b}(wc),Wc=function(a){function b(b,
c){var d=a.call(this)||this;d.databaseId=b;d.key=c;d.typeOrder=Fb.RefValue;return d}r.__extends(b,a);b.prototype.value=function(b){return this.key};b.prototype.isEqual=function(a){return a instanceof b?this.key.isEqual(a.key)&&this.databaseId.isEqual(a.databaseId):!1};b.prototype.compareTo=function(a){if(a instanceof b){var d=this.databaseId.compareTo(a.databaseId);return 0!==d?d:ia.comparator(this.key,a.key)}return this.defaultCompareTo(a)};return b}(wc),Zd=function(a){function b(b){var d=a.call(this)||
this;d.internalValue=b;d.typeOrder=Fb.GeoPointValue;return d}r.__extends(b,a);b.prototype.value=function(b){return this.internalValue};b.prototype.isEqual=function(a){return a instanceof b&&this.internalValue.isEqual(a.internalValue)};b.prototype.compareTo=function(a){return a instanceof b?this.internalValue._compareTo(a.internalValue):this.defaultCompareTo(a)};return b}(wc),md=function(a){function b(b){var d=a.call(this)||this;d.internalValue=b;d.typeOrder=Fb.ObjectValue;return d}r.__extends(b,a);
b.prototype.value=function(b){var a={};this.internalValue.inorderTraversal(function(d,c){a[d]=c.value(b)});return a};b.prototype.forEach=function(b){this.internalValue.inorderTraversal(b)};b.prototype.isEqual=function(a){if(a instanceof b){var d=this.internalValue.getIterator();for(a=a.internalValue.getIterator();d.hasNext()&&a.hasNext();){var c=d.getNext(),g=a.getNext();if(c.key!==g.key||!c.value.isEqual(g.value))return!1}return!d.hasNext()&&!a.hasNext()}return!1};b.prototype.compareTo=function(a){if(a instanceof
b){var d=this.internalValue.getIterator();for(a=a.internalValue.getIterator();d.hasNext()&&a.hasNext();){var c=d.getNext(),g=a.getNext();if(c=pa(c.key,g.key)||c.value.compareTo(g.value))return c}return pa(d.hasNext(),a.hasNext())}return this.defaultCompareTo(a)};b.prototype.set=function(a,c){k(!a.isEmpty(),"Cannot set field for empty path on ObjectValue");if(1===a.length)return this.setChild(a.firstSegment(),c);var d=this.child(a.firstSegment());d instanceof b||(d=b.EMPTY);c=d.set(a.popFirst(),c);
return this.setChild(a.firstSegment(),c)};b.prototype.delete=function(a){k(!a.isEmpty(),"Cannot delete field for empty path on ObjectValue");if(1===a.length)return new b(this.internalValue.remove(a.firstSegment()));var d=this.child(a.firstSegment());return d instanceof b?(d=d.delete(a.popFirst()),new b(this.internalValue.insert(a.firstSegment(),d))):this};b.prototype.contains=function(b){return void 0!==this.field(b)};b.prototype.field=function(a){k(!a.isEmpty(),"Can't get field of empty path");var d=
this;a.forEach(function(a){d=d instanceof b?d.internalValue.get(a)||void 0:void 0});return d};b.prototype.toString=function(){return this.internalValue.toString()};b.prototype.child=function(b){return this.internalValue.get(b)||void 0};b.prototype.setChild=function(a,c){return new b(this.internalValue.insert(a,c))};b.EMPTY=new b(new sb(pa));return b}(wc),yc=function(a){function b(b){var d=a.call(this)||this;d.internalValue=b;d.typeOrder=Fb.ArrayValue;return d}r.__extends(b,a);b.prototype.value=function(b){return this.internalValue.map(function(a){return a.value(b)})};
b.prototype.forEach=function(b){this.internalValue.forEach(b)};b.prototype.isEqual=function(a){if(a instanceof b){if(this.internalValue.length!==a.internalValue.length)return!1;for(var d=0;d<this.internalValue.length;d++)if(!this.internalValue[d].isEqual(a.internalValue[d]))return!1;return!0}return!1};b.prototype.compareTo=function(a){if(a instanceof b){for(var d=Math.min(this.internalValue.length,a.internalValue.length),c=0;c<d;c++){var g=this.internalValue[c].compareTo(a.internalValue[c]);if(g)return g}return pa(this.internalValue.length,
a.internalValue.length)}return this.defaultCompareTo(a)};b.prototype.toString=function(){return"["+this.internalValue.map(function(b){return b.toString()}).join(",")+"]"};return b}(wc),Jc=Number,af=Jc.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),bf=Jc.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Xa=Jc.isInteger||function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a},xd=function(){function a(b,a,c,g,e,h,f){void 0===a&&(a=null);void 0===c&&(c=[]);void 0===g&&(g=[]);void 0===e&&(e=null);void 0===h&&(h=
null);void 0===f&&(f=null);this.path=b;this.collectionGroup=a;this.explicitOrderBy=c;this.filters=g;this.limit=e;this.startAt=h;this.endAt=f;this.memoizedOrderBy=this.memoizedCanonicalId=null;this.startAt&&this.assertValidBound(this.startAt);this.endAt&&this.assertValidBound(this.endAt)}a.atPath=function(b){return new a(b)};Object.defineProperty(a.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var b=this.getInequalityFilterField(),a=this.getFirstOrderByField();if(null!==b&&null===
a)b.isKeyField()?this.memoizedOrderBy=[$d]:this.memoizedOrderBy=[new gb(b),$d];else{k(null===b||null!==a&&b.isEqual(a),"First orderBy should match inequality field.");this.memoizedOrderBy=[];b=!1;a=0;for(var c=this.explicitOrderBy;a<c.length;a++){var g=c[a];this.memoizedOrderBy.push(g);g.field.isKeyField()&&(b=!0)}b||this.memoizedOrderBy.push((0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Cb.ASCENDING)===Cb.ASCENDING?$d:Kb)}}return this.memoizedOrderBy},enumerable:!0,
configurable:!0});a.prototype.addFilter=function(b){k(null==this.getInequalityFilterField()||!(b instanceof Xc)||!b.isInequality()||b.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field.");k(!this.isDocumentQuery(),"No filtering allowed for document query");b=this.filters.concat([b]);return new a(this.path,this.collectionGroup,this.explicitOrderBy.slice(),b,this.limit,this.startAt,this.endAt)};a.prototype.addOrderBy=function(b){k(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");
b=this.explicitOrderBy.concat([b]);return new a(this.path,this.collectionGroup,b,this.filters.slice(),this.limit,this.startAt,this.endAt)};a.prototype.withLimit=function(b){return new a(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),b,this.startAt,this.endAt)};a.prototype.withStartAt=function(b){return new a(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,b,this.endAt)};a.prototype.withEndAt=function(b){return new a(this.path,
this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,b)};a.prototype.asCollectionQueryAtPath=function(b){return new a(b,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)};a.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var b=this.path.canonicalString();this.isCollectionGroupQuery()&&(b+="|cg:"+this.collectionGroup);b+="|f:";for(var a=0,c=this.filters;a<c.length;a++)b+=c[a].canonicalId(),b+=",";
b+="|ob:";a=0;for(c=this.orderBy;a<c.length;a++)b+=c[a].canonicalId(),b+=",";Ua(this.limit)||(b=b+"|l:"+this.limit);this.startAt&&(b=b+"|lb:"+this.startAt.canonicalId());this.endAt&&(b=b+"|ub:"+this.endAt.canonicalId());this.memoizedCanonicalId=b}return this.memoizedCanonicalId};a.prototype.toString=function(){var b="Query("+this.path.canonicalString();this.isCollectionGroupQuery()&&(b+=" collectionGroup\x3d"+this.collectionGroup);0<this.filters.length&&(b+=", filters: ["+this.filters.join(", ")+
"]");Ua(this.limit)||(b+=", limit: "+this.limit);0<this.explicitOrderBy.length&&(b+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]");this.startAt&&(b+=", startAt: "+this.startAt.canonicalId());this.endAt&&(b+=", endAt: "+this.endAt.canonicalId());return b+")"};a.prototype.isEqual=function(b){if(this.limit!==b.limit||this.orderBy.length!==b.orderBy.length)return!1;for(var a=0;a<this.orderBy.length;a++)if(!this.orderBy[a].isEqual(b.orderBy[a]))return!1;if(this.filters.length!==b.filters.length)return!1;
for(a=0;a<this.filters.length;a++)if(!this.filters[a].isEqual(b.filters[a]))return!1;return this.collectionGroup===b.collectionGroup&&this.path.isEqual(b.path)&&(null!==this.startAt?this.startAt.isEqual(b.startAt):null===b.startAt)?null!==this.endAt?this.endAt.isEqual(b.endAt):null===b.endAt:!1};a.prototype.docComparator=function(b,a){for(var d=!1,c=0,g=this.orderBy;c<g.length;c++){var e=g[c],h=e.compare(b,a);if(0!==h)return h;d=d||e.field.isKeyField()}k(d,"orderBy used that doesn't compare on key field");
return 0};a.prototype.matches=function(b){return this.matchesPathAndCollectionGroup(b)&&this.matchesOrderBy(b)&&this.matchesFilters(b)&&this.matchesBounds(b)};a.prototype.hasLimit=function(){return!Ua(this.limit)};a.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null};a.prototype.getInequalityFilterField=function(){for(var b=0,a=this.filters;b<a.length;b++){var c=a[b];if(c instanceof Xc&&c.isInequality())return c.field}return null};a.prototype.hasArrayContainsFilter=
function(){return void 0!==this.filters.find(function(b){return b instanceof Xc&&b.op===Ma.ARRAY_CONTAINS})};a.prototype.isDocumentQuery=function(){return ia.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length};a.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup};a.prototype.matchesPathAndCollectionGroup=function(b){var a=b.key.path;return null!==this.collectionGroup?b.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(a):ia.isDocumentKey(this.path)?
this.path.isEqual(a):this.path.isImmediateParentOf(a)};a.prototype.matchesOrderBy=function(b){for(var a=0,c=this.explicitOrderBy;a<c.length;a++){var g=c[a];if(!g.field.isKeyField()&&void 0===b.field(g.field))return!1}return!0};a.prototype.matchesFilters=function(b){for(var a=0,c=this.filters;a<c.length;a++)if(!c[a].matches(b))return!1;return!0};a.prototype.matchesBounds=function(b){return this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,b)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,
b)?!1:!0};a.prototype.assertValidBound=function(b){k(b.position.length<=this.orderBy.length,"Bound is longer than orderBy")};return a}(),qc=function(){function a(){}a.create=function(b,a,c){if(c.isEqual(fb.INSTANCE)){if(a!==Ma.EQUAL)throw new M(D.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Jd(b)}if(c.isEqual(Hb.NAN)){if(a!==Ma.EQUAL)throw new M(D.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new fc(b)}return new Xc(b,
a,c)};return a}(),Ma=function(){function a(b){this.name=b}a.fromString=function(b){switch(b){case "\x3c":return a.LESS_THAN;case "\x3c\x3d":return a.LESS_THAN_OR_EQUAL;case "\x3d\x3d":return a.EQUAL;case "\x3e\x3d":return a.GREATER_THAN_OR_EQUAL;case "\x3e":return a.GREATER_THAN;case "array-contains":return a.ARRAY_CONTAINS;default:return w("Unknown relation: "+b)}};a.prototype.toString=function(){return this.name};a.prototype.isEqual=function(b){return this.name===b.name};a.LESS_THAN=new a("\x3c");
a.LESS_THAN_OR_EQUAL=new a("\x3c\x3d");a.EQUAL=new a("\x3d\x3d");a.GREATER_THAN=new a("\x3e");a.GREATER_THAN_OR_EQUAL=new a("\x3e\x3d");a.ARRAY_CONTAINS=new a("array-contains");return a}(),Xc=function(a){function b(b,c,g){var d=a.call(this)||this;d.field=b;d.op=c;d.value=g;return d}r.__extends(b,a);b.prototype.matches=function(b){if(this.field.isKeyField())return k(this.value instanceof Wc,"Comparing on key, but filter value not a RefValue"),k(this.op!==Ma.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys."),
b=ia.comparator(b.key,this.value.key),this.matchesComparison(b);b=b.field(this.field);return void 0!==b&&this.matchesValue(b)};b.prototype.matchesValue=function(b){var a=this;return this.op===Ma.ARRAY_CONTAINS?b instanceof yc&&void 0!==b.internalValue.find(function(b){return b.isEqual(a.value)}):this.value.typeOrder===b.typeOrder&&this.matchesComparison(b.compareTo(this.value))};b.prototype.matchesComparison=function(b){switch(this.op){case Ma.LESS_THAN:return 0>b;case Ma.LESS_THAN_OR_EQUAL:return 0>=
b;case Ma.EQUAL:return 0===b;case Ma.GREATER_THAN:return 0<b;case Ma.GREATER_THAN_OR_EQUAL:return 0<=b;default:return w("Unknown relation op"+this.op)}};b.prototype.isInequality=function(){return this.op!==Ma.EQUAL&&this.op!==Ma.ARRAY_CONTAINS};b.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()};b.prototype.isEqual=function(a){return a instanceof b?this.op.isEqual(a.op)&&this.field.isEqual(a.field)&&this.value.isEqual(a.value):!1};b.prototype.toString=
function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()};return b}(qc),Jd=function(a){function b(b){var d=a.call(this)||this;d.field=b;return d}r.__extends(b,a);b.prototype.matches=function(b){b=b.field(this.field);return void 0!==b&&null===b.value()};b.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"};b.prototype.toString=function(){return this.field.canonicalString()+" IS null"};b.prototype.isEqual=function(a){return a instanceof b?this.field.isEqual(a.field):
!1};return b}(qc),fc=function(a){function b(b){var d=a.call(this)||this;d.field=b;return d}r.__extends(b,a);b.prototype.matches=function(b){b=(b=b.field(this.field))&&b.value();return"number"===typeof b&&isNaN(b)};b.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"};b.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"};b.prototype.isEqual=function(a){return a instanceof b?this.field.isEqual(a.field):!1};return b}(qc),Cb=function(){function a(b){this.name=
b}a.prototype.toString=function(){return this.name};a.ASCENDING=new a("asc");a.DESCENDING=new a("desc");return a}(),Yc=function(){function a(b,a){this.position=b;this.before=a}a.prototype.canonicalId=function(){for(var b=this.before?"b:":"a:",a=0,c=this.position;a<c.length;a++)b+=c[a].toString();return b};a.prototype.sortsBeforeDocument=function(b,a){k(this.position.length<=b.length,"Bound has more components than query's orderBy");for(var d=0,c=0;c<this.position.length;c++){var g=b[c];d=this.position[c];
if(g.field.isKeyField())k(d instanceof Wc,"Bound has a non-key value where the key path is being used."),d=ia.comparator(d.key,a.key);else{var e=a.field(g.field);k(void 0!==e,"Field should exist since document matched the orderBy already.");d=d.compareTo(e)}g.dir===Cb.DESCENDING&&(d*=-1);if(0!==d)break}return this.before?0>=d:0>d};a.prototype.isEqual=function(b){if(null===b||this.before!==b.before||this.position.length!==b.position.length)return!1;for(;0<this.position.length;)return this.position[0].isEqual(b.position[0]);
return!0};return a}(),gb=function(){function a(b,a){this.field=b;void 0===a&&(a=Cb.ASCENDING);this.dir=a;this.isKeyOrderBy=b.isKeyField()}a.prototype.compare=function(b,a){b=this.isKeyOrderBy?da.compareByKey(b,a):da.compareByField(this.field,b,a);switch(this.dir){case Cb.ASCENDING:return b;case Cb.DESCENDING:return-1*b;default:return w("Unknown direction: "+this.dir)}};a.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()};a.prototype.toString=function(){return this.field.canonicalString()+
" ("+this.dir+")"};a.prototype.isEqual=function(b){return this.dir===b.dir&&this.field.isEqual(b.field)};return a}(),$d=new gb(xb.keyField(),Cb.ASCENDING),Kb=new gb(xb.keyField(),Cb.DESCENDING),hb=function(){function a(b){this.timestamp=b}a.fromMicroseconds=function(b){return new a(new bb(Math.floor(b/1E6),b%1E6*1E3))};a.fromTimestamp=function(b){return new a(b)};a.forDeletedDoc=function(){return a.MIN};a.prototype.compareTo=function(b){return this.timestamp._compareTo(b.timestamp)};a.prototype.isEqual=
function(b){return this.timestamp.isEqual(b.timestamp)};a.prototype.toMicroseconds=function(){return 1E6*this.timestamp.seconds+this.timestamp.nanoseconds/1E3};a.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"};a.prototype.toTimestamp=function(){return this.timestamp};a.MIN=new a(new bb(0,0));return a}(),mb;(function(a){a[a.Listen=0]="Listen";a[a.ExistenceFilterMismatch=1]="ExistenceFilterMismatch";a[a.LimboResolution=2]="LimboResolution"})(mb||(mb={}));var Kd=
function(){function a(b,a,c,g,h,f){void 0===h&&(h=hb.MIN);void 0===f&&(f=e());this.query=b;this.targetId=a;this.purpose=c;this.sequenceNumber=g;this.snapshotVersion=h;this.resumeToken=f}a.prototype.copy=function(b){return new a(this.query,this.targetId,this.purpose,void 0===b.sequenceNumber?this.sequenceNumber:b.sequenceNumber,void 0===b.snapshotVersion?this.snapshotVersion:b.snapshotVersion,void 0===b.resumeToken?this.resumeToken:b.resumeToken)};a.prototype.isEqual=function(b){return this.targetId===
b.targetId&&this.purpose===b.purpose&&this.sequenceNumber===b.sequenceNumber&&this.snapshotVersion.isEqual(b.snapshotVersion)&&this.resumeToken===b.resumeToken&&this.query.isEqual(b.query)};return a}(),tb=function(){function a(b){this.comparator=b;this.data=new sb(this.comparator)}a.fromMapKeys=function(b){var d=new a(b.comparator);b.forEach(function(b){d=d.add(b)});return d};a.prototype.has=function(b){return null!==this.data.get(b)};a.prototype.first=function(){return this.data.minKey()};a.prototype.last=
function(){return this.data.maxKey()};Object.defineProperty(a.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0});a.prototype.indexOf=function(b){return this.data.indexOf(b)};a.prototype.forEach=function(b){this.data.inorderTraversal(function(a,c){b(a);return!1})};a.prototype.forEachInRange=function(b,a){for(var d=this.data.getIteratorFrom(b[0]);d.hasNext();){var c=d.getNext();if(0<=this.comparator(c.key,b[1]))break;a(c.key)}};a.prototype.forEachWhile=function(b,
a){for(a=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();a.hasNext();){var d=a.getNext();if(!b(d.key))break}};a.prototype.firstAfterOrEqual=function(b){b=this.data.getIteratorFrom(b);return b.hasNext()?b.getNext().key:null};a.prototype.getIterator=function(){return new ib(this.data.getIterator())};a.prototype.getIteratorFrom=function(b){return new ib(this.data.getIteratorFrom(b))};a.prototype.add=function(b){return this.copy(this.data.remove(b).insert(b,!0))};a.prototype.delete=function(b){return this.has(b)?
this.copy(this.data.remove(b)):this};a.prototype.isEmpty=function(){return this.data.isEmpty()};a.prototype.unionWith=function(b){var a=this;b.forEach(function(b){a=a.add(b)});return a};a.prototype.isEqual=function(b){if(!(b instanceof a)||this.size!==b.size)return!1;var d=this.data.getIterator();for(b=b.data.getIterator();d.hasNext();){var c=d.getNext().key,g=b.getNext().key;if(0!==this.comparator(c,g))return!1}return!0};a.prototype.toArray=function(){var b=[];this.forEach(function(a){b.push(a)});
return b};a.prototype.toString=function(){var b=[];this.forEach(function(a){return b.push(a)});return"SortedSet("+b.toString()+")"};a.prototype.copy=function(b){var d=new a(this.comparator);d.data=b;return d};return a}(),ib=function(){function a(b){this.iter=b}a.prototype.getNext=function(){return this.iter.getNext().key};a.prototype.hasNext=function(){return this.iter.hasNext()};return a}(),Zc=function(){function a(b){this.fields=b}a.fromSet=function(b){return new a(b)};a.fromArray=function(b){var d=
new tb(xb.comparator);b.forEach(function(b){return d=d.add(b)});return new a(d)};a.prototype.covers=function(b){var a=!1;this.fields.forEach(function(d){d.isPrefixOf(b)&&(a=!0)});return a};a.prototype.applyTo=function(b){var a=md.EMPTY;this.fields.forEach(function(d){if(d.isEmpty())return b;var c=b.field(d);void 0!==c&&(a=a.set(d,c))});return a};a.prototype.isEqual=function(b){return this.fields.isEqual(b.fields)};return a}(),Db=function(){function a(b,a){this.field=b;this.transform=a}Object.defineProperty(a.prototype,
"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){return this.field.isEqual(b.field)&&this.transform.isEqual(b.transform)};return a}(),Lb=function(){return function(a,b){this.version=a;this.transformResults=b}}(),Md;(function(a){a[a.Set=0]="Set";a[a.Patch=1]="Patch";a[a.Transform=2]="Transform";a[a.Delete=3]="Delete"})(Md||(Md={}));var yb=function(){function a(b,a){this.updateTime=b;this.exists=a;k(void 0===b||void 0===
a,'Precondition can specify "exists" or "updateTime" but not both')}a.exists=function(b){return new a(void 0,b)};a.updateTime=function(b){return new a(b)};Object.defineProperty(a.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0});a.prototype.isValidFor=function(b){if(void 0!==this.updateTime)return b instanceof da&&b.version.isEqual(this.updateTime);if(void 0!==this.exists)return this.exists===b instanceof da;k(this.isNone,"Precondition should be empty");
return!0};a.prototype.isEqual=function(b){var a=this.updateTime;var c=b.updateTime;a=null!==a&&void 0!==a?!(!c||!a.isEqual(c)):a===c;return a&&this.exists===b.exists};a.NONE=new a;return a}(),rc=function(){function a(){}a.prototype.verifyKeyMatches=function(b){null!=b&&k(b.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")};a.getPostMutationVersion=function(b){return b instanceof da?b.version:hb.MIN};return a}(),Vb=function(a){function b(b,c,g){var d=a.call(this)||
this;d.key=b;d.value=c;d.precondition=g;d.type=Md.Set;return d}r.__extends(b,a);b.prototype.applyToRemoteDocument=function(b,a){this.verifyKeyMatches(b);k(null==a.transformResults,"Transform results received by SetMutation.");return new da(this.key,a.version,this.value,{hasCommittedMutations:!0})};b.prototype.applyToLocalView=function(b,a,c){this.verifyKeyMatches(b);if(!this.precondition.isValidFor(b))return b;b=rc.getPostMutationVersion(b);return new da(this.key,b,this.value,{hasLocalMutations:!0})};
Object.defineProperty(b.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0});b.prototype.isEqual=function(a){return a instanceof b&&this.key.isEqual(a.key)&&this.value.isEqual(a.value)&&this.precondition.isEqual(a.precondition)};return b}(rc),m=function(a){function b(b,c,g,e){var d=a.call(this)||this;d.key=b;d.data=c;d.fieldMask=g;d.precondition=e;d.type=Md.Patch;
return d}r.__extends(b,a);b.prototype.applyToRemoteDocument=function(b,a){this.verifyKeyMatches(b);k(null==a.transformResults,"Transform results received by PatchMutation.");if(!this.precondition.isValidFor(b))return new vc(this.key,a.version);b=this.patchDocument(b);return new da(this.key,a.version,b,{hasCommittedMutations:!0})};b.prototype.applyToLocalView=function(b,a,c){this.verifyKeyMatches(b);if(!this.precondition.isValidFor(b))return b;a=rc.getPostMutationVersion(b);b=this.patchDocument(b);
return new da(this.key,a,b,{hasLocalMutations:!0})};Object.defineProperty(b.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0});b.prototype.isEqual=function(a){return a instanceof b&&this.key.isEqual(a.key)&&this.fieldMask.isEqual(a.fieldMask)&&this.precondition.isEqual(a.precondition)};b.prototype.patchDocument=function(b){return this.patchObject(b instanceof da?b.data:md.EMPTY)};b.prototype.patchObject=function(b){var a=this;this.fieldMask.fields.forEach(function(d){if(!d.isEmpty()){var c=
a.data.field(d);b=void 0!==c?b.set(d,c):b.delete(d)}});return b};return b}(rc),c=function(a){function b(b,c){var d=a.call(this)||this;d.key=b;d.fieldTransforms=c;d.type=Md.Transform;d.precondition=yb.exists(!0);return d}r.__extends(b,a);b.prototype.applyToRemoteDocument=function(b,a){this.verifyKeyMatches(b);k(null!=a.transformResults,"Transform results missing for TransformMutation.");if(!this.precondition.isValidFor(b))return new vc(this.key,a.version);var d=this.requireDocument(b);b=this.serverTransformResults(b,
a.transformResults);a=a.version;d=this.transformObject(d.data,b);return new da(this.key,a,d,{hasCommittedMutations:!0})};b.prototype.applyToLocalView=function(b,a,c){this.verifyKeyMatches(b);if(!this.precondition.isValidFor(b))return b;b=this.requireDocument(b);a=this.localTransformResults(c,a);a=this.transformObject(b.data,a);return new da(this.key,b.version,a,{hasLocalMutations:!0})};Object.defineProperty(b.prototype,"isIdempotent",{get:function(){for(var b=0,a=this.fieldTransforms;b<a.length;b++)if(!a[b].isIdempotent)return!1;
return!0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fieldMask",{get:function(){var b=new tb(xb.comparator);this.fieldTransforms.forEach(function(a){return b=b.add(a.field)});return new Zc(b)},enumerable:!0,configurable:!0});b.prototype.isEqual=function(a){return a instanceof b&&this.key.isEqual(a.key)&&Ca(this.fieldTransforms,a.fieldTransforms)&&this.precondition.isEqual(a.precondition)};b.prototype.requireDocument=function(b){k(b instanceof da,"Unknown MaybeDocument type "+
b);k(b.key.isEqual(this.key),"Can only transform a document with the same key");return b};b.prototype.serverTransformResults=function(b,a){var d=[];k(this.fieldTransforms.length===a.length,"server transform result count ("+a.length+") "+("should match field transform count ("+this.fieldTransforms.length+")"));for(var c=0;c<a.length;c++){var g=this.fieldTransforms[c],l=g.transform,e=null;b instanceof da&&(e=b.field(g.field)||null);d.push(l.applyToRemoteDocument(e,a[c]))}return d};b.prototype.localTransformResults=
function(b,a){for(var d=[],c=0,g=this.fieldTransforms;c<g.length;c++){var l=g[c],e=l.transform,h=null;a instanceof da&&(h=a.field(l.field)||null);d.push(e.applyToLocalView(h,b))}return d};b.prototype.transformObject=function(b,a){k(a.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var d=0;d<this.fieldTransforms.length;d++)b=b.set(this.fieldTransforms[d].field,a[d]);return b};return b}(rc),h=function(a){function b(b,c){var d=a.call(this)||this;d.key=b;d.precondition=c;
d.type=Md.Delete;return d}r.__extends(b,a);b.prototype.applyToRemoteDocument=function(b,a){this.verifyKeyMatches(b);k(null==a.transformResults,"Transform results received by DeleteMutation.");return new cb(this.key,a.version,{hasCommittedMutations:!0})};b.prototype.applyToLocalView=function(b,a,c){this.verifyKeyMatches(b);if(!this.precondition.isValidFor(b))return b;b&&k(b.key.isEqual(this.key),"Can only apply mutation to document with same key");return new cb(this.key,hb.forDeletedDoc())};b.prototype.isEqual=
function(a){return a instanceof b&&this.key.isEqual(a.key)&&this.precondition.isEqual(a.precondition)};Object.defineProperty(b.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0});return b}(rc),t=function(){function a(){this.isIdempotent=!0}a.prototype.applyToLocalView=function(b,a){return new ld(a,b)};a.prototype.applyToRemoteDocument=function(b,a){return a};a.prototype.isEqual=
function(b){return b instanceof a};a.instance=new a;return a}(),X=function(){function a(b){this.elements=b;this.isIdempotent=!0}a.prototype.applyToLocalView=function(b,a){return this.apply(b)};a.prototype.applyToRemoteDocument=function(b,a){return this.apply(b)};a.prototype.apply=function(b){var a=b instanceof yc?b.internalValue.slice():[];b=function(b){a.find(function(a){return a.isEqual(b)})||a.push(b)};for(var c=0,g=this.elements;c<g.length;c++)b(g[c]);return new yc(a)};a.prototype.isEqual=function(b){return b instanceof
a&&Ca(b.elements,this.elements)};return a}(),Kc=function(){function a(b){this.elements=b;this.isIdempotent=!0}a.prototype.applyToLocalView=function(b,a){return this.apply(b)};a.prototype.applyToRemoteDocument=function(b,a){return this.apply(b)};a.prototype.apply=function(b){var a=b instanceof yc?b.internalValue.slice():[];b=function(b){a=a.filter(function(a){return!a.isEqual(b)})};for(var c=0,g=this.elements;c<g.length;c++)b(g[c]);return new yc(a)};a.prototype.isEqual=function(b){return b instanceof
a&&Ca(b.elements,this.elements)};return a}(),bd=function(){function a(b){this.operand=b;this.isIdempotent=!1}a.prototype.applyToLocalView=function(b,a){return b instanceof Gb&&this.operand instanceof Gb?(b=b.internalValue+this.operand.internalValue,new Gb(b)):b instanceof kd?(b=b.internalValue+this.operand.internalValue,new Hb(b)):this.operand};a.prototype.applyToRemoteDocument=function(b,a){k(null!==a,"Didn't receive transformResult for NUMERIC_ADD transform");return a};a.prototype.isEqual=function(b){return b instanceof
a&&this.operand.isEqual(b.operand)};return a}(),Lc=function(){function a(b){this.count=b}a.prototype.isEqual=function(b){return b&&b.count===this.count};return a}(),Ba;(function(a){a[a.OK=0]="OK";a[a.CANCELLED=1]="CANCELLED";a[a.UNKNOWN=2]="UNKNOWN";a[a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT";a[a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED";a[a.NOT_FOUND=5]="NOT_FOUND";a[a.ALREADY_EXISTS=6]="ALREADY_EXISTS";a[a.PERMISSION_DENIED=7]="PERMISSION_DENIED";a[a.UNAUTHENTICATED=16]="UNAUTHENTICATED";a[a.RESOURCE_EXHAUSTED=
8]="RESOURCE_EXHAUSTED";a[a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION";a[a.ABORTED=10]="ABORTED";a[a.OUT_OF_RANGE=11]="OUT_OF_RANGE";a[a.UNIMPLEMENTED=12]="UNIMPLEMENTED";a[a.INTERNAL=13]="INTERNAL";a[a.UNAVAILABLE=14]="UNAVAILABLE";a[a.DATA_LOSS=15]="DATA_LOSS"})(Ba||(Ba={}));var Sb=new sb(ia.comparator),Mc=new sb(ia.comparator),be=new sb(ia.comparator),ef=new tb(ia.comparator),xa=new tb(pa),ce=function(){function a(b){this.comparator=b?function(a,c){return b(a,c)||ia.comparator(a.key,c.key)}:
function(b,a){return ia.comparator(b.key,a.key)};this.keyedMap=Mc;this.sortedSet=new sb(this.comparator)}a.emptySet=function(b){return new a(b.comparator)};a.prototype.has=function(b){return null!=this.keyedMap.get(b)};a.prototype.get=function(b){return this.keyedMap.get(b)};a.prototype.first=function(){return this.sortedSet.minKey()};a.prototype.last=function(){return this.sortedSet.maxKey()};a.prototype.isEmpty=function(){return this.sortedSet.isEmpty()};a.prototype.indexOf=function(b){return(b=
this.keyedMap.get(b))?this.sortedSet.indexOf(b):-1};Object.defineProperty(a.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0});a.prototype.forEach=function(b){this.sortedSet.inorderTraversal(function(a,c){b(a);return!1})};a.prototype.add=function(b){var a=this.delete(b.key);return a.copy(a.keyedMap.insert(b.key,b),a.sortedSet.insert(b,null))};a.prototype.delete=function(b){var a=this.get(b);return a?this.copy(this.keyedMap.remove(b),this.sortedSet.remove(a)):
this};a.prototype.isEqual=function(b){if(!(b instanceof a)||this.size!==b.size)return!1;var d=this.sortedSet.getIterator();for(b=b.sortedSet.getIterator();d.hasNext();){var c=d.getNext().key,g=b.getNext().key;if(!c.isEqual(g))return!1}return!0};a.prototype.toString=function(){var b=[];this.forEach(function(a){b.push(a.toString())});return 0===b.length?"DocumentSet ()":"DocumentSet (\n  "+b.join("  \n")+"\n)"};a.prototype.copy=function(b,d){var c=new a;c.comparator=this.comparator;c.keyedMap=b;c.sortedSet=
d;return c};return a}(),Da;(function(a){a[a.Added=0]="Added";a[a.Removed=1]="Removed";a[a.Modified=2]="Modified";a[a.Metadata=3]="Metadata"})(Da||(Da={}));var Tb;(function(a){a[a.Local=0]="Local";a[a.Synced=1]="Synced"})(Tb||(Tb={}));var ff=function(){function a(){this.changeMap=new sb(ia.comparator)}a.prototype.track=function(b){var a=b.doc.key,c=this.changeMap.get(a);c?b.type!==Da.Added&&c.type===Da.Metadata?this.changeMap=this.changeMap.insert(a,b):b.type===Da.Metadata&&c.type!==Da.Removed?this.changeMap=
this.changeMap.insert(a,{type:c.type,doc:b.doc}):b.type===Da.Modified&&c.type===Da.Modified?this.changeMap=this.changeMap.insert(a,{type:Da.Modified,doc:b.doc}):b.type===Da.Modified&&c.type===Da.Added?this.changeMap=this.changeMap.insert(a,{type:Da.Added,doc:b.doc}):b.type===Da.Removed&&c.type===Da.Added?this.changeMap=this.changeMap.remove(a):b.type===Da.Removed&&c.type===Da.Modified?this.changeMap=this.changeMap.insert(a,{type:Da.Removed,doc:c.doc}):b.type===Da.Added&&c.type===Da.Removed?this.changeMap=
this.changeMap.insert(a,{type:Da.Modified,doc:b.doc}):w("unsupported combination of changes: "+JSON.stringify(b)+" after "+JSON.stringify(c)):this.changeMap=this.changeMap.insert(a,b)};a.prototype.getChanges=function(){var b=[];this.changeMap.inorderTraversal(function(a,c){b.push(c)});return b};return a}(),gf=function(){function a(b,a,c,g,e,h,f,k){this.query=b;this.docs=a;this.oldDocs=c;this.docChanges=g;this.mutatedKeys=e;this.fromCache=h;this.syncStateChanged=f;this.excludesMetadataChanges=k}a.fromInitialDocuments=
function(b,d,c,g){var l=[];d.forEach(function(b){l.push({type:Da.Added,doc:b})});return new a(b,d,ce.emptySet(d),l,c,g,!0,!1)};Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){if(!(this.fromCache===b.fromCache&&this.syncStateChanged===b.syncStateChanged&&this.mutatedKeys.isEqual(b.mutatedKeys)&&this.query.isEqual(b.query)&&this.docs.isEqual(b.docs)&&this.oldDocs.isEqual(b.oldDocs)))return!1;
var a=this.docChanges;b=b.docChanges;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c].type!==b[c].type||!a[c].doc.isEqual(b[c].doc))return!1;return!0};return a}(),Df=function(){function a(b,a,c,g,e){this.snapshotVersion=b;this.targetChanges=a;this.targetMismatches=c;this.documentUpdates=g;this.resolvedLimboDocuments=e}a.createSynthesizedRemoteEventForCurrentChange=function(b,d){var c;b=(c={},c[b]=Nc.createSynthesizedTargetChangeForCurrentChange(b,d),c);return new a(hb.MIN,b,xa,Sb,
ra())};return a}(),Nc=function(){function a(b,a,c,g,e){this.resumeToken=b;this.current=a;this.addedDocuments=c;this.modifiedDocuments=g;this.removedDocuments=e}a.createSynthesizedTargetChangeForCurrentChange=function(b,d){return new a(e(),d,ra(),ra(),ra())};return a}(),na=function(){return function(a,b,d,c){this.updatedTargetIds=a;this.removedTargetIds=b;this.key=d;this.newDoc=c}}(),gc=function(){return function(a,b){this.targetId=a;this.existenceFilter=b}}(),nb;(function(a){a[a.NoChange=0]="NoChange";
a[a.Added=1]="Added";a[a.Removed=2]="Removed";a[a.Current=3]="Current";a[a.Reset=4]="Reset"})(nb||(nb={}));var hc=function(){return function(a,b,d,c){void 0===d&&(d=e());void 0===c&&(c=null);this.state=a;this.targetIds=b;this.resumeToken=d;this.cause=c}}(),$f=function(){function a(){this.pendingResponses=0;this.documentChanges=new sb(ia.comparator);this._resumeToken=e();this._current=!1;this._hasPendingChanges=!0}Object.defineProperty(a.prototype,"current",{get:function(){return this._current},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0});a.prototype.updateResumeToken=function(b){0<b.length&&(this._hasPendingChanges=!0,this._resumeToken=
b)};a.prototype.toTargetChange=function(){var b=ra(),a=ra(),c=ra();this.documentChanges.forEach(function(d,g){switch(g){case Da.Added:b=b.add(d);break;case Da.Modified:a=a.add(d);break;case Da.Removed:c=c.add(d);break;default:w("Encountered invalid change type: "+g)}});return new Nc(this._resumeToken,this._current,b,a,c)};a.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1;this.documentChanges=new sb(ia.comparator)};a.prototype.addDocumentChange=function(b,a){this._hasPendingChanges=
!0;this.documentChanges=this.documentChanges.insert(b,a)};a.prototype.removeDocumentChange=function(b){this._hasPendingChanges=!0;this.documentChanges=this.documentChanges.remove(b)};a.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1};a.prototype.recordTargetResponse=function(){--this.pendingResponses};a.prototype.markCurrent=function(){this._current=this._hasPendingChanges=!0};return a}(),Ef=function(){function a(b){this.metadataProvider=b;this.targetStates={};this.pendingDocumentUpdates=
Sb;this.pendingDocumentTargetMapping=new sb(ia.comparator);this.pendingTargetResets=new tb(pa)}a.prototype.handleDocumentChange=function(b){for(var a=0,c=b.updatedTargetIds;a<c.length;a++){var g=c[a];b.newDoc instanceof da?this.addDocumentToTarget(g,b.newDoc):b.newDoc instanceof cb&&this.removeDocumentFromTarget(g,b.key,b.newDoc)}a=0;for(c=b.removedTargetIds;a<c.length;a++)g=c[a],this.removeDocumentFromTarget(g,b.key,b.newDoc)};a.prototype.handleTargetChange=function(b){var a=this;this.forEachTarget(b,
function(d){var c=a.ensureTargetState(d);switch(b.state){case nb.NoChange:a.isActiveTarget(d)&&c.updateResumeToken(b.resumeToken);break;case nb.Added:c.recordTargetResponse();c.isPending||c.clearPendingChanges();c.updateResumeToken(b.resumeToken);break;case nb.Removed:c.recordTargetResponse();c.isPending||a.removeTarget(d);k(!b.cause,"WatchChangeAggregator does not handle errored targets");break;case nb.Current:a.isActiveTarget(d)&&(c.markCurrent(),c.updateResumeToken(b.resumeToken));break;case nb.Reset:a.isActiveTarget(d)&&
(a.resetTarget(d),c.updateResumeToken(b.resumeToken));break;default:w("Unknown target watch change state: "+b.state)}})};a.prototype.forEachTarget=function(b,a){0<b.targetIds.length?b.targetIds.forEach(a):U(this.targetStates,a)};a.prototype.handleExistenceFilter=function(b){var a=b.targetId;b=b.existenceFilter.count;var c=this.queryDataForActiveTarget(a);c&&(c=c.query,c.isDocumentQuery()?0===b?(b=new ia(c.path),this.removeDocumentFromTarget(a,b,new cb(b,hb.forDeletedDoc()))):k(1===b,"Single document existence filter with count: "+
b):this.getCurrentDocumentCountForTarget(a)!==b&&(this.resetTarget(a),this.pendingTargetResets=this.pendingTargetResets.add(a)))};a.prototype.createRemoteEvent=function(b){var a=this,c={};U(this.targetStates,function(d,g){var e=a.queryDataForActiveTarget(d);e&&(g.current&&e.query.isDocumentQuery()&&(e=new ia(e.query.path),null!==a.pendingDocumentUpdates.get(e)||a.targetContainsDocument(d,e)||a.removeDocumentFromTarget(d,e,new cb(e,b))),g.hasPendingChanges&&(c[d]=g.toTargetChange(),g.clearPendingChanges()))});
var g=ra();this.pendingDocumentTargetMapping.forEach(function(b,d){var c=!0;d.forEachWhile(function(b){return(b=a.queryDataForActiveTarget(b))&&b.purpose!==mb.LimboResolution?c=!1:!0});c&&(g=g.add(b))});var e=new Df(b,c,this.pendingTargetResets,this.pendingDocumentUpdates,g);this.pendingDocumentUpdates=Sb;this.pendingDocumentTargetMapping=new sb(ia.comparator);this.pendingTargetResets=new tb(pa);return e};a.prototype.addDocumentToTarget=function(b,a){if(this.isActiveTarget(b)){var d=this.targetContainsDocument(b,
a.key)?Da.Modified:Da.Added;this.ensureTargetState(b).addDocumentChange(a.key,d);this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(a.key,a);this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(a.key,this.ensureDocumentTargetMapping(a.key).add(b))}};a.prototype.removeDocumentFromTarget=function(b,a,c){if(this.isActiveTarget(b)){var d=this.ensureTargetState(b);this.targetContainsDocument(b,a)?d.addDocumentChange(a,Da.Removed):d.removeDocumentChange(a);this.pendingDocumentTargetMapping=
this.pendingDocumentTargetMapping.insert(a,this.ensureDocumentTargetMapping(a).delete(b));c&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(a,c))}};a.prototype.removeTarget=function(b){delete this.targetStates[b]};a.prototype.getCurrentDocumentCountForTarget=function(b){var a=this.ensureTargetState(b).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(b).size+a.addedDocuments.size-a.removedDocuments.size};a.prototype.recordPendingTargetRequest=function(b){this.ensureTargetState(b).recordPendingTargetRequest()};
a.prototype.ensureTargetState=function(b){this.targetStates[b]||(this.targetStates[b]=new $f);return this.targetStates[b]};a.prototype.ensureDocumentTargetMapping=function(b){var a=this.pendingDocumentTargetMapping.get(b);a||(a=new tb(pa),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(b,a));return a};a.prototype.isActiveTarget=function(b){return null!==this.queryDataForActiveTarget(b)};a.prototype.queryDataForActiveTarget=function(b){var a=this.targetStates[b];return a&&
a.isPending?null:this.metadataProvider.getQueryDataForTarget(b)};a.prototype.resetTarget=function(b){var a=this;k(!this.targetStates[b].isPending,"Should only reset active targets");this.targetStates[b]=new $f;this.metadataProvider.getRemoteKeysForTarget(b).forEach(function(d){a.removeDocumentFromTarget(b,d,null)})};a.prototype.targetContainsDocument=function(b,a){return this.metadataProvider.getRemoteKeysForTarget(b).has(a)};return a}(),ee=function(){var a={};a[Cb.ASCENDING.name]="ASCENDING";a[Cb.DESCENDING.name]=
"DESCENDING";return a}(),I=function(){var a={};a[Ma.LESS_THAN.name]="LESS_THAN";a[Ma.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL";a[Ma.GREATER_THAN.name]="GREATER_THAN";a[Ma.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL";a[Ma.EQUAL.name]="EQUAL";a[Ma.ARRAY_CONTAINS.name]="ARRAY_CONTAINS";return a}(),Ff=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),hf=function(){function a(b,a){this.databaseId=b;this.options=a}a.prototype.emptyByteString=function(){return this.options.useProto3Json?
"":new Uint8Array(0)};a.prototype.unsafeCastProtoByteString=function(b){return b};a.prototype.fromRpcStatus=function(b){var a=void 0===b.code?D.UNKNOWN:kb(b.code);return new M(a,b.message||"")};a.prototype.toInt32Value=function(b){if(!Ua(b))return{value:b}};a.prototype.fromInt32Value=function(b){b="object"===typeof b?b.value:b;return Ua(b)?null:b};a.prototype.toTimestamp=function(b){return{seconds:b.seconds,nanos:b.nanoseconds}};a.prototype.fromTimestamp=function(b){if("string"===typeof b)return this.fromIso8601String(b);
k(!!b,"Cannot deserialize null or undefined timestamp.");var a=ha(b.seconds||"0");return new bb(a,b.nanos||0)};a.prototype.fromIso8601String=function(b){var a=0,c=Ff.exec(b);k(!!c,"invalid timestamp: "+b);c[1]&&(a=c[1],a=(a+"000000000").substr(0,9),a=Number(a));b=Math.floor((new Date(b)).getTime()/1E3);return new bb(b,a)};a.prototype.toBytes=function(b){return this.options.useProto3Json?b.toBase64():this.unsafeCastProtoByteString(b.toUint8Array())};a.prototype.fromBlob=function(b){if("string"===typeof b)return k(this.options.useProto3Json,
"Expected bytes to be passed in as Uint8Array, but got a string instead."),pc.fromBase64String(b);k(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead.");return pc.fromUint8Array(b)};a.prototype.toVersion=function(b){return this.toTimestamp(b.toTimestamp())};a.prototype.fromVersion=function(b){k(!!b,"Trying to deserialize version that isn't set");return hb.fromTimestamp(this.fromTimestamp(b))};a.prototype.toResourceName=function(b,a){return this.fullyQualifiedPrefixPath(b).child("documents").child(a).canonicalString()};
a.prototype.fromResourceName=function(b){b=Oa.fromString(b);k(this.isValidResourceName(b),"Tried to deserialize invalid key "+b.toString());return b};a.prototype.toName=function(b){return this.toResourceName(this.databaseId,b.path)};a.prototype.fromName=function(b){b=this.fromResourceName(b);k(b.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+b.get(1)+" vs "+this.databaseId.projectId);k(!b.get(3)&&!this.databaseId.database||b.get(3)===this.databaseId.database,
"Tried to deserialize key from different database: "+b.get(3)+" vs "+this.databaseId.database);return new ia(this.extractLocalPathFromResourceName(b))};a.prototype.toQueryPath=function(b){return this.toResourceName(this.databaseId,b)};a.prototype.fromQueryPath=function(b){b=this.fromResourceName(b);return 4===b.length?Oa.EMPTY_PATH:this.extractLocalPathFromResourceName(b)};Object.defineProperty(a.prototype,"encodedDatabaseId",{get:function(){return(new Oa(["projects",this.databaseId.projectId,"databases",
this.databaseId.database])).canonicalString()},enumerable:!0,configurable:!0});a.prototype.fullyQualifiedPrefixPath=function(b){return new Oa(["projects",b.projectId,"databases",b.database])};a.prototype.extractLocalPathFromResourceName=function(b){k(4<b.length&&"documents"===b.get(4),"tried to deserialize invalid key "+b.toString());return b.popFirst(5)};a.prototype.isValidResourceName=function(b){return 4<=b.length&&"projects"===b.get(0)&&"databases"===b.get(2)};a.prototype.toValue=function(b){if(b instanceof
fb)return{nullValue:"NULL_VALUE"};if(b instanceof Rb)return{booleanValue:b.value()};if(b instanceof Gb)return{integerValue:""+b.value()};if(b instanceof Hb){var a=b.value();if(this.options.useProto3Json){if(isNaN(a))return{doubleValue:"NaN"};if(Infinity===a)return{doubleValue:"Infinity"};if(-Infinity===a)return{doubleValue:"-Infinity"}}return{doubleValue:b.value()}}return b instanceof Hd?{stringValue:b.value()}:b instanceof md?{mapValue:this.toMapValue(b)}:b instanceof yc?{arrayValue:this.toArrayValue(b)}:
b instanceof Id?{timestampValue:this.toTimestamp(b.internalValue)}:b instanceof Zd?{geoPointValue:{latitude:b.value().latitude,longitude:b.value().longitude}}:b instanceof xc?{bytesValue:this.toBytes(b.value())}:b instanceof Wc?{referenceValue:this.toResourceName(b.databaseId,b.key.path)}:w("Unknown FieldValue "+JSON.stringify(b))};a.prototype.fromValue=function(b){var a=this,c=b.value_type;if(oa(b,c,"nullValue"))return fb.INSTANCE;if(oa(b,c,"booleanValue"))return Rb.of(b.booleanValue);if(oa(b,c,
"integerValue"))return new Gb(ha(b.integerValue));if(oa(b,c,"doubleValue")){if(this.options.useProto3Json){if("NaN"===b.doubleValue)return Hb.NAN;if("Infinity"===b.doubleValue)return Hb.POSITIVE_INFINITY;if("-Infinity"===b.doubleValue)return Hb.NEGATIVE_INFINITY}return new Hb(b.doubleValue)}return oa(b,c,"stringValue")?new Hd(b.stringValue):oa(b,c,"mapValue")?this.fromFields(b.mapValue.fields||{}):oa(b,c,"arrayValue")?(Ka(b.arrayValue,"arrayValue"),new yc((b.arrayValue.values||[]).map(function(b){return a.fromValue(b)}))):
oa(b,c,"timestampValue")?(Ka(b.timestampValue,"timestampValue"),new Id(this.fromTimestamp(b.timestampValue))):oa(b,c,"geoPointValue")?(Ka(b.geoPointValue,"geoPointValue"),new Zd(new Ia(b.geoPointValue.latitude||0,b.geoPointValue.longitude||0))):oa(b,c,"bytesValue")?(Ka(b.bytesValue,"bytesValue"),b=this.fromBlob(b.bytesValue),new xc(b)):oa(b,c,"referenceValue")?(Ka(b.referenceValue,"referenceValue"),c=this.fromResourceName(b.referenceValue),b=new Xd(c.get(1),c.get(3)),c=new ia(this.extractLocalPathFromResourceName(c)),
new Wc(b,c)):w("Unknown Value proto "+JSON.stringify(b))};a.prototype.toMutationDocument=function(b,a){return{name:this.toName(b),fields:this.toFields(a)}};a.prototype.toDocument=function(b){k(!b.hasLocalMutations,"Can't serialize documents with mutations.");return{name:this.toName(b.key),fields:this.toFields(b.data),updateTime:this.toTimestamp(b.version.toTimestamp())}};a.prototype.fromDocument=function(b,a){return new da(this.fromName(b.name),this.fromVersion(b.updateTime),this.fromFields(b.fields||
{}),{hasCommittedMutations:!!a})};a.prototype.toFields=function(b){var a=this,c={};b.forEach(function(b,d){c[b]=a.toValue(d)});return c};a.prototype.fromFields=function(b){var a=this,c=md.EMPTY;E(b,function(b,d){c=c.set(new xb([b]),a.fromValue(d))});return c};a.prototype.toMapValue=function(b){return{fields:this.toFields(b)}};a.prototype.toArrayValue=function(b){var a=this,c=[];b.forEach(function(b){c.push(a.toValue(b))});return{values:c}};a.prototype.fromFound=function(b){k(!!b.found,"Tried to deserialize a found document from a missing document.");
Ka(b.found.name,"doc.found.name");Ka(b.found.updateTime,"doc.found.updateTime");var a=this.fromName(b.found.name),c=this.fromVersion(b.found.updateTime),g=this.fromFields(b.found.fields||{});return new da(a,c,g,{},b.found)};a.prototype.fromMissing=function(b){k(!!b.missing,"Tried to deserialize a missing document from a found document.");k(!!b.readTime,"Tried to deserialize a missing document without a read time.");var a=this.fromName(b.missing);b=this.fromVersion(b.readTime);return new cb(a,b)};
a.prototype.fromMaybeDocument=function(b){var a=b.result;return oa(b,a,"found")?this.fromFound(b):oa(b,a,"missing")?this.fromMissing(b):w("invalid batch get response: "+JSON.stringify(b))};a.prototype.toWatchTargetChangeState=function(b){switch(b){case nb.Added:return"ADD";case nb.Current:return"CURRENT";case nb.NoChange:return"NO_CHANGE";case nb.Removed:return"REMOVE";case nb.Reset:return"RESET";default:return w("Unknown WatchTargetChangeState: "+b)}};a.prototype.toTestWatchChange=function(b){if(b instanceof
gc)return{filter:{count:b.existenceFilter.count,targetId:b.targetId}};if(b instanceof na){if(b.newDoc instanceof da){var a=b.newDoc;return{documentChange:{document:{name:this.toName(a.key),fields:this.toFields(a.data),updateTime:this.toVersion(a.version)},targetIds:b.updatedTargetIds,removedTargetIds:b.removedTargetIds}}}if(b.newDoc instanceof cb)return a=b.newDoc,{documentDelete:{document:this.toName(a.key),readTime:this.toVersion(a.version),removedTargetIds:b.removedTargetIds}};if(null===b.newDoc)return{documentRemove:{document:this.toName(b.key),
removedTargetIds:b.removedTargetIds}}}return b instanceof hc?(a=void 0,b.cause&&(a={code:Ab(b.cause.code),message:b.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(b.state),targetIds:b.targetIds,resumeToken:this.unsafeCastProtoByteString(b.resumeToken),cause:a}}):w("Unrecognized watch change: "+JSON.stringify(b))};a.prototype.fromWatchChange=function(b){var a=b.response_type;if(oa(b,a,"targetChange")){Ka(b.targetChange,"targetChange");a=this.fromWatchTargetChangeState(b.targetChange.targetChangeType||
"NO_CHANGE");var c=b.targetChange.targetIds||[],g=b.targetChange.resumeToken||this.emptyByteString();b=(b=b.targetChange.cause)&&this.fromRpcStatus(b);a=new hc(a,c,g,b||null)}else if(oa(b,a,"documentChange"))Ka(b.documentChange,"documentChange"),Ka(b.documentChange.document,"documentChange.name"),Ka(b.documentChange.document.name,"documentChange.document.name"),Ka(b.documentChange.document.updateTime,"documentChange.document.updateTime"),c=b.documentChange,a=this.fromName(c.document.name),g=this.fromVersion(c.document.updateTime),
b=this.fromFields(c.document.fields||{}),a=new da(a,g,b,{},c.document),g=c.removedTargetIds||[],a=new na(c.targetIds||[],g,a.key,a);else if(oa(b,a,"documentDelete"))Ka(b.documentDelete,"documentDelete"),Ka(b.documentDelete.document,"documentDelete.document"),c=b.documentDelete,a=this.fromName(c.document),g=c.readTime?this.fromVersion(c.readTime):hb.forDeletedDoc(),a=new cb(a,g),g=c.removedTargetIds||[],a=new na([],g,a.key,a);else if(oa(b,a,"documentRemove"))Ka(b.documentRemove,"documentRemove"),Ka(b.documentRemove.document,
"documentRemove"),c=b.documentRemove,a=this.fromName(c.document),g=c.removedTargetIds||[],a=new na([],g,a,null);else if(oa(b,a,"filter"))Ka(b.filter,"filter"),Ka(b.filter.targetId,"filter.targetId"),a=b.filter,c=new Lc(a.count||0),a=new gc(a.targetId,c);else return w("Unknown change type "+JSON.stringify(b));return a};a.prototype.fromWatchTargetChangeState=function(b){return"NO_CHANGE"===b?nb.NoChange:"ADD"===b?nb.Added:"REMOVE"===b?nb.Removed:"CURRENT"===b?nb.Current:"RESET"===b?nb.Reset:w("Got unexpected TargetChange.state: "+
b)};a.prototype.versionFromListenResponse=function(b){if(!oa(b,b.response_type,"targetChange"))return hb.MIN;b=b.targetChange;return b.targetIds&&b.targetIds.length||!b.readTime?hb.MIN:this.fromVersion(b.readTime)};a.prototype.toMutation=function(b){var a=this;if(b instanceof Vb)var g={update:this.toMutationDocument(b.key,b.value)};else if(b instanceof h)g={delete:this.toName(b.key)};else if(b instanceof m)g={update:this.toMutationDocument(b.key,b.data),updateMask:this.toDocumentMask(b.fieldMask)};
else if(b instanceof c)g={transform:{document:this.toName(b.key),fieldTransforms:b.fieldTransforms.map(function(b){return a.toFieldTransform(b)})}};else return w("Unknown mutation type "+b.type);b.precondition.isNone||(g.currentDocument=this.toPrecondition(b.precondition));return g};a.prototype.fromMutation=function(b){var a=this,g=b.currentDocument?this.fromPrecondition(b.currentDocument):yb.NONE;if(b.update){Ka(b.update.name,"name");var e=this.fromName(b.update.name),f=this.fromFields(b.update.fields||
{});return b.updateMask?(b=this.fromDocumentMask(b.updateMask),new m(e,f,b,g)):new Vb(e,f,g)}return b.delete?(e=this.fromName(b.delete),new h(e,g)):b.transform?(e=this.fromName(b.transform.document),f=b.transform.fieldTransforms.map(function(b){return a.fromFieldTransform(b)}),k(!0===g.exists,'Transforms only support precondition "exists \x3d\x3d true"'),new c(e,f)):w("unknown mutation proto: "+JSON.stringify(b))};a.prototype.toPrecondition=function(b){k(!b.isNone,"Can't serialize an empty precondition");
return void 0!==b.updateTime?{updateTime:this.toVersion(b.updateTime)}:void 0!==b.exists?{exists:b.exists}:w("Unknown precondition")};a.prototype.fromPrecondition=function(b){return void 0!==b.updateTime?yb.updateTime(this.fromVersion(b.updateTime)):void 0!==b.exists?yb.exists(b.exists):yb.NONE};a.prototype.fromWriteResult=function(b,a){var c=this;a=b.updateTime?this.fromVersion(b.updateTime):this.fromVersion(a);var d=null;b.transformResults&&0<b.transformResults.length&&(d=b.transformResults.map(function(b){return c.fromValue(b)}));
return new Lb(a,d)};a.prototype.fromWriteResults=function(b,a){var c=this;return b&&0<b.length?(k(void 0!==a,"Received a write result without a commit time"),b.map(function(b){return c.fromWriteResult(b,a)})):[]};a.prototype.toFieldTransform=function(b){var a=this,c=b.transform;if(c instanceof t)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof X)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:c.elements.map(function(b){return a.toValue(b)})}};
if(c instanceof Kc)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:c.elements.map(function(b){return a.toValue(b)})}};if(c instanceof bd)return{fieldPath:b.field.canonicalString(),increment:this.toValue(c.operand)};throw w("Unknown transform: "+b.transform);};a.prototype.fromFieldTransform=function(b){var a=this,c=b.transform_type,g=null;oa(b,c,"setToServerValue")?(k("REQUEST_TIME"===b.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(b)),g=t.instance):
oa(b,c,"appendMissingElements")?(g=b.appendMissingElements.values||[],g=new X(g.map(function(b){return a.fromValue(b)}))):oa(b,c,"removeAllFromArray")?(g=b.removeAllFromArray.values||[],g=new Kc(g.map(function(b){return a.fromValue(b)}))):oa(b,c,"increment")?(g=this.fromValue(b.increment),k(g instanceof kd,"NUMERIC_ADD transform requires a NumberValue"),g=new bd(g)):w("Unknown transform proto: "+JSON.stringify(b));b=xb.fromServerFormat(b.fieldPath);return new Db(b,g)};a.prototype.toDocumentsTarget=
function(b){return{documents:[this.toQueryPath(b.path)]}};a.prototype.fromDocumentsTarget=function(b){var a=b.documents.length;k(1===a,"DocumentsTarget contained other than 1 document: "+a);return xd.atPath(this.fromQueryPath(b.documents[0]))};a.prototype.toQueryTarget=function(b){var a={structuredQuery:{}},c=b.path;null!==b.collectionGroup?(k(0===c.length%2,"Collection Group queries should be within a document path or root."),a.parent=this.toQueryPath(c),a.structuredQuery.from=[{collectionId:b.collectionGroup,
allDescendants:!0}]):(k(0!==c.length%2,"Document queries with filters are not supported."),a.parent=this.toQueryPath(c.popLast()),a.structuredQuery.from=[{collectionId:c.lastSegment()}]);if(c=this.toFilter(b.filters))a.structuredQuery.where=c;if(c=this.toOrder(b.orderBy))a.structuredQuery.orderBy=c;c=this.toInt32Value(b.limit);void 0!==c&&(a.structuredQuery.limit=c);b.startAt&&(a.structuredQuery.startAt=this.toCursor(b.startAt));b.endAt&&(a.structuredQuery.endAt=this.toCursor(b.endAt));return a};
a.prototype.fromQueryTarget=function(b){var a=this.fromQueryPath(b.parent);b=b.structuredQuery;var c=b.from?b.from.length:0,g=null;0<c&&(k(1===c,"StructuredQuery.from with more than one collection is not supported."),c=b.from[0],c.allDescendants?g=c.collectionId:a=a.child(c.collectionId));c=[];b.where&&(c=this.fromFilter(b.where));var e=[];b.orderBy&&(e=this.fromOrder(b.orderBy));var h=null;b.limit&&(h=this.fromInt32Value(b.limit));var f=null;b.startAt&&(f=this.fromCursor(b.startAt));var m=null;b.endAt&&
(m=this.fromCursor(b.endAt));return new xd(a,g,e,c,h,f,m)};a.prototype.toListenRequestLabels=function(b){b=this.toLabel(b.purpose);return null==b?null:{"goog-listen-tags":b}};a.prototype.toLabel=function(b){switch(b){case mb.Listen:return null;case mb.ExistenceFilterMismatch:return"existence-filter-mismatch";case mb.LimboResolution:return"limbo-document";default:return w("Unrecognized query purpose: "+b)}};a.prototype.toTarget=function(b){var a=b.query;a=a.isDocumentQuery()?{documents:this.toDocumentsTarget(a)}:
{query:this.toQueryTarget(a)};a.targetId=b.targetId;0<b.resumeToken.length&&(a.resumeToken=this.unsafeCastProtoByteString(b.resumeToken));return a};a.prototype.toFilter=function(b){var a=this;if(0!==b.length)return b=b.map(function(b){return b instanceof Xc?a.toRelationFilter(b):a.toUnaryFilter(b)}),1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}};a.prototype.fromFilter=function(b){var a=this;return b?void 0!==b.unaryFilter?[this.fromUnaryFilter(b)]:void 0!==b.fieldFilter?[this.fromRelationFilter(b)]:
void 0!==b.compositeFilter?b.compositeFilter.filters.map(function(b){return a.fromFilter(b)}).reduce(function(b,a){return b.concat(a)}):w("Unknown filter: "+JSON.stringify(b)):[]};a.prototype.toOrder=function(b){var a=this;if(0!==b.length)return b.map(function(b){return a.toPropertyOrder(b)})};a.prototype.fromOrder=function(b){var a=this;return b.map(function(b){return a.fromPropertyOrder(b)})};a.prototype.toCursor=function(b){var a=this;return{before:b.before,values:b.position.map(function(b){return a.toValue(b)})}};
a.prototype.fromCursor=function(b){var a=this,c=!!b.before;b=b.values.map(function(b){return a.fromValue(b)});return new Yc(b,c)};a.prototype.toDirection=function(b){return ee[b.name]};a.prototype.fromDirection=function(b){switch(b){case "ASCENDING":return Cb.ASCENDING;case "DESCENDING":return Cb.DESCENDING}};a.prototype.toOperatorName=function(b){return I[b.name]};a.prototype.fromOperatorName=function(b){switch(b){case "EQUAL":return Ma.EQUAL;case "GREATER_THAN":return Ma.GREATER_THAN;case "GREATER_THAN_OR_EQUAL":return Ma.GREATER_THAN_OR_EQUAL;
case "LESS_THAN":return Ma.LESS_THAN;case "LESS_THAN_OR_EQUAL":return Ma.LESS_THAN_OR_EQUAL;case "ARRAY_CONTAINS":return Ma.ARRAY_CONTAINS;case "OPERATOR_UNSPECIFIED":return w("Unspecified relation");default:return w("Unknown relation")}};a.prototype.toFieldPathReference=function(b){return{fieldPath:b.canonicalString()}};a.prototype.fromFieldPathReference=function(b){return xb.fromServerFormat(b.fieldPath)};a.prototype.toPropertyOrder=function(b){return{field:this.toFieldPathReference(b.field),direction:this.toDirection(b.dir)}};
a.prototype.fromPropertyOrder=function(b){return new gb(this.fromFieldPathReference(b.field),this.fromDirection(b.direction))};a.prototype.toRelationFilter=function(b){return b instanceof Xc?{fieldFilter:{field:this.toFieldPathReference(b.field),op:this.toOperatorName(b.op),value:this.toValue(b.value)}}:w("Unrecognized filter: "+JSON.stringify(b))};a.prototype.fromRelationFilter=function(b){return new Xc(this.fromFieldPathReference(b.fieldFilter.field),this.fromOperatorName(b.fieldFilter.op),this.fromValue(b.fieldFilter.value))};
a.prototype.toUnaryFilter=function(b){return b instanceof fc?{unaryFilter:{field:this.toFieldPathReference(b.field),op:"IS_NAN"}}:b instanceof Jd?{unaryFilter:{field:this.toFieldPathReference(b.field),op:"IS_NULL"}}:w("Unrecognized filter: "+JSON.stringify(b))};a.prototype.fromUnaryFilter=function(b){switch(b.unaryFilter.op){case "IS_NAN":return b=this.fromFieldPathReference(b.unaryFilter.field),new fc(b);case "IS_NULL":return b=this.fromFieldPathReference(b.unaryFilter.field),new Jd(b);case "OPERATOR_UNSPECIFIED":return w("Unspecified filter");
default:return w("Unknown filter")}};a.prototype.toDocumentMask=function(b){var a=[];b.fields.forEach(function(b){return a.push(b.canonicalString())});return{fieldPaths:a}};a.prototype.fromDocumentMask=function(b){b=(b.fieldPaths||[]).map(function(b){return xb.fromServerFormat(b)});return Zc.fromArray(b)};return a}(),Pd=function(){function a(b){this.sendFn=b.sendFn;this.closeFn=b.closeFn}a.prototype.onOpen=function(b){k(!this.wrappedOnOpen,"Called onOpen on stream twice!");this.wrappedOnOpen=b};a.prototype.onClose=
function(b){k(!this.wrappedOnClose,"Called onClose on stream twice!");this.wrappedOnClose=b};a.prototype.onMessage=function(b){k(!this.wrappedOnMessage,"Called onMessage on stream twice!");this.wrappedOnMessage=b};a.prototype.close=function(){this.closeFn()};a.prototype.send=function(b){this.sendFn(b)};a.prototype.callOnOpen=function(){k(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set");this.wrappedOnOpen()};a.prototype.callOnClose=function(b){k(void 0!==this.wrappedOnClose,
"Cannot call onClose because no callback was set");this.wrappedOnClose(b)};a.prototype.callOnMessage=function(b){k(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set");this.wrappedOnMessage(b)};return a}(),Fg={BatchGetDocuments:"batchGet",Commit:"commit"},ag="gl-js/ fire/"+Vc,Gf=function(){function a(b){this.databaseId=b.databaseId;this.baseUrl=(b.ssl?"https":"http")+"://"+b.host;this.forceLongPolling=b.forceLongPolling}a.prototype.modifyHeadersForRequest=function(b,
a){if(a)for(var c in a.authHeaders)a.authHeaders.hasOwnProperty(c)&&(b[c]=a.authHeaders[c]);b["X-Goog-Api-Client"]=ag};a.prototype.invokeRPC=function(b,a,c){var d=this,g=this.makeUrl(b);return new Promise(function(e,l){var h=new $b.XhrIo;h.listenOnce($b.EventType.COMPLETE,function(){try{switch(h.getLastErrorCode()){case $b.ErrorCode.NO_ERROR:var a=h.getResponseJson();z("Connection","XHR received:",JSON.stringify(a));e(a);break;case $b.ErrorCode.TIMEOUT:z("Connection",'RPC "'+b+'" timed out');l(new M(D.DEADLINE_EXCEEDED,
"Request time out"));break;case $b.ErrorCode.HTTP_ERROR:var c=h.getStatus();z("Connection",'RPC "'+b+'" failed with status:',c,"response text:",h.getResponseText());0<c?l(new M(za(c),"Server responded with status "+h.getStatusText())):(z("Connection",'RPC "'+b+'" failed'),l(new M(D.UNAVAILABLE,"Connection failed.")));break;default:w('RPC "'+b+'" failed with unanticipated webchannel error '+h.getLastErrorCode()+": "+h.getLastError()+", giving up.")}}finally{z("Connection",'RPC "'+b+'" completed.')}});
var f=JSON.stringify(a);z("Connection","XHR sending: ",g+" "+f);var k={"Content-Type":"text/plain"};d.modifyHeadersForRequest(k,c);h.send(g,"POST",f,k,15)})};a.prototype.invokeStreamingRPC=function(b,a,c){return this.invokeRPC(b,a,c)};a.prototype.openStream=function(b,a){var c=[this.baseUrl,"/","google.firestore.v1.Firestore","/",b,"/channel"];b=$b.createWebChannelTransport();var d={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+
this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6E5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(d.initMessageHeaders,a);id.isReactNative()||(d.httpHeadersOverwriteParam="$httpHeaders");a=c.join("");z("Connection","Creating WebChannel: "+a+" "+d);var g=b.createWebChannel(a,d),e=!1,h=!1,f=new Pd({sendFn:function(b){h?z("Connection","Not sending because WebChannel is closed:",
b):(e||(z("Connection","Opening WebChannel transport."),g.open(),e=!0),z("Connection","WebChannel sending:",b),g.send(b))},closeFn:function(){return g.close()}});a=function(b,a){g.listen(b,function(b){try{a(b)}catch(Xe){setTimeout(function(){throw Xe;},0)}})};a($b.WebChannel.EventType.OPEN,function(){h||z("Connection","WebChannel transport opened.")});a($b.WebChannel.EventType.CLOSE,function(){h||(h=!0,z("Connection","WebChannel transport closed"),f.callOnClose())});a($b.WebChannel.EventType.ERROR,
function(b){h||(h=!0,z("Connection","WebChannel transport errored:",b),f.callOnClose(new M(D.UNAVAILABLE,"The operation could not be completed")))});a($b.WebChannel.EventType.MESSAGE,function(b){if(!h){var a=b.data[0];k(!!a,"Got a webchannel message without data.");if(b=a.error||a[0]&&a[0].error){z("Connection","WebChannel received error:",b);a=b.status;var c=Ba[a];c=void 0===c?void 0:kb(c);var d=b.message;void 0===c&&(c=D.INTERNAL,d="Unknown error status: "+a+" with message "+b.message);h=!0;f.callOnClose(new M(c,
d));g.close()}else z("Connection","WebChannel received:",a),f.callOnMessage(a)}});setTimeout(function(){f.callOnOpen()},0);return f};a.prototype.makeUrl=function(b){var a=Fg[b];k(void 0!==a,"Unknown REST mapping for: "+b);b=[this.baseUrl,"/","v1"];b.push("/projects/");b.push(this.databaseId.projectId);b.push("/databases/");b.push(this.databaseId.database);b.push("/documents");b.push(":");b.push(a);return b.join("")};return a}(),xe=function(){function a(){this.emptyByteString="";this.base64Available=
"undefined"!==typeof atob}Object.defineProperty(a.prototype,"document",{get:function(){return"undefined"!==typeof document?document:null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"window",{get:function(){return"undefined"!==typeof window?window:null},enumerable:!0,configurable:!0});a.prototype.loadConnection=function(b){return Promise.resolve(new Gf(b))};a.prototype.newSerializer=function(b){return new hf(b,{useProto3Json:!0})};a.prototype.formatJSON=function(b){return JSON.stringify(b)};
a.prototype.atob=function(b){return atob(b)};a.prototype.btoa=function(b){return btoa(b)};return a}();Bb.setPlatform(new xe);var Ub=function(){function a(b,a){var c=this;this.previousValue=b;a&&(a.sequenceNumberHandler=function(b){return c.setPreviousValue(b)},this.writeNewSequenceNumber=function(b){return a.writeSequenceNumber(b)})}a.prototype.setPreviousValue=function(b){return this.previousValue=Math.max(b,this.previousValue)};a.prototype.next=function(){var b=++this.previousValue;this.writeNewSequenceNumber&&
this.writeNewSequenceNumber(b);return b};a.INVALID=-1;return a}(),fe=function(){return function(){var a=this;this.promise=new Promise(function(b,c){a.resolve=b;a.reject=c})}}(),zc;(function(a){a.All="all";a.ListenStreamIdle="listen_stream_idle";a.ListenStreamConnectionBackoff="listen_stream_connection_backoff";a.WriteStreamIdle="write_stream_idle";a.WriteStreamConnectionBackoff="write_stream_connection_backoff";a.OnlineStateTimeout="online_state_timeout";a.ClientMetadataRefresh="client_metadata_refresh";
a.LruGarbageCollection="lru_garbage_collection"})(zc||(zc={}));var dd=function(){function a(b,a,c,g,e){this.asyncQueue=b;this.timerId=a;this.targetTimeMs=c;this.op=g;this.removalCallback=e;this.deferred=new fe;this.then=this.deferred.promise.then.bind(this.deferred.promise);this.catch=this.deferred.promise.catch.bind(this.deferred.promise);this.deferred.promise.catch(function(b){})}a.createAndSchedule=function(b,c,g,e,h){var d=Date.now()+g;b=new a(b,c,d,e,h);b.start(g);return b};a.prototype.start=
function(b){var a=this;this.timerHandle=setTimeout(function(){return a.handleDelayElapsed()},b)};a.prototype.skipDelay=function(){return this.handleDelayElapsed()};a.prototype.cancel=function(b){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(D.CANCELLED,"Operation cancelled"+(b?": "+b:""))))};a.prototype.handleDelayElapsed=function(){var b=this;this.asyncQueue.enqueueAndForget(function(){return null!==b.timerHandle?(b.clearTimeout(),b.op().then(function(a){return b.deferred.resolve(a)})):
Promise.resolve()})};a.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)};return a}(),kf=function(){function a(){this.tail=Promise.resolve();this.delayedOperations=[];this.operationInProgress=!1}a.prototype.enqueueAndForget=function(b){this.enqueue(b)};a.prototype.enqueue=function(b){var a=this;this.verifyNotFailed();var c=this.tail.then(function(){a.operationInProgress=!0;return b().catch(function(b){a.failure=
b;a.operationInProgress=!1;var c=b.stack||b.message||"";C("INTERNAL UNHANDLED ERROR: ",c);0>c.indexOf("Firestore Test Simulated Error")&&setTimeout(function(){throw b;},0);throw b;}).then(function(b){a.operationInProgress=!1;return b})});return this.tail=c};a.prototype.enqueueAfterDelay=function(b,a,c){var d=this;this.verifyNotFailed();k(0<=a,"Attempted to schedule an operation with a negative delay of "+a);k(!this.containsDelayedOperation(b),"Attempted to schedule multiple operations with timer id "+
b+".");b=dd.createAndSchedule(this,b,a,c,function(b){return d.removeDelayedOperation(b)});this.delayedOperations.push(b);return b};a.prototype.verifyNotFailed=function(){this.failure&&w("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))};a.prototype.verifyOperationInProgress=function(){k(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")};a.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})};a.prototype.containsDelayedOperation=
function(b){for(var a=0,c=this.delayedOperations;a<c.length;a++)if(c[a].timerId===b)return!0;return!1};a.prototype.runDelayedOperationsEarly=function(b){var a=this;return this.drain().then(function(){k(b===zc.All||a.containsDelayedOperation(b),"Attempted to drain to missing operation "+b);a.delayedOperations.sort(function(b,a){return b.targetTimeMs-a.targetTimeMs});for(var c=0,d=a.delayedOperations;c<d.length;c++){var g=d[c];g.skipDelay();if(b!==zc.All&&g.timerId===b)break}return a.drain()})};a.prototype.removeDelayedOperation=
function(b){b=this.delayedOperations.indexOf(b);k(0<=b,"Delayed operation not found.");this.delayedOperations.splice(b,1)};return a}(),nd=function(){function a(b,a,c,g){this.batchId=b;this.localWriteTime=a;this.baseMutations=c;this.mutations=g;k(0<g.length,"Cannot create an empty mutation batch")}a.prototype.applyToRemoteDocument=function(b,a,c){a&&k(a.key.isEqual(b),"applyToRemoteDocument: key "+b+" should match maybeDoc key\n        "+a.key);c=c.mutationResults;k(c.length===this.mutations.length,
"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+c.length+").");for(var d=0;d<this.mutations.length;d++){var g=this.mutations[d];g.key.isEqual(b)&&(a=g.applyToRemoteDocument(a,c[d]))}return a};a.prototype.applyToLocalView=function(b,a){a&&k(a.key.isEqual(b),"applyToLocalDocument: key "+b+" should match maybeDoc key\n        "+a.key);for(var c=0,d=this.baseMutations;c<d.length;c++){var g=d[c];g.key.isEqual(b)&&(a=g.applyToLocalView(a,a,this.localWriteTime))}c=
a;d=0;for(var e=this.mutations;d<e.length;d++)g=e[d],g.key.isEqual(b)&&(a=g.applyToLocalView(a,c,this.localWriteTime));return a};a.prototype.applyToLocalDocumentSet=function(b){var a=this,c=b;this.mutations.forEach(function(d){var g=a.applyToLocalView(d.key,b.get(d.key));g&&(c=c.insert(d.key,g))});return c};a.prototype.keys=function(){return this.mutations.reduce(function(b,a){return b.add(a.key)},ra())};a.prototype.isEqual=function(b){return this.batchId===b.batchId&&Ca(this.mutations,b.mutations)&&
Ca(this.baseMutations,b.baseMutations)};return a}(),cg=function(){function a(b,a,c,g,e){this.batch=b;this.commitVersion=a;this.mutationResults=c;this.streamToken=g;this.docVersions=e}a.from=function(b,c,g,e){k(b.mutations.length===g.length,"Mutations sent "+b.mutations.length+" must equal results received "+g.length);for(var d=be,l=b.mutations,h=0;h<l.length;h++)d=d.insert(l[h].key,g[h].version);return new a(b,c,g,e,d)};return a}(),L=function(){function a(b){var a=this;this.catchCallback=this.nextCallback=
null;this.error=this.result=void 0;this.callbackAttached=this.isDone=!1;b(function(b){a.isDone=!0;a.result=b;a.nextCallback&&a.nextCallback(b)},function(b){a.isDone=!0;a.error=b;a.catchCallback&&a.catchCallback(b)})}a.prototype.catch=function(b){return this.next(void 0,b)};a.prototype.next=function(b,c){var d=this;this.callbackAttached&&w("Called next() or catch() twice for PersistencePromise");this.callbackAttached=!0;return this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(b,
this.result):new a(function(a,g){d.nextCallback=function(c){d.wrapSuccess(b,c).next(a,g)};d.catchCallback=function(b){d.wrapFailure(c,b).next(a,g)}})};a.prototype.toPromise=function(){var b=this;return new Promise(function(a,c){b.next(a,c)})};a.prototype.wrapUserFunction=function(b){try{var c=b();return c instanceof a?c:a.resolve(c)}catch(l){return a.reject(l)}};a.prototype.wrapSuccess=function(b,c){return b?this.wrapUserFunction(function(){return b(c)}):a.resolve(c)};a.prototype.wrapFailure=function(b,
c){return b?this.wrapUserFunction(function(){return b(c)}):a.reject(c)};a.resolve=function(b){return new a(function(a,c){a(b)})};a.reject=function(b){return new a(function(a,c){c(b)})};a.waitFor=function(b){return new a(function(a,c){var d=0,g=0,e=!1;b.forEach(function(b){++d;b.next(function(){++g;e&&g===d&&a()},function(b){return c(b)})});e=!0;g===d&&a()})};a.or=function(b){for(var c=a.resolve(!1),g=function(b){c=c.next(function(c){return c?a.resolve(c):b()})},e=0;e<b.length;e++)g(b[e]);return c};
a.forEach=function(b,a){var c=this,d=[];b.forEach(function(b,g){d.push(a.call(c,b,g))});return this.waitFor(d)};return a}(),Hg=function(){function a(b,a,c,g){this.userId=b;this.serializer=a;this.indexManager=c;this.referenceDelegate=g;this.documentKeysByBatchId={}}a.forUser=function(b,c,g,e){k(""!==b.uid,"UserID must not be an empty string.");b=b.isAuthenticated()?b.uid:"";return new a(b,c,g,e)};a.prototype.checkEmpty=function(b){var a=!0,c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],
[this.userId,Number.POSITIVE_INFINITY]);return Eb(b).iterate({index:pb.userMutationsIndex,range:c},function(b,c,d){a=!1;d.done()}).next(function(){return a})};a.prototype.acknowledgeBatch=function(b,a,c){return this.getMutationQueueMetadata(b).next(function(a){a.lastStreamToken=sd(c);return ub.getStore(b,Rd.store).put(a)})};a.prototype.getLastStreamToken=function(b){return this.getMutationQueueMetadata(b).next(function(b){return b.lastStreamToken})};a.prototype.setLastStreamToken=function(b,a){return this.getMutationQueueMetadata(b).next(function(c){c.lastStreamToken=
sd(a);return ub.getStore(b,Rd.store).put(c)})};a.prototype.addMutationBatch=function(b,a,c,g){var d=this,e=Pa(b),l=Eb(b);return l.add({}).next(function(h){k("number"===typeof h,"Auto-generated key is not a number");var f=new nd(h,a,c,g),m=d.serializer.toDbMutationBatch(d.userId,f);d.documentKeysByBatchId[h]=f.keys();for(var y=[],r=0;r<g.length;r++){var n=g[r],ea=Pc.key(d.userId,n.key.path,h);y.push(l.put(m));y.push(e.put(ea,Pc.PLACEHOLDER));y.push(d.indexManager.addToCollectionParentIndex(b,n.key.path.popLast()))}return L.waitFor(y).next(function(){return f})})};
a.prototype.lookupMutationBatch=function(b,a){var c=this;return Eb(b).get(a).next(function(b){return b?(k(b.userId===c.userId,"Unexpected user '"+b.userId+"' for mutation batch "+a),c.serializer.fromDbMutationBatch(b)):null})};a.prototype.lookupMutationKeys=function(b,a){var c=this;return this.documentKeysByBatchId[a]?L.resolve(this.documentKeysByBatchId[a]):this.lookupMutationBatch(b,a).next(function(b){return b?(b=b.keys(),c.documentKeysByBatchId[a]=b):null})};a.prototype.getNextMutationBatchAfterBatchId=
function(b,a){var c=this;return this.getMutationQueueMetadata(b).next(function(d){var g=a+1;d=IDBKeyRange.lowerBound([c.userId,g]);var e=null;return Eb(b).iterate({index:pb.userMutationsIndex,range:d},function(b,a,d){a.userId===c.userId&&(k(a.batchId>=g,"Should have found mutation after "+g),e=c.serializer.fromDbMutationBatch(a));d.done()}).next(function(){return e})})};a.prototype.getAllMutationBatches=function(b){var a=this,c=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);
return Eb(b).loadAll(pb.userMutationsIndex,c).next(function(b){return b.map(function(b){return a.serializer.fromDbMutationBatch(b)})})};a.prototype.getAllMutationBatchesAffectingDocumentKey=function(b,a){var c=this,d=Pc.prefixForPath(this.userId,a.path);d=IDBKeyRange.lowerBound(d);var g=[];return Pa(b).iterate({range:d},function(d,e,l){e=d[0];var h=d[2],f=vb(d[1]);if(e===c.userId&&a.path.isEqual(f))return Eb(b).get(h).next(function(b){if(!b)throw w("Dangling document-mutation reference found: "+d+
" which points to "+h);k(b.userId===c.userId,"Unexpected user '"+b.userId+"' for mutation batch "+h);g.push(c.serializer.fromDbMutationBatch(b))});l.done()}).next(function(){return g})};a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(b,a){var c=this,d=new tb(pa),g=[];a.forEach(function(a){var e=Pc.prefixForPath(c.userId,a.path);e=IDBKeyRange.lowerBound(e);e=Pa(b).iterate({range:e},function(b,g,e){g=b[0];var l=b[2];b=vb(b[1]);g===c.userId&&a.path.isEqual(b)?d=d.add(l):e.done()});g.push(e)});
return L.waitFor(g).next(function(){return c.lookupMutationBatches(b,d)})};a.prototype.getAllMutationBatchesAffectingQuery=function(b,a){var c=this;k(!a.isDocumentQuery(),"Document queries shouldn't go down this path");k(!a.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var d=a.path,g=d.length+1;a=Pc.prefixForPath(this.userId,d);a=IDBKeyRange.lowerBound(a);var e=new tb(pa);return Pa(b).iterate({range:a},function(b,a,l){a=b[0];var h=b[2];b=vb(b[1]);a===
c.userId&&d.isPrefixOf(b)?b.length===g&&(e=e.add(h)):l.done()}).next(function(){return c.lookupMutationBatches(b,e)})};a.prototype.lookupMutationBatches=function(b,a){var c=this,d=[],g=[];a.forEach(function(a){g.push(Eb(b).get(a).next(function(b){if(null===b)throw w("Dangling document-mutation reference found, which points to "+a);k(b.userId===c.userId,"Unexpected user '"+b.userId+"' for mutation batch "+a);d.push(c.serializer.fromDbMutationBatch(b))}))});return L.waitFor(g).next(function(){return d})};
a.prototype.removeMutationBatch=function(b,a){var c=this;return Ob(b.simpleDbTransaction,this.userId,a).next(function(d){c.removeCachedMutationKeys(a.batchId);return L.forEach(d,function(a){return c.referenceDelegate.removeMutationReference(b,a)})})};a.prototype.removeCachedMutationKeys=function(b){delete this.documentKeysByBatchId[b]};a.prototype.performConsistencyCheck=function(b){var a=this;return this.checkEmpty(b).next(function(c){if(!c)return L.resolve();c=IDBKeyRange.lowerBound(Pc.prefixForUser(a.userId));
var d=[];return Pa(b).iterate({range:c},function(b,c,g){b[0]!==a.userId?g.done():(b=vb(b[1]),d.push(b))}).next(function(){k(0===d.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+d.map(function(b){return b.canonicalString()}))})})};a.prototype.containsKey=function(b,a){return bc(b,this.userId,a)};a.prototype.getMutationQueueMetadata=function(b){var a=this;return ub.getStore(b,Rd.store).get(this.userId).next(function(b){return b||new Rd(a.userId,
-1,"")})};return a}(),Ld;(function(a){a[a.QueryCache=0]="QueryCache";a[a.SyncEngine=1]="SyncEngine"})(Ld||(Ld={}));var Se=function(){function a(b,a){this.generatorId=b;k((b&1)===b,"Generator ID "+b+" contains more than 1 reserved bits");this.seek(void 0!==a?a:this.generatorId)}a.prototype.next=function(){var b=this.nextId;this.nextId+=2;return b};a.prototype.after=function(b){this.seek(b+2);return this.next()};a.prototype.seek=function(b){k((b&1)===this.generatorId,"Cannot supply target ID from different generator ID");
this.nextId=b};a.forQueryCache=function(){return new a(Ld.QueryCache,2)};a.forSyncEngine=function(){return new a(Ld.SyncEngine)};return a}(),oe=function(){function a(b){this.db=b}a.openOrCreate=function(b,c,g){k(a.isAvailable(),"IndexedDB not supported in current environment.");z("SimpleDb","Opening database:",b);return(new L(function(d,e){var l=window.indexedDB.open(b,c);l.onsuccess=function(b){d(new a(b.target.result))};l.onblocked=function(){e(new M(D.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))};
l.onerror=function(b){b=b.target.error;"VersionError"===b.name?e(new M(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):e(b)};l.onupgradeneeded=function(a){z("SimpleDb",'Database "'+b+
'" requires upgrade from version:',a.oldVersion);var c=a.target.result,d=new aa(l.transaction);g.createOrUpgrade(c,d,a.oldVersion,pd).next(function(){z("SimpleDb","Database upgrade to version "+pd+" complete")})}})).toPromise()};a.delete=function(b){z("SimpleDb","Removing database:",b);return cc(window.indexedDB.deleteDatabase(b)).toPromise()};a.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===hd.env.USE_MOCK_PERSISTENCE;
var b=window.navigator.userAgent,c=a.getIOSVersion(b);c=0<c&&10>c;var g=a.getAndroidVersion(b);g=0<g&&4.5>g;return 0<b.indexOf("MSIE ")||0<b.indexOf("Trident/")||0<b.indexOf("Edge/")||c||g?!1:!0};a.getStore=function(b,a){return b.store(a)};a.getIOSVersion=function(b){b=(b=b.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?b[1].split("_")[0]:"-1";return Number(b)};a.getAndroidVersion=function(b){b=(b=b.match(/Android ([\d.]+)/i))?b[1].split(".").slice(0,2).join("."):"-1";return Number(b)};a.prototype.runTransaction=
function(b,a,c){var d=aa.open(this.db,b,a),g=c(d).catch(function(b){d.abort(b);return L.reject(b)}).toPromise();g.catch(function(){});return d.completionPromise.then(function(){return g})};a.prototype.close=function(){this.db.close()};return a}(),lf=function(){function a(b){this.dbCursor=b;this.shouldStop=!1;this.nextKey=null}Object.defineProperty(a.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"skipToKey",{get:function(){return this.nextKey},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cursor",{set:function(b){this.dbCursor=b},enumerable:!0,configurable:!0});a.prototype.done=function(){this.shouldStop=!0};a.prototype.skip=function(b){this.nextKey=b};a.prototype.delete=function(){return cc(this.dbCursor.delete())};return a}(),aa=function(){function a(b){var a=this;this.transaction=b;this.aborted=!1;this.completionDeferred=new fe;this.transaction.oncomplete=function(){a.completionDeferred.resolve()};this.transaction.onabort=
function(){b.error?a.completionDeferred.reject(b.error):a.completionDeferred.resolve()};this.transaction.onerror=function(b){a.completionDeferred.reject(b.target.error)}}a.open=function(b,c,g){return new a(b.transaction(g,c))};Object.defineProperty(a.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0});a.prototype.abort=function(b){b&&this.completionDeferred.reject(b);this.aborted||(z("SimpleDb","Aborting transaction:",b?b.message:"Client-initiated abort"),
this.aborted=!0,this.transaction.abort())};a.prototype.store=function(b){var a=this.transaction.objectStore(b);k(!!a,"Object store not part of transaction: "+b);return new dg(a)};return a}(),dg=function(){function a(b){this.store=b}a.prototype.put=function(b,a){void 0!==a?(z("SimpleDb","PUT",this.store.name,b,a),b=this.store.put(a,b)):(z("SimpleDb","PUT",this.store.name,"\x3cauto-key\x3e",b),b=this.store.put(b));return cc(b)};a.prototype.add=function(b){z("SimpleDb","ADD",this.store.name,b,b);b=this.store.add(b);
return cc(b)};a.prototype.get=function(b){var a=this,c=this.store.get(b);return cc(c).next(function(c){void 0===c&&(c=null);z("SimpleDb","GET",a.store.name,b,c);return c})};a.prototype.delete=function(b){z("SimpleDb","DELETE",this.store.name,b);b=this.store.delete(b);return cc(b)};a.prototype.count=function(){z("SimpleDb","COUNT",this.store.name);var b=this.store.count();return cc(b)};a.prototype.loadAll=function(b,a){b=this.cursor(this.options(b,a));var c=[];return this.iterateCursor(b,function(b,
a){c.push(a)}).next(function(){return c})};a.prototype.deleteAll=function(b,a){z("SimpleDb","DELETE ALL",this.store.name);b=this.options(b,a);b.keysOnly=!1;b=this.cursor(b);return this.iterateCursor(b,function(b,a,c){return c.delete()})};a.prototype.iterate=function(b,a){if(a)var c=b;else c={},a=b;b=this.cursor(c);return this.iterateCursor(b,a)};a.prototype.iterateSerial=function(b){var a=this.cursor({});return new L(function(c,d){a.onerror=function(b){d(b.target.error)};a.onsuccess=function(a){var d=
a.target.result;d?b(d.primaryKey,d.value).next(function(b){b?d.continue():c()}):c()}})};a.prototype.iterateCursor=function(b,a){var c=[];return(new L(function(d,g){b.onerror=function(b){g(b.target.error)};b.onsuccess=function(b){if(b=b.target.result){var g=new lf(b),e=a(b.primaryKey,b.value,g);e instanceof L&&(e=e.catch(function(b){g.done();return L.reject(b)}),c.push(e));g.isDone?d():null===g.skipToKey?b.continue():b.continue(g.skipToKey)}else d()}})).next(function(){return L.waitFor(c)})};a.prototype.options=
function(b,a){var c=void 0;void 0!==b&&("string"===typeof b?c=b:(k(void 0===a,"3rd argument must not be defined if 2nd is a range."),a=b));return{index:c,range:a}};a.prototype.cursor=function(b){var a="next";b.reverse&&(a="prev");if(b.index){var c=this.store.index(b.index);return b.keysOnly?c.openKeyCursor(b.range,a):c.openCursor(b.range,a)}return this.store.openCursor(b.range,a)};return a}(),ge=function(){function a(b,a){this.referenceDelegate=b;this.serializer=a;this.targetIdGenerator=Se.forQueryCache()}
a.prototype.allocateTargetId=function(b){var a=this;return this.retrieveMetadata(b).next(function(c){c.highestTargetId=a.targetIdGenerator.after(c.highestTargetId);return a.saveMetadata(b,c).next(function(){return c.highestTargetId})})};a.prototype.getLastRemoteSnapshotVersion=function(b){return this.retrieveMetadata(b).next(function(b){return hb.fromTimestamp(new bb(b.lastRemoteSnapshotVersion.seconds,b.lastRemoteSnapshotVersion.nanoseconds))})};a.prototype.getHighestSequenceNumber=function(b){return Ya(b.simpleDbTransaction)};
a.prototype.setTargetsMetadata=function(b,a,c){var d=this;return this.retrieveMetadata(b).next(function(g){g.highestListenSequenceNumber=a;c&&(g.lastRemoteSnapshotVersion=c.toTimestamp());a>g.highestListenSequenceNumber&&(g.highestListenSequenceNumber=a);return d.saveMetadata(b,g)})};a.prototype.addQueryData=function(b,a){var c=this;return this.saveQueryData(b,a).next(function(){return c.retrieveMetadata(b).next(function(d){d.targetCount+=1;c.updateMetadataFromQueryData(a,d);return c.saveMetadata(b,
d)})})};a.prototype.updateQueryData=function(b,a){return this.saveQueryData(b,a)};a.prototype.removeQueryData=function(b,a){var c=this;return this.removeMatchingKeysForTargetId(b,a.targetId).next(function(){return nc(b).delete(a.targetId)}).next(function(){return c.retrieveMetadata(b)}).next(function(a){k(0<a.targetCount,"Removing from an empty query cache");--a.targetCount;return c.saveMetadata(b,a)})};a.prototype.removeTargets=function(b,a,c){var d=this,g=0,e=[];return nc(b).iterate(function(l,
h){l=d.serializer.fromDbTarget(h);l.sequenceNumber<=a&&void 0===c[l.targetId]&&(g++,e.push(d.removeQueryData(b,l)))}).next(function(){return L.waitFor(e)}).next(function(){return g})};a.prototype.forEachTarget=function(b,a){var c=this;return nc(b).iterate(function(b,d){b=c.serializer.fromDbTarget(d);a(b)})};a.prototype.retrieveMetadata=function(b){return Sa(b.simpleDbTransaction)};a.prototype.saveMetadata=function(b,a){return ub.getStore(b,ob.store).put(ob.key,a)};a.prototype.saveQueryData=function(b,
a){return nc(b).put(this.serializer.toDbTarget(a))};a.prototype.updateMetadataFromQueryData=function(b,a){var c=!1;b.targetId>a.highestTargetId&&(a.highestTargetId=b.targetId,c=!0);b.sequenceNumber>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=b.sequenceNumber,c=!0);return c};a.prototype.getQueryCount=function(b){return this.retrieveMetadata(b).next(function(b){return b.targetCount})};a.prototype.getQueryData=function(b,a){var c=this,d=a.canonicalId();d=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],
[d,Number.POSITIVE_INFINITY]);var g=null;return nc(b).iterate({range:d,index:sc.queryTargetsIndexName},function(b,d,e){b=c.serializer.fromDbTarget(d);a.isEqual(b.query)&&(g=b,e.done())}).next(function(){return g})};a.prototype.addMatchingKeys=function(b,a,c){var d=this,g=[],e=ja(b);a.forEach(function(a){var l=Ra(a.path);g.push(e.put(new tc(c,l)));g.push(d.referenceDelegate.addReference(b,a))});return L.waitFor(g)};a.prototype.removeMatchingKeys=function(b,a,c){var d=this,g=ja(b);return L.forEach(a,
function(a){var e=Ra(a.path);return L.waitFor([g.delete([c,e]),d.referenceDelegate.removeReference(b,a)])})};a.prototype.removeMatchingKeysForTargetId=function(b,a){b=ja(b);a=IDBKeyRange.bound([a],[a+1],!1,!0);return b.delete(a)};a.prototype.getMatchingKeysForTargetId=function(b,a){a=IDBKeyRange.bound([a],[a+1],!1,!0);b=ja(b);var c=ra();return b.iterate({range:a,keysOnly:!0},function(b,a,d){b=vb(b[1]);b=new ia(b);c=c.add(b)}).next(function(){return c})};a.prototype.containsKey=function(b,a){a=Ra(a.path);
a=IDBKeyRange.bound([a],[a+"\x00"],!1,!0);var c=0;return ja(b).iterate({index:tc.documentTargetsIndex,keysOnly:!0,range:a},function(b,a,d){0!==b[0]&&(c++,d.done())}).next(function(){return 0<c})};a.prototype.getQueryDataForTarget=function(b,a){var c=this;return nc(b).get(a).next(function(b){return b?c.serializer.fromDbTarget(b):null})};return a}(),Oc=function(){function a(b){this.mapKeyFn=b;this.inner={}}a.prototype.get=function(b){var a=this.mapKeyFn(b);a=this.inner[a];if(void 0!==a)for(var c=0;c<
a.length;c++){var g=a[c],e=g[1];if(g[0].isEqual(b))return e}};a.prototype.has=function(b){return void 0!==this.get(b)};a.prototype.set=function(b,a){var c=this.mapKeyFn(b),d=this.inner[c];if(void 0===d)this.inner[c]=[[b,a]];else{for(c=0;c<d.length;c++)if(d[c][0].isEqual(b)){d[c]=[b,a];return}d.push([b,a])}};a.prototype.delete=function(b){var a=this.mapKeyFn(b),c=this.inner[a];if(void 0===c)return!1;for(var g=0;g<c.length;g++)if(c[g][0].isEqual(b))return 1===c.length?delete this.inner[a]:c.splice(g,
1),!0;return!1};a.prototype.forEach=function(b){E(this.inner,function(a,c){for(a=0;a<c.length;a++){var d=c[a];b(d[0],d[1])}})};a.prototype.isEmpty=function(){return Q(this.inner)};return a}(),pe=function(){function a(){this.changes=Sb;this.documentSizes=new Oc(function(b){return b.toString()})}a.prototype.addEntry=function(b){this.changes=this.assertChanges().insert(b.key,b)};a.prototype.getEntry=function(b,a){var c=this,d=this.assertChanges().get(a);return d?L.resolve(d):this.getFromCache(b,a).next(function(b){if(null===
b)return c.documentSizes.set(a,0),null;c.documentSizes.set(a,b.size);return b.maybeDocument})};a.prototype.getEntries=function(b,a){var c=this;return this.getAllFromCache(b,a).next(function(b){var a=b.maybeDocuments;b.sizeMap.forEach(function(b,a){c.documentSizes.set(b,a)});return a})};a.prototype.apply=function(b){b=this.applyChanges(b);this.changes=null;return b};a.prototype.assertChanges=function(){k(null!==this.changes,"Changes have already been applied.");return this.changes};return a}(),eg=
function(){function a(b,a,c){this.serializer=b;this.indexManager=a;this.keepDocumentChangeLog=c;this._lastProcessedDocumentChangeId=0}Object.defineProperty(a.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0});a.prototype.start=function(b){b=oe.getStore(b,Ve.store);return this.synchronizeLastDocumentChangeId(b)};a.prototype.addEntries=function(b,a,c){var d=[];if(0<a.length){for(var g=Pb(b),e=ra(),h=0;h<a.length;h++){var l=
a[h],f=l.key;l=l.doc;d.push(g.put(f.path.toArray(),l));e=e.add(f);d.push(this.indexManager.addToCollectionParentIndex(b,f.path.popLast()))}this.keepDocumentChangeLog&&d.push(ub.getStore(b,Ve.store).put({changes:this.serializer.toDbResourcePaths(e)}));d.push(this.updateSize(b,c))}return L.waitFor(d)};a.prototype.removeEntry=function(b,a){var c=Pb(b),d=a.path.toArray();return c.get(d).next(function(b){return b?c.delete(d).next(function(){return Yb(b)}):L.resolve(0)})};a.prototype.getEntry=function(b,
a){var c=this;return Pb(b).get(a.path.toArray()).next(function(b){return b?c.serializer.fromDbRemoteDocument(b):null})};a.prototype.getSizedEntry=function(b,a){var c=this;return Pb(b).get(a.path.toArray()).next(function(b){return b?{maybeDocument:c.serializer.fromDbRemoteDocument(b),size:Yb(b)}:null})};a.prototype.getEntries=function(b,a){var c=this,d=Sb;return this.forEachDbEntry(b,a,function(b,a){d=a?d.insert(b,c.serializer.fromDbRemoteDocument(a)):d.insert(b,null)}).next(function(){return d})};
a.prototype.getSizedEntries=function(b,a){var c=this,d=Sb,g=new sb(ia.comparator);return this.forEachDbEntry(b,a,function(b,a){a?(d=d.insert(b,c.serializer.fromDbRemoteDocument(a)),g=g.insert(b,Yb(a))):(d=d.insert(b,null),g=g.insert(b,0))}).next(function(){return{maybeDocuments:d,sizeMap:g}})};a.prototype.forEachDbEntry=function(b,a,c){if(a.isEmpty())return L.resolve();var d=IDBKeyRange.bound(a.first().path.toArray(),a.last().path.toArray()),g=a.getIterator(),e=g.getNext();return Pb(b).iterate({range:d},
function(b,a,d){for(b=ia.fromSegments(b);e&&0>ia.comparator(e,b);)c(e,null),e=g.getNext();e&&e.isEqual(b)&&(c(e,a),e=g.hasNext()?g.getNext():null);e?d.skip(e.path.toArray()):d.done()}).next(function(){for(;e;)c(e,null),e=g.hasNext()?g.getNext():null})};a.prototype.getDocumentsMatchingQuery=function(b,a){var c=this;k(!a.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var d=Mc,g=a.path.length+1,e=a.path.toArray();e=IDBKeyRange.lowerBound(e);return Pb(b).iterate({range:e},
function(b,e,h){b.length===g&&(b=c.serializer.fromDbRemoteDocument(e),a.path.isPrefixOf(b.key.path)?b instanceof da&&a.matches(b)&&(d=d.insert(b.key,b)):h.done())}).next(function(){return d})};a.prototype.getNewDocumentChanges=function(b){var a=this;k(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var c=ra(),g=Sb,e=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),h=!0,f=ub.getStore(b,Ve.store);return f.iterate({range:e},function(b,
d){if(h&&(h=!1,a._lastProcessedDocumentChangeId+1!==d.id))return a.synchronizeLastDocumentChangeId(f).next(function(){return L.reject(new M(D.DATA_LOSS,"The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views."))});c=c.unionWith(a.serializer.fromDbResourcePaths(d.changes));a._lastProcessedDocumentChangeId=d.id}).next(function(){var d=[];c.forEach(function(c){d.push(a.getEntry(b,c).next(function(b){b=b||new cb(c,hb.forDeletedDoc());
g=g.insert(c,b)}))});return L.waitFor(d)}).next(function(){return g})};a.prototype.removeDocumentChangesThroughChangeId=function(b,a){a=IDBKeyRange.upperBound(a);return ub.getStore(b,Ve.store).delete(a)};a.prototype.synchronizeLastDocumentChangeId=function(b){var a=this;this._lastProcessedDocumentChangeId=0;return b.iterate({keysOnly:!0,reverse:!0},function(b,c,d){a._lastProcessedDocumentChangeId=b;d.done()})};a.prototype.newChangeBuffer=function(){return new Qd(this)};a.prototype.getSize=function(b){return this.getMetadata(b).next(function(b){return b.byteSize})};
a.prototype.getMetadata=function(b){return ub.getStore(b,Td.store).get(Td.key).next(function(b){k(!!b,"Missing document cache metadata");return b})};a.prototype.setMetadata=function(b,a){return ub.getStore(b,Td.store).put(Td.key,a)};a.prototype.updateSize=function(b,a){var c=this;return this.getMetadata(b).next(function(d){d.byteSize+=a;return c.setMetadata(b,d)})};return a}(),Qd=function(a){function b(b){var c=a.call(this)||this;c.documentCache=b;return c}r.__extends(b,a);b.prototype.applyChanges=
function(b){var a=this,c=0,d=[];this.assertChanges().forEach(function(b,g){g=a.documentCache.serializer.toDbRemoteDocument(g);var e=a.documentSizes.get(b);k(void 0!==e,"Attempting to change document "+b.toString()+" without having read it first");var h=Yb(g);c+=h-e;d.push({key:b,doc:g})});return this.documentCache.addEntries(b,d,c)};b.prototype.getFromCache=function(b,a){return this.documentCache.getSizedEntry(b,a)};b.prototype.getAllFromCache=function(b,a){return this.documentCache.getSizedEntries(b,
a)};return b}(pe),qe=function(){function a(){this.collectionParentIndex=new Te}a.prototype.addToCollectionParentIndex=function(b,a){this.collectionParentIndex.add(a);return L.resolve()};a.prototype.getCollectionParents=function(b,a){return L.resolve(this.collectionParentIndex.getEntries(a))};return a}(),Te=function(){function a(){this.index={}}a.prototype.add=function(b){k(1===b.length%2,"Expected a collection path.");var a=b.lastSegment();b=b.popLast();var c=this.index[a]||new tb(Oa.comparator),
g=!c.has(b);this.index[a]=c.add(b);return g};a.prototype.getEntries=function(b){return(this.index[b]||new tb(Oa.comparator)).toArray()};return a}(),pd=8,Ue=function(){function a(b){this.serializer=b}a.prototype.createOrUpgrade=function(b,a,c,g){var d=this;k(c<g&&0<=c&&g<=pd,"Unexpected schema upgrade from v"+c+" to v{toVersion}.");1>c&&1<=g&&(b.createObjectStore(Mb.store),Rc(b),Fa(b),b.createObjectStore(fd.store));var e=L.resolve();3>c&&3<=g&&(0!==c&&(Sc(b),Fa(b)),e=e.next(function(){var b=a.store(ob.store),
c=new ob(0,0,hb.MIN.toTimestamp(),0);return b.put(ob.key,c)}));4>c&&4<=g&&(0!==c&&(e=e.next(function(){return ua(b,a)})),e=e.next(function(){b.createObjectStore(ic.store,{keyPath:ic.keyPath});b.createObjectStore(Ve.store,{keyPath:"id",autoIncrement:!0})}));5>c&&5<=g&&(e=e.next(function(){return d.removeAcknowledgedMutations(a)}));6>c&&6<=g&&(e=e.next(function(){b.createObjectStore(Td.store);return d.addDocumentGlobal(a)}));7>c&&7<=g&&(e=e.next(function(){return d.ensureSequenceNumbers(a)}));8>c&&
8<=g&&(e=e.next(function(){return d.createCollectionParentIndex(b,a)}));return e};a.prototype.addDocumentGlobal=function(b){var a=0;return b.store(fd.store).iterate(function(b,c){a+=Yb(c)}).next(function(){var c=new Td(a);return b.store(Td.store).put(Td.key,c)})};a.prototype.removeAcknowledgedMutations=function(b){var a=this,c=b.store(Rd.store),g=b.store(pb.store);return c.loadAll().next(function(c){return L.forEach(c,function(c){var d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);
return g.loadAll(pb.userMutationsIndex,d).next(function(d){return L.forEach(d,function(d){k(d.userId===c.userId,"Cannot process batch "+d.batchId+" from unexpected user");d=a.serializer.fromDbMutationBatch(d);return Ob(b,c.userId,d).next(function(){})})})})})};a.prototype.ensureSequenceNumbers=function(b){var a=b.store(tc.store),c=b.store(fd.store);return Ya(b).next(function(b){var d=[];return c.iterate(function(c,g){var e=new Oa(c);c=[0,Ra(e)];d.push(a.get(c).next(function(c){return c?L.resolve():
a.put(new tc(0,Ra(e),b))}))}).next(function(){return L.waitFor(d)})})};a.prototype.createCollectionParentIndex=function(b,a){b.createObjectStore(Ad.store,{keyPath:Ad.keyPath});var c=a.store(Ad.store),d=new Te,g=function(b){if(d.add(b)){var a=b.lastSegment();b=b.popLast();return c.put({collectionId:a,parent:Ra(b)})}};return a.store(fd.store).iterate({keysOnly:!0},function(b,a){b=new Oa(b);return g(b.popLast())}).next(function(){return a.store(Pc.store).iterate({keysOnly:!0},function(b,a){b=vb(b[1]);
return g(b.popLast())})})};return a}(),qd=function(){return function(a,b){this.seconds=a;this.nanoseconds=b}}(),Mb=function(){function a(b,a,c){this.ownerId=b;this.allowTabSynchronization=a;this.leaseTimestampMs=c}a.store="owner";a.key="owner";return a}(),Rd=function(){function a(b,a,c){this.userId=b;this.lastAcknowledgedBatchId=a;this.lastStreamToken=c}a.store="mutationQueues";a.keyPath="userId";return a}(),pb=function(){function a(b,a,c,g,e){this.userId=b;this.batchId=a;this.localWriteTimeMs=c;
this.baseMutations=g;this.mutations=e}a.store="mutations";a.keyPath="batchId";a.userMutationsIndex="userMutationsIndex";a.userMutationsKeyPath=["userId","batchId"];return a}(),Pc=function(){function a(){}a.prefixForUser=function(b){return[b]};a.prefixForPath=function(b,a){return[b,Ra(a)]};a.key=function(b,a,c){return[b,Ra(a),c]};a.store="documentMutations";a.PLACEHOLDER=new a;return a}(),ze=function(){return function(a,b){this.path=a;this.readTime=b}}(),Pe=function(){return function(a,b){this.path=
a;this.version=b}}(),fd=function(){function a(b,a,c,g){this.unknownDocument=b;this.noDocument=a;this.document=c;this.hasCommittedMutations=g}a.store="remoteDocuments";return a}(),Td=function(){function a(b){this.byteSize=b}a.store="remoteDocumentGlobal";a.key="remoteDocumentGlobalKey";return a}(),sc=function(){function a(b,a,c,g,e,h){this.targetId=b;this.canonicalId=a;this.readTime=c;this.resumeToken=g;this.lastListenSequenceNumber=e;this.query=h}a.store="targets";a.keyPath="targetId";a.queryTargetsIndexName=
"queryTargetsIndex";a.queryTargetsKeyPath=["canonicalId","targetId"];return a}(),tc=function(){function a(b,a,c){this.targetId=b;this.path=a;this.sequenceNumber=c;k(0===b===(void 0!==c),"A target-document row must either have targetId \x3d\x3d 0 and a defined sequence number, or a non-zero targetId and no sequence number")}a.store="targetDocuments";a.keyPath=["targetId","path"];a.documentTargetsIndex="documentTargetsIndex";a.documentTargetsKeyPath=["path","targetId"];return a}(),ob=function(){function a(b,
a,c,g){this.highestTargetId=b;this.highestListenSequenceNumber=a;this.lastRemoteSnapshotVersion=c;this.targetCount=g}a.key="targetGlobalKey";a.store="targetGlobal";return a}(),Ad=function(){function a(b,a){this.collectionId=b;this.parent=a}a.store="collectionParents";a.keyPath=["collectionId","parent"];return a}(),Ve=function(){function a(b){this.changes=b}a.store="remoteDocumentChanges";a.keyPath="id";return a}(),ic=function(){function a(b,a,c,g,e){this.clientId=b;this.updateTimeMs=a;this.networkEnabled=
c;this.inForeground=g;this.lastProcessedDocumentChangeId=e}a.store="clientMetadata";a.keyPath="clientId";return a}(),gg=[Rd.store,pb.store,Pc.store,fd.store,sc.store,Mb.store,ob.store,tc.store].concat([ic.store,Ve.store]).concat([Td.store]).concat([Ad.store]),de=function(){function a(){this.collectionParentsCache=new Te}a.prototype.addToCollectionParentIndex=function(b,a){k(1===a.length%2,"Expected a collection path.");if(this.collectionParentsCache.add(a)){k(1<=a.length,"Invalid collection path.");
var c=a.lastSegment();a=a.popLast();return ub.getStore(b,Ad.store).put({collectionId:c,parent:Ra(a)})}return L.resolve()};a.prototype.getCollectionParents=function(b,a){var c=[],d=IDBKeyRange.bound([a,""],[a+"\x00",""],!1,!0);return ub.getStore(b,Ad.store).loadAll(d).next(function(b){for(var d=0;d<b.length;d++){var g=b[d];if(g.collectionId!==a)break;c.push(vb(g.parent))}return c})};return a}(),v=function(){function a(b){this.remoteSerializer=b}a.prototype.fromDbRemoteDocument=function(b){if(b.document)return this.remoteSerializer.fromDocument(b.document,
!!b.hasCommittedMutations);if(b.noDocument){var a=ia.fromSegments(b.noDocument.path),c=this.fromDbTimestamp(b.noDocument.readTime);return new cb(a,c,{hasCommittedMutations:!!b.hasCommittedMutations})}return b.unknownDocument?(a=ia.fromSegments(b.unknownDocument.path),c=this.fromDbTimestamp(b.unknownDocument.version),new vc(a,c)):w("Unexpected DbRemoteDocument")};a.prototype.toDbRemoteDocument=function(b){if(b instanceof da){var a=b.proto?b.proto:this.remoteSerializer.toDocument(b);b=b.hasCommittedMutations;
return new fd(null,null,a,b)}if(b instanceof cb){a=b.key.path.toArray();var c=this.toDbTimestamp(b.version);b=b.hasCommittedMutations;return new fd(null,new ze(a,c),null,b)}return b instanceof vc?(a=b.key.path.toArray(),c=this.toDbTimestamp(b.version),new fd(new Pe(a,c),null,null,!0)):w("Unexpected MaybeDocumment")};a.prototype.toDbTimestamp=function(b){b=b.toTimestamp();return new qd(b.seconds,b.nanoseconds)};a.prototype.fromDbTimestamp=function(b){b=new bb(b.seconds,b.nanoseconds);return hb.fromTimestamp(b)};
a.prototype.toDbMutationBatch=function(b,a){var c=this,d=a.baseMutations.map(function(b){return c.remoteSerializer.toMutation(b)}),g=a.mutations.map(function(b){return c.remoteSerializer.toMutation(b)});return new pb(b,a.batchId,a.localWriteTime.toMillis(),d,g)};a.prototype.fromDbMutationBatch=function(b){var a=this,c=(b.baseMutations||[]).map(function(b){return a.remoteSerializer.fromMutation(b)}),g=b.mutations.map(function(b){return a.remoteSerializer.fromMutation(b)}),e=bb.fromMillis(b.localWriteTimeMs);
return new nd(b.batchId,e,c,g)};a.prototype.toDbResourcePaths=function(b){var a=[];b.forEach(function(b){a.push(Ra(b.path))});return a};a.prototype.fromDbResourcePaths=function(b){for(var a=ra(),c=0;c<b.length;c++)a=a.add(new ia(vb(b[c])));return a};a.prototype.fromDbTarget=function(b){var a=this.fromDbTimestamp(b.readTime);var c=void 0!==b.query.documents?this.remoteSerializer.fromDocumentsTarget(b.query):this.remoteSerializer.fromQueryTarget(b.query);return new Kd(c,b.targetId,mb.Listen,b.lastListenSequenceNumber,
a,b.resumeToken)};a.prototype.toDbTarget=function(b){k(mb.Listen===b.purpose,"Only queries with purpose "+mb.Listen+" may be stored, got "+b.purpose);var a=this.toDbTimestamp(b.snapshotVersion);var c=b.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(b.query):this.remoteSerializer.toQueryTarget(b.query);if(b.resumeToken instanceof Uint8Array){k("YES"===hd.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence .");var g=b.resumeToken.toString()}else g=
b.resumeToken;return new sc(b.targetId,b.query.canonicalId(),a,g,b.sequenceNumber,c)};return a}(),kc=function(){function a(b){this.maxElements=b;this.buffer=new tb(Tc);this.previousIndex=0}a.prototype.nextIndex=function(){return++this.previousIndex};a.prototype.addElement=function(b){b=[b,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(b);else{var a=this.buffer.last();0>Tc(b,a)&&(this.buffer=this.buffer.delete(a).add(b))}};Object.defineProperty(a.prototype,"maxValue",
{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0});return a}(),Be={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},se=function(){function a(b,a,c){this.cacheSizeCollectionThreshold=b;this.percentileToCollect=a;this.maximumSequenceNumbersToCollect=c}a.withCacheSize=function(b){return new a(b,a.DEFAULT_COLLECTION_PERCENTILE,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)};a.COLLECTION_DISABLED=-1;a.MINIMUM_CACHE_SIZE_BYTES=1048576;a.DEFAULT_CACHE_SIZE_BYTES=
41943040;a.DEFAULT_COLLECTION_PERCENTILE=10;a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1E3;a.DEFAULT=new a(a.DEFAULT_CACHE_SIZE_BYTES,a.DEFAULT_COLLECTION_PERCENTILE,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);a.DISABLED=new a(a.COLLECTION_DISABLED,0,0);return a}(),rd=function(){function a(b,a,c){this.garbageCollector=b;this.asyncQueue=a;this.localStore=c;this.gcTask=null}a.prototype.start=function(){k(null===this.gcTask,"Cannot start an already started LruScheduler");this.garbageCollector.params.cacheSizeCollectionThreshold!==
se.COLLECTION_DISABLED&&this.scheduleGC()};a.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)};Object.defineProperty(a.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0});a.prototype.scheduleGC=function(){var b=this;k(null===this.gcTask,"Cannot schedule GC while a task is pending");var a=this.hasRun?3E5:6E4;z("LruGarbageCollector","Garbage collection scheduled in "+a+"ms");this.gcTask=this.asyncQueue.enqueueAfterDelay(zc.LruGarbageCollection,
a,function(){b.gcTask=null;b.hasRun=!0;return b.localStore.collectGarbage(b.garbageCollector).then(function(){return b.scheduleGC()}).catch(rb)})};return a}(),Ae=function(){function a(b,a){this.delegate=b;this.params=a}a.prototype.calculateTargetCount=function(b,a){return this.delegate.getSequenceNumberCount(b).next(function(b){return Math.floor(a/100*b)})};a.prototype.nthSequenceNumber=function(b,a){var c=this;if(0===a)return L.resolve(Ub.INVALID);var d=new kc(a);return this.delegate.forEachTarget(b,
function(b){return d.addElement(b.sequenceNumber)}).next(function(){return c.delegate.forEachOrphanedDocumentSequenceNumber(b,function(b){return d.addElement(b)})}).next(function(){return d.maxValue})};a.prototype.removeTargets=function(b,a,c){return this.delegate.removeTargets(b,a,c)};a.prototype.removeOrphanedDocuments=function(b,a){return this.delegate.removeOrphanedDocuments(b,a)};a.prototype.collect=function(b,a){var c=this;return this.params.cacheSizeCollectionThreshold===se.COLLECTION_DISABLED?
(z("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Be)):this.getCacheSize(b).next(function(d){return d<c.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector","Garbage collection skipped; Cache size "+d+" "+("is lower than threshold "+c.params.cacheSizeCollectionThreshold)),Be):c.runGarbageCollection(b,a)})};a.prototype.getCacheSize=function(b){return this.delegate.getCacheSize(b)};a.prototype.runGarbageCollection=function(b,a){var c=this,d,g,e,h,f,k,m;var r=Date.now();
return this.calculateTargetCount(b,this.params.percentileToCollect).next(function(a){a>c.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector","Capping sequence numbers to collect down "+("to the maximum of "+c.params.maximumSequenceNumbersToCollect+" ")+("from "+a)),g=c.params.maximumSequenceNumbersToCollect):g=a;h=Date.now();return c.nthSequenceNumber(b,g)}).next(function(g){d=g;f=Date.now();return c.removeTargets(b,d,a)}).next(function(a){e=a;k=Date.now();return c.removeOrphanedDocuments(b,
d)}).next(function(b){m=Date.now();u()<=wb.DEBUG&&z("LruGarbageCollector","LRU Garbage Collection\n"+("\tCounted targets in "+(h-r)+"ms\n")+("\tDetermined least recently used "+g+" in ")+(f-h+"ms\n")+("\tRemoved "+e+" targets in ")+(k-f+"ms\n")+("\tRemoved "+b+" documents in ")+(m-k+"ms\n")+("Total Duration: "+(m-r)+"ms"));return L.resolve({didRun:!0,sequenceNumbersCollected:g,targetsRemoved:e,documentsRemoved:b})})};return a}(),cd="IndexedDbPersistence",If="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",
te=function(a){function b(b,c){var d=a.call(this)||this;d.simpleDbTransaction=b;d.currentSequenceNumber=c;return d}r.__extends(b,a);return b}(function(){return function(){}}()),ub=function(){function a(b,c,g,e,h,f,k){this.persistenceKey=b;this.clientId=c;this.queue=e;this.multiClientParams=k;this.isPrimary=this._started=!1;this.networkEnabled=!0;this.inForeground=!1;this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY;this.primaryStateListener=function(b){return Promise.resolve()};if(!a.isAvailable())throw new M(D.UNIMPLEMENTED,
"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jg(this,f);this.dbName=b+a.MAIN_DATABASE;this.serializer=new v(h);this.document=g.document;this.allowTabSynchronization=void 0!==k;this.queryCache=new ge(this.referenceDelegate,this.serializer);this.indexManager=new de;this.remoteDocumentCache=new eg(this.serializer,this.indexManager,this.allowTabSynchronization);if(g.window&&g.window.localStorage)this.window=
g.window,this.webStorage=this.window.localStorage;else throw new M(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");}a.getStore=function(b,a){if(b instanceof te)return oe.getStore(b.simpleDbTransaction,a);throw w("IndexedDbPersistence must use instances of IndexedDbTransaction");};a.createIndexedDbPersistence=function(b,c,g,e,h,f){return r.__awaiter(this,void 0,void 0,function(){var d;return r.__generator(this,function(l){switch(l.label){case 0:return d=
new a(b,c,g,e,h,f),[4,d.start()];case 1:return l.sent(),[2,d]}})})};a.createMultiClientIndexedDbPersistence=function(b,c,g,e,h,f,k){return r.__awaiter(this,void 0,void 0,function(){var d;return r.__generator(this,function(l){switch(l.label){case 0:return d=new a(b,c,g,e,h,f,k),[4,d.start()];case 1:return l.sent(),[2,d]}})})};a.prototype.start=function(){var b=this;k(!this.started,"IndexedDbPersistence double-started!");k(null!==this.window,"Expected 'window' to be defined");return oe.openOrCreate(this.dbName,
pd,new Ue(this.serializer)).then(function(a){b.simpleDb=a;return b.updateClientMetadataAndTryBecomePrimary()}).then(function(){b.attachVisibilityHandler();b.attachWindowUnloadHook();b.scheduleClientMetadataAndPrimaryLeaseRefreshes();return b.startRemoteDocumentCache()}).then(function(){return b.simpleDb.runTransaction("readonly",[ob.store],function(a){return Ya(a).next(function(a){b.listenSequence=new Ub(a,b.multiClientParams?b.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){b._started=
!0}).catch(function(a){b.simpleDb&&b.simpleDb.close();return Promise.reject(a)})};a.prototype.startRemoteDocumentCache=function(){var b=this;return this.simpleDb.runTransaction("readonly",gg,function(a){return b.remoteDocumentCache.start(a)})};a.prototype.setPrimaryStateListener=function(b){var a=this;this.primaryStateListener=function(c){return r.__awaiter(a,void 0,void 0,function(){return r.__generator(this,function(a){return this.started?[2,b(c)]:[2]})})};return b(this.isPrimary)};a.prototype.setNetworkEnabled=
function(b){var a=this;this.networkEnabled!==b&&(this.networkEnabled=b,this.queue.enqueueAndForget(function(){return r.__awaiter(a,void 0,void 0,function(){return r.__generator(this,function(b){switch(b.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})}))};a.prototype.updateClientMetadataAndTryBecomePrimary=function(){var b=this;return this.simpleDb.runTransaction("readwrite",gg,function(a){return a.store(ic.store).put(new ic(b.clientId,
Date.now(),b.networkEnabled,b.inForeground,b.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(b.isPrimary)return b.verifyPrimaryLease(a).next(function(a){a||(b.isPrimary=!1,b.queue.enqueueAndForget(function(){return b.primaryStateListener(!1)}))})}).next(function(){return b.canActAsPrimary(a)}).next(function(c){var d=b.isPrimary;b.isPrimary=c;d!==b.isPrimary&&b.queue.enqueueAndForget(function(){return b.primaryStateListener(b.isPrimary)});if(d&&!b.isPrimary)return b.releasePrimaryLeaseIfHeld(a);
if(b.isPrimary)return b.acquireOrExtendPrimaryLease(a)})})};a.prototype.verifyPrimaryLease=function(b){var a=this;return b.store(Mb.store).get(Mb.key).next(function(b){return L.resolve(a.isLocalClient(b))})};a.prototype.removeClientMetadata=function(b){return b.store(ic.store).delete(this.clientId)};a.prototype.maybeGarbageCollectMultiClientState=function(){return r.__awaiter(this,void 0,void 0,function(){var b,c,g=this;return r.__generator(this,function(d){switch(d.label){case 0:if(!this.isPrimary||
this.isWithinAge(this.lastGarbageCollectionTime,18E5))return[3,2];this.lastGarbageCollectionTime=Date.now();c=[];return[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(d){var e=a.getStore(d,ic.store);return e.loadAll().next(function(a){b=g.filterActiveClients(a,18E5);c=a.filter(function(a){return-1===b.indexOf(a)})}).next(function(){return L.forEach(c,function(b){return e.delete(b.clientId)})}).next(function(){b=b.filter(function(b){return b.clientId!==g.clientId});
if(0<b.length){var a=b.map(function(b){return b.lastProcessedDocumentChangeId||0});a=Math.min.apply(Math,a);return g.remoteDocumentCache.removeDocumentChangesThroughChangeId(d,a)}})})];case 1:d.sent(),c.forEach(function(b){g.window.localStorage.removeItem(g.zombiedClientLocalStorageKey(b.clientId))}),d.label=2;case 2:return[2]}})})};a.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var b=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(zc.ClientMetadataRefresh,4E3,
function(){return b.updateClientMetadataAndTryBecomePrimary().then(function(){return b.maybeGarbageCollectMultiClientState()}).then(function(){return b.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})};a.prototype.isLocalClient=function(b){return b?b.ownerId===this.clientId:!1};a.prototype.canActAsPrimary=function(b){var a=this;return b.store(Mb.store).get(Mb.key).next(function(c){if(null!==c&&a.isWithinAge(c.leaseTimestampMs,5E3)&&!a.isClientZombied(c.ownerId)){if(a.isLocalClient(c)&&a.networkEnabled)return!0;
if(!a.isLocalClient(c)){if(!c.allowTabSynchronization)throw new M(D.FAILED_PRECONDITION,"Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.");return!1}}return a.networkEnabled&&a.inForeground?!0:b.store(ic.store).loadAll().next(function(b){return void 0===a.filterActiveClients(b,5E3).find(function(b){if(a.clientId!==b.clientId){var c=!a.inForeground&&b.inForeground,d=a.networkEnabled===
b.networkEnabled;if(!a.networkEnabled&&b.networkEnabled||c&&d)return!0}return!1})})}).next(function(b){a.isPrimary!==b&&z(cd,"Client "+(b?"is":"is not")+" eligible for a primary lease.");return b})};a.prototype.shutdown=function(){return r.__awaiter(this,void 0,void 0,function(){var b=this;return r.__generator(this,function(a){switch(a.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),
[4,this.simpleDb.runTransaction("readwrite",[Mb.store,ic.store],function(a){return b.releasePrimaryLeaseIfHeld(a).next(function(){return b.removeClientMetadata(a)})})];case 1:return a.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})};a.prototype.filterActiveClients=function(b,a){var c=this;return b.filter(function(b){return c.isWithinAge(b.updateTimeMs,a)&&!c.isClientZombied(b.clientId)})};a.prototype.getActiveClients=function(){var b=this;return this.simpleDb.runTransaction("readonly",
[ic.store],function(a){return a.store(ic.store).loadAll().next(function(a){return b.filterActiveClients(a,18E5).map(function(b){return b.clientId})})})};a.clearPersistence=function(b){return r.__awaiter(this,void 0,void 0,function(){var c;return r.__generator(this,function(d){switch(d.label){case 0:if(!a.isAvailable())return[2,Promise.resolve()];c=b+a.MAIN_DATABASE;return[4,oe.delete(c)];case 1:return d.sent(),[2]}})})};Object.defineProperty(a.prototype,"started",{get:function(){return this._started},
enumerable:!0,configurable:!0});a.prototype.getMutationQueue=function(b){k(this.started,"Cannot initialize MutationQueue before persistence is started.");return Hg.forUser(b,this.serializer,this.indexManager,this.referenceDelegate)};a.prototype.getQueryCache=function(){k(this.started,"Cannot initialize QueryCache before persistence is started.");return this.queryCache};a.prototype.getRemoteDocumentCache=function(){k(this.started,"Cannot initialize RemoteDocumentCache before persistence is started.");
return this.remoteDocumentCache};a.prototype.getIndexManager=function(){k(this.started,"Cannot initialize IndexManager before persistence is started.");return this.indexManager};a.prototype.runTransaction=function(b,a,c){var d=this;z(cd,"Starting transaction:",b);return this.simpleDb.runTransaction("readonly"===a?"readonly":"readwrite",gg,function(g){return"readwrite-primary"===a?d.verifyPrimaryLease(g).next(function(a){if(!a)throw C("Failed to obtain primary lease for action '"+b+"'."),d.isPrimary=
!1,d.queue.enqueueAndForget(function(){return d.primaryStateListener(!1)}),new M(D.FAILED_PRECONDITION,If);return c(new te(g,d.listenSequence.next()))}).next(function(b){return d.acquireOrExtendPrimaryLease(g).next(function(){return b})}):d.verifyAllowTabSynchronization(g).next(function(){return c(new te(g,d.listenSequence.next()))})})};a.prototype.verifyAllowTabSynchronization=function(b){var a=this;return b.store(Mb.store).get(Mb.key).next(function(b){if(null!==b&&a.isWithinAge(b.leaseTimestampMs,
5E3)&&!a.isClientZombied(b.ownerId)&&!a.isLocalClient(b)&&!b.allowTabSynchronization)throw new M(D.FAILED_PRECONDITION,"Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.");})};a.prototype.acquireOrExtendPrimaryLease=function(b){var a=new Mb(this.clientId,this.allowTabSynchronization,Date.now());return b.store(Mb.store).put(Mb.key,a)};a.isAvailable=function(){return oe.isAvailable()};
a.buildStoragePrefix=function(b){var a=b.databaseId.projectId;b.databaseId.isDefaultDatabase||(a+="."+b.databaseId.database);return"firestore/"+b.persistenceKey+"/"+a+"/"};a.prototype.releasePrimaryLeaseIfHeld=function(b){var a=this,c=b.store(Mb.store);return c.get(Mb.key).next(function(b){return a.isLocalClient(b)?(z(cd,"Releasing primary lease."),c.delete(Mb.key)):L.resolve()})};a.prototype.isWithinAge=function(b,a){var c=Date.now();return b<c-a?!1:b>c?(C("Detected an update time that is in the future: "+
b+" \x3e "+c),!1):!0};a.prototype.attachVisibilityHandler=function(){var b=this;null!==this.document&&"function"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){b.queue.enqueueAndForget(function(){b.inForeground="visible"===b.document.visibilityState;return b.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)};a.prototype.detachVisibilityHandler=
function(){this.documentVisibilityHandler&&(k(null!==this.document&&"function"===typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)};a.prototype.attachWindowUnloadHook=function(){var b=this;"function"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){b.markClientZombied();b.queue.enqueueAndForget(function(){return b.shutdown()})},
this.window.addEventListener("unload",this.windowUnloadHandler))};a.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(k("function"===typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)};a.prototype.isClientZombied=function(b){try{var a=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(b));z(cd,"Client '"+b+"' "+(a?"is":"is not")+
" zombied in LocalStorage");return a}catch(l){return C(cd,"Failed to get zombied client id.",l),!1}};a.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(b){C("Failed to set zombie client id.",b)}};a.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(b){}};a.prototype.zombiedClientLocalStorageKey=function(b){return"firestore_zombie_"+
this.persistenceKey+"_"+b};a.MAIN_DATABASE="main";return a}(),Jg=function(){function a(b,a){this.db=b;this.garbageCollector=new Ae(this,a)}a.prototype.getSequenceNumberCount=function(b){var a=this.orphanedDocmentCount(b);return this.db.getQueryCache().getQueryCount(b).next(function(b){return a.next(function(a){return b+a})})};a.prototype.orphanedDocmentCount=function(b){var a=0;return this.forEachOrphanedDocumentSequenceNumber(b,function(b){a++}).next(function(){return a})};a.prototype.forEachTarget=
function(b,a){return this.db.getQueryCache().forEachTarget(b,a)};a.prototype.forEachOrphanedDocumentSequenceNumber=function(b,a){return this.forEachOrphanedDocument(b,function(b,c){return a(c)})};a.prototype.setInMemoryPins=function(b){this.inMemoryPins=b};a.prototype.addReference=function(b,a){return Aa(b,a)};a.prototype.removeReference=function(b,a){return Aa(b,a)};a.prototype.removeTargets=function(b,a,c){return this.db.getQueryCache().removeTargets(b,a,c)};a.prototype.removeMutationReference=
function(b,a){return Aa(b,a)};a.prototype.isPinned=function(b,a){return this.inMemoryPins.containsKey(a)?L.resolve(!0):Ec(b,a)};a.prototype.removeOrphanedDocuments=function(b,a){var c=this,d=0,g=0,e=[];return this.forEachOrphanedDocument(b,function(h,f){f<=a&&(f=c.isPinned(b,h).next(function(a){if(!a)return d++,c.removeOrphanedDocument(b,h).next(function(b){g+=b})}),e.push(f))}).next(function(){return L.waitFor(e)}).next(function(){return c.db.getRemoteDocumentCache().updateSize(b,-g)}).next(function(){return d})};
a.prototype.removeOrphanedDocument=function(b,a){var c=0,d=this.db.getRemoteDocumentCache();return L.waitFor([ja(b).delete([0,Ra(a.path)]),d.removeEntry(b,a).next(function(b){c+=b})]).next(function(){return c})};a.prototype.removeTarget=function(b,a){a=a.copy({sequenceNumber:b.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(b,a)};a.prototype.updateLimboDocument=function(b,a){return Aa(b,a)};a.prototype.forEachOrphanedDocument=function(b,a){b=ja(b);var c=Ub.INVALID,d;return b.iterate({index:tc.documentTargetsIndex},
function(b,g){var e=g.path;g=g.sequenceNumber;0===b[0]?(c!==Ub.INVALID&&a(new ia(vb(d)),c),c=g,d=e):c=Ub.INVALID}).next(function(){c!==Ub.INVALID&&a(new ia(vb(d)),c)})};a.prototype.getCacheSize=function(b){return this.db.getRemoteDocumentCache().getSize(b)};return a}(),Sd=function(){function a(b,a,c){this.remoteDocumentCache=b;this.mutationQueue=a;this.indexManager=c}a.prototype.getDocument=function(b,a){var c=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(b,a).next(function(d){return c.getDocumentInternal(b,
a,d)})};a.prototype.getDocumentInternal=function(b,a,c){return this.remoteDocumentCache.getEntry(b,a).next(function(b){for(var d=0;d<c.length;d++)b=c[d].applyToLocalView(a,b);return b})};a.prototype.applyLocalMutationsToDocuments=function(b,a,c){var d=Sb;a.forEach(function(b,a){for(var g=0;g<c.length;g++)a=c[g].applyToLocalView(b,a);d=d.insert(b,a)});return d};a.prototype.getDocuments=function(b,a){var c=this;return this.remoteDocumentCache.getEntries(b,a).next(function(a){return c.getLocalViewOfDocuments(b,
a)})};a.prototype.getLocalViewOfDocuments=function(b,a){var c=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(b,a).next(function(d){d=c.applyLocalMutationsToDocuments(b,a,d);var g=Sb;d.forEach(function(b,a){a||(a=new cb(b,hb.forDeletedDoc()));g=g.insert(b,a)});return g})};a.prototype.getDocumentsMatchingQuery=function(b,a){return a.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(b,a.path):a.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(b,
a):this.getDocumentsMatchingCollectionQuery(b,a)};a.prototype.getDocumentsMatchingDocumentQuery=function(b,a){return this.getDocument(b,new ia(a)).next(function(b){var a=Mc;b instanceof da&&(a=a.insert(b.key,b));return a})};a.prototype.getDocumentsMatchingCollectionGroupQuery=function(b,a){var c=this;k(a.path.isEmpty(),"Currently we only support collection group queries at the root.");var d=a.collectionGroup,g=Mc;return this.indexManager.getCollectionParents(b,d).next(function(e){return L.forEach(e,
function(e){e=a.asCollectionQueryAtPath(e.child(d));return c.getDocumentsMatchingCollectionQuery(b,e).next(function(b){b.forEach(function(b,a){g=g.insert(b,a)})})}).next(function(){return g})})};a.prototype.getDocumentsMatchingCollectionQuery=function(b,a){var c=this,d;return this.remoteDocumentCache.getDocumentsMatchingQuery(b,a).next(function(g){d=g;return c.mutationQueue.getAllMutationBatchesAffectingQuery(b,a)}).next(function(b){for(var c=0;c<b.length;c++)for(var g=b[c],e=0,h=g.mutations;e<h.length;e++){var f=
h[e],l=f.key;if(a.path.isImmediateParentOf(l.path)){var k=d.get(l);f=f.applyToLocalView(k,k,g.localWriteTime);d=f instanceof da?d.insert(l,f):d.remove(l)}}}).next(function(){d.forEach(function(b,c){a.matches(c)||(d=d.remove(b))});return d})};return a}(),Jf=function(){function a(){this.refsByKey=new tb(Wb.compareByKey);this.refsByTarget=new tb(Wb.compareByTargetId)}a.prototype.isEmpty=function(){return this.refsByKey.isEmpty()};a.prototype.addReference=function(b,a){b=new Wb(b,a);this.refsByKey=this.refsByKey.add(b);
this.refsByTarget=this.refsByTarget.add(b)};a.prototype.addReferences=function(b,a){var c=this;b.forEach(function(b){return c.addReference(b,a)})};a.prototype.removeReference=function(b,a){this.removeRef(new Wb(b,a))};a.prototype.removeReferences=function(b,a){var c=this;b.forEach(function(b){return c.removeReference(b,a)})};a.prototype.removeReferencesForId=function(b){var a=this,c=ia.EMPTY,g=new Wb(c,b);b=new Wb(c,b+1);var e=[];this.refsByTarget.forEachInRange([g,b],function(b){a.removeRef(b);e.push(b.key)});
return e};a.prototype.removeAllReferences=function(){var b=this;this.refsByKey.forEach(function(a){return b.removeRef(a)})};a.prototype.removeRef=function(b){this.refsByKey=this.refsByKey.delete(b);this.refsByTarget=this.refsByTarget.delete(b)};a.prototype.referencesForId=function(b){var a=ia.EMPTY,c=new Wb(a,b);b=new Wb(a,b+1);var g=ra();this.refsByTarget.forEachInRange([c,b],function(b){g=g.add(b.key)});return g};a.prototype.containsKey=function(b){var a=new Wb(b,0);a=this.refsByKey.firstAfterOrEqual(a);
return null!==a&&b.isEqual(a.key)};return a}(),Wb=function(){function a(b,a){this.key=b;this.targetOrBatchId=a}a.compareByKey=function(b,a){return ia.comparator(b.key,a.key)||pa(b.targetOrBatchId,a.targetOrBatchId)};a.compareByTargetId=function(b,a){return pa(b.targetOrBatchId,a.targetOrBatchId)||ia.comparator(b.key,a.key)};return a}(),Lf=function(){function a(b,a){this.persistence=b;this.localViewReferences=new Jf;this.queryDataByTarget={};k(b.started,"LocalStore was passed an unstarted persistence implementation");
this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences);this.mutationQueue=b.getMutationQueue(a);this.remoteDocuments=b.getRemoteDocumentCache();this.queryCache=b.getQueryCache();this.localDocuments=new Sd(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}a.prototype.handleUserChange=function(b){var a=this;return this.persistence.runTransaction("Handle user change","readonly",function(c){var d;return a.mutationQueue.getAllMutationBatches(c).next(function(g){d=
g;a.mutationQueue=a.persistence.getMutationQueue(b);a.localDocuments=new Sd(a.remoteDocuments,a.mutationQueue,a.persistence.getIndexManager());return a.mutationQueue.getAllMutationBatches(c)}).next(function(b){for(var g=[],e=[],h=ra(),f=0,l=d;f<l.length;f++){var k=l[f];g.push(k.batchId);for(var m=0,r=k.mutations;m<r.length;m++)k=r[m],h=h.add(k.key)}for(f=0;f<b.length;f++)for(k=b[f],e.push(k.batchId),l=0,m=k.mutations;l<m.length;l++)k=m[l],h=h.add(k.key);return a.localDocuments.getDocuments(c,h).next(function(b){return{affectedDocuments:b,
removedBatchIds:g,addedBatchIds:e}})})})};a.prototype.localWrite=function(b){var a=this,c=bb.now(),g=b.reduce(function(b,a){return b.add(a.key)},ra());return this.persistence.runTransaction("Locally write mutations","readwrite",function(d){return a.localDocuments.getDocuments(d,g).next(function(g){for(var e=[],h=0;h<b.length;h++){var f=b[h],l=g.get(f.key);if(!f.isIdempotent){var k=f.fieldMask;k&&(l=l instanceof da?k.applyTo(l.data):md.EMPTY,e.push(new m(f.key,l,k,yb.exists(!0))))}}return a.mutationQueue.addMutationBatch(d,
c,e,b).next(function(b){var a=b.applyToLocalDocumentSet(g);return{batchId:b.batchId,changes:a}})})})};a.prototype.lookupMutationDocuments=function(b){var a=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(c){return a.mutationQueue.lookupMutationKeys(c,b).next(function(b){return b?a.localDocuments.getDocuments(c,b):L.resolve(null)})})};a.prototype.acknowledgeBatch=function(b){var a=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",
function(c){var d=b.batch.keys(),g=a.remoteDocuments.newChangeBuffer();return a.mutationQueue.acknowledgeBatch(c,b.batch,b.streamToken).next(function(){return a.applyWriteToRemoteDocuments(c,b,g)}).next(function(){return g.apply(c)}).next(function(){return a.mutationQueue.performConsistencyCheck(c)}).next(function(){return a.localDocuments.getDocuments(c,d)})})};a.prototype.rejectBatch=function(b){var a=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(c){var d;
return a.mutationQueue.lookupMutationBatch(c,b).next(function(b){k(null!==b,"Attempt to reject nonexistent batch!");d=b.keys();return a.mutationQueue.removeMutationBatch(c,b)}).next(function(){return a.mutationQueue.performConsistencyCheck(c)}).next(function(){return a.localDocuments.getDocuments(c,d)})})};a.prototype.getLastStreamToken=function(){var b=this;return this.persistence.runTransaction("Get last stream token","readonly",function(a){return b.mutationQueue.getLastStreamToken(a)})};a.prototype.setLastStreamToken=
function(b){var a=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(c){return a.mutationQueue.setLastStreamToken(c,b)})};a.prototype.getLastRemoteSnapshotVersion=function(){var b=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(a){return b.queryCache.getLastRemoteSnapshotVersion(a)})};a.prototype.applyRemoteEvent=function(b){var c=this,g=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event",
"readwrite-primary",function(d){var e=[],h=ra();U(b.targetChanges,function(g,f){var l=c.queryDataByTarget[g];if(l){f.addedDocuments.forEach(function(b){h=h.add(b)});f.modifiedDocuments.forEach(function(b){h=h.add(b)});e.push(c.queryCache.removeMatchingKeys(d,f.removedDocuments,g).next(function(){return c.queryCache.addMatchingKeys(d,f.addedDocuments,g)}));var k=f.resumeToken;if(0<k.length){var m=l;l=l.copy({resumeToken:k,snapshotVersion:b.snapshotVersion});c.queryDataByTarget[g]=l;a.shouldPersistQueryData(m,
l,f)&&e.push(c.queryCache.updateQueryData(d,l))}}});var f=Sb,l=ra();b.documentUpdates.forEach(function(b,a){l=l.add(b)});e.push(g.getEntries(d,l).next(function(a){b.documentUpdates.forEach(function(l,k){var m=a.get(l);null==m||k.version.isEqual(hb.MIN)||h.has(k.key)&&!m.hasPendingWrites||0<=k.version.compareTo(m.version)?(g.addEntry(k),f=f.insert(l,k)):z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",m.version," Watch version:",k.version);b.resolvedLimboDocuments.has(l)&&
e.push(c.persistence.referenceDelegate.updateLimboDocument(d,l))})}));var m=b.snapshotVersion;if(!m.isEqual(hb.MIN)){var r=c.queryCache.getLastRemoteSnapshotVersion(d).next(function(b){k(0<=m.compareTo(b),"Watch stream reverted to previous snapshot?? "+m+" \x3c "+b);return c.queryCache.setTargetsMetadata(d,d.currentSequenceNumber,m)});e.push(r)}return L.waitFor(e).next(function(){return g.apply(d)}).next(function(){return c.localDocuments.getLocalViewOfDocuments(d,f)})})};a.shouldPersistQueryData=
function(b,a,c){return 0===a.resumeToken.length?!1:0===b.resumeToken.length||a.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS?!0:0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size};a.prototype.notifyLocalViewChanges=function(b){var a=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(c){return L.forEach(b,function(b){a.localViewReferences.addReferences(b.addedKeys,b.targetId);a.localViewReferences.removeReferences(b.removedKeys,
b.targetId);return L.forEach(b.removedKeys,function(b){return a.persistence.referenceDelegate.removeReference(c,b)})})})};a.prototype.nextMutationBatch=function(b){var a=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(c){void 0===b&&(b=-1);return a.mutationQueue.getNextMutationBatchAfterBatchId(c,b)})};a.prototype.readDocument=function(b){var a=this;return this.persistence.runTransaction("read document","readonly",function(c){return a.localDocuments.getDocument(c,
b)})};a.prototype.allocateQuery=function(b){var a=this;return this.persistence.runTransaction("Allocate query","readwrite",function(c){var d;return a.queryCache.getQueryData(c,b).next(function(g){return g?(d=g,L.resolve()):a.queryCache.allocateTargetId(c).next(function(g){d=new Kd(b,g,mb.Listen,c.currentSequenceNumber);return a.queryCache.addQueryData(c,d)})}).next(function(){k(!a.queryDataByTarget[d.targetId],"Tried to allocate an already allocated query: "+b);return a.queryDataByTarget[d.targetId]=
d})})};a.prototype.releaseQuery=function(b,a){var c=this;return this.persistence.runTransaction("Release query",a?"readwrite":"readwrite-primary",function(d){return c.queryCache.getQueryData(d,b).next(function(g){k(null!=g,"Tried to release nonexistent query: "+b);g=g.targetId;var e=c.queryDataByTarget[g],h=c.localViewReferences.removeReferencesForId(g);delete c.queryDataByTarget[g];return a?L.resolve():L.forEach(h,function(b){return c.persistence.referenceDelegate.removeReference(d,b)}).next(function(){return c.persistence.referenceDelegate.removeTarget(d,
e)})})})};a.prototype.executeQuery=function(b){var a=this;return this.persistence.runTransaction("Execute query","readonly",function(c){return a.localDocuments.getDocumentsMatchingQuery(c,b)})};a.prototype.remoteDocumentKeys=function(b){var a=this;return this.persistence.runTransaction("Remote document keys","readonly",function(c){return a.queryCache.getMatchingKeysForTargetId(c,b)})};a.prototype.getActiveClients=function(){return this.persistence.getActiveClients()};a.prototype.removeCachedMutationBatchMetadata=
function(b){this.mutationQueue.removeCachedMutationKeys(b)};a.prototype.setNetworkEnabled=function(b){this.persistence.setNetworkEnabled(b)};a.prototype.applyWriteToRemoteDocuments=function(b,a,c){var d=this,g=a.batch,e=g.keys(),h=L.resolve();e.forEach(function(d){h=h.next(function(){return c.getEntry(b,d)}).next(function(b){var e=b,h=a.docVersions.get(d);k(null!==h,"ackVersions should contain every doc in the write.");if(!e||0>e.version.compareTo(h))(e=g.applyToRemoteDocument(d,e,a))?c.addEntry(e):
k(!b,"Mutation batch "+g+" applied to document "+b+" resulted in null")})});return h.next(function(){return d.mutationQueue.removeMutationBatch(b,g)})};a.prototype.collectGarbage=function(b){var a=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(c){return b.collect(c,a.queryDataByTarget)})};a.prototype.getQueryForTarget=function(b){var a=this;return this.queryDataByTarget[b]?Promise.resolve(this.queryDataByTarget[b].query):this.persistence.runTransaction("Get query data",
"readonly",function(c){return a.queryCache.getQueryDataForTarget(c,b).next(function(b){return b?b.query:null})})};a.prototype.getNewDocumentChanges=function(){var b=this;return this.persistence.runTransaction("Get new document changes","readonly",function(a){return b.remoteDocuments.getNewDocumentChanges(a)})};a.RESUME_TOKEN_MAX_AGE_MICROS=3E8;return a}(),hh=function(){function a(b,a){this.indexManager=b;this.referenceDelegate=a;this.mutationQueue=[];this.nextBatchId=1;this.lastStreamToken=e();this.batchesByDocumentKey=
new tb(Wb.compareByKey)}a.prototype.checkEmpty=function(b){return L.resolve(0===this.mutationQueue.length)};a.prototype.acknowledgeBatch=function(b,a,c){b=a.batchId;a=this.indexOfExistingBatchId(b,"acknowledged");k(0===a,"Can only acknowledge the first batch in the mutation queue");a=this.mutationQueue[a];k(b===a.batchId,"Queue ordering failure: expected batch "+b+", got batch "+a.batchId);this.lastStreamToken=c;return L.resolve()};a.prototype.getLastStreamToken=function(b){return L.resolve(this.lastStreamToken)};
a.prototype.setLastStreamToken=function(b,a){this.lastStreamToken=a;return L.resolve()};a.prototype.addMutationBatch=function(b,a,c,g){k(0!==g.length,"Mutation batches should not be empty");var d=this.nextBatchId;this.nextBatchId++;0<this.mutationQueue.length&&k(this.mutationQueue[this.mutationQueue.length-1].batchId<d,"Mutation batchIDs must be monotonically increasing order");a=new nd(d,a,c,g);this.mutationQueue.push(a);for(c=0;c<g.length;c++){var e=g[c];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Wb(e.key,
d));this.indexManager.addToCollectionParentIndex(b,e.key.path.popLast())}return L.resolve(a)};a.prototype.lookupMutationBatch=function(b,a){return L.resolve(this.findMutationBatch(a))};a.prototype.lookupMutationKeys=function(b,a){b=this.findMutationBatch(a);k(null!=b,"Failed to find local mutation batch.");return L.resolve(b.keys())};a.prototype.getNextMutationBatchAfterBatchId=function(b,a){b=this.indexOfBatchId(a+1);b=0>b?0:b;return L.resolve(this.mutationQueue.length>b?this.mutationQueue[b]:null)};
a.prototype.getAllMutationBatches=function(b){return L.resolve(this.mutationQueue.slice())};a.prototype.getAllMutationBatchesAffectingDocumentKey=function(b,a){var c=this;b=new Wb(a,0);var d=new Wb(a,Number.POSITIVE_INFINITY),g=[];this.batchesByDocumentKey.forEachInRange([b,d],function(b){k(a.isEqual(b.key),"Should only iterate over a single key's batches");b=c.findMutationBatch(b.targetOrBatchId);k(null!==b,"Batches in the index must exist in the main table");g.push(b)});return L.resolve(g)};a.prototype.getAllMutationBatchesAffectingDocumentKeys=
function(b,a){var c=this,d=new tb(pa);a.forEach(function(b){var a=new Wb(b,0),g=new Wb(b,Number.POSITIVE_INFINITY);c.batchesByDocumentKey.forEachInRange([a,g],function(a){k(b.isEqual(a.key),"For each key, should only iterate over a single key's batches");d=d.add(a.targetOrBatchId)})});return L.resolve(this.findMutationBatches(d))};a.prototype.getAllMutationBatchesAffectingQuery=function(b,a){k(!a.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var c=a.path,
d=c.length+1;b=c;ia.isDocumentKey(b)||(b=b.child(""));b=new Wb(new ia(b),0);var g=new tb(pa);this.batchesByDocumentKey.forEachWhile(function(b){var a=b.key.path;return c.isPrefixOf(a)?(a.length===d&&(g=g.add(b.targetOrBatchId)),!0):!1},b);return L.resolve(this.findMutationBatches(g))};a.prototype.findMutationBatches=function(b){var a=this,c=[];b.forEach(function(b){b=a.findMutationBatch(b);null!==b&&c.push(b)});return c};a.prototype.removeMutationBatch=function(b,a){var c=this,d=this.indexOfExistingBatchId(a.batchId,
"removed");k(0===d,"Can only remove the first entry of the mutation queue");this.mutationQueue.shift();var g=this.batchesByDocumentKey;return L.forEach(a.mutations,function(d){var e=new Wb(d.key,a.batchId);g=g.delete(e);return c.referenceDelegate.removeMutationReference(b,d.key)}).next(function(){c.batchesByDocumentKey=g})};a.prototype.removeCachedMutationKeys=function(b){};a.prototype.containsKey=function(b,a){b=new Wb(a,0);b=this.batchesByDocumentKey.firstAfterOrEqual(b);return L.resolve(a.isEqual(b&&
b.key))};a.prototype.performConsistencyCheck=function(b){0===this.mutationQueue.length&&k(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty.");return L.resolve()};a.prototype.indexOfExistingBatchId=function(b,a){b=this.indexOfBatchId(b);k(0<=b&&b<this.mutationQueue.length,"Batches must exist to be "+a);return b};a.prototype.indexOfBatchId=function(b){return 0===this.mutationQueue.length?0:b-this.mutationQueue[0].batchId};a.prototype.findMutationBatch=
function(b){var a=this.indexOfBatchId(b);if(0>a||a>=this.mutationQueue.length)return null;a=this.mutationQueue[a];k(a.batchId===b,"If found batch must match");return a};return a}(),kh=function(){function a(b){this.persistence=b;this.queries=new Oc(function(b){return b.canonicalId()});this.lastRemoteSnapshotVersion=hb.MIN;this.highestSequenceNumber=this.highestTargetId=0;this.references=new Jf;this.targetCount=0;this.targetIdGenerator=Se.forQueryCache()}a.prototype.getTargetCount=function(b){return L.resolve(this.targetCount)};
a.prototype.forEachTarget=function(b,a){this.queries.forEach(function(b,c){return a(c)});return L.resolve()};a.prototype.getLastRemoteSnapshotVersion=function(b){return L.resolve(this.lastRemoteSnapshotVersion)};a.prototype.getHighestSequenceNumber=function(b){return L.resolve(this.highestSequenceNumber)};a.prototype.allocateTargetId=function(b){this.highestTargetId=b=this.targetIdGenerator.after(this.highestTargetId);return L.resolve(b)};a.prototype.setTargetsMetadata=function(b,a,c){c&&(this.lastRemoteSnapshotVersion=
c);a>this.highestSequenceNumber&&(this.highestSequenceNumber=a);return L.resolve()};a.prototype.saveQueryData=function(b){this.queries.set(b.query,b);var a=b.targetId;a>this.highestTargetId&&(this.highestTargetId=a);b.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=b.sequenceNumber)};a.prototype.addQueryData=function(b,a){k(!this.queries.has(a.query),"Adding a query that already exists");this.saveQueryData(a);this.targetCount+=1;return L.resolve()};a.prototype.updateQueryData=
function(b,a){k(this.queries.has(a.query),"Updating a non-existent query");this.saveQueryData(a);return L.resolve()};a.prototype.removeQueryData=function(b,a){k(0<this.targetCount,"Removing a target from an empty cache");k(this.queries.has(a.query),"Removing a non-existent target from the cache");this.queries.delete(a.query);this.references.removeReferencesForId(a.targetId);--this.targetCount;return L.resolve()};a.prototype.removeTargets=function(b,a,c){var d=this,g=0,e=[];this.queries.forEach(function(h,
f){f.sequenceNumber<=a&&!c[f.targetId]&&(d.queries.delete(h),e.push(d.removeMatchingKeysForTargetId(b,f.targetId)),g++)});return L.waitFor(e).next(function(){return g})};a.prototype.getQueryCount=function(b){return L.resolve(this.targetCount)};a.prototype.getQueryData=function(b,a){b=this.queries.get(a)||null;return L.resolve(b)};a.prototype.getQueryDataForTarget=function(b,a){return w("Not yet implemented.")};a.prototype.addMatchingKeys=function(b,a,c){this.references.addReferences(a,c);var d=this.persistence.referenceDelegate,
g=[];d&&a.forEach(function(a){g.push(d.addReference(b,a))});return L.waitFor(g)};a.prototype.removeMatchingKeys=function(b,a,c){this.references.removeReferences(a,c);var d=this.persistence.referenceDelegate,g=[];d&&a.forEach(function(a){g.push(d.removeReference(b,a))});return L.waitFor(g)};a.prototype.removeMatchingKeysForTargetId=function(b,a){this.references.removeReferencesForId(a);return L.resolve()};a.prototype.getMatchingKeysForTargetId=function(b,a){b=this.references.referencesForId(a);return L.resolve(b)};
a.prototype.containsKey=function(b,a){return L.resolve(this.references.containsKey(a))};return a}(),lh=function(){function a(b,a){this.indexManager=b;this.sizer=a;this.docs=new sb(ia.comparator);this.newDocumentChanges=ra();this.size=0}a.prototype.addEntries=function(b,a,c){for(var d=[],g=0;g<a.length;g++){var e=a[g],h=e.maybeDocument.key;this.docs=this.docs.insert(h,e);this.newDocumentChanges=this.newDocumentChanges.add(h);d.push(this.indexManager.addToCollectionParentIndex(b,h.path.popLast()))}this.size+=
c;return L.waitFor(d)};a.prototype.removeEntry=function(b,a){return(b=this.docs.get(a))?(this.docs=this.docs.remove(a),this.size-=b.size,L.resolve(b.size)):L.resolve(0)};a.prototype.getEntry=function(b,a){b=this.docs.get(a);return L.resolve(b?b.maybeDocument:null)};a.prototype.getSizedEntry=function(b,a){return L.resolve(this.docs.get(a))};a.prototype.getEntries=function(b,a){var c=this,d=Sb;a.forEach(function(b){var a=c.docs.get(b);d=d.insert(b,a?a.maybeDocument:null)});return L.resolve(d)};a.prototype.getSizedEntries=
function(b,a){var c=this,d=Sb,g=new sb(ia.comparator);a.forEach(function(b){var a=c.docs.get(b);d=d.insert(b,a?a.maybeDocument:null);g=g.insert(b,a?a.size:0)});return L.resolve({maybeDocuments:d,sizeMap:g})};a.prototype.getDocumentsMatchingQuery=function(b,a){k(!a.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");b=Mc;var c=new ia(a.path.child(""));for(c=this.docs.getIteratorFrom(c);c.hasNext();){var d=c.getNext(),g=d.value.maybeDocument;if(!a.path.isPrefixOf(d.key.path))break;
g instanceof da&&a.matches(g)&&(b=b.insert(g.key,g))}return L.resolve(b)};a.prototype.forEachDocumentKey=function(b,a){return L.forEach(this.docs,function(b){return a(b)})};a.prototype.getNewDocumentChanges=function(b){var a=this,c=Sb;this.newDocumentChanges.forEach(function(b){var d=a.docs.get(b);d=d?d.maybeDocument:new cb(b,hb.forDeletedDoc());c=c.insert(b,d)});this.newDocumentChanges=ra();return L.resolve(c)};a.prototype.newChangeBuffer=function(){return new mh(this.sizer,this)};a.prototype.getSize=
function(b){return L.resolve(this.size)};return a}(),mh=function(a){function b(b,c){var d=a.call(this)||this;d.sizer=b;d.documentCache=c;return d}r.__extends(b,a);b.prototype.applyChanges=function(b){var a=this,c=0,d=[];this.assertChanges().forEach(function(b,g){var e=a.documentSizes.get(b);k(void 0!==e,"Attempting to change document "+b.toString()+" without having read it first");b=a.sizer(g);c+=b-e;d.push({maybeDocument:g,size:b})});return this.documentCache.addEntries(b,d,c)};b.prototype.getFromCache=
function(b,a){return this.documentCache.getSizedEntry(b,a)};b.prototype.getAllFromCache=function(b,a){return this.documentCache.getSizedEntries(b,a)};return b}(pe),ig=function(){function a(b,a){var c=this;this.clientId=b;this.mutationQueues={};this.listenSequence=new Ub(0);this._started=!1;this._started=!0;this.referenceDelegate=a(this);this.queryCache=new kh(this);this.indexManager=new qe;this.remoteDocumentCache=new lh(this.indexManager,function(b){return c.referenceDelegate.documentSize(b)})}a.createLruPersistence=
function(b,c,g){return new a(b,function(b){return new ie(b,new v(c),g)})};a.createEagerPersistence=function(b){return new a(b,function(b){return new Kg(b)})};a.prototype.shutdown=function(){this._started=!1;return Promise.resolve()};Object.defineProperty(a.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0});a.prototype.getActiveClients=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(b){return[2,[this.clientId]]})})};
a.prototype.setPrimaryStateListener=function(b){return b(!0)};a.prototype.setNetworkEnabled=function(b){};a.prototype.getIndexManager=function(){return this.indexManager};a.prototype.getMutationQueue=function(b){var a=this.mutationQueues[b.toKey()];a||(a=new hh(this.indexManager,this.referenceDelegate),this.mutationQueues[b.toKey()]=a);return a};a.prototype.getQueryCache=function(){return this.queryCache};a.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache};a.prototype.runTransaction=
function(b,a,c){var d=this;z("MemoryPersistence","Starting transaction:",b);var g=new nh(this.listenSequence.next());this.referenceDelegate.onTransactionStarted();return c(g).next(function(b){return d.referenceDelegate.onTransactionCommitted(g).next(function(){return b})}).toPromise()};a.prototype.mutationQueuesContainKey=function(b,a){return L.or(J(this.mutationQueues).map(function(c){return function(){return c.containsKey(b,a)}}))};return a}(),nh=function(){return function(a){this.currentSequenceNumber=
a}}(),Kg=function(){function a(b){this.persistence=b}a.prototype.setInMemoryPins=function(b){this.inMemoryPins=b};a.prototype.addReference=function(b,a){this.orphanedDocuments.delete(a);return L.resolve()};a.prototype.removeReference=function(b,a){this.orphanedDocuments.add(a);return L.resolve()};a.prototype.removeMutationReference=function(b,a){this.orphanedDocuments.add(a);return L.resolve()};a.prototype.removeTarget=function(b,a){var c=this,d=this.persistence.getQueryCache();return d.getMatchingKeysForTargetId(b,
a.targetId).next(function(b){b.forEach(function(b){return c.orphanedDocuments.add(b)})}).next(function(){return d.removeQueryData(b,a)})};a.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set};a.prototype.onTransactionCommitted=function(b){var a=this,c=this.persistence.getRemoteDocumentCache();return L.forEach(this.orphanedDocuments,function(d){return a.isReferenced(b,d).next(function(a){return a?L.resolve():c.removeEntry(b,d).next(function(){})})})};a.prototype.updateLimboDocument=
function(b,a){var c=this;return this.isReferenced(b,a).next(function(b){b?c.orphanedDocuments.delete(a):c.orphanedDocuments.add(a)})};a.prototype.documentSize=function(b){return 0};a.prototype.isReferenced=function(b,a){var c=this;return L.or([function(){return c.persistence.getQueryCache().containsKey(b,a)},function(){return c.persistence.mutationQueuesContainKey(b,a)},function(){return L.resolve(c.inMemoryPins.containsKey(a))}])};return a}(),ie=function(){function a(b,a,c){this.persistence=b;this.serializer=
a;this.orphanedSequenceNumbers=new Oc(function(b){return Ra(b.path)});this.garbageCollector=new Ae(this,c)}a.prototype.onTransactionStarted=function(){};a.prototype.onTransactionCommitted=function(b){return L.resolve()};a.prototype.forEachTarget=function(b,a){return this.persistence.getQueryCache().forEachTarget(b,a)};a.prototype.getSequenceNumberCount=function(b){var a=this.orphanedDocumentCount(b);return this.persistence.getQueryCache().getTargetCount(b).next(function(b){return a.next(function(a){return b+
a})})};a.prototype.orphanedDocumentCount=function(b){var a=0;return this.forEachOrphanedDocumentSequenceNumber(b,function(b){a++}).next(function(){return a})};a.prototype.forEachOrphanedDocumentSequenceNumber=function(b,a){var c=this;return L.forEach(this.orphanedSequenceNumbers,function(d,g){return c.isPinned(b,d,g).next(function(b){return b?L.resolve():a(g)})})};a.prototype.setInMemoryPins=function(b){this.inMemoryPins=b};a.prototype.removeTargets=function(b,a,c){return this.persistence.getQueryCache().removeTargets(b,
a,c)};a.prototype.removeOrphanedDocuments=function(b,a){var c=this,d=0,g=this.persistence.getRemoteDocumentCache();return g.forEachDocumentKey(b,function(e){return c.isPinned(b,e,a).next(function(a){if(a)return L.resolve();d++;return g.removeEntry(b,e).next()})}).next(function(){return d})};a.prototype.removeMutationReference=function(b,a){this.orphanedSequenceNumbers.set(a,b.currentSequenceNumber);return L.resolve()};a.prototype.removeTarget=function(b,a){a=a.copy({sequenceNumber:b.currentSequenceNumber});
return this.persistence.getQueryCache().updateQueryData(b,a)};a.prototype.addReference=function(b,a){this.orphanedSequenceNumbers.set(a,b.currentSequenceNumber);return L.resolve()};a.prototype.removeReference=function(b,a){this.orphanedSequenceNumbers.set(a,b.currentSequenceNumber);return L.resolve()};a.prototype.updateLimboDocument=function(b,a){this.orphanedSequenceNumbers.set(a,b.currentSequenceNumber);return L.resolve()};a.prototype.documentSize=function(b){b=this.serializer.toDbRemoteDocument(b);
if(b.document)b=b.document;else if(b.unknownDocument)b=b.unknownDocument;else if(b.noDocument)b=b.noDocument;else throw w("Unknown remote document type");return JSON.stringify(b).length};a.prototype.isPinned=function(b,a,c){var d=this;return L.or([function(){return d.persistence.mutationQueuesContainKey(b,a)},function(){return L.resolve(d.inMemoryPins.containsKey(a))},function(){return d.persistence.getQueryCache().containsKey(b,a)},function(){var b=d.orphanedSequenceNumbers.get(a);return L.resolve(void 0!==
b&&b>c)}])};a.prototype.getCacheSize=function(b){return this.persistence.getRemoteDocumentCache().getSize(b)};return a}(),qf=function(){function a(b,a,c,g,e){this.queue=b;this.timerId=a;this.initialDelayMs=c;this.backoffFactor=g;this.maxDelayMs=e;this.timerPromise=null;this.lastAttemptTime=Date.now();this.reset()}a.prototype.reset=function(){this.currentBaseMs=0};a.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs};a.prototype.backoffAndRun=function(b){var a=this;this.cancel();var c=
Math.floor(this.currentBaseMs+this.jitterDelayMs()),g=Math.max(0,Date.now()-this.lastAttemptTime),e=Math.max(0,c-g);0<this.currentBaseMs&&z("ExponentialBackoff","Backing off for "+e+" ms "+("(base delay: "+this.currentBaseMs+" ms, ")+("delay with jitter: "+c+" ms, ")+("last attempt: "+g+" ms ago)"));this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,e,function(){a.lastAttemptTime=Date.now();return b()});this.currentBaseMs*=this.backoffFactor;this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=
this.initialDelayMs);this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)};a.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)};a.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs};return a}(),jb;(function(a){a[a.Initial=0]="Initial";a[a.Starting=1]="Starting";a[a.Open=2]="Open";a[a.Error=3]="Error";a[a.Backoff=4]="Backoff"})(jb||(jb={}));var rf=function(){function a(b,a,c,g,e,h){this.queue=b;
this.idleTimerId=c;this.connection=g;this.credentialsProvider=e;this.listener=h;this.state=jb.Initial;this.closeCount=0;this.stream=this.idleTimer=null;this.backoff=new qf(b,a,1E3,1.5,6E4)}a.prototype.isStarted=function(){return this.state===jb.Starting||this.state===jb.Open||this.state===jb.Backoff};a.prototype.isOpen=function(){return this.state===jb.Open};a.prototype.start=function(){this.state===jb.Error?this.performBackoff():(k(this.state===jb.Initial,"Already started"),this.auth())};a.prototype.stop=
function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(b){switch(b.label){case 0:return this.isStarted()?[4,this.close(jb.Initial)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})};a.prototype.inhibitBackoff=function(){k(!this.isStarted(),"Can only inhibit backoff in a stopped state");this.state=jb.Initial;this.backoff.reset()};a.prototype.markIdle=function(){var b=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,
6E4,function(){return b.handleIdleCloseTimer()}))};a.prototype.sendRequest=function(b){this.cancelIdleCheck();this.stream.send(b)};a.prototype.handleIdleCloseTimer=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(b){return this.isOpen()?[2,this.close(jb.Initial)]:[2]})})};a.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)};a.prototype.close=function(b,a){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,
function(c){switch(c.label){case 0:return k(this.isStarted(),"Only started streams should be closed."),k(b===jb.Error||Ua(a),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,b!==jb.Error?this.backoff.reset():a&&a.code===D.RESOURCE_EXHAUSTED?(C(a.toString()),C("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):a&&a.code===D.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==
this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=b,[4,this.listener.onClose(a)];case 1:return c.sent(),[2]}})})};a.prototype.tearDown=function(){};a.prototype.auth=function(){var b=this;k(this.state===jb.Initial,"Must be in initial state to auth");this.state=jb.Starting;var a=this.getCloseGuardedDispatcher(this.closeCount),c=this.closeCount;this.credentialsProvider.getToken().then(function(a){b.closeCount===c&&b.startStream(a)},function(c){a(function(){var a=new M(D.UNKNOWN,
"Fetching auth token failed: "+c.message);return b.handleStreamClose(a)})})};a.prototype.startStream=function(b){var a=this;k(this.state===jb.Starting,"Trying to start stream in a non-starting state");var c=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(b);this.stream.onOpen(function(){c(function(){k(a.state===jb.Starting,"Expected stream to be in state Starting, but was "+a.state);a.state=jb.Open;return a.listener.onOpen()})});this.stream.onClose(function(b){c(function(){return a.handleStreamClose(b)})});
this.stream.onMessage(function(b){c(function(){return a.onMessage(b)})})};a.prototype.performBackoff=function(){var b=this;k(this.state===jb.Error,"Should only perform backoff when in Error state");this.state=jb.Backoff;this.backoff.backoffAndRun(function(){return r.__awaiter(b,void 0,void 0,function(){return r.__generator(this,function(b){k(this.state===jb.Backoff,"Backoff elapsed but state is now: "+this.state);this.state=jb.Initial;this.start();k(this.isStarted(),"PersistentStream should have started");
return[2]})})})};a.prototype.handleStreamClose=function(b){k(this.isStarted(),"Can't handle server close on non-started stream");z("PersistentStream","close with error: "+b);this.stream=null;return this.close(jb.Error,b)};a.prototype.getCloseGuardedDispatcher=function(b){var a=this;return function(c){a.queue.enqueueAndForget(function(){if(a.closeCount===b)return c();z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher.");return Promise.resolve()})}};return a}(),Ce=function(a){function b(b,
c,g,e,h){b=a.call(this,b,zc.ListenStreamConnectionBackoff,zc.ListenStreamIdle,c,g,h)||this;b.serializer=e;return b}r.__extends(b,a);b.prototype.startRpc=function(b){return this.connection.openStream("Listen",b)};b.prototype.onMessage=function(b){this.backoff.reset();var a=this.serializer.fromWatchChange(b);b=this.serializer.versionFromListenResponse(b);return this.listener.onWatchChange(a,b)};b.prototype.watch=function(b){var a={};a.database=this.serializer.encodedDatabaseId;a.addTarget=this.serializer.toTarget(b);
if(b=this.serializer.toListenRequestLabels(b))a.labels=b;this.sendRequest(a)};b.prototype.unwatch=function(b){var a={};a.database=this.serializer.encodedDatabaseId;a.removeTarget=b;this.sendRequest(a)};return b}(rf),Lg=function(a){function b(b,c,g,e,h){b=a.call(this,b,zc.WriteStreamConnectionBackoff,zc.WriteStreamIdle,c,g,h)||this;b.serializer=e;b.handshakeComplete_=!1;return b}r.__extends(b,a);Object.defineProperty(b.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,
configurable:!0});b.prototype.start=function(){this.handshakeComplete_=!1;a.prototype.start.call(this)};b.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])};b.prototype.startRpc=function(b){return this.connection.openStream("Write",b)};b.prototype.onMessage=function(b){k(!!b.streamToken,"Got a write response without a stream token");this.lastStreamToken=b.streamToken;if(this.handshakeComplete_){this.backoff.reset();var a=this.serializer.fromWriteResults(b.writeResults,
b.commitTime);b=this.serializer.fromVersion(b.commitTime);return this.listener.onMutationResult(b,a)}k(!b.writeResults||0===b.writeResults.length,"Got mutation results for handshake");this.handshakeComplete_=!0;return this.listener.onHandshakeComplete()};b.prototype.writeHandshake=function(){k(this.isOpen(),"Writing handshake requires an opened stream");k(!this.handshakeComplete_,"Handshake already completed");var b={};b.database=this.serializer.encodedDatabaseId;this.sendRequest(b)};b.prototype.writeMutations=
function(b){var a=this;k(this.isOpen(),"Writing mutations requires an opened stream");k(this.handshakeComplete_,"Handshake must be complete before writing mutations");k(0<this.lastStreamToken.length,"Trying to write mutation without a token");b={streamToken:this.lastStreamToken,writes:b.map(function(b){return a.serializer.toMutation(b)})};this.sendRequest(b)};return b}(rf),sf=function(){function a(b,a,c,e){this.queue=b;this.connection=a;this.credentials=c;this.serializer=e}a.prototype.newPersistentWriteStream=
function(b){return new Lg(this.queue,this.connection,this.credentials,this.serializer,b)};a.prototype.newPersistentWatchStream=function(b){return new Ce(this.queue,this.connection,this.credentials,this.serializer,b)};a.prototype.commit=function(b){var a=this;b={database:this.serializer.encodedDatabaseId,writes:b.map(function(b){return a.serializer.toMutation(b)})};return this.invokeRPC("Commit",b).then(function(b){return a.serializer.fromWriteResults(b.writeResults,b.commitTime)})};a.prototype.lookup=
function(b){var a=this,c={database:this.serializer.encodedDatabaseId,documents:b.map(function(b){return a.serializer.toName(b)})};return this.invokeStreamingRPC("BatchGetDocuments",c).then(function(c){var d=Sb;c.forEach(function(b){b=a.serializer.fromMaybeDocument(b);d=d.insert(b.key,b)});var e=[];b.forEach(function(b){var a=d.get(b);k(!!a,"Missing entity in write response for "+b);e.push(a)});return e})};a.prototype.invokeRPC=function(b,a){var c=this;return this.credentials.getToken().then(function(d){return c.connection.invokeRPC(b,
a,d)}).catch(function(b){b.code===D.UNAUTHENTICATED&&c.credentials.invalidateToken();throw b;})};a.prototype.invokeStreamingRPC=function(b,a){var c=this;return this.credentials.getToken().then(function(d){return c.connection.invokeStreamingRPC(b,a,d)}).catch(function(b){b.code===D.UNAUTHENTICATED&&c.credentials.invalidateToken();throw b;})};return a}(),ji=function(){function a(b){this.datastore=b;this.readVersions=be;this.mutations=[];this.committed=!1}a.prototype.recordVersion=function(b){if(b instanceof
da)var a=b.version;else if(b instanceof cb)a=hb.forDeletedDoc();else throw w("Document in a transaction was a "+b.constructor.name);var c=this.readVersions.get(b.key);if(null!==c){if(!a.isEqual(c))throw new M(D.ABORTED,"Document version changed between two reads.");}else this.readVersions=this.readVersions.insert(b.key,a)};a.prototype.lookup=function(b){var a=this;return this.committed?Promise.reject("Transaction has already completed."):0<this.mutations.length?Promise.reject("Transactions lookups are invalid after writes."):
this.datastore.lookup(b).then(function(b){b.forEach(function(b){b instanceof cb||b instanceof da?a.recordVersion(b):w("Document in a transaction was a "+b.constructor.name)});return b})};a.prototype.write=function(b){if(this.committed)throw new M(D.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(b)};a.prototype.precondition=function(b){return(b=this.readVersions.get(b))?yb.updateTime(b):yb.NONE};a.prototype.preconditionForUpdate=function(b){if((b=this.readVersions.get(b))&&
b.isEqual(hb.forDeletedDoc()))throw new M(D.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return b?yb.updateTime(b):yb.exists(!0)};a.prototype.set=function(b,a){this.write(a.toMutations(b,this.precondition(b)))};a.prototype.update=function(b,a){this.write(a.toMutations(b,this.preconditionForUpdate(b)))};a.prototype.delete=function(b){this.write([new h(b,this.precondition(b))]);this.readVersions=this.readVersions.insert(b,hb.forDeletedDoc())};a.prototype.commit=function(){var b=
this,a=this.readVersions;this.mutations.forEach(function(b){a=a.remove(b.key)});return a.isEmpty()?this.datastore.commit(this.mutations).then(function(){b.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))};return a}(),db;(function(a){a[a.Unknown=0]="Unknown";a[a.Online=1]="Online";a[a.Offline=2]="Offline"})(db||(db={}));var dc;(function(a){a[a.RemoteStore=0]="RemoteStore";a[a.SharedClientState=1]="SharedClientState"})(dc||(dc={}));var Nb=function(){function a(b,
a){this.asyncQueue=b;this.onlineStateHandler=a;this.state=db.Unknown;this.watchStreamFailures=0;this.onlineStateTimer=null;this.shouldWarnClientIsOffline=!0}a.prototype.handleWatchStreamStart=function(){var b=this;0===this.watchStreamFailures&&(this.setAndBroadcast(db.Unknown),k(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(zc.OnlineStateTimeout,1E4,function(){b.onlineStateTimer=null;k(b.state===db.Unknown,"Timer should be canceled if we transitioned to a different state.");
b.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds.");b.setAndBroadcast(db.Offline);return Promise.resolve()}))};a.prototype.handleWatchStreamFailure=function(b){this.state===db.Online?(this.setAndBroadcast(db.Unknown),k(0===this.watchStreamFailures,"watchStreamFailures must be 0"),k(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+
b.toString()),this.setAndBroadcast(db.Offline)))};a.prototype.set=function(b){this.clearOnlineStateTimer();this.watchStreamFailures=0;b===db.Online&&(this.shouldWarnClientIsOffline=!1);this.setAndBroadcast(b)};a.prototype.setAndBroadcast=function(b){b!==this.state&&(this.state=b,this.onlineStateHandler(b))};a.prototype.logClientOfflineWarningIfNecessary=function(b){b="Could not reach Cloud Firestore backend. "+b+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";
this.shouldWarnClientIsOffline?(C(b),this.shouldWarnClientIsOffline=!1):z("OnlineStateTracker",b)};a.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)};return a}(),Nf=function(){function a(b,a,c,e){this.localStore=b;this.datastore=a;this.writePipeline=[];this.listenTargets={};this.watchChangeAggregator=null;this.isPrimary=this.networkEnabled=!1;this.onlineStateTracker=new Nb(c,e);this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),
onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)});this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}a.prototype.start=function(){return this.enableNetwork()};a.prototype.enableNetwork=function(){return r.__awaiter(this,void 0,void 0,function(){var b;return r.__generator(this,
function(a){switch(a.label){case 0:this.networkEnabled=!0;if(!this.canUseNetwork())return[3,3];b=this.writeStream;return[4,this.localStore.getLastStreamToken()];case 1:return b.lastStreamToken=a.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(db.Unknown),[4,this.fillWritePipeline()];case 2:a.sent(),a.label=3;case 3:return[2]}})})};a.prototype.disableNetwork=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(b){switch(b.label){case 0:return this.networkEnabled=
!1,[4,this.disableNetworkInternal()];case 1:return b.sent(),this.onlineStateTracker.set(db.Offline),[2]}})})};a.prototype.disableNetworkInternal=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(b){switch(b.label){case 0:return[4,this.writeStream.stop()];case 1:return b.sent(),[4,this.watchStream.stop()];case 2:return b.sent(),0<this.writePipeline.length&&(z("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=
[]),this.cleanUpWatchStreamState(),[2]}})})};a.prototype.shutdown=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(b){switch(b.label){case 0:return z("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return b.sent(),this.onlineStateTracker.set(db.Unknown),[2]}})})};a.prototype.listen=function(b){k(!Object.prototype.hasOwnProperty.call(this.listenTargets,b.targetId),"listen called with duplicate targetId!");
this.listenTargets[b.targetId]=b;this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(b)};a.prototype.unlisten=function(b){k(Object.prototype.hasOwnProperty.call(this.listenTargets,b),"unlisten called without assigned target ID!");delete this.listenTargets[b];this.watchStream.isOpen()&&this.sendUnwatchRequest(b);Q(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(db.Unknown))};
a.prototype.getQueryDataForTarget=function(b){return this.listenTargets[b]||null};a.prototype.getRemoteKeysForTarget=function(b){return this.syncEngine.getRemoteKeysForTarget(b)};a.prototype.sendWatchRequest=function(b){this.watchChangeAggregator.recordPendingTargetRequest(b.targetId);this.watchStream.watch(b)};a.prototype.sendUnwatchRequest=function(b){this.watchChangeAggregator.recordPendingTargetRequest(b);this.watchStream.unwatch(b)};a.prototype.startWatchStream=function(){k(this.shouldStartWatchStream(),
"startWatchStream() called when shouldStartWatchStream() is false.");this.watchChangeAggregator=new Ef(this);this.watchStream.start();this.onlineStateTracker.handleWatchStreamStart()};a.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!Q(this.listenTargets)};a.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled};a.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null};a.prototype.onWatchStreamOpen=
function(){return r.__awaiter(this,void 0,void 0,function(){var b=this;return r.__generator(this,function(a){U(this.listenTargets,function(a,c){b.sendWatchRequest(c)});return[2]})})};a.prototype.onWatchStreamClose=function(b){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(a){void 0===b&&k(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed.");this.cleanUpWatchStreamState();this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(b),
this.startWatchStream()):this.onlineStateTracker.set(db.Unknown);return[2]})})};a.prototype.onWatchStreamChange=function(b,a){return r.__awaiter(this,void 0,void 0,function(){var c;return r.__generator(this,function(d){switch(d.label){case 0:this.onlineStateTracker.set(db.Online);if(b instanceof hc&&b.state===nb.Removed&&b.cause)return[2,this.handleTargetError(b)];b instanceof na?this.watchChangeAggregator.handleDocumentChange(b):b instanceof gc?this.watchChangeAggregator.handleExistenceFilter(b):
(k(b instanceof hc,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(b));return a.isEqual(hb.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()];case 1:return c=d.sent(),0<=a.compareTo(c)?[4,this.raiseWatchSnapshot(a)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})};a.prototype.raiseWatchSnapshot=function(b){var a=this;k(!b.isEqual(hb.MIN),"Can't raise event for unknown SnapshotVersion");var c=this.watchChangeAggregator.createRemoteEvent(b);
U(c.targetChanges,function(c,d){if(0<d.resumeToken.length){var e=a.listenTargets[c];e&&(a.listenTargets[c]=e.copy({resumeToken:d.resumeToken,snapshotVersion:b}))}});c.targetMismatches.forEach(function(b){var c=a.listenTargets[b];c&&(a.listenTargets[b]=c.copy({resumeToken:e()}),a.sendUnwatchRequest(b),b=new Kd(c.query,b,mb.ExistenceFilterMismatch,c.sequenceNumber),a.sendWatchRequest(b))});return this.syncEngine.applyRemoteEvent(c)};a.prototype.handleTargetError=function(b){var a=this;k(!!b.cause,"Handling target error without a cause");
var c=b.cause,e=Promise.resolve();b.targetIds.forEach(function(b){e=e.then(function(){return r.__awaiter(a,void 0,void 0,function(){return r.__generator(this,function(a){return Object.prototype.hasOwnProperty.call(this.listenTargets,b)?(delete this.listenTargets[b],this.watchChangeAggregator.removeTarget(b),[2,this.syncEngine.rejectListen(b,c)]):[2]})})})});return e};a.prototype.fillWritePipeline=function(){return r.__awaiter(this,void 0,void 0,function(){var b,a;return r.__generator(this,function(c){switch(c.label){case 0:if(!this.canAddToWritePipeline())return[3,
4];b=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1;return[4,this.localStore.nextMutationBatch(b)];case 1:a=c.sent();if(null!==a)return[3,2];0===this.writePipeline.length&&this.writeStream.markIdle();return[3,4];case 2:return this.addToWritePipeline(a),[4,this.fillWritePipeline()];case 3:c.sent(),c.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})};a.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&
10>this.writePipeline.length};a.prototype.outstandingWrites=function(){return this.writePipeline.length};a.prototype.addToWritePipeline=function(b){k(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full");this.writePipeline.push(b);this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(b.mutations)};a.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length};
a.prototype.startWriteStream=function(){k(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false.");this.writeStream.start()};a.prototype.onWriteStreamOpen=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(b){this.writeStream.writeHandshake();return[2]})})};a.prototype.onWriteHandshakeComplete=function(){var b=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var a=
0,c=b.writePipeline;a<c.length;a++)b.writeStream.writeMutations(c[a].mutations)}).catch(rb)};a.prototype.onMutationResult=function(b,a){var c=this;k(0<this.writePipeline.length,"Got result for empty write pipeline");var d=this.writePipeline.shift();b=cg.from(d,b,a,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(b).then(function(){return c.fillWritePipeline()})};a.prototype.onWriteStreamClose=function(b){return r.__awaiter(this,void 0,void 0,function(){var a,c=this;return r.__generator(this,
function(d){void 0===b&&k(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed.");return b&&0<this.writePipeline.length?(a=void 0,a=this.writeStream.handshakeComplete?this.handleWriteError(b):this.handleHandshakeError(b),[2,a.then(function(){c.shouldStartWriteStream()&&c.startWriteStream()})]):[2]})})};a.prototype.handleHandshakeError=function(b){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(a){return Xb(b.code)?(z("RemoteStore",
"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=e(),[2,this.localStore.setLastStreamToken(e()).catch(rb)]):[2]})})};a.prototype.handleWriteError=function(b){return r.__awaiter(this,void 0,void 0,function(){var a,c=this;return r.__generator(this,function(d){return Ib(b.code)?(a=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(a.batchId,b).then(function(){return c.fillWritePipeline()})]):
[2]})})};a.prototype.createTransaction=function(){return new ji(this.datastore)};a.prototype.handleCredentialChange=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(b){switch(b.label){case 0:if(!this.canUseNetwork())return[3,3];z("RemoteStore","RemoteStore restarting streams for new credential");this.networkEnabled=!1;return[4,this.disableNetworkInternal()];case 1:return b.sent(),this.onlineStateTracker.set(db.Unknown),[4,this.enableNetwork()];case 2:b.sent(),
b.label=3;case 3:return[2]}})})};a.prototype.applyPrimaryState=function(b){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(a){switch(a.label){case 0:return(this.isPrimary=b)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return a.sent(),[3,4];case 2:return b?[3,4]:[4,this.disableNetworkInternal()];case 3:a.sent(),this.onlineStateTracker.set(db.Unknown),a.label=4;case 4:return[2]}})})};return a}(),og=function(){return function(){this.listeners=[]}}(),
vf=function(){function a(b){this.syncEngine=b;this.queries=new Oc(function(b){return b.canonicalId()});this.onlineState=db.Unknown;this.syncEngine.subscribe(this)}a.prototype.listen=function(b){var a=b.query,c=!1,e=this.queries.get(a);e||(c=!0,e=new og,this.queries.set(a,e));e.listeners.push(b);b.applyOnlineStateChange(this.onlineState);if(e.viewSnap)b.onViewSnapshot(e.viewSnap);return c?this.syncEngine.listen(a).then(function(b){return e.targetId=b}):Promise.resolve(e.targetId)};a.prototype.unlisten=
function(b){return r.__awaiter(this,void 0,void 0,function(){var a,c,e,g;return r.__generator(this,function(d){a=b.query;c=!1;if(e=this.queries.get(a))g=e.listeners.indexOf(b),0<=g&&(e.listeners.splice(g,1),c=0===e.listeners.length);return c?(this.queries.delete(a),[2,this.syncEngine.unlisten(a)]):[2]})})};a.prototype.onWatchChange=function(b){for(var a=0;a<b.length;a++){var c=b[a],e=this.queries.get(c.query);if(e){for(var g=0,h=e.listeners;g<h.length;g++)h[g].onViewSnapshot(c);e.viewSnap=c}}};a.prototype.onWatchError=
function(b,a){var c=this.queries.get(b);if(c){var d=0;for(c=c.listeners;d<c.length;d++)c[d].onError(a)}this.queries.delete(b)};a.prototype.onOnlineStateChange=function(b){this.onlineState=b;this.queries.forEach(function(a,c){a=0;for(c=c.listeners;a<c.length;a++)c[a].applyOnlineStateChange(b)})};return a}(),Qg=function(){function a(b,a,c){this.query=b;this.queryObserver=a;this.raisedInitialEvent=!1;this.onlineState=db.Unknown;this.options=c||{}}a.prototype.onViewSnapshot=function(b){k(0<b.docChanges.length||
b.syncStateChanged,"We got a new snapshot with no changes?");if(!this.options.includeMetadataChanges){for(var a=[],c=0,e=b.docChanges;c<e.length;c++){var g=e[c];g.type!==Da.Metadata&&a.push(g)}b=new gf(b.query,b.docs,b.oldDocs,a,b.mutatedKeys,b.fromCache,b.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(b)&&this.queryObserver.next(b):this.shouldRaiseInitialEvent(b,this.onlineState)&&this.raiseInitialEvent(b);this.snap=b};a.prototype.onError=function(b){this.queryObserver.error(b)};
a.prototype.applyOnlineStateChange=function(b){this.onlineState=b;this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,b)&&this.raiseInitialEvent(this.snap)};a.prototype.shouldRaiseInitialEvent=function(b,a){k(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event");if(!b.fromCache)return!0;var c=a!==db.Offline;return this.options.waitForSyncWhenOnline&&c?(k(b.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!b.docs.isEmpty()||
a===db.Offline};a.prototype.shouldRaiseEvent=function(b){if(0<b.docChanges.length)return!0;var a=this.snap&&this.snap.hasPendingWrites!==b.hasPendingWrites;return b.syncStateChanged||a?!0===this.options.includeMetadataChanges:!1};a.prototype.raiseInitialEvent=function(b){k(!this.raisedInitialEvent,"Trying to raise initial events for second time");b=gf.fromInitialDocuments(b.query,b.docs,b.mutatedKeys,b.fromCache);this.raisedInitialEvent=!0;this.queryObserver.next(b)};return a}(),pg=function(){function a(b,
a,c){this.targetId=b;this.addedKeys=a;this.removedKeys=c}a.fromSnapshot=function(b,c){var d=ra(),e=ra(),g=0;for(c=c.docChanges;g<c.length;g++){var h=c[g];switch(h.type){case Da.Added:d=d.add(h.doc.key);break;case Da.Removed:e=e.add(h.doc.key)}}return new a(b,d,e)};return a}(),Ye=function(){return function(a){this.key=a}}(),wf=function(){return function(a){this.key=a}}(),Ed=function(){function a(b,a){this.query=b;this._syncedDocuments=a;this.syncState=null;this.current=!1;this.limboDocuments=ra();
this.mutatedKeys=ra();this.documentSet=new ce(b.docComparator.bind(b))}Object.defineProperty(a.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0});a.prototype.computeDocChanges=function(b,a){var c=this,d=a?a.changeSet:new ff,e=a?a.documentSet:this.documentSet,g=a?a.mutatedKeys:this.mutatedKeys,h=e,f=!1,m=this.query.hasLimit()&&e.size===this.query.limit?e.last():null;b.inorderTraversal(function(b,a){var l=e.get(b);if(a=a instanceof da?a:null)k(b.isEqual(a.key),
"Mismatching keys found in document changes: "+b+" !\x3d "+a.key),a=c.query.matches(a)?a:null;var r=l?c.mutatedKeys.has(l.key):!1,n=a?a.hasLocalMutations||c.mutatedKeys.has(a.key)&&a.hasCommittedMutations:!1,y=!1;l&&a?l.data.isEqual(a.data)?r!==n&&(d.track({type:Da.Metadata,doc:a}),y=!0):c.shouldWaitForSyncedDocument(l,a)||(d.track({type:Da.Modified,doc:a}),y=!0,m&&0<c.query.docComparator(a,m)&&(f=!0)):!l&&a?(d.track({type:Da.Added,doc:a}),y=!0):l&&!a&&(d.track({type:Da.Removed,doc:l}),y=!0,m&&(f=
!0));y&&(a?(h=h.add(a),g=n?g.add(b):g.delete(b)):(h=h.delete(b),g=g.delete(b)))});if(this.query.hasLimit())for(;h.size>this.query.limit;)b=h.last(),h=h.delete(b.key),g=g.delete(b.key),d.track({type:Da.Removed,doc:b});k(!f||!a,"View was refilled using docs that themselves needed refilling.");return{documentSet:h,changeSet:d,needsRefill:f,mutatedKeys:g}};a.prototype.shouldWaitForSyncedDocument=function(b,a){return b.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations};a.prototype.applyChanges=
function(b,a,c){var d=this;k(!b.needsRefill,"Cannot apply changes that need a refill");var e=this.documentSet;this.documentSet=b.documentSet;this.mutatedKeys=b.mutatedKeys;var g=b.changeSet.getChanges();g.sort(function(b,a){return Fc(b.type,a.type)||d.query.docComparator(b.doc,a.doc)});this.applyTargetChange(c);a=a?this.updateLimboDocuments():[];c=0===this.limboDocuments.size&&this.current?Tb.Synced:Tb.Local;var h=c!==this.syncState;this.syncState=c;return 0!==g.length||h?{snapshot:new gf(this.query,
b.documentSet,e,g,b.mutatedKeys,c===Tb.Local,h,!1),limboChanges:a}:{limboChanges:a}};a.prototype.applyOnlineStateChange=function(b){return this.current&&b===db.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new ff,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}};a.prototype.shouldBeInLimbo=function(b){return this._syncedDocuments.has(b)||!this.documentSet.has(b)||this.documentSet.get(b).hasLocalMutations?!1:!0};a.prototype.applyTargetChange=
function(b){var a=this;b&&(b.addedDocuments.forEach(function(b){return a._syncedDocuments=a._syncedDocuments.add(b)}),b.modifiedDocuments.forEach(function(b){return k(a._syncedDocuments.has(b),"Modified document "+b+" not found in view.")}),b.removedDocuments.forEach(function(b){return a._syncedDocuments=a._syncedDocuments.delete(b)}),this.current=b.current)};a.prototype.updateLimboDocuments=function(){var b=this;if(!this.current)return[];var a=this.limboDocuments;this.limboDocuments=ra();this.documentSet.forEach(function(a){b.shouldBeInLimbo(a.key)&&
(b.limboDocuments=b.limboDocuments.add(a.key))});var c=[];a.forEach(function(a){b.limboDocuments.has(a)||c.push(new wf(a))});this.limboDocuments.forEach(function(b){a.has(b)||c.push(new Ye(b))});return c};a.prototype.synchronizeWithPersistedState=function(b,a){this._syncedDocuments=a;this.limboDocuments=ra();b=this.computeDocChanges(b);return this.applyChanges(b,!0)};a.prototype.computeInitialSnapshot=function(){return gf.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===
Tb.Local)};return a}(),Ge=function(){return function(a,b,c){this.query=a;this.targetId=b;this.view=c}}(),ve=function(){return function(a){this.key=a}}(),Of=function(){function a(b,a,c,e){this.localStore=b;this.remoteStore=a;this.sharedClientState=c;this.currentUser=e;this.syncEngineListener=null;this.queryViewsByQuery=new Oc(function(b){return b.canonicalId()});this.queryViewsByTarget={};this.limboTargetsByKey=new sb(ia.comparator);this.limboResolutionsByTarget={};this.limboDocumentRefs=new Jf;this.mutationUserCallbacks=
{};this.limboTargetIdGenerator=Se.forSyncEngine();this.isPrimary=void 0;this.onlineState=db.Unknown}Object.defineProperty(a.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0});a.prototype.subscribe=function(b){k(null!==b,"SyncEngine listener cannot be null");k(null===this.syncEngineListener,"SyncEngine already has a subscriber.");this.syncEngineListener=b};a.prototype.listen=function(b){return r.__awaiter(this,void 0,void 0,function(){var a,c,e,g,
h;return r.__generator(this,function(d){switch(d.label){case 0:this.assertSubscribed("listen()");e=this.queryViewsByQuery.get(b);if(!e)return[3,1];a=e.targetId;this.sharedClientState.addLocalQueryTarget(a);c=e.view.computeInitialSnapshot();return[3,4];case 1:return[4,this.localStore.allocateQuery(b)];case 2:return g=d.sent(),h=this.sharedClientState.addLocalQueryTarget(g.targetId),a=g.targetId,[4,this.initializeViewAndComputeSnapshot(g,"current"===h)];case 3:c=d.sent(),this.isPrimary&&this.remoteStore.listen(g),
d.label=4;case 4:return this.syncEngineListener.onWatchChange([c]),[2,a]}})})};a.prototype.initializeViewAndComputeSnapshot=function(b,a){var c=this,d=b.query;return this.localStore.executeQuery(d).then(function(e){return c.localStore.remoteDocumentKeys(b.targetId).then(function(g){g=new Ed(d,g);var h=g.computeDocChanges(e),f=Nc.createSynthesizedTargetChangeForCurrentChange(b.targetId,a&&c.onlineState!==db.Offline);h=g.applyChanges(h,!0===c.isPrimary,f);k(0===h.limboChanges.length,"View returned limbo docs before target ack from the server.");
k(!!h.snapshot,"applyChanges for new view should always return a snapshot");g=new Ge(d,b.targetId,g);c.queryViewsByQuery.set(d,g);c.queryViewsByTarget[b.targetId]=g;return h.snapshot})})};a.prototype.synchronizeViewAndComputeSnapshot=function(b){var a=this;return this.localStore.executeQuery(b.query).then(function(c){return a.localStore.remoteDocumentKeys(b.targetId).then(function(d){return r.__awaiter(a,void 0,void 0,function(){var a;return r.__generator(this,function(e){a=b.view.synchronizeWithPersistedState(c,
d);this.isPrimary&&this.updateTrackedLimbos(b.targetId,a.limboChanges);return[2,a]})})})})};a.prototype.unlisten=function(b){return r.__awaiter(this,void 0,void 0,function(){var a,c,e=this;return r.__generator(this,function(d){switch(d.label){case 0:this.assertSubscribed("unlisten()");a=this.queryViewsByQuery.get(b);k(!!a,"Trying to unlisten on query not found:"+b);if(!this.isPrimary)return[3,3];this.sharedClientState.removeLocalQueryTarget(a.targetId);return(c=this.sharedClientState.isActiveQueryTarget(a.targetId))?
[3,2]:[4,this.localStore.releaseQuery(b,!1).then(function(){e.sharedClientState.clearQueryState(a.targetId);e.remoteStore.unlisten(a.targetId);e.removeAndCleanupQuery(a)}).catch(rb)];case 1:d.sent(),d.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(a),[4,this.localStore.releaseQuery(b,!0)];case 4:d.sent(),d.label=5;case 5:return[2]}})})};a.prototype.write=function(b,a){var c=this;this.assertSubscribed("write()");return this.localStore.localWrite(b).then(function(b){c.sharedClientState.addPendingMutation(b.batchId);
c.addMutationCallback(b.batchId,a);return c.emitNewSnapsAndNotifyLocalStore(b.changes)}).then(function(){return c.remoteStore.fillWritePipeline()})};a.prototype.wrapUpdateFunctionError=function(b){return b};a.prototype.runTransaction=function(b,a){var c=this;void 0===a&&(a=5);k(0<=a,"Got negative number of retries for transaction.");var d=this.remoteStore.createTransaction();return function(){try{var a=b(d);return!Ua(a)&&a.catch&&a.then?a.catch(function(b){return Promise.reject(c.wrapUpdateFunctionError(b))}):
Promise.reject(Error("Transaction callback must return a Promise"))}catch(Bc){return Promise.reject(c.wrapUpdateFunctionError(Bc))}}().then(function(e){return d.commit().then(function(){return e}).catch(function(d){return 0===a?Promise.reject(d):c.runTransaction(b,a-1)})})};a.prototype.applyRemoteEvent=function(b){var a=this;this.assertSubscribed("applyRemoteEvent()");return this.localStore.applyRemoteEvent(b).then(function(c){E(b.targetChanges,function(b,c){if(b=a.limboResolutionsByTarget[b])k(1>=
c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size,"Limbo resolution for single document contains multiple changes."),0<c.addedDocuments.size?b.receivedDocument=!0:0<c.modifiedDocuments.size?k(b.receivedDocument,"Received change for limbo target document without add."):0<c.removedDocuments.size&&(k(b.receivedDocument,"Received remove for limbo target document without add."),b.receivedDocument=!1)});return a.emitNewSnapsAndNotifyLocalStore(c,b)}).catch(rb)};a.prototype.applyOnlineStateChange=
function(b,a){if(this.isPrimary&&a===dc.RemoteStore||!this.isPrimary&&a===dc.SharedClientState){var c=[];this.queryViewsByQuery.forEach(function(a,d){a=d.view.applyOnlineStateChange(b);k(0===a.limboChanges.length,"OnlineState should not affect limbo documents.");a.snapshot&&c.push(a.snapshot)});this.syncEngineListener.onOnlineStateChange(b);this.syncEngineListener.onWatchChange(c);this.onlineState=b;this.isPrimary&&this.sharedClientState.setOnlineState(b)}};a.prototype.rejectListen=function(b,a){return r.__awaiter(this,
void 0,void 0,function(){var c,d,e,g,h,f,m=this;return r.__generator(this,function(l){switch(l.label){case 0:this.assertSubscribed("rejectListens()");this.sharedClientState.updateQueryState(b,"rejected",a);d=(c=this.limboResolutionsByTarget[b])&&c.key;if(!d)return[3,1];this.limboTargetsByKey=this.limboTargetsByKey.remove(d);delete this.limboResolutionsByTarget[b];e=new sb(ia.comparator);e=e.insert(d,new cb(d,hb.forDeletedDoc()));g=ra().add(d);h=new Df(hb.MIN,{},new tb(pa),e,g);return[2,this.applyRemoteEvent(h)];
case 1:return f=this.queryViewsByTarget[b],k(!!f,"Unknown targetId: "+b),[4,this.localStore.releaseQuery(f.query,!1).then(function(){return m.removeAndCleanupQuery(f)}).catch(rb)];case 2:l.sent(),this.syncEngineListener.onWatchError(f.query,a),l.label=3;case 3:return[2]}})})};a.prototype.applyBatchState=function(b,a,c){return r.__awaiter(this,void 0,void 0,function(){var d;return r.__generator(this,function(e){switch(e.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(b)];
case 1:return d=e.sent(),null===d?(z("SyncEngine","Cannot apply mutation batch with id: "+b),[2]):"pending"!==a?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return e.sent(),[3,4];case 3:"acknowledged"===a||"rejected"===a?(this.processUserCallback(b,c?c:null),this.localStore.removeCachedMutationBatchMetadata(b)):w("Unknown batchState: "+a),e.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(d)];case 5:return e.sent(),[2]}})})};a.prototype.applySuccessfulWrite=function(b){var a=
this;this.assertSubscribed("applySuccessfulWrite()");var c=b.batch.batchId;this.processUserCallback(c,null);return this.localStore.acknowledgeBatch(b).then(function(b){a.sharedClientState.updateMutationState(c,"acknowledged");return a.emitNewSnapsAndNotifyLocalStore(b)}).catch(rb)};a.prototype.rejectFailedWrite=function(b,a){var c=this;this.assertSubscribed("rejectFailedWrite()");this.processUserCallback(b,a);return this.localStore.rejectBatch(b).then(function(d){c.sharedClientState.updateMutationState(b,
"rejected",a);return c.emitNewSnapsAndNotifyLocalStore(d)}).catch(rb)};a.prototype.addMutationCallback=function(b,a){var c=this.mutationUserCallbacks[this.currentUser.toKey()];c||(c=new sb(pa));c=c.insert(b,a);this.mutationUserCallbacks[this.currentUser.toKey()]=c};a.prototype.processUserCallback=function(b,a){var c=this.mutationUserCallbacks[this.currentUser.toKey()];if(c){var d=c.get(b);d&&(k(b===c.minKey(),"Mutation callbacks processed out-of-order?"),a?d.reject(a):d.resolve(),c=c.remove(b));this.mutationUserCallbacks[this.currentUser.toKey()]=
c}};a.prototype.removeAndCleanupQuery=function(b){var a=this;this.sharedClientState.removeLocalQueryTarget(b.targetId);this.queryViewsByQuery.delete(b.query);delete this.queryViewsByTarget[b.targetId];if(this.isPrimary){var c=this.limboDocumentRefs.referencesForId(b.targetId);this.limboDocumentRefs.removeReferencesForId(b.targetId);c.forEach(function(b){a.limboDocumentRefs.containsKey(b)||a.removeLimboTarget(b)})}};a.prototype.removeLimboTarget=function(b){var a=this.limboTargetsByKey.get(b);null!==
a&&(this.remoteStore.unlisten(a),this.limboTargetsByKey=this.limboTargetsByKey.remove(b),delete this.limboResolutionsByTarget[a])};a.prototype.updateTrackedLimbos=function(b,a){for(var c=0;c<a.length;c++){var d=a[c];d instanceof Ye?(this.limboDocumentRefs.addReference(d.key,b),this.trackLimboChange(d)):d instanceof wf?(z("SyncEngine","Document no longer in limbo: "+d.key),this.limboDocumentRefs.removeReference(d.key,b),this.limboDocumentRefs.containsKey(d.key)||this.removeLimboTarget(d.key)):w("Unknown limbo change: "+
JSON.stringify(d))}};a.prototype.trackLimboChange=function(b){b=b.key;if(!this.limboTargetsByKey.get(b)){z("SyncEngine","New document in limbo: "+b);var a=this.limboTargetIdGenerator.next(),c=xd.atPath(b.path);this.limboResolutionsByTarget[a]=new ve(b);this.remoteStore.listen(new Kd(c,a,mb.LimboResolution,Ub.INVALID));this.limboTargetsByKey=this.limboTargetsByKey.insert(b,a)}};a.prototype.currentLimboDocs=function(){return this.limboTargetsByKey};a.prototype.emitNewSnapsAndNotifyLocalStore=function(b,
a){return r.__awaiter(this,void 0,void 0,function(){var c,d,e,g=this;return r.__generator(this,function(h){switch(h.label){case 0:return c=[],d=[],e=[],this.queryViewsByQuery.forEach(function(h,f){e.push(Promise.resolve().then(function(){var a=f.view.computeDocChanges(b);return a.needsRefill?g.localStore.executeQuery(f.query).then(function(b){return f.view.computeDocChanges(b,a)}):a}).then(function(b){b=f.view.applyChanges(b,!0===g.isPrimary,a&&a.targetChanges[f.targetId]);g.updateTrackedLimbos(f.targetId,
b.limboChanges);b.snapshot&&(g.isPrimary&&g.sharedClientState.updateQueryState(f.targetId,b.snapshot.fromCache?"not-current":"current"),c.push(b.snapshot),b=pg.fromSnapshot(f.targetId,b.snapshot),d.push(b))}))}),[4,Promise.all(e)];case 1:return h.sent(),this.syncEngineListener.onWatchChange(c),[4,this.localStore.notifyLocalViewChanges(d)];case 2:return h.sent(),[2]}})})};a.prototype.assertSubscribed=function(b){k(null!==this.syncEngineListener,"Trying to call "+b+" before calling subscribe().")};
a.prototype.handleCredentialChange=function(b){return r.__awaiter(this,void 0,void 0,function(){var a,c;return r.__generator(this,function(d){switch(d.label){case 0:return a=!this.currentUser.isEqual(b),this.currentUser=b,a?[4,this.localStore.handleUserChange(b)]:[3,3];case 1:return c=d.sent(),this.sharedClientState.handleUserChange(b,c.removedBatchIds,c.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(c.affectedDocuments)];case 2:d.sent(),d.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];
case 4:return d.sent(),[2]}})})};a.prototype.applyPrimaryState=function(b){return r.__awaiter(this,void 0,void 0,function(){var a,c,e,g,h,f,k,m=this;return r.__generator(this,function(d){switch(d.label){case 0:if(!0!==b||!0===this.isPrimary)return[3,3];this.isPrimary=!0;return[4,this.remoteStore.applyPrimaryState(!0)];case 1:return d.sent(),a=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a.toArray())];case 2:c=d.sent();e=0;for(g=c;e<g.length;e++)h=
g[e],this.remoteStore.listen(h);return[3,7];case 3:if(!1!==b||!1===this.isPrimary)return[3,7];this.isPrimary=!1;f=[];k=Promise.resolve();U(this.queryViewsByTarget,function(b,a){m.sharedClientState.isLocalQueryTarget(b)?f.push(b):k=k.then(function(){return m.unlisten(a.query)});m.remoteStore.unlisten(a.targetId)});return[4,k];case 4:return d.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(f)];case 5:return d.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:d.sent(),
d.label=7;case 7:return[2]}})})};a.prototype.resetLimboDocuments=function(){var b=this;U(this.limboResolutionsByTarget,function(a){b.remoteStore.unlisten(a)});this.limboDocumentRefs.removeAllReferences();this.limboResolutionsByTarget=[];this.limboTargetsByKey=new sb(ia.comparator)};a.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(b){for(var a=this,c=Promise.resolve(),e=[],g=[],h=function(b){c=c.then(function(){return r.__awaiter(a,void 0,void 0,function(){var a,c,d,h;return r.__generator(this,
function(f){switch(f.label){case 0:return(c=this.queryViewsByTarget[b])?[4,this.localStore.releaseQuery(c.query,!0)]:[3,4];case 1:return f.sent(),[4,this.localStore.allocateQuery(c.query)];case 2:return a=f.sent(),[4,this.synchronizeViewAndComputeSnapshot(c)];case 3:return d=f.sent(),d.snapshot&&g.push(d.snapshot),[3,8];case 4:return k(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(b)];case 5:return h=f.sent(),
k(!!h,"Query data for target "+b+" not found"),[4,this.localStore.allocateQuery(h)];case 6:return a=f.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 7:f.sent(),f.label=8;case 8:return e.push(a),[2]}})})})},f=0;f<b.length;f++)h(b[f]);return c.then(function(){a.syncEngineListener.onWatchChange(g);return e})};a.prototype.getActiveClients=function(){return this.localStore.getActiveClients()};a.prototype.applyTargetState=function(b,a,c){return r.__awaiter(this,void 0,void 0,function(){var d,
e,g=this;return r.__generator(this,function(h){switch(h.label){case 0:if(this.isPrimary)return z("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[b])return[3,5];d=a;switch(d){case "current":return[3,1];case "not-current":return[3,1];case "rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(c){return r.__awaiter(g,void 0,void 0,function(){var d;return r.__generator(this,function(e){switch(e.label){case 0:return d=
Df.createSynthesizedRemoteEventForCurrentChange(b,"current"===a),[4,this.emitNewSnapsAndNotifyLocalStore(c,d)];case 1:return e.sent(),[2]}})})},function(b){return r.__awaiter(g,void 0,void 0,function(){var a;return r.__generator(this,function(c){switch(c.label){case 0:if(b.code!==D.DATA_LOSS||"The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views."!==b.message)return[3,2];a=[];U(this.queryViewsByTarget,function(b){return a.push(b)});
return[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 1:return c.sent(),[3,3];case 2:throw b;case 3:return[2]}})})})];case 2:return e=this.queryViewsByTarget[b],this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(e.query,!0)];case 3:return h.sent(),this.syncEngineListener.onWatchError(e.query,c),[3,5];case 4:w("Unexpected target state: "+a),h.label=5;case 5:return[2]}})})};a.prototype.applyActiveTargetsChange=function(b,a){return r.__awaiter(this,void 0,void 0,function(){var c,d,
e,g,h,f,m,n,p,q=this;return r.__generator(this,function(l){switch(l.label){case 0:if(!this.isPrimary)return[2];c=0;d=b;l.label=1;case 1:if(!(c<d.length))return[3,6];e=d[c];k(!this.queryViewsByTarget[e],"Trying to add an already active target");return[4,this.localStore.getQueryForTarget(e)];case 2:return g=l.sent(),k(!!g,"Query data for active target "+e+" not found"),[4,this.localStore.allocateQuery(g)];case 3:return h=l.sent(),[4,this.initializeViewAndComputeSnapshot(h,!1)];case 4:l.sent(),this.remoteStore.listen(h),
l.label=5;case 5:return c++,[3,1];case 6:f=function(b){var a;return r.__generator(this,function(c){switch(c.label){case 0:return(a=m.queryViewsByTarget[b])?[4,m.localStore.releaseQuery(a.query,!1).then(function(){q.remoteStore.unlisten(b);q.removeAndCleanupQuery(a)}).catch(rb)]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})},m=this,n=0,p=a,l.label=7;case 7:if(!(n<p.length))return[3,10];e=p[n];return[5,f(e)];case 8:l.sent(),l.label=9;case 9:return n++,[3,7];case 10:return[2]}})})};a.prototype.enableNetwork=
function(){this.localStore.setNetworkEnabled(!0);return this.remoteStore.enableNetwork()};a.prototype.disableNetwork=function(){this.localStore.setNetworkEnabled(!1);return this.remoteStore.disableNetwork()};a.prototype.getRemoteKeysForTarget=function(b){var a=this.limboResolutionsByTarget[b];return a&&a.receivedDocument?ra().add(a.key):this.queryViewsByTarget[b]?this.queryViewsByTarget[b].view.syncedDocuments:ra()};return a}(),xf=function(){function a(b){this.uid=b}a.prototype.isAuthenticated=function(){return null!=
this.uid};a.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"};a.prototype.isEqual=function(b){return b.uid===this.uid};a.UNAUTHENTICATED=new a(null);a.GOOGLE_CREDENTIALS=new a("google-credentials-uid");a.FIRST_PARTY=new a("first-party-uid");return a}(),sg=function(){function a(b,a,c,e){this.user=b;this.batchId=a;this.state=c;this.error=e;k(void 0!==e===("rejected"===c),"MutationMetadata must contain an error iff state is 'rejected'")}a.fromWebStorageEntry=
function(b,c,e){var d=JSON.parse(e),g="object"===typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"===typeof d.error),h=void 0;g&&d.error&&(g="string"===typeof d.error.message&&"string"===typeof d.error.code)&&(h=new M(d.error.code,d.error.message));if(g)return new a(b,c,d.state,h);C("SharedClientState","Failed to parse mutation state for ID '"+c+"': "+e);return null};a.prototype.toWebStorageJSON=function(){var b={state:this.state,updateTimeMs:Date.now()};
this.error&&(b.error={code:this.error.code,message:this.error.message});return JSON.stringify(b)};return a}(),qg=function(){function a(b,a,c){this.targetId=b;this.state=a;this.error=c;k(void 0!==c===("rejected"===a),"QueryTargetMetadata must contain an error iff state is 'rejected'")}a.fromWebStorageEntry=function(b,c){var d=JSON.parse(c),e="object"===typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"===typeof d.error),g=void 0;e&&d.error&&(e="string"===
typeof d.error.message&&"string"===typeof d.error.code)&&(g=new M(d.error.code,d.error.message));if(e)return new a(b,d.state,g);C("SharedClientState","Failed to parse target state for ID '"+b+"': "+c);return null};a.prototype.toWebStorageJSON=function(){var b={state:this.state,updateTimeMs:Date.now()};this.error&&(b.error={code:this.error.code,message:this.error.message});return JSON.stringify(b)};return a}(),yf=function(){function a(b,a){this.clientId=b;this.activeTargetIds=a}a.fromWebStorageEntry=
function(b,c){for(var d=JSON.parse(c),e="object"===typeof d&&d.activeTargetIds instanceof Array,g=xa,h=0;e&&h<d.activeTargetIds.length;++h)e=K(d.activeTargetIds[h]),g=g.add(d.activeTargetIds[h]);if(e)return new a(b,g);C("SharedClientState","Failed to parse client data for instance '"+b+"': "+c);return null};return a}(),jg=function(){function a(b,a){this.clientId=b;this.onlineState=a}a.fromWebStorageEntry=function(b){var c=JSON.parse(b);if("object"===typeof c&&void 0!==db[c.onlineState]&&"string"===
typeof c.clientId)return new a(c.clientId,db[c.onlineState]);C("SharedClientState","Failed to parse online state: "+b);return null};return a}(),tf=function(){function a(){this.activeTargetIds=xa}a.prototype.addQueryTarget=function(b){k(!this.activeTargetIds.has(b),"Target with ID '"+b+"' already active.");this.activeTargetIds=this.activeTargetIds.add(b)};a.prototype.removeQueryTarget=function(b){this.activeTargetIds=this.activeTargetIds.delete(b)};a.prototype.toWebStorageJSON=function(){var b={activeTargetIds:this.activeTargetIds.toArray(),
updateTimeMs:Date.now()};return JSON.stringify(b)};return a}(),je=function(){function a(b,c,e,g,h){this.queue=b;this.platform=c;this.persistenceKey=e;this.localClientId=g;this.sequenceNumberHandler=this.onlineStateHandler=this.syncEngine=null;this.activeClients={};this.storageListener=this.handleWebStorageEvent.bind(this);this.started=!1;this.earlyEvents=[];if(!a.isAvailable(this.platform))throw new M(D.UNIMPLEMENTED,"LocalStorage is not available on this platform.");b=e.replace(/[.*+?^${}()|[\]\\]/g,
"\\$\x26");this.storage=this.platform.window.localStorage;this.currentUser=h;this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId);this.sequenceNumberKey="firestore_sequence_number_"+e;this.activeClients[this.localClientId]=new tf;this.clientStateKeyRe=new RegExp("^firestore_clients_"+b+"_([^_]*)$");this.mutationBatchKeyRe=new RegExp("^firestore_mutations_"+b+"_(\\d+)(?:_(.*))?$");this.queryTargetKeyRe=new RegExp("^firestore_targets_"+b+"_(\\d+)$");this.onlineStateKey="firestore_online_state_"+
e;this.platform.window.addEventListener("storage",this.storageListener)}a.isAvailable=function(b){return!(!b.window||null==b.window.localStorage)};a.prototype.start=function(){return r.__awaiter(this,void 0,void 0,function(){var b,a,c,e,g,h,f,m,n,p,q,Ea=this;return r.__generator(this,function(d){switch(d.label){case 0:return k(!this.started,"WebStorageSharedClientState already started"),k(null!==this.syncEngine,"syncEngine property must be set before calling start()"),k(null!==this.onlineStateHandler,
"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:b=d.sent();a=0;for(c=b;a<c.length;a++)e=c[a],e!==this.localClientId&&(g=this.getItem(this.toWebStorageClientStateKey(e)))&&(h=yf.fromWebStorageEntry(e,g))&&(this.activeClients[h.clientId]=h);this.persistClientState();(f=this.storage.getItem(this.onlineStateKey))&&(m=this.fromWebStorageOnlineState(f))&&this.handleOnlineStateEvent(m);n=0;for(p=this.earlyEvents;n<p.length;n++)q=p[n],this.handleWebStorageEvent(q);
this.earlyEvents=[];this.platform.window.addEventListener("unload",function(){return Ea.shutdown()});this.started=!0;return[2]}})})};a.prototype.writeSequenceNumber=function(b){this.setItem(this.sequenceNumberKey,JSON.stringify(b))};a.prototype.getAllActiveQueryTargets=function(){var b=xa;E(this.activeClients,function(a,c){b=b.unionWith(c.activeTargetIds)});return b};a.prototype.isActiveQueryTarget=function(b){for(var a in this.activeClients)if(this.activeClients.hasOwnProperty(a)&&this.activeClients[a].activeTargetIds.has(b))return!0;
return!1};a.prototype.addPendingMutation=function(b){this.persistMutationState(b,"pending")};a.prototype.updateMutationState=function(b,a,c){this.persistMutationState(b,a,c);this.removeMutationState(b)};a.prototype.addLocalQueryTarget=function(b){var a="not-current";if(this.isActiveQueryTarget(b)){var c=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(b));c&&(c=qg.fromWebStorageEntry(b,c))&&(a=c.state)}this.localClientState.addQueryTarget(b);this.persistClientState();return a};a.prototype.removeLocalQueryTarget=
function(b){this.localClientState.removeQueryTarget(b);this.persistClientState()};a.prototype.isLocalQueryTarget=function(b){return this.localClientState.activeTargetIds.has(b)};a.prototype.clearQueryState=function(b){this.removeItem(this.toWebStorageQueryTargetMetadataKey(b))};a.prototype.updateQueryState=function(b,a,c){this.persistQueryTargetState(b,a,c)};a.prototype.handleUserChange=function(b,a,c){var d=this;a.forEach(function(b){d.removeMutationState(b)});this.currentUser=b;c.forEach(function(b){d.addPendingMutation(b)})};
a.prototype.setOnlineState=function(b){this.persistOnlineState(b)};a.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)};a.prototype.getItem=function(b){var a=this.storage.getItem(b);z("SharedClientState","READ",b,a);return a};a.prototype.setItem=function(b,a){z("SharedClientState","SET",b,a);this.storage.setItem(b,a)};a.prototype.removeItem=function(b){z("SharedClientState",
"REMOVE",b);this.storage.removeItem(b)};a.prototype.handleWebStorageEvent=function(b){var a=this;b.storageArea===this.storage&&(z("SharedClientState","EVENT",b.key,b.newValue),b.key===this.localClientStorageKey?C("Received WebStorage notification for local change. Another client might have garbage-collected our state"):this.queue.enqueueAndForget(function(){return r.__awaiter(a,void 0,void 0,function(){var a,c,d,e,g,h;return r.__generator(this,function(f){if(!this.started)return this.earlyEvents.push(b),
[2];if(null===b.key)return[2];if(this.clientStateKeyRe.test(b.key))if(null!=b.newValue){if(a=this.fromWebStorageClientState(b.key,b.newValue))return[2,this.handleClientStateEvent(a.clientId,a)]}else return c=this.fromWebStorageClientStateKey(b.key),[2,this.handleClientStateEvent(c,null)];else if(this.mutationBatchKeyRe.test(b.key)){if(null!==b.newValue&&(d=this.fromWebStorageMutationMetadata(b.key,b.newValue)))return[2,this.handleMutationBatchEvent(d)]}else if(this.queryTargetKeyRe.test(b.key)){if(null!==
b.newValue&&(e=this.fromWebStorageQueryTargetMetadata(b.key,b.newValue)))return[2,this.handleQueryTargetEvent(e)]}else if(b.key===this.onlineStateKey){if(null!==b.newValue&&(g=this.fromWebStorageOnlineState(b.newValue)))return[2,this.handleOnlineStateEvent(g)]}else if(b.key===this.sequenceNumberKey){k(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler");f=b.newValue;var l=Ub.INVALID;if(null!=f)try{var m=JSON.parse(f);k("number"===typeof m,"Found non-numeric sequence number");l=m}catch(Xe){C("SharedClientState",
"Failed to read sequence number from WebStorage",Xe)}h=l;h!==Ub.INVALID&&this.sequenceNumberHandler(h)}return[2]})})}))};Object.defineProperty(a.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0});a.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())};a.prototype.persistMutationState=function(b,a,c){a=new sg(this.currentUser,b,a,c);b=this.toWebStorageMutationBatchKey(b);
this.setItem(b,a.toWebStorageJSON())};a.prototype.removeMutationState=function(b){b=this.toWebStorageMutationBatchKey(b);this.removeItem(b)};a.prototype.persistOnlineState=function(b){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:db[b]}))};a.prototype.persistQueryTargetState=function(b,a,c){var d=this.toWebStorageQueryTargetMetadataKey(b);b=new qg(b,a,c);this.setItem(d,b.toWebStorageJSON())};a.prototype.toWebStorageClientStateKey=function(b){k(-1===
b.indexOf("_"),"Client key cannot contain '_', but was '"+b+"'");return"firestore_clients_"+this.persistenceKey+"_"+b};a.prototype.toWebStorageQueryTargetMetadataKey=function(b){return"firestore_targets_"+this.persistenceKey+"_"+b};a.prototype.toWebStorageMutationBatchKey=function(b){b="firestore_mutations_"+this.persistenceKey+"_"+b;this.currentUser.isAuthenticated()&&(b+="_"+this.currentUser.uid);return b};a.prototype.fromWebStorageClientStateKey=function(b){return(b=this.clientStateKeyRe.exec(b))?
b[1]:null};a.prototype.fromWebStorageClientState=function(b,a){var c=this.fromWebStorageClientStateKey(b);k(null!==c,"Cannot parse client state key '"+b+"'");return yf.fromWebStorageEntry(c,a)};a.prototype.fromWebStorageMutationMetadata=function(b,a){var c=this.mutationBatchKeyRe.exec(b);k(null!==c,"Cannot parse mutation batch key '"+b+"'");b=Number(c[1]);return sg.fromWebStorageEntry(new xf(void 0!==c[2]?c[2]:null),b,a)};a.prototype.fromWebStorageQueryTargetMetadata=function(b,a){var c=this.queryTargetKeyRe.exec(b);
k(null!==c,"Cannot parse query target key '"+b+"'");return qg.fromWebStorageEntry(Number(c[1]),a)};a.prototype.fromWebStorageOnlineState=function(b){return jg.fromWebStorageEntry(b)};a.prototype.handleMutationBatchEvent=function(b){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(a){return b.user.uid!==this.currentUser.uid?(z("SharedClientState","Ignoring mutation for non-active user "+b.user.uid),[2]):[2,this.syncEngine.applyBatchState(b.batchId,b.state,b.error)]})})};
a.prototype.handleQueryTargetEvent=function(b){return this.syncEngine.applyTargetState(b.targetId,b.state,b.error)};a.prototype.handleClientStateEvent=function(b,a){var c=this,d=this.getAllActiveQueryTargets();a?this.activeClients[b]=a:delete this.activeClients[b];var e=this.getAllActiveQueryTargets(),g=[],h=[];e.forEach(function(b){return r.__awaiter(c,void 0,void 0,function(){return r.__generator(this,function(a){d.has(b)||g.push(b);return[2]})})});d.forEach(function(b){return r.__awaiter(c,void 0,
void 0,function(){return r.__generator(this,function(a){e.has(b)||h.push(b);return[2]})})});return this.syncEngine.applyActiveTargetsChange(g,h)};a.prototype.handleOnlineStateEvent=function(b){if(this.activeClients[b.clientId])this.onlineStateHandler(b.onlineState)};return a}(),zf=function(){function a(){this.localState=new tf;this.queryState={};this.sequenceNumberHandler=this.onlineStateHandler=this.syncEngine=null}a.prototype.addPendingMutation=function(b){};a.prototype.updateMutationState=function(b,
a,c){};a.prototype.addLocalQueryTarget=function(b){this.localState.addQueryTarget(b);return this.queryState[b]||"not-current"};a.prototype.updateQueryState=function(b,a,c){this.queryState[b]=a};a.prototype.removeLocalQueryTarget=function(b){this.localState.removeQueryTarget(b)};a.prototype.isLocalQueryTarget=function(b){return this.localState.activeTargetIds.has(b)};a.prototype.clearQueryState=function(b){delete this.queryState[b]};a.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds};
a.prototype.isActiveQueryTarget=function(b){return this.localState.activeTargetIds.has(b)};a.prototype.start=function(){this.localState=new tf;return Promise.resolve()};a.prototype.handleUserChange=function(b,a,c){};a.prototype.setOnlineState=function(b){};a.prototype.shutdown=function(){};a.prototype.writeSequenceNumber=function(b){};return a}(),Je=function(){function a(b,a){this.cacheSizeBytes=b;this.experimentalTabSynchronization=a}a.prototype.lruParams=function(){return se.withCacheSize(this.cacheSizeBytes)};
return a}(),Qf=function(){return function(){}}(),Pf=function(){function a(b,a,c,e){this.platform=b;this.databaseInfo=a;this.credentials=c;this.asyncQueue=e;this.clientId=td.newId();this.isShutdown=!1}a.prototype.start=function(b){var a=this;this.verifyNotShutdown();var c=new fe,e=new fe,g=!1;this.credentials.setChangeListener(function(d){g?a.asyncQueue.enqueueAndForget(function(){return a.handleCredentialChange(d)}):(g=!0,a.initializePersistence(b,e,d).then(function(b){return a.initializeRest(d,b)}).then(c.resolve,
c.reject))});this.asyncQueue.enqueueAndForget(function(){return c.promise});return e.promise};a.prototype.enableNetwork=function(){var b=this;this.verifyNotShutdown();return this.asyncQueue.enqueue(function(){return b.syncEngine.enableNetwork()})};a.prototype.initializePersistence=function(b,a,c){var d=this;if(b instanceof Je)return this.startIndexedDbPersistence(c,b).then(function(b){a.resolve();return b}).catch(function(b){a.reject(b);if(!d.canFallback(b))throw b;console.warn("Error enabling offline storage. Falling back to storage disabled: "+
b);return d.startMemoryPersistence()});a.resolve();return this.startMemoryPersistence()};a.prototype.canFallback=function(b){return b instanceof M?b.code===D.FAILED_PRECONDITION||b.code===D.UNIMPLEMENTED:"undefined"!==typeof DOMException&&b instanceof DOMException?22===b.code||20===b.code:!0};a.prototype.verifyNotShutdown=function(){if(this.isShutdown)throw new M(D.FAILED_PRECONDITION,"The client has already been shutdown.");};a.prototype.startIndexedDbPersistence=function(b,a){var c=this,d=ub.buildStoragePrefix(this.databaseInfo),
e=new hf(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return r.__awaiter(c,void 0,void 0,function(){var c,g;return r.__generator(this,function(h){switch(h.label){case 0:if(a.experimentalTabSynchronization&&!je.isAvailable(this.platform))throw new M(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");g=a.lruParams();if(!a.experimentalTabSynchronization)return[3,2];this.sharedClientState=new je(this.asyncQueue,
this.platform,d,this.clientId,b);return[4,ub.createMultiClientIndexedDbPersistence(d,this.clientId,this.platform,this.asyncQueue,e,g,{sequenceNumberSyncer:this.sharedClientState})];case 1:return c=h.sent(),[3,4];case 2:return this.sharedClientState=new zf,[4,ub.createIndexedDbPersistence(d,this.clientId,this.platform,this.asyncQueue,e,g)];case 3:c=h.sent(),h.label=4;case 4:return this.persistence=c,[2,c.referenceDelegate.garbageCollector]}})})})};a.prototype.startMemoryPersistence=function(){this.persistence=
ig.createEagerPersistence(this.clientId);this.sharedClientState=new zf;return Promise.resolve(null)};a.prototype.initializeRest=function(b,a){var c=this;z("FirestoreClient","Initializing. user\x3d",b.uid);return this.platform.loadConnection(this.databaseInfo).then(function(d){return r.__awaiter(c,void 0,void 0,function(){var c,e,g,h,f=this;return r.__generator(this,function(l){switch(l.label){case 0:return this.localStore=new Lf(this.persistence,b),a&&(this.lruScheduler=new rd(a,this.asyncQueue,this.localStore)),
c=this.platform.newSerializer(this.databaseInfo.databaseId),e=new sf(this.asyncQueue,d,this.credentials,c),g=function(b){return f.syncEngine.applyOnlineStateChange(b,dc.RemoteStore)},h=function(b){return f.syncEngine.applyOnlineStateChange(b,dc.SharedClientState)},this.remoteStore=new Nf(this.localStore,e,this.asyncQueue,g),this.syncEngine=new Of(this.localStore,this.remoteStore,this.sharedClientState,b),this.sharedClientState.onlineStateHandler=h,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=
this.syncEngine,this.eventMgr=new vf(this.syncEngine),[4,this.sharedClientState.start()];case 1:return l.sent(),[4,this.remoteStore.start()];case 2:return l.sent(),[4,this.persistence.setPrimaryStateListener(function(b){return r.__awaiter(f,void 0,void 0,function(){return r.__generator(this,function(a){switch(a.label){case 0:return[4,this.syncEngine.applyPrimaryState(b)];case 1:return a.sent(),this.lruScheduler&&(b&&!this.lruScheduler.started?this.lruScheduler.start():b||this.lruScheduler.stop()),
[2]}})})})];case 3:return l.sent(),[2]}})})})};a.prototype.handleCredentialChange=function(b){this.asyncQueue.verifyOperationInProgress();z("FirestoreClient","Credential Changed. Current user: "+b.uid);return this.syncEngine.handleCredentialChange(b)};a.prototype.disableNetwork=function(){var b=this;this.verifyNotShutdown();return this.asyncQueue.enqueue(function(){return b.syncEngine.disableNetwork()})};a.prototype.shutdown=function(){var b=this;return!0===this.isShutdown?Promise.resolve():this.asyncQueue.enqueue(function(){return r.__awaiter(b,
void 0,void 0,function(){return r.__generator(this,function(b){switch(b.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return b.sent(),[4,this.sharedClientState.shutdown()];case 2:return b.sent(),[4,this.persistence.shutdown()];case 3:return b.sent(),this.credentials.removeChangeListener(),this.isShutdown=!0,[2]}})})})};a.prototype.listen=function(b,a,c){var d=this;this.verifyNotShutdown();var e=new Qg(b,a,c);this.asyncQueue.enqueueAndForget(function(){return d.eventMgr.listen(e)});
return e};a.prototype.unlisten=function(b){var a=this;this.verifyNotShutdown();this.asyncQueue.enqueueAndForget(function(){return a.eventMgr.unlisten(b)})};a.prototype.getDocumentFromLocalCache=function(b){var a=this;this.verifyNotShutdown();return this.asyncQueue.enqueue(function(){return a.localStore.readDocument(b)}).then(function(b){if(b instanceof da)return b;if(b instanceof cb)return null;throw new M(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)");
})};a.prototype.getDocumentsFromLocalCache=function(b){var a=this;this.verifyNotShutdown();return this.asyncQueue.enqueue(function(){return a.localStore.executeQuery(b)}).then(function(a){var c=ra();c=new Ed(b,c);a=c.computeDocChanges(a);return c.applyChanges(a,!1).snapshot})};a.prototype.write=function(b){var a=this;this.verifyNotShutdown();var c=new fe;this.asyncQueue.enqueueAndForget(function(){return a.syncEngine.write(b,c)});return c.promise};a.prototype.databaseId=function(){return this.databaseInfo.databaseId};
a.prototype.transaction=function(b){var a=this;this.verifyNotShutdown();return this.asyncQueue.enqueue(function(){return r.__awaiter(a,void 0,void 0,function(){return r.__generator(this,function(b){return[2]})})}).then(function(){return a.syncEngine.runTransaction(b)})};return a}(),rg=function(){function a(b){this.observer=b;this.muted=!1}a.prototype.next=function(b){this.scheduleEvent(this.observer.next,b)};a.prototype.error=function(b){this.scheduleEvent(this.observer.error,b)};a.prototype.mute=
function(){this.muted=!0};a.prototype.scheduleEvent=function(b,a){var c=this;this.muted||setTimeout(function(){c.muted||b(a)},0)};return a}(),Vd=function(){function a(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];if(!(b instanceof Array)||1>b.length)throw new M(D.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+(la(1,"element")+"."));for(a=0;a<b.length;++a)if(ma("FieldPath","string",a,b[a]),0===b[a].length)throw new M(D.INVALID_ARGUMENT,
"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xb(b)}a.documentId=function(){return a._DOCUMENT_ID};a.prototype.isEqual=function(b){if(!(b instanceof a))throw ba("isEqual","FieldPath",1,b);return this._internalPath.isEqual(b._internalPath)};a._DOCUMENT_ID=new a(xb.keyField().canonicalString());return a}(),ue=/[~\*/\[\]]/,Kh=function(){return function(a,b){this.user=b;this.type="OAuth";this.authHeaders={Authorization:"Bearer "+a}}}(),oh=function(){function a(){this.changeListener=
null}a.prototype.getToken=function(){return Promise.resolve(null)};a.prototype.invalidateToken=function(){};a.prototype.setChangeListener=function(b){k(!this.changeListener,"Can only call setChangeListener() once.");this.changeListener=b;b(xf.UNAUTHENTICATED)};a.prototype.removeChangeListener=function(){k(null!==this.changeListener,"removeChangeListener() when no listener registered");this.changeListener=null};return a}(),Xf=function(){function a(b){var a=this;this.app=b;this.tokenListener=null;this.tokenCounter=
0;this.changeListener=null;this.forceRefresh=!1;this.tokenListener=function(){a.tokenCounter++;a.currentUser=a.getUser();a.changeListener&&a.changeListener(a.currentUser)};this.tokenCounter=0;this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}a.prototype.getToken=function(){var b=this;k(null!=this.tokenListener,"getToken cannot be called after listener removed.");var a=this.tokenCounter,c=this.forceRefresh;this.forceRefresh=!1;return this.app.INTERNAL.getToken(c).then(function(c){if(b.tokenCounter!==
a)throw new M(D.ABORTED,"getToken aborted due to token change.");return c?(k("string"===typeof c.accessToken,"Invalid tokenData returned from getToken():"+c),new Kh(c.accessToken,b.currentUser)):null})};a.prototype.invalidateToken=function(){this.forceRefresh=!0};a.prototype.setChangeListener=function(b){k(!this.changeListener,"Can only call setChangeListener() once.");this.changeListener=b;this.currentUser&&b(this.currentUser)};a.prototype.removeChangeListener=function(){k(null!=this.tokenListener,
"removeChangeListener() called twice");k(null!==this.changeListener,"removeChangeListener() called when no listener registered");this.app.INTERNAL.removeAuthTokenListener(this.tokenListener);this.changeListener=this.tokenListener=null};a.prototype.getUser=function(){var b=this.app.INTERNAL.getUid();k(null===b||"string"===typeof b,"Received invalid UID: "+b);return new xf(b)};return a}(),Ze=function(){function a(b,a){this.gapi=b;this.sessionIndex=a;this.type="FirstParty";this.user=xf.FIRST_PARTY}Object.defineProperty(a.prototype,
"authHeaders",{get:function(){var b={"X-Goog-AuthUser":this.sessionIndex},a=this.gapi.auth.getAuthHeaderValueForFirstParty([]);a&&(b.Authorization=a);return b},enumerable:!0,configurable:!0});return a}(),vh=function(){function a(b,a){this.gapi=b;this.sessionIndex=a}a.prototype.getToken=function(){return Promise.resolve(new Ze(this.gapi,this.sessionIndex))};a.prototype.setChangeListener=function(b){b(xf.FIRST_PARTY)};a.prototype.removeChangeListener=function(){};a.prototype.invalidateToken=function(){};
return a}(),ke=function(){function a(b){this._methodName=b}a.delete=function(){H("FieldValue.delete",arguments);return De.instance};a.serverTimestamp=function(){H("FieldValue.serverTimestamp",arguments);return Lh.instance};a.arrayUnion=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];Y("FieldValue.arrayUnion",arguments,1);return new Ph(b)};a.arrayRemove=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];Y("FieldValue.arrayRemove",arguments,1);return new Rg(b)};
a.increment=function(b){ma("FieldValue.increment","number",1,b);ca("FieldValue.increment",arguments,1);return new kg(b)};a.prototype.isEqual=function(b){return this===b};return a}(),De=function(a){function b(){return a.call(this,"FieldValue.delete")||this}r.__extends(b,a);b.instance=new b;return b}(ke),Lh=function(a){function b(){return a.call(this,"FieldValue.serverTimestamp")||this}r.__extends(b,a);b.instance=new b;return b}(ke),Ph=function(a){function b(b){var c=a.call(this,"FieldValue.arrayUnion")||
this;c._elements=b;return c}r.__extends(b,a);return b}(ke),Rg=function(a){function b(b){var c=a.call(this,"FieldValue.arrayRemove")||this;c._elements=b;return c}r.__extends(b,a);return b}(ke),kg=function(a){function b(b){var c=a.call(this,"FieldValue.increment")||this;c._operand=b;return c}r.__extends(b,a);return b}(ke),Ee=S(ke,"Use FieldValue.\x3cfield\x3e() instead."),Sg=/^__.*__$/,wh=function(){function a(b,a,c){this.data=b;this.fieldMask=a;this.fieldTransforms=c}a.prototype.toMutations=function(b,
a){var d=[];null!==this.fieldMask?d.push(new m(b,this.data,this.fieldMask,a)):d.push(new Vb(b,this.data,a));0<this.fieldTransforms.length&&d.push(new c(b,this.fieldTransforms));return d};return a}(),Fe=function(){function a(b,a,c){this.data=b;this.fieldMask=a;this.fieldTransforms=c}a.prototype.toMutations=function(b,a){a=[new m(b,this.data,this.fieldMask,a)];0<this.fieldTransforms.length&&a.push(new c(b,this.fieldTransforms));return a};return a}(),Dc;(function(a){a[a.Set=0]="Set";a[a.Update=1]="Update";
a[a.MergeSet=2]="MergeSet";a[a.Argument=3]="Argument"})(Dc||(Dc={}));var Fd=function(){function a(b,a,c,e,g,h){this.dataSource=b;this.methodName=a;this.path=c;this.arrayElement=e;void 0===g&&this.validatePath();this.arrayElement=void 0!==e?e:!1;this.fieldTransforms=g||[];this.fieldMask=h||[]}a.prototype.childContextForField=function(b){var c=null==this.path?null:this.path.child(b);c=new a(this.dataSource,this.methodName,c,!1,this.fieldTransforms,this.fieldMask);c.validatePathSegment(b);return c};
a.prototype.childContextForFieldPath=function(b){b=null==this.path?null:this.path.child(b);b=new a(this.dataSource,this.methodName,b,!1,this.fieldTransforms,this.fieldMask);b.validatePath();return b};a.prototype.childContextForArray=function(b){return new a(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)};a.prototype.createError=function(b){var a=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new M(D.INVALID_ARGUMENT,"Function "+
this.methodName+"() called with invalid data. "+b+a)};a.prototype.contains=function(b){return void 0!==this.fieldMask.find(function(a){return b.isPrefixOf(a)})||void 0!==this.fieldTransforms.find(function(a){return b.isPrefixOf(a.field)})};a.prototype.validatePath=function(){if(null!==this.path)for(var b=0;b<this.path.length;b++)this.validatePathSegment(this.path.get(b))};a.prototype.validatePathSegment=function(b){if(Gd(this.dataSource)&&Sg.test(b))throw this.createError("Document fields cannot begin and end with __");
};return a}(),ph=function(){return function(a,b){this.databaseId=a;this.key=b}}(),tg=function(){function a(b){this.preConverter=b}a.prototype.parseSetData=function(b,a){b=new Fd(Dc.Set,b,xb.EMPTY_PATH);Jb("Data must be an object, but it was:",b,a);a=this.parseData(a,b);return new wh(a,null,b.fieldTransforms)};a.prototype.parseMergeData=function(b,a,c){var d=new Fd(Dc.MergeSet,b,xb.EMPTY_PATH);Jb("Data must be an object, but it was:",d,a);a=this.parseData(a,d);if(c){for(var e=new tb(xb.comparator),
g=0;g<c.length;g++){var h=c[g],f=void 0;if(h instanceof Vd)f=h._internalPath;else if("string"===typeof h)f=oc(b,h);else throw w("Expected stringOrFieldPath to be a string or a FieldPath");if(!d.contains(f))throw new M(D.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");e=e.add(f)}var l=Zc.fromSet(e);b=d.fieldTransforms.filter(function(b){return l.covers(b.field)})}else l=Zc.fromArray(d.fieldMask),b=d.fieldTransforms;return new wh(a,l,b)};a.prototype.parseUpdateData=
function(b,a){var c=this,d=new Fd(Dc.Update,b,xb.EMPTY_PATH);Jb("Data must be an object, but it was:",d,a);var e=new tb(xb.comparator),g=md.EMPTY;E(a,function(a,h){a=oc(b,a);var f=d.childContextForFieldPath(a);h=c.runPreConverter(h,f);h instanceof De?e=e.add(a):(h=c.parseData(h,f),null!=h&&(e=e.add(a),g=g.set(a,h)))});a=Zc.fromSet(e);return new Fe(g,a,d.fieldTransforms)};a.prototype.parseUpdateVarargs=function(b,a,c,e){var d=new Fd(Dc.Update,b,xb.EMPTY_PATH);a=[Uc(b,a)];c=[c];if(0!==e.length%2)throw new M(D.INVALID_ARGUMENT,
"Function "+b+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var g=0;g<e.length;g+=2)a.push(Uc(b,e[g])),c.push(e[g+1]);e=new tb(xb.comparator);b=md.EMPTY;for(g=0;g<a.length;++g){var h=a[g],f=d.childContextForFieldPath(h),l=this.runPreConverter(c[g],f);l instanceof De?e=e.add(h):(f=this.parseData(l,f),null!=f&&(e=e.add(h),b=b.set(h,f)))}a=Zc.fromSet(e);return new Fe(b,a,d.fieldTransforms)};a.prototype.parseQueryValue=function(b,a){b=new Fd(Dc.Argument,
b,xb.EMPTY_PATH);a=this.parseData(a,b);k(null!=a,"Parsed data should not be null.");k(0===b.fieldTransforms.length,"Field transforms should have been disallowed.");return a};a.prototype.runPreConverter=function(b,a){try{return this.preConverter(b)}catch(l){throw a.createError(l instanceof Error?l.message:l.toString());}};a.prototype.parseData=function(b,a){b=this.runPreConverter(b,a);if(lb(b))return Jb("Unsupported field value:",a,b),this.parseObject(b,a);if(b instanceof ke)return this.parseSentinelFieldValue(b,
a),null;a.path&&a.fieldMask.push(a.path);if(b instanceof Array){if(a.arrayElement)throw a.createError("Nested arrays are not supported");return this.parseArray(b,a)}return this.parseScalarValue(b,a)};a.prototype.parseObject=function(b,a){var c=this,d=new sb(pa);Q(b)?a.path&&0<a.path.length&&a.fieldMask.push(a.path):E(b,function(b,e){e=c.parseData(e,a.childContextForField(b));null!=e&&(d=d.insert(b,e))});return new md(d)};a.prototype.parseArray=function(b,a){for(var c=[],d=0,e=0;e<b.length;e++){var g=
this.parseData(b[e],a.childContextForArray(d));null==g&&(g=fb.INSTANCE);c.push(g);d++}return new yc(c)};a.prototype.parseSentinelFieldValue=function(b,a){if(!Gd(a.dataSource))throw a.createError(b._methodName+"() can only be used with update() and set()");if(null===a.path)throw a.createError(b._methodName+"() is not currently supported inside arrays");if(b instanceof De)if(a.dataSource===Dc.MergeSet)a.fieldMask.push(a.path);else{if(a.dataSource===Dc.Update)throw k(0<a.path.length,"FieldValue.delete() at the top level should have already been handled."),
a.createError("FieldValue.delete() can only appear at the top level of your update data");throw a.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");}else b instanceof Lh?a.fieldTransforms.push(new Db(a.path,t.instance)):b instanceof Ph?(b=this.parseArrayTransformElements(b._methodName,b._elements),b=new X(b),a.fieldTransforms.push(new Db(a.path,b))):b instanceof Rg?(b=this.parseArrayTransformElements(b._methodName,b._elements),b=new Kc(b),a.fieldTransforms.push(new Db(a.path,
b))):b instanceof kg?(b=this.parseQueryValue("FieldValue.increment",b._operand),b=new bd(b),a.fieldTransforms.push(new Db(a.path,b))):w("Unknown FieldValue type: "+b)};a.prototype.parseScalarValue=function(b,a){if(null===b)return fb.INSTANCE;if("number"===typeof b)return K(b)?new Gb(b):new Hb(b);if("boolean"===typeof b)return Rb.of(b);if("string"===typeof b)return new Hd(b);if(b instanceof Date)return new Id(bb.fromDate(b));if(b instanceof bb)return new Id(new bb(b.seconds,1E3*Math.floor(b.nanoseconds/
1E3)));if(b instanceof Ia)return new Zd(b);if(b instanceof pc)return new xc(b);if(b instanceof ph)return new Wc(b.databaseId,b.key);throw a.createError("Unsupported field value: "+Z(b));};a.prototype.parseArrayTransformElements=function(b,a){var c=this;return a.map(function(a,d){var e=new Fd(Dc.Argument,b,xb.EMPTY_PATH);return c.parseData(a,e.childContextForArray(d))})};return a}(),He=se.COLLECTION_DISABLED,Ie=function(){function a(b){if(void 0===b.host){if(void 0!==b.ssl)throw new M(D.INVALID_ARGUMENT,
"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com";this.ssl=!0}else N("settings","non-empty string","host option",b.host),this.host=b.host,sa("settings","boolean","ssl",b.ssl),this.ssl=fa(b.ssl,!0);Na("settings",b,"host ssl credentials timestampsInSnapshots cacheSizeBytes experimentalForceLongPolling".split(" "));sa("settings","object","credentials",b.credentials);this.credentials=b.credentials;sa("settings","boolean","timestampsInSnapshots",b.timestampsInSnapshots);
!0===b.timestampsInSnapshots?C("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===b.timestampsInSnapshots&&C("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date \x3d snapshot.get('created_at');\n  // New:\n  const timestamp \x3d snapshot.get('created_at'); const date \x3d\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior.");
this.timestampsInSnapshots=fa(b.timestampsInSnapshots,!0);sa("settings","number","cacheSizeBytes",b.cacheSizeBytes);if(void 0===b.cacheSizeBytes)this.cacheSizeBytes=se.DEFAULT_CACHE_SIZE_BYTES;else{if(b.cacheSizeBytes!==He&&b.cacheSizeBytes<se.MINIMUM_CACHE_SIZE_BYTES)throw new M(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+se.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=b.cacheSizeBytes}sa("settings","boolean","experimentalForceLongPolling",b.experimentalForceLongPolling);this.forceLongPolling=
void 0===b.experimentalForceLongPolling?!1:b.experimentalForceLongPolling}a.prototype.isEqual=function(b){return this.host===b.host&&this.ssl===b.ssl&&this.timestampsInSnapshots===b.timestampsInSnapshots&&this.credentials===b.credentials&&this.cacheSizeBytes===b.cacheSizeBytes&&this.forceLongPolling===b.forceLongPolling};return a}(),ug=function(){return function(){}}(),Wa=function(){function a(b){var c=this;this._queue=new kf;this.INTERNAL={delete:function(){return r.__awaiter(c,void 0,void 0,function(){return r.__generator(this,
function(b){switch(b.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return b.sent(),this.clientRunning=!1,[2]}})})}};this.clientRunning=!1;var e=new ug;if("object"===typeof b.options)e.firebaseApp=b,e.databaseId=a.databaseIdFromApp(b),e.persistenceKey=e.firebaseApp.name,e.credentials=new Xf(b);else{if(!b.projectId)throw new M(D.INVALID_ARGUMENT,"Must provide projectId");e.databaseId=new Xd(b.projectId,b.database);e.persistenceKey="[DEFAULT]";e.credentials=
new oh}e.settings=new Ie({});this._config=e;this._databaseId=e.databaseId}a.prototype.settings=function(b){ca("Firestore.settings",arguments,1);ma("Firestore.settings","object",1,b);if(Object.prototype.hasOwnProperty.call(b,"persistence"))throw new M(D.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var a=new Ie(b);if(this._firestoreClient&&!this._config.settings.isEqual(a))throw new M(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");
this._config.settings=a;if(void 0!==a.credentials){var c=this._config;a:if(a=a.credentials)switch(a.type){case "gapi":var e=a.client;k(!("object"!==typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface");a=new vh(e,a.sessionIndex||"0");break a;case "provider":a=a.client;break a;default:throw new M(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type");}else a=new oh;c.credentials=a}};a.prototype.enableNetwork=function(){this.ensureClientConfigured();
return this._firestoreClient.enableNetwork()};a.prototype.disableNetwork=function(){this.ensureClientConfigured();return this._firestoreClient.disableNetwork()};a.prototype.enablePersistence=function(b){if(this._firestoreClient)throw new M(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Je(this._config.settings.cacheSizeBytes,
void 0!==b&&fa(b.experimentalTabSynchronization,!1)))};a.prototype._clearPersistence=function(){if(this.clientRunning)throw new M(D.FAILED_PRECONDITION,"Persistence cannot be cleared while the client is running");var b=ub.buildStoragePrefix(this.makeDatabaseInfo());return ub.clearPersistence(b)};a.prototype.ensureClientConfigured=function(){this._firestoreClient||this.configureClient(new Qf);return this._firestoreClient};a.prototype.makeDatabaseInfo=function(){return new ud(this._config.databaseId,
this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)};a.prototype.configureClient=function(b){var a=this;k(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey");k(!this._firestoreClient,"configureClient() called multiple times");this.clientRunning=!0;var c=this.makeDatabaseInfo();this._dataConverter=new tg(function(b){if(b instanceof lc){var c=a._config.databaseId,d=b.firestore._config.databaseId;if(!d.isEqual(c))throw new M(D.INVALID_ARGUMENT,
"Document reference is for database "+(d.projectId+"/"+d.database+" but should be ")+("for database "+c.projectId+"/"+c.database));return new ph(a._config.databaseId,b._key)}return b});this._firestoreClient=new Pf(Bb.getPlatform(),c,this._config.credentials,this._queue);return this._firestoreClient.start(b)};a.databaseIdFromApp=function(b){b=b.options;if(!Object.prototype.hasOwnProperty.call(b,"projectId"))throw new M(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');b=b.projectId;
if(!b||"string"!==typeof b)throw new M(D.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Xd(b)};Object.defineProperty(a.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new M(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0});a.prototype.collection=function(b){ca("Firestore.collection",arguments,1);ma("Firestore.collection","non-empty string",
1,b);this.ensureClientConfigured();return new Sf(Oa.fromString(b),this)};a.prototype.doc=function(b){ca("Firestore.doc",arguments,1);ma("Firestore.doc","non-empty string",1,b);this.ensureClientConfigured();return lc.forPath(Oa.fromString(b),this)};a.prototype._collectionGroup=function(b){ca("Firestore.collectionGroup",arguments,1);ma("Firestore.collectionGroup","non-empty string",1,b);if(0<=b.indexOf("/"))throw new M(D.INVALID_ARGUMENT,"Invalid collection ID '"+b+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");
this.ensureClientConfigured();return new Rf(new xd(Oa.EMPTY_PATH,b),this)};a.prototype.runTransaction=function(b){var a=this;ca("Firestore.runTransaction",arguments,1);ma("Firestore.runTransaction","function",1,b);return this.ensureClientConfigured().transaction(function(c){return b(new We(a,c))})};a.prototype.batch=function(){this.ensureClientConfigured();return new Xg(this)};Object.defineProperty(a,"logLevel",{get:function(){switch(u()){case wb.DEBUG:return"debug";case wb.ERROR:return"error";case wb.SILENT:return"silent";
default:return w("Unknown log level: "+u())}},enumerable:!0,configurable:!0});a.setLogLevel=function(b){ca("Firestore.setLogLevel",arguments,1);ma("Firestore.setLogLevel","non-empty string",1,b);switch(b){case "debug":p(wb.DEBUG);break;case "error":p(wb.ERROR);break;case "silent":p(wb.SILENT);break;default:throw new M(D.INVALID_ARGUMENT,"Invalid log level: "+b);}};a.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots};return a}(),We=function(){function a(b,
a){this._firestore=b;this._transaction=a}a.prototype.get=function(b){var a=this;ca("Transaction.get",arguments,1);var c=Zb("Transaction.get",b,this._firestore);return this._transaction.lookup([c._key]).then(function(b){if(!b||1!==b.length)return w("Mismatch in docs returned from document lookup.");b=b[0];if(b instanceof cb)return new Wd(a._firestore,c._key,null,!1,!1);if(b instanceof da)return new Wd(a._firestore,c._key,b,!1,!1);throw w("BatchGetDocumentsRequest returned unexpected document type: "+
b.constructor.name);})};a.prototype.set=function(b,a,c){V("Transaction.set",arguments,2,3);var d=Zb("Transaction.set",b,this._firestore);c=uc("Transaction.set",c);var e=c.merge||c.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",a,c.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",a);this._transaction.set(d._key,e);return this};a.prototype.update=function(b,a,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];"string"===typeof a||a instanceof
Vd?(Y("Transaction.update",arguments,3),e=Zb("Transaction.update",b,this._firestore),d=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",a,c,d)):(ca("Transaction.update",arguments,2),e=Zb("Transaction.update",b,this._firestore),d=this._firestore._dataConverter.parseUpdateData("Transaction.update",a));this._transaction.update(e._key,d);return this};a.prototype.delete=function(b){ca("Transaction.delete",arguments,1);var a=Zb("Transaction.delete",b,this._firestore);this._transaction.delete(a._key);
return this};return a}(),Xg=function(){function a(b){this._firestore=b;this._mutations=[];this._committed=!1}a.prototype.set=function(b,a,c){V("WriteBatch.set",arguments,2,3);this.verifyNotCommitted();var d=Zb("WriteBatch.set",b,this._firestore);c=uc("WriteBatch.set",c);var e=c.merge||c.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",a,c.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",a);this._mutations=this._mutations.concat(e.toMutations(d._key,
yb.NONE));return this};a.prototype.update=function(b,a,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];this.verifyNotCommitted();"string"===typeof a||a instanceof Vd?(Y("WriteBatch.update",arguments,3),e=Zb("WriteBatch.update",b,this._firestore),d=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",a,c,d)):(ca("WriteBatch.update",arguments,2),e=Zb("WriteBatch.update",b,this._firestore),d=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",a));this._mutations=
this._mutations.concat(d.toMutations(e._key,yb.exists(!0)));return this};a.prototype.delete=function(b){ca("WriteBatch.delete",arguments,1);this.verifyNotCommitted();var a=Zb("WriteBatch.delete",b,this._firestore);this._mutations=this._mutations.concat(new h(a._key,yb.NONE));return this};a.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(b){this.verifyNotCommitted();this._committed=!0;return 0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:
[2]})})};a.prototype.verifyNotCommitted=function(){if(this._committed)throw new M(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.");};return a}(),lc=function(){function a(b,a){this._key=b;this.firestore=a;this._firestoreClient=this.firestore.ensureClientConfigured()}a.forPath=function(b,c){if(0!==b.length%2)throw new M(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+(b.canonicalString()+" has "+
b.length));return new a(new ia(b),c)};Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"parent",{get:function(){return new Sf(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0});a.prototype.collection=function(b){ca("DocumentReference.collection",
arguments,1);ma("DocumentReference.collection","non-empty string",1,b);if(!b)throw new M(D.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var a=Oa.fromString(b);return new Sf(this._key.path.child(a),this.firestore)};a.prototype.isEqual=function(b){if(!(b instanceof a))throw ba("isEqual","DocumentReference",1,b);return this.firestore===b.firestore&&this._key.isEqual(b._key)};a.prototype.set=function(b,a){V("DocumentReference.set",arguments,1,2);a=uc("DocumentReference.set",
a);var c=a.merge||a.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",b,a.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",b);return this._firestoreClient.write(c.toMutations(this._key,yb.NONE))};a.prototype.update=function(b,a){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];"string"===typeof b||b instanceof Vd?(Y("DocumentReference.update",arguments,2),c=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",
b,a,c)):(ca("DocumentReference.update",arguments,1),c=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",b));return this._firestoreClient.write(c.toMutations(this._key,yb.exists(!0)))};a.prototype.delete=function(){ca("DocumentReference.delete",arguments,0);return this._firestoreClient.write([new h(this._key,yb.NONE)])};a.prototype.onSnapshot=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];V("DocumentReference.onSnapshot",arguments,1,4);var c={includeMetadataChanges:!1};
a=0;"object"!==typeof b[a]||Za(b[a])||(c=b[a],Na("DocumentReference.onSnapshot",c,["includeMetadataChanges"]),sa("DocumentReference.onSnapshot","boolean","includeMetadataChanges",c.includeMetadataChanges),a++);c={includeMetadataChanges:c.includeMetadataChanges};Za(b[a])?b=b[a]:(ma("DocumentReference.onSnapshot","function",a,b[a]),Ja("DocumentReference.onSnapshot","function",a+1,b[a+1]),Ja("DocumentReference.onSnapshot","function",a+2,b[a+2]),b={next:b[a],error:b[a+1],complete:b[a+2]});return this.onSnapshotInternal(c,
b)};a.prototype.onSnapshotInternal=function(b,a){var c=this,d=function(b){console.error("Uncaught Error in onSnapshot:",b)};a.error&&(d=a.error.bind(a));var e=new rg({next:function(b){if(a.next){k(1>=b.docs.size,"Too many documents returned on a document query");var d=b.docs.get(c._key);a.next(new Wd(c.firestore,c._key,d,b.fromCache,b.hasPendingWrites))}},error:d}),g=this._firestoreClient.listen(xd.atPath(this._key.path),e,b);return function(){e.mute();c._firestoreClient.unlisten(g)}};a.prototype.get=
function(b){var a=this;V("DocumentReference.get",arguments,0,1);Gc("DocumentReference.get",b);return new Promise(function(c,d){b&&"cache"===b.source?a.firestore.ensureClientConfigured().getDocumentFromLocalCache(a._key).then(function(b){c(new Wd(a.firestore,a._key,b,!0,b instanceof da?b.hasLocalMutations:!1))},d):a.getViaSnapshotListener(c,d,b)})};a.prototype.getViaSnapshotListener=function(b,a,c){var d=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(e){d();
!e.exists&&e.metadata.fromCache?a(new M(D.UNAVAILABLE,"Failed to get document because the client is offline.")):e.exists&&e.metadata.fromCache&&c&&"server"===c.source?a(new M(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b(e)},error:a})};return a}(),zg=function(){function a(b,a){this.hasPendingWrites=b;this.fromCache=a}a.prototype.isEqual=function(b){return this.hasPendingWrites===
b.hasPendingWrites&&this.fromCache===b.fromCache};return a}(),Wd=function(){function a(b,a,c,e,g){this._firestore=b;this._key=a;this._document=c;this._fromCache=e;this._hasPendingWrites=g}a.prototype.data=function(b){V("DocumentSnapshot.data",arguments,0,1);b=$a("DocumentSnapshot.data",b);return this._document?this.convertObject(this._document.data,ec.fromSnapshotOptions(b,this._firestore._areTimestampsInSnapshotsEnabled())):void 0};a.prototype.get=function(b,a){V("DocumentSnapshot.get",arguments,
1,2);a=$a("DocumentSnapshot.get",a);if(this._document){var c=this._document.data.field(Uc("DocumentSnapshot.get",b));if(void 0!==c)return this.convertValue(c,ec.fromSnapshotOptions(a,this._firestore._areTimestampsInSnapshotsEnabled()))}};Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"ref",{get:function(){return new lc(this._key,this._firestore)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"metadata",{get:function(){return new zg(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){if(!(b instanceof a))throw ba("isEqual","DocumentSnapshot",1,b);return this._firestore===b._firestore&&this._fromCache===b._fromCache&&this._key.isEqual(b._key)&&(null===this._document?null===b._document:this._document.isEqual(b._document))};
a.prototype.convertObject=function(b,a){var c=this,d={};b.forEach(function(b,e){d[b]=c.convertValue(e,a)});return d};a.prototype.convertValue=function(b,a){if(b instanceof md)return this.convertObject(b,a);if(b instanceof yc)return this.convertArray(b,a);if(b instanceof Wc){a=b.value(a);var c=this._firestore.ensureClientConfigured().databaseId();b.databaseId.isEqual(c)||C("Document "+this._key.path+" contains a document reference within a different database ("+(b.databaseId.projectId+"/"+b.databaseId.database+
") which is not ")+"supported. It will be treated as a reference in the current "+("database ("+c.projectId+"/"+c.database+") ")+"instead.");return new lc(a,this._firestore)}return b.value(a)};a.prototype.convertArray=function(b,a){var c=this;return b.internalValue.map(function(b){return c.convertValue(b,a)})};return a}(),le=function(a){function b(b,c,e,g,h){return a.call(this,b,c,e,g,h)||this}r.__extends(b,a);b.prototype.data=function(b){b=a.prototype.data.call(this,b);k("object"===typeof b,"Document in a QueryDocumentSnapshot should exist");
return b};return b}(Wd),Rf=function(){function a(b,a){this._query=b;this.firestore=a}a.prototype.where=function(b,c,e){ca("Query.where",arguments,3);qa("Query.where",3,e);x("Query.where","\x3c \x3c\x3d \x3d\x3d \x3e\x3d \x3e array-contains".split(" "),2,c);var d=Uc("Query.where",b),g=Ma.fromString(c);if(d.isKeyField()){if(g===Ma.ARRAY_CONTAINS)throw new M(D.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"===
typeof e){if(""===e)throw new M(D.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new M(D.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but "+("'"+e+"' contains a slash."));var h=this._query.path.child(Oa.fromString(e));
if(!ia.isDocumentKey(h))throw new M(D.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, "+("but '"+h+"' is not because it has an odd number of segments ("+h.length+")."));h=new Wc(this.firestore._databaseId,new ia(h))}else if(e instanceof lc)h=new Wc(this.firestore._databaseId,e._key);else throw new M(D.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+
(Z(e)+"."));}else h=this.firestore._dataConverter.parseQueryValue("Query.where",e);d=qc.create(d,g,h);this.validateNewFilter(d);return new a(this._query.addFilter(d),this.firestore)};a.prototype.orderBy=function(b,c){V("Query.orderBy",arguments,1,2);Ja("Query.orderBy","non-empty string",2,c);if(void 0===c||"asc"===c)var d=Cb.ASCENDING;else if("desc"===c)d=Cb.DESCENDING;else throw new M(D.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+c+"', expected 'asc' or 'desc'.");if(null!==
this._query.startAt)throw new M(D.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new M(D.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var e=Uc("Query.orderBy",b);d=new gb(e,d);this.validateNewOrderBy(d);return new a(this._query.addOrderBy(d),this.firestore)};a.prototype.limit=function(b){ca("Query.limit",arguments,
1);ma("Query.limit","number",1,b);if(0>=b)throw new M(D.INVALID_ARGUMENT,"Invalid Query. Query limit ("+b+") is invalid. Limit must be positive.");return new a(this._query.withLimit(b),this.firestore)};a.prototype.startAt=function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];Y("Query.startAt",arguments,1);c=this.boundFromDocOrFields("Query.startAt",b,c,!0);return new a(this._query.withStartAt(c),this.firestore)};a.prototype.startAfter=function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-
1]=arguments[e];Y("Query.startAfter",arguments,1);c=this.boundFromDocOrFields("Query.startAfter",b,c,!1);return new a(this._query.withStartAt(c),this.firestore)};a.prototype.endBefore=function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];Y("Query.endBefore",arguments,1);c=this.boundFromDocOrFields("Query.endBefore",b,c,!0);return new a(this._query.withEndAt(c),this.firestore)};a.prototype.endAt=function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];Y("Query.endAt",
arguments,1);c=this.boundFromDocOrFields("Query.endAt",b,c,!1);return new a(this._query.withEndAt(c),this.firestore)};a.prototype.isEqual=function(b){if(!(b instanceof a))throw ba("isEqual","Query",1,b);return this.firestore===b.firestore&&this._query.isEqual(b._query)};a.prototype.boundFromDocOrFields=function(b,a,c,e){qa(b,1,a);if(a instanceof Wd){if(0<c.length)throw new M(D.INVALID_ARGUMENT,"Too many arguments provided to "+b+"().");if(!a.exists)throw new M(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+
(b+"()."));return this.boundFromDocument(b,a._document,e)}a=[a].concat(c);return this.boundFromFields(b,a,e)};a.prototype.boundFromDocument=function(a,c,e){a=[];for(var b=0,d=this._query.orderBy;b<d.length;b++){var g=d[b];if(g.field.isKeyField())a.push(new Wc(this.firestore._databaseId,c.key));else{var h=c.field(g.field);if(h instanceof ld)throw new M(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');
if(void 0!==h)a.push(h);else throw c=g.field.canonicalString(),new M(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a "+("document for which the field '"+c+"' (used as the ")+"orderBy) does not exist.");}}return new Yc(a,e)};a.prototype.boundFromFields=function(a,c,e){var b=this._query.explicitOrderBy;if(c.length>b.length)throw new M(D.INVALID_ARGUMENT,"Too many arguments provided to "+a+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");
for(var d=[],g=0;g<c.length;g++){var h=c[g];if(b[g].field.isKeyField()){if("string"!==typeof h)throw new M(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+(a+"(), but got a "+typeof h));if(!this._query.isCollectionGroupQuery()&&-1!==h.indexOf("/"))throw new M(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), "+("the value passed to "+a+"() must be a plain document ID, but ")+("'"+h+"' contains a slash."));h=this._query.path.child(Oa.fromString(h));
if(!ia.isDocumentKey(h))throw new M(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by "+("FieldPath.documentId(), the value passed to "+a+"() must result in a ")+("valid document path, but '"+h+"' is not because it contains an odd number ")+"of segments.");h=new ia(h);d.push(new Wc(this.firestore._databaseId,h))}else h=this.firestore._dataConverter.parseQueryValue(a,h),d.push(h)}return new Yc(d,e)};a.prototype.onSnapshot=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=
arguments[c];V("Query.onSnapshot",arguments,1,4);c={};var e=0;"object"!==typeof a[e]||Za(a[e])||(c=a[e],Na("Query.onSnapshot",c,["includeMetadataChanges"]),sa("Query.onSnapshot","boolean","includeMetadataChanges",c.includeMetadataChanges),e++);Za(a[e])?a=a[e]:(ma("Query.onSnapshot","function",e,a[e]),Ja("Query.onSnapshot","function",e+1,a[e+1]),Ja("Query.onSnapshot","function",e+2,a[e+2]),a={next:a[e],error:a[e+1],complete:a[e+2]});return this.onSnapshotInternal(c,a)};a.prototype.onSnapshotInternal=
function(a,c){var b=this,d=function(a){console.error("Uncaught Error in onSnapshot:",a)};c.error&&(d=c.error.bind(c));var e=new rg({next:function(a){c.next&&c.next(new $e(b.firestore,b._query,a))},error:d}),g=this.firestore.ensureClientConfigured(),h=g.listen(this._query,e,a);return function(){e.mute();g.unlisten(h)}};a.prototype.get=function(a){var b=this;V("Query.get",arguments,0,1);Gc("Query.get",a);return new Promise(function(c,d){a&&"cache"===a.source?b.firestore.ensureClientConfigured().getDocumentsFromLocalCache(b._query).then(function(a){c(new $e(b.firestore,
b._query,a))},d):b.getViaSnapshotListener(c,d,a)})};a.prototype.getViaSnapshotListener=function(a,c,e){var b=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(d){b();d.metadata.fromCache&&e&&"server"===e.source?c(new M(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a(d)},error:c})};a.prototype.validateNewFilter=function(a){if(a instanceof
Xc)if(a.isInequality()){var b=this._query.getInequalityFilterField();if(null!==b&&!b.isEqual(a.field))throw new M(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (\x3c, \x3c\x3d, \x3e, or \x3e\x3d) must be on the same field. But you have"+(" inequality filters on '"+b.toString()+"'")+(" and '"+a.field.toString()+"'"));b=this._query.getFirstOrderByField();null!==b&&this.validateOrderByAndInequalityMatch(a.field,b)}else if(a.op===Ma.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new M(D.INVALID_ARGUMENT,
"Invalid query. Queries only support a single array-contains filter.");};a.prototype.validateNewOrderBy=function(a){if(null===this._query.getFirstOrderByField()){var b=this._query.getInequalityFilterField();null!==b&&this.validateOrderByAndInequalityMatch(b,a.field)}};a.prototype.validateOrderByAndInequalityMatch=function(a,c){if(!c.isEqual(a))throw new M(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality "+("(\x3c, \x3c\x3d, \x3e, or \x3e\x3d) on field '"+a.toString()+
"' ")+("and so you must also use '"+a.toString()+"' ")+"as your first Query.orderBy(), but your first Query.orderBy() "+("is on field '"+c.toString()+"' instead."));};return a}(),$e=function(){function a(a,c,e){this._firestore=a;this._originalQuery=c;this._snapshot=e;this._cachedChangesIncludeMetadataChanges=this._cachedChanges=null;this.metadata=new zg(e.hasPendingWrites,e.fromCache)}Object.defineProperty(a.prototype,"docs",{get:function(){var a=[];this.forEach(function(b){return a.push(b)});return a},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0});a.prototype.forEach=function(a,c){var b=this;V("QuerySnapshot.forEach",arguments,1,2);ma("QuerySnapshot.forEach","function",1,a);this._snapshot.docs.forEach(function(d){a.call(c,b.convertToDocumentImpl(d))})};Object.defineProperty(a.prototype,
"query",{get:function(){return new Rf(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0});a.prototype.docChanges=function(a){a&&(Na("QuerySnapshot.docChanges",a,["includeMetadataChanges"]),sa("QuerySnapshot.docChanges","boolean","includeMetadataChanges",a.includeMetadataChanges));if((a=!(!a||!a.includeMetadataChanges))&&this._snapshot.excludesMetadataChanges)throw new M(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");
this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=ya(this._firestore,a,this._snapshot),this._cachedChangesIncludeMetadataChanges=a);return this._cachedChanges};a.prototype.isEqual=function(b){if(!(b instanceof a))throw ba("isEqual","QuerySnapshot",1,b);return this._firestore===b._firestore&&this._originalQuery.isEqual(b._originalQuery)&&this._snapshot.isEqual(b._snapshot)};a.prototype.convertToDocumentImpl=function(a){return new le(this._firestore,a.key,a,this.metadata.fromCache,
this._snapshot.mutatedKeys.has(a.key))};return a}();["length","forEach","map"].concat("undefined"!==typeof Symbol?[Symbol.iterator]:[]).forEach(function(a){try{Object.defineProperty($e.prototype.docChanges,a,{get:function(){throw new M(D.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"');}})}catch(b){}});var Sf=function(a){function b(b,c){c=a.call(this,xd.atPath(b),c)||this;
if(1!==b.length%2)throw new M(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+(b.canonicalString()+" has "+b.length));return c}r.__extends(b,a);Object.defineProperty(b.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"parent",{get:function(){var a=this._query.path.popLast();return a.isEmpty()?null:new lc(new ia(a),this.firestore)},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0});b.prototype.doc=function(a){V("CollectionReference.doc",arguments,0,1);0===arguments.length&&(a=td.newId());ma("CollectionReference.doc","non-empty string",1,a);if(""===a)throw new M(D.INVALID_ARGUMENT,"Document path must be a non-empty string");var b=Oa.fromString(a);return lc.forPath(this._query.path.child(b),this.firestore)};b.prototype.add=function(a){ca("CollectionReference.add",
arguments,1);ma("CollectionReference.add","object",1,a);var b=this.doc();return b.set(a).then(function(){return b})};return b}(Rf),Ug=S(Wa,"Use firebase.firestore() instead."),Tg=S(We,"Use firebase.firestore().runTransaction() instead."),Vg=S(Xg,"Use firebase.firestore().batch() instead."),vg=S(lc,"Use firebase.firestore().doc() instead."),Wg=S(Wd),Tf=S(le),Qh=S(Rf),vi=S($e),xh=S(Sf,"Use firebase.firestore().collection() instead."),wg={Firestore:Ug,GeoPoint:Ia,Timestamp:bb,Blob:jd,Transaction:Tg,
WriteBatch:Vg,DocumentReference:vg,DocumentSnapshot:Wg,Query:Qh,QueryDocumentSnapshot:Tf,QuerySnapshot:vi,CollectionReference:xh,FieldPath:Vd,FieldValue:Ee,setLogLevel:Wa.setLogLevel,CACHE_SIZE_UNLIMITED:He};Ic(Va);n.registerFirestore=function(a){Ic(a)}};
shadow$provide[157]=function(f,a,q,n){function u(a){if(200<=a&&300>a)return"ok";switch(a){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function p(a,e){var f={},k;for(k in a)a.hasOwnProperty(k)&&
(f[k]=e(a[k]));return f}function z(a){return new Promise(function(f,k){setTimeout(function(){k(new e("deadline-exceeded","deadline-exceeded"))},a)})}function C(a,e,f){return new U(a,f)}function R(a){a.INTERNAL.registerService("functions",C,{Functions:U},void 0,!0)}Object.defineProperty(n,"__esModule",{value:!0});f=function(a){return a&&"object"===typeof a&&"default"in a?a["default"]:a}(a(151));var w=a(149),k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",
NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},e=function(a){function e(f,k,n){k=a.call(this,k)||this;Object.setPrototypeOf(k,e.prototype);k.code=f;k.details=n;return k}w.__extends(e,a);return e}(Error),
S=function(){function a(a){this.app=a}a.prototype.getAuthToken=function(){return w.__awaiter(this,void 0,void 0,function(){var a;return w.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(a=e.sent())?[2,a.accessToken]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})};a.prototype.getInstanceIdToken=function(){return w.__awaiter(this,void 0,void 0,function(){var a,e;return w.__generator(this,function(f){switch(f.label){case 0:f.trys.push([0,
2,,3]);if(!this.app.messaging)return[2,void 0];a=this.app.messaging();return[4,a.getToken()];case 1:return(e=f.sent())?[2,e]:[2,void 0];case 2:return f.sent(),[2,void 0];case 3:return[2]}})})};a.prototype.getContext=function(){return w.__awaiter(this,void 0,void 0,function(){var a,e;return w.__generator(this,function(f){switch(f.label){case 0:return[4,this.getAuthToken()];case 1:return a=f.sent(),[4,this.getInstanceIdToken()];case 2:return e=f.sent(),[2,{authToken:a,instanceIdToken:e}]}})})};return a}(),
fa=function(){function a(){}a.prototype.encode=function(a){var e=this;if(null===a||void 0===a)return null;a instanceof Number&&(a=a.valueOf());if("number"===typeof a&&isFinite(a)||!0===a||!1===a||"[object String]"===Object.prototype.toString.call(a))return a;if(Array.isArray(a))return a.map(function(a){return e.encode(a)});if("function"===typeof a||"object"===typeof a)return p(a,function(a){return e.encode(a)});throw Error("Data cannot be encoded in JSON: "+a);};a.prototype.decode=function(a){var e=
this;if(null===a)return a;if(a["@type"])switch(a["@type"]){case "type.googleapis.com/google.protobuf.Int64Value":case "type.googleapis.com/google.protobuf.UInt64Value":var f=parseFloat(a.value);if(isNaN(f))throw Error("Data cannot be decoded from JSON: "+a);return f;default:throw Error("Data cannot be decoded from JSON: "+a);}return Array.isArray(a)?a.map(function(a){return e.decode(a)}):"function"===typeof a||"object"===typeof a?p(a,function(a){return e.decode(a)}):a};return a}(),U=function(){function a(a,
e){var f=this;void 0===e&&(e="us-central1");this.app_=a;this.region_=e;this.serializer=new fa;this.emulatorOrigin=null;this.INTERNAL={delete:function(){return f.deleteService()}};this.contextProvider=new S(a);this.cancelAllRequests=new Promise(function(a){f.deleteService=function(){return a()}})}Object.defineProperty(a.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0});a.prototype._url=function(a){var e=this.app_.options.projectId,f=this.region_;return null!==this.emulatorOrigin?
this.emulatorOrigin+"/"+e+"/"+f+"/"+a:"https://"+f+"-"+e+".cloudfunctions.net/"+a};a.prototype.useFunctionsEmulator=function(a){this.emulatorOrigin=a};a.prototype.httpsCallable=function(a,e){var f=this;return function(k){return f.call(a,k,e||{})}};a.prototype.postJSON=function(a,e,f){return w.__awaiter(this,void 0,void 0,function(){var k,n;return w.__generator(this,function(p){switch(p.label){case 0:f.append("Content-Type","application/json"),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,fetch(a,
{method:"POST",body:JSON.stringify(e),headers:f})];case 2:return k=p.sent(),[3,4];case 3:return p.sent(),[2,{status:0,json:null}];case 4:n=null,p.label=5;case 5:return p.trys.push([5,7,,8]),[4,k.json()];case 6:return n=p.sent(),[3,8];case 7:return p.sent(),[3,8];case 8:return[2,{status:k.status,json:n}]}})})};a.prototype.call=function(a,f,n){return w.__awaiter(this,void 0,void 0,function(){var p,q,G,C,E,J,R,Q,F;return w.__generator(this,function(x){switch(x.label){case 0:return p=this._url(a),f=this.serializer.encode(f),
q={data:f},G=new Headers,[4,this.contextProvider.getContext()];case 1:return C=x.sent(),C.authToken&&G.append("Authorization","Bearer "+C.authToken),C.instanceIdToken&&G.append("Firebase-Instance-ID-Token",C.instanceIdToken),E=n.timeout||7E4,[4,Promise.race([this.postJSON(p,q,G),z(E),this.cancelAllRequests])];case 2:J=x.sent();if(!J)throw new e("cancelled","Firebase Functions instance was deleted.");a:{x=J.json;var w=this.serializer,O=u(J.status),Z=O,qa=void 0;try{var H=x.error;if(H){var ba=H.status;
if("string"===typeof ba){if(!k[ba]){R=new e("internal","internal");break a}O=k[ba]}Z=ba;var V=H.message;"string"===typeof V&&(Z=V);qa=H.details;void 0!==qa&&(qa=w.decode(qa))}}catch(la){}R="ok"===O?null:new e(O,Z,qa)}if(R)throw R;if(!J.json)throw new e("internal","Response is not valid JSON object.");Q=J.json.data;"undefined"===typeof Q&&(Q=J.json.result);if("undefined"===typeof Q)throw new e("internal","Response is missing data field.");F=this.serializer.decode(Q);return[2,{data:F}]}})})};return a}();
R(f);n.registerFunctions=R};
shadow$provide[158]=function(f,a,q,n){function u(a,e){if(null==a||null==e)return!1;if(a===e)return!0;if(a.byteLength!==e.byteLength)return!1;var f=new DataView(a);e=new DataView(e);for(var k=0;k<a.byteLength;k++)if(f.getUint8(k)!==e.getUint8(k))return!1;return!0}function p(a){a=new Uint8Array(a);return btoa(String.fromCharCode.apply(String,E.__spread(a))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function z(a){var e="\x3d".repeat((4-a.length%4)%4);a=(a+e).replace(/\-/g,"+").replace(/_/g,
"/");a=atob(a);e=new Uint8Array(a.length);for(var f=0;f<a.length;++f)e[f]=a.charCodeAt(f);return e}function C(a){if(a.objectStoreNames.contains("fcm_token_object_Store")){var e=a.transaction("fcm_token_object_Store").objectStore("fcm_token_object_Store"),f=new ma,k=e.openCursor();k.onerror=function(a){console.warn("Unable to cleanup old IDB.",a)};k.onsuccess=function(){var e=k.result;if(e){var n=e.value;f.deleteToken(n.fcmSenderId,n.fcmToken,n.fcmPushSet);e.continue()}else a.close(),indexedDB.deleteDatabase("undefined")}}}
function R(){var a=indexedDB.open("undefined");a.onerror=function(a){};a.onsuccess=function(e){C(a.result)}}function w(a){return new Promise(function(e,f){a.onsuccess=function(){e(a.result)};a.onerror=function(){f(a.error)}})}function k(a){if(a.fcmToken&&("string"!==typeof a.fcmToken||0===a.fcmToken.length))throw H.create("bad-token");if(a.swScope&&("string"!==typeof a.swScope||0===a.swScope.length))throw H.create("bad-scope");if(a.vapidKey&&!(a.vapidKey instanceof Uint8Array&&65===a.vapidKey.length))throw H.create("bad-vapid-key");
if(a.endpoint&&("string"!==typeof a.endpoint||0===a.endpoint.length))throw H.create("bad-subscription");if(a.auth&&!(a.auth instanceof ArrayBuffer))throw H.create("bad-subscription");if(a.p256dh&&!(a.p256dh instanceof ArrayBuffer))throw H.create("bad-subscription");if(a.fcmSenderId&&("string"!==typeof a.fcmSenderId||0===a.fcmSenderId.length))throw H.create("bad-sender-id");if(a.fcmPushSet&&("string"!==typeof a.fcmPushSet||0===a.fcmPushSet.length))throw H.create("bad-push-set");}function e(){return self.clients.matchAll({type:"window",
includeUncontrolled:!0})}function S(a,e){var f;return f={},f[Y.TYPE_OF_MSG]=a,f[Y.DATA]=e,f}function fa(){return E.__awaiter(this,void 0,void 0,function(){var a,e,f;return E.__generator(this,function(k){switch(k.label){case 0:a=document.querySelector('link[rel\x3d"manifest"]');if(!a)return[2];k.label=1;case 1:return k.trys.push([1,4,,5]),[4,fetch(a.href)];case 2:return f=k.sent(),[4,f.json()];case 3:return e=k.sent(),[3,5];case 4:return k.sent(),[2];case 5:if(!e||!e.gcm_sender_id)return[2];if("103953800507"!==
e.gcm_sender_id)throw H.create("incorrect-gcm-sender-id");return[2]}})})}function U(a){a.INTERNAL.registerService("messaging",function(a){if(!J())throw H.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new W(a):new F(a)},{isSupported:J})}function J(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&
"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Object.defineProperty(n,"__esModule",{value:!0});f=function(a){return a&&"object"===typeof a&&"default"in a?a["default"]:a}(a(151));var E=a(149),Q=a(150),G;a=(G={},G["only-available-in-window"]="This method is available in a Window context.",G["only-available-in-sw"]="This method is available in a service worker context.",
G["should-be-overriden"]="This method should be overriden by extended classes.",G["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",G["permission-default"]="The required permissions were not granted and dismissed instead.",G["permission-blocked"]="The required permissions were not granted and blocked instead.",G["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",G["notifications-blocked"]=
"Notifications have been blocked.",G["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",G["sw-registration-expected"]="A service worker registration was the expected input.",G["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",G["invalid-saved-token"]="Unable to access details of the saved token.",G["sw-reg-redundant"]="The service worker being used for push was made redundant.",G["token-subscribe-failed"]=
"A problem occured while subscribing the user to FCM: {$message}",G["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",G["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",G["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$message}",G["token-update-failed"]="A problem occured while updating the user from FCM: {$message}",G["token-update-no-token"]="FCM returned no token when updating the user to push.",
G["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",G["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",G["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",G["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",
G["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",G["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",G["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",G["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",
G["failed-to-delete-token"]="Unable to delete the currently saved token.",G["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",G["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",G["bad-scope"]="The service worker scope must be a string with at least one character.",G["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",
G["bad-subscription"]="The subscription must be a valid PushSubscription.",G["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",G["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",G["failed-delete-vapid-key"]="The VAPID key could not be deleted.",G["invalid-public-vapid-key"]="The public VAPID key must be a string.",G["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",
G["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",G);var H=new Q.ErrorFactory("messaging","Messaging",a),ca=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),Y;(function(a){a.TYPE_OF_MSG="firebase-messaging-msg-type";a.DATA="firebase-messaging-msg-data"})(Y||
(Y={}));var V;(function(a){a.PUSH_MSG_RECEIVED="push-msg-received";a.NOTIFICATION_CLICKED="notification-clicked"})(V||(V={}));var ma=function(){function a(){}a.prototype.getToken=function(a,e,f){return E.__awaiter(this,void 0,void 0,function(){var k,n,q,O,x,w,Z,z,N;return E.__generator(this,function(G){switch(G.label){case 0:k=p(e.getKey("p256dh")),n=p(e.getKey("auth")),q="authorized_entity\x3d"+a+"\x26"+("endpoint\x3d"+e.endpoint+"\x26")+("encryption_key\x3d"+k+"\x26")+("encryption_auth\x3d"+n),
u(f.buffer,ca.buffer)||(O=p(f),q+="\x26application_pub_key\x3d"+O),x=new Headers,x.append("Content-Type","application/x-www-form-urlencoded"),w={method:"POST",headers:x,body:q},G.label=1;case 1:return G.trys.push([1,4,,5]),[4,fetch("https://fcm.googleapis.com/fcm/connect/subscribe",w)];case 2:return z=G.sent(),[4,z.json()];case 3:return Z=G.sent(),[3,5];case 4:throw G.sent(),H.create("token-subscribe-failed");case 5:if(Z.error)throw N=Z.error.message,H.create("token-subscribe-failed",{message:N});
if(!Z.token)throw H.create("token-subscribe-no-token");if(!Z.pushSet)throw H.create("token-subscribe-no-push-set");return[2,{token:Z.token,pushSet:Z.pushSet}]}})})};a.prototype.updateToken=function(a,e,f,k,n){return E.__awaiter(this,void 0,void 0,function(){var q,O,x,w,Z,z,N,G,C;return E.__generator(this,function(K){switch(K.label){case 0:q=p(k.getKey("p256dh")),O=p(k.getKey("auth")),x="push_set\x3d"+f+"\x26"+("token\x3d"+e+"\x26")+("authorized_entity\x3d"+a+"\x26")+("endpoint\x3d"+k.endpoint+"\x26")+
("encryption_key\x3d"+q+"\x26")+("encryption_auth\x3d"+O),u(n.buffer,ca.buffer)||(w=p(n),x+="\x26application_pub_key\x3d"+w),Z=new Headers,Z.append("Content-Type","application/x-www-form-urlencoded"),z={method:"POST",headers:Z,body:x},K.label=1;case 1:return K.trys.push([1,4,,5]),[4,fetch("https://fcm.googleapis.com/fcm/connect/subscribe",z)];case 2:return G=K.sent(),[4,G.json()];case 3:return N=K.sent(),[3,5];case 4:throw K.sent(),H.create("token-update-failed");case 5:if(N.error)throw C=N.error.message,
H.create("token-update-failed",{message:C});if(!N.token)throw H.create("token-update-no-token");return[2,N.token]}})})};a.prototype.deleteToken=function(a,e,f){return E.__awaiter(this,void 0,void 0,function(){var k,n,p,q,O,u;return E.__generator(this,function(x){switch(x.label){case 0:k="authorized_entity\x3d"+a+"\x26"+("token\x3d"+e+"\x26")+("pushSet\x3d"+f),n=new Headers,n.append("Content-Type","application/x-www-form-urlencoded"),p={method:"POST",headers:n,body:k},x.label=1;case 1:return x.trys.push([1,
4,,5]),[4,fetch("https://fcm.googleapis.com/fcm/connect/unsubscribe",p)];case 2:return q=x.sent(),[4,q.json()];case 3:O=x.sent();if(O.error)throw u=O.error.message,H.create("token-unsubscribe-failed",{message:u});return[3,5];case 4:throw x.sent(),H.create("token-unsubscribe-failed");case 5:return[2]}})})};return a}();G=function(){function a(){this.dbPromise=null}a.prototype.get=function(a){return this.createTransaction(function(e){return e.get(a)})};a.prototype.getIndex=function(a,e){return this.createTransaction(function(f){return f.index(a).get(e)})};
a.prototype.put=function(a){return this.createTransaction(function(e){return e.put(a)},"readwrite")};a.prototype.delete=function(a){return this.createTransaction(function(e){return e.delete(a)},"readwrite")};a.prototype.closeDatabase=function(){return E.__awaiter(this,void 0,void 0,function(){var a;return E.__generator(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:a=e.sent(),a.close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})};a.prototype.createTransaction=
function(a,e){void 0===e&&(e="readonly");return E.__awaiter(this,void 0,void 0,function(){var f,k,n,p;return E.__generator(this,function(q){switch(q.label){case 0:return[4,this.getDb()];case 1:return f=q.sent(),k=f.transaction(this.objectStoreName,e),n=k.objectStore(this.objectStoreName),[4,w(a(n))];case 2:return p=q.sent(),[2,new Promise(function(a,e){k.oncomplete=function(){a(p)};k.onerror=function(){e(k.error)}})]}})})};a.prototype.getDb=function(){var a=this;this.dbPromise||(this.dbPromise=new Promise(function(e,
f){var k=indexedDB.open(a.dbName,a.dbVersion);k.onsuccess=function(){e(k.result)};k.onerror=function(){a.dbPromise=null;f(k.error)};k.onupgradeneeded=function(e){return a.onDbUpgrade(k,e)}}));return this.dbPromise};return a}();var Ja=function(a){function e(){var e=null!==a&&a.apply(this,arguments)||this;e.dbName="fcm_token_details_db";e.dbVersion=3;e.objectStoreName="fcm_token_object_Store";return e}E.__extends(e,a);e.prototype.onDbUpgrade=function(a,e){var f=a.result;switch(e.oldVersion){case 0:e=
f.createObjectStore(this.objectStoreName,{keyPath:"swScope"}),e.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),e.createIndex("fcmToken","fcmToken",{unique:!0});case 1:R();case 2:e=a.transaction.objectStore(this.objectStoreName);var k=e.openCursor();k.onsuccess=function(){var a=k.result;if(a){var e=a.value,f=E.__assign({},e);e.createTime||(f.createTime=Date.now());"string"===typeof e.vapidKey&&(f.vapidKey=z(e.vapidKey));"string"===typeof e.auth&&(f.auth=z(e.auth).buffer);"string"===typeof e.auth&&
(f.p256dh=z(e.p256dh).buffer);a.update(f);a.continue()}}}};e.prototype.getTokenDetailsFromToken=function(a){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(e){if(!a)throw H.create("bad-token");k({fcmToken:a});return[2,this.getIndex("fcmToken",a)]})})};e.prototype.getTokenDetailsFromSWScope=function(a){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(e){if(!a)throw H.create("bad-scope");k({swScope:a});return[2,this.get(a)]})})};
e.prototype.saveTokenDetails=function(a){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(e){if(!a.swScope)throw H.create("bad-scope");if(!a.vapidKey)throw H.create("bad-vapid-key");if(!a.endpoint||!a.auth||!a.p256dh)throw H.create("bad-subscription");if(!a.fcmSenderId)throw H.create("bad-sender-id");if(!a.fcmToken)throw H.create("bad-token");if(!a.fcmPushSet)throw H.create("bad-push-set");k(a);return[2,this.put(a)]})})};e.prototype.deleteToken=function(a){return E.__awaiter(this,
void 0,void 0,function(){var e;return E.__generator(this,function(f){switch(f.label){case 0:return"string"!==typeof a||0===a.length?[2,Promise.reject(H.create("invalid-delete-token"))]:[4,this.getTokenDetailsFromToken(a)];case 1:e=f.sent();if(!e)throw H.create("delete-token-not-found");return[4,this.delete(e.swScope)];case 2:return f.sent(),[2,e]}})})};return e}(G),sa=function(a){function e(){var e=null!==a&&a.apply(this,arguments)||this;e.dbName="fcm_vapid_details_db";e.dbVersion=1;e.objectStoreName=
"fcm_vapid_object_Store";return e}E.__extends(e,a);e.prototype.onDbUpgrade=function(a){a.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})};e.prototype.getVapidFromSWScope=function(a){return E.__awaiter(this,void 0,void 0,function(){var e;return E.__generator(this,function(f){switch(f.label){case 0:if("string"!==typeof a||0===a.length)throw H.create("bad-scope");return[4,this.get(a)];case 1:return e=f.sent(),[2,e?e.vapidKey:void 0]}})})};e.prototype.saveVapidDetails=function(a,e){return E.__awaiter(this,
void 0,void 0,function(){var f;return E.__generator(this,function(k){if("string"!==typeof a||0===a.length)throw H.create("bad-scope");if(null===e||65!==e.length)throw H.create("bad-vapid-key");f={swScope:a,vapidKey:e};return[2,this.put(f)]})})};e.prototype.deleteVapidDetails=function(a){return E.__awaiter(this,void 0,void 0,function(){var e;return E.__generator(this,function(f){switch(f.label){case 0:return[4,this.getVapidFromSWScope(a)];case 1:e=f.sent();if(!e)throw H.create("delete-scope-not-found");
return[4,this.delete(a)];case 2:return f.sent(),[2,e]}})})};return e}(G);G=function(){function a(a){var e=this;if(!a.options.messagingSenderId||"string"!==typeof a.options.messagingSenderId)throw H.create("bad-sender-id");this.messagingSenderId=a.options.messagingSenderId;this.tokenDetailsModel=new Ja;this.vapidDetailsModel=new sa;this.iidModel=new ma;this.app=a;this.INTERNAL={delete:function(){return e.delete()}}}a.prototype.getToken=function(){return E.__awaiter(this,void 0,void 0,function(){var a,
e,f,k,n;return E.__generator(this,function(p){switch(p.label){case 0:a=this.getNotificationPermission_();if("denied"===a)throw H.create("notifications-blocked");return"granted"!==a?[2,null]:[4,this.getSWRegistration_()];case 1:return e=p.sent(),[4,this.getPublicVapidKey_()];case 2:return f=p.sent(),[4,this.getPushSubscription(e,f)];case 3:return k=p.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return(n=p.sent())?[2,this.manageExistingToken(e,k,f,n)]:[2,this.getNewToken(e,
k,f)]}})})};a.prototype.manageExistingToken=function(a,e,f,k){return E.__awaiter(this,void 0,void 0,function(){var n,p;return E.__generator(this,function(q){switch(q.label){case 0:if(k.vapidKey&&u(f.buffer,k.vapidKey.buffer)){q=e.endpoint===k.endpoint;var w=u(e.getKey("auth"),k.auth),x=u(e.getKey("p256dh"),k.p256dh);n=q&&w&&x}else n=!1;return n?(p=Date.now(),p<k.createTime+6048E5?[2,k.fcmToken]:[2,this.updateToken(a,e,f,k)]):[4,this.deleteTokenFromDB(k.fcmToken)];case 1:return q.sent(),[2,this.getNewToken(a,
e,f)]}})})};a.prototype.updateToken=function(a,e,f,k){return E.__awaiter(this,void 0,void 0,function(){var n,p,q;return E.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,k.fcmToken,k.fcmPushSet,e,f)];case 1:return n=u.sent(),p={swScope:a.scope,vapidKey:f,fcmSenderId:this.messagingSenderId,fcmToken:n,fcmPushSet:k.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},
[4,this.tokenDetailsModel.saveTokenDetails(p)];case 2:return u.sent(),[4,this.vapidDetailsModel.saveVapidDetails(a.scope,f)];case 3:return u.sent(),[2,n];case 4:return q=u.sent(),[4,this.deleteToken(k.fcmToken)];case 5:throw u.sent(),q;case 6:return[2]}})})};a.prototype.getNewToken=function(a,e,f){return E.__awaiter(this,void 0,void 0,function(){var k,n;return E.__generator(this,function(p){switch(p.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,f)];case 1:return k=p.sent(),
n={swScope:a.scope,vapidKey:f,fcmSenderId:this.messagingSenderId,fcmToken:k.token,fcmPushSet:k.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(n)];case 2:return p.sent(),[4,this.vapidDetailsModel.saveVapidDetails(a.scope,f)];case 3:return p.sent(),[2,k.token]}})})};a.prototype.deleteToken=function(a){return E.__awaiter(this,void 0,void 0,function(){var e,f;return E.__generator(this,function(k){switch(k.label){case 0:return[4,
this.deleteTokenFromDB(a)];case 1:return k.sent(),[4,this.getSWRegistration_()];case 2:return(e=k.sent())?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(f=k.sent())return[2,f.unsubscribe()];k.label=4;case 4:return[2,!0]}})})};a.prototype.deleteTokenFromDB=function(a){return E.__awaiter(this,void 0,void 0,function(){var e;return E.__generator(this,function(f){switch(f.label){case 0:return[4,this.tokenDetailsModel.deleteToken(a)];case 1:return e=f.sent(),[4,this.iidModel.deleteToken(e.fcmSenderId,
e.fcmToken,e.fcmPushSet)];case 2:return f.sent(),[2]}})})};a.prototype.getPushSubscription=function(a,e){return a.pushManager.getSubscription().then(function(f){return f?f:a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})};a.prototype.requestPermission=function(){throw H.create("only-available-in-window");};a.prototype.useServiceWorker=function(a){throw H.create("only-available-in-window");};a.prototype.usePublicVapidKey=function(a){throw H.create("only-available-in-window");
};a.prototype.onMessage=function(a,e,f){throw H.create("only-available-in-window");};a.prototype.onTokenRefresh=function(a,e,f){throw H.create("only-available-in-window");};a.prototype.setBackgroundMessageHandler=function(a){throw H.create("only-available-in-sw");};a.prototype.delete=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];
case 1:return a.sent(),[2]}})})};a.prototype.getNotificationPermission_=function(){return Notification.permission};a.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel};a.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel};a.prototype.getIidModel=function(){return this.iidModel};return a}();var W=function(a){function f(e){var f=a.call(this,e)||this;f.bgMessageHandler=null;self.addEventListener("push",function(a){f.onPush(a)});self.addEventListener("pushsubscriptionchange",
function(a){f.onSubChange(a)});self.addEventListener("notificationclick",function(a){f.onNotificationClick(a)});return f}E.__extends(f,a);f.prototype.onPush=function(a){a.waitUntil(this.onPush_(a))};f.prototype.onSubChange=function(a){a.waitUntil(this.onSubChange_(a))};f.prototype.onNotificationClick=function(a){a.waitUntil(this.onNotificationClick_(a))};f.prototype.onPush_=function(a){return E.__awaiter(this,void 0,void 0,function(){var e,f,k,n,p,q,u;return E.__generator(this,function(w){switch(w.label){case 0:if(!a.data)return[2];
try{e=a.data.json()}catch(Ga){return[2]}return[4,this.hasVisibleClients_()];case 1:if(f=w.sent())return[2,this.sendMessageToWindowClients_(e)];k=this.getNotificationData_(e);if(!k)return[3,3];n=k.title||"";return[4,this.getSWRegistration_()];case 2:return p=w.sent(),q=k.actions,u=Notification.maxActions,q&&u&&q.length>u&&console.warn("This browser only supports "+u+" actions.The remaining actions will not be displayed."),[2,p.showNotification(n,k)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:
[3,5];case 4:return w.sent(),[2];case 5:return[2]}})})};f.prototype.onSubChange_=function(a){return E.__awaiter(this,void 0,void 0,function(){var a,e,f,k,n;return E.__generator(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return a=p.sent(),[3,3];case 2:throw e=p.sent(),H.create("unable-to-resubscribe",{message:e});case 3:return p.trys.push([3,5,,8]),[4,a.pushManager.getSubscription()];case 4:return p.sent(),[3,8];case 5:return f=p.sent(),
k=this.getTokenDetailsModel(),[4,k.getTokenDetailsFromSWScope(a.scope)];case 6:n=p.sent();if(!n)throw f;return[4,this.deleteToken(n.fcmToken)];case 7:throw p.sent(),f;case 8:return[2]}})})};f.prototype.onNotificationClick_=function(a){return E.__awaiter(this,void 0,void 0,function(){var e,f,k,n;return E.__generator(this,function(p){switch(p.label){case 0:if(!a.notification||!a.notification.data||!a.notification.data.FCM_MSG||a.action)return[2];a.stopImmediatePropagation();a.notification.close();e=
a.notification.data.FCM_MSG;return e.notification?(f=e.fcmOptions&&e.fcmOptions.link||e.notification.click_action)?[4,this.getWindowClient_(f)]:[2]:[2];case 1:return(k=p.sent())?[3,3]:[4,self.clients.openWindow(f)];case 2:return k=p.sent(),[3,5];case 3:return[4,k.focus()];case 4:k=p.sent(),p.label=5;case 5:if(!k)return[2];delete e.notification;delete e.fcmOptions;n=S(V.NOTIFICATION_CLICKED,e);return[2,this.attemptToMessageClient_(k,n)]}})})};f.prototype.getNotificationData_=function(a){var e;if(a&&
"object"===typeof a.notification){var f=E.__assign({},a.notification);f.data=E.__assign({},a.notification.data,(e={},e.FCM_MSG=a,e));return f}};f.prototype.setBackgroundMessageHandler=function(a){if(!a||"function"!==typeof a)throw H.create("bg-handler-function-expected");this.bgMessageHandler=a};f.prototype.getWindowClient_=function(a){return E.__awaiter(this,void 0,void 0,function(){var f,k,n,p,q;return E.__generator(this,function(u){switch(u.label){case 0:return f=(new URL(a,self.location.href)).href,
[4,e()];case 1:k=u.sent();n=null;for(p=0;p<k.length;p++)if(q=(new URL(k[p].url,self.location.href)).href,q===f){n=k[p];break}return[2,n]}})})};f.prototype.attemptToMessageClient_=function(a,e){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(f){if(!a)throw H.create("no-window-client-to-msg");a.postMessage(e);return[2]})})};f.prototype.hasVisibleClients_=function(){return E.__awaiter(this,void 0,void 0,function(){var a;return E.__generator(this,function(f){switch(f.label){case 0:return[4,
e()];case 1:return a=f.sent(),[2,a.some(function(a){return"visible"===a.visibilityState&&!a.url.startsWith("chrome-extension://")})]}})})};f.prototype.sendMessageToWindowClients_=function(a){return E.__awaiter(this,void 0,void 0,function(){var f,k,n=this;return E.__generator(this,function(p){switch(p.label){case 0:return[4,e()];case 1:return f=p.sent(),k=S(V.PUSH_MSG_RECEIVED,a),[4,Promise.all(f.map(function(a){return n.attemptToMessageClient_(a,k)}))];case 2:return p.sent(),[2]}})})};f.prototype.getSWRegistration_=
function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(a){return[2,self.registration]})})};f.prototype.getPublicVapidKey_=function(){return E.__awaiter(this,void 0,void 0,function(){var a,e;return E.__generator(this,function(f){switch(f.label){case 0:return[4,this.getSWRegistration_()];case 1:a=f.sent();if(!a)throw H.create("sw-registration-expected");return[4,this.getVapidDetailsModel().getVapidFromSWScope(a.scope)];case 2:return e=f.sent(),null==e?[2,ca]:
[2,e]}})})};return f}(G),F=function(a){function e(e){var f=a.call(this,e)||this;f.registrationToUse=null;f.publicVapidKeyToUse=null;f.manifestCheckPromise=null;f.messageObserver=null;f.tokenRefreshObserver=null;f.onMessageInternal=Q.createSubscribe(function(a){f.messageObserver=a});f.onTokenRefreshInternal=Q.createSubscribe(function(a){f.tokenRefreshObserver=a});f.setupSWMessageListener_();return f}E.__extends(e,a);e.prototype.getToken=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,
function(e){switch(e.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=fa()),[4,this.manifestCheckPromise];case 1:return e.sent(),[2,a.prototype.getToken.call(this)]}})})};e.prototype.requestPermission=function(){return E.__awaiter(this,void 0,void 0,function(){var a;return E.__generator(this,function(e){switch(e.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:a=e.sent();if("granted"!==a){if("denied"===a)throw H.create("permission-blocked");
throw H.create("permission-default");}return[2]}})})};e.prototype.useServiceWorker=function(a){if(!(a instanceof ServiceWorkerRegistration))throw H.create("sw-registration-expected");if(null!=this.registrationToUse)throw H.create("use-sw-before-get-token");this.registrationToUse=a};e.prototype.usePublicVapidKey=function(a){if("string"!==typeof a)throw H.create("invalid-public-vapid-key");if(null!=this.publicVapidKeyToUse)throw H.create("use-public-key-before-get-token");a=z(a);if(65!==a.length)throw H.create("public-vapid-key-decryption-failed");
this.publicVapidKeyToUse=a};e.prototype.onMessage=function(a,e,f){return"function"===typeof a?this.onMessageInternal(a,e,f):this.onMessageInternal(a)};e.prototype.onTokenRefresh=function(a,e,f){return"function"===typeof a?this.onTokenRefreshInternal(a,e,f):this.onTokenRefreshInternal(a)};e.prototype.waitForRegistrationToActivate_=function(a){var e=a.installing||a.waiting||a.active;return new Promise(function(f,k){if(e)if("activated"===e.state)f(a);else if("redundant"===e.state)k(H.create("sw-reg-redundant"));
else{var n=function(){if("activated"===e.state)f(a);else if("redundant"===e.state)k(H.create("sw-reg-redundant"));else return;e.removeEventListener("statechange",n)};e.addEventListener("statechange",n)}else k(H.create("no-sw-in-reg"))})};e.prototype.getSWRegistration_=function(){var a=this;if(this.registrationToUse)return this.waitForRegistrationToActivate_(this.registrationToUse);this.registrationToUse=null;return navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(a){throw H.create("failed-serviceworker-registration",
{browserErrorMessage:a.message});}).then(function(e){return a.waitForRegistrationToActivate_(e).then(function(){a.registrationToUse=e;e.update();return e})})};e.prototype.getPublicVapidKey_=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(a){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,ca]})})};e.prototype.setupSWMessageListener_=function(){var a=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[Y.TYPE_OF_MSG])switch(e=
e.data,e[Y.TYPE_OF_MSG]){case V.PUSH_MSG_RECEIVED:case V.NOTIFICATION_CLICKED:e=e[Y.DATA],a.messageObserver&&a.messageObserver.next(e)}},!1)};return e}(G);U(f);n.isSupported=J;n.registerMessaging=U};
shadow$provide[159]=function(f,a,q,n){function u(){return new Sa(Ya.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function p(){return new Sa(Ya.CANCELED,"User canceled the upload/download.")}function z(){return new Sa(Ya.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function C(a,e,f){return new Sa(Ya.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+a+": "+f)}function R(){return new Sa(Ya.APP_DELETED,"The Firebase app was deleted.")}
function w(a,e){return new Sa(Ya.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function k(a){throw new Sa(Ya.INTERNAL_ERROR,"Internal error: "+a);}function e(a){switch(a){case ja.RAW:case ja.BASE64:case ja.BASE64URL:case ja.DATA_URL:break;default:throw"Expected one of the event types: ["+ja.RAW+", "+ja.BASE64+", "+ja.BASE64URL+", "+ja.DATA_URL+"].";}}function S(a,e){switch(a){case ja.RAW:return new Pb(fa(e));case ja.BASE64:case ja.BASE64URL:return new Pb(U(a,e));case ja.DATA_URL:a=new Yb(e);
if(a.base64)var f=U(ja.BASE64,a.rest);else{try{f=decodeURIComponent(a.rest)}catch(id){throw w(ja.DATA_URL,"Malformed data URL.");}f=fa(f)}e=(new Yb(e)).contentType;return new Pb(f,e)}throw u();}function fa(a){for(var e=[],f=0;f<a.length;f++){var k=a.charCodeAt(f);if(127>=k)e.push(k);else if(2047>=k)e.push(192|k>>6,128|k&63);else if(55296==(k&64512))if(f<a.length-1&&56320==(a.charCodeAt(f+1)&64512)){var n=a.charCodeAt(++f);k=65536|(k&1023)<<10|n&1023;e.push(240|k>>18,128|k>>12&63,128|k>>6&63,128|k&
63)}else e.push(239,191,189);else 56320==(k&64512)?e.push(239,191,189):e.push(224|k>>12,128|k>>6&63,128|k&63)}return new Uint8Array(e)}function U(a,e){switch(a){case ja.BASE64:var f=-1!==e.indexOf("-"),k=-1!==e.indexOf("_");if(f||k)throw w(a,"Invalid character '"+(f?"-":"_")+"' found: is it base64url encoded?");break;case ja.BASE64URL:f=-1!==e.indexOf("+");k=-1!==e.indexOf("/");if(f||k)throw w(a,"Invalid character '"+(f?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,
"/")}try{var r=atob(e)}catch(ab){throw w(a,"Invalid character found");}a=new Uint8Array(r.length);for(e=0;e<r.length;e++)a[e]=r.charCodeAt(e);return a}function J(a){switch(a){case ua.RUNNING:case ua.PAUSING:case ua.CANCELING:return Fa.RUNNING;case ua.PAUSED:return Fa.PAUSED;case ua.SUCCESS:return Fa.SUCCESS;case ua.CANCELED:return Fa.CANCELED;case ua.ERROR:return Fa.ERROR;default:return Fa.ERROR}}function E(a,e){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&e(f,a[f])}function Q(a){if(null==
a)return{};var e={};E(a,function(a,f){e[a]=f});return e}function G(a){return void 0!==a}function H(a){return"object"===typeof a}function ca(a){return"string"===typeof a||a instanceof String}function Y(a){return V()&&a instanceof Blob}function V(){return"undefined"!==typeof Blob}function ma(a){try{var e=JSON.parse(a)}catch($b){return null}a=e;return H(a)&&!Array.isArray(a)?e:null}function Ja(a,e){e=e.split("/").filter(function(a){return 0<a.length}).join("/");return 0===a.length?e:a+"/"+e}function sa(a){var e=
a.lastIndexOf("/",a.length-2);return-1===e?a:a.slice(e+1)}function W(a){return"https://firebasestorage.googleapis.com/v0"+a}function F(a){var e=encodeURIComponent,f="?";E(a,function(a,k){a=e(a)+"\x3d"+e(k);f=f+a+"\x26"});return f=f.slice(0,-1)}function x(a,e){return e}function N(){if(Fc)return Fc;var a=[];a.push(new Aa("bucket"));a.push(new Aa("generation"));a.push(new Aa("metageneration"));a.push(new Aa("name","fullPath",!0));var e=new Aa("name");e.xform=function(a,e){a=!ca(e)||2>e.length?e:sa(e);
return a};a.push(e);e=new Aa("size");e.xform=function(a,e){return null!=e?+e:e};a.push(e);a.push(new Aa("timeCreated"));a.push(new Aa("updated"));a.push(new Aa("md5Hash",null,!0));a.push(new Aa("cacheControl",null,!0));a.push(new Aa("contentDisposition",null,!0));a.push(new Aa("contentEncoding",null,!0));a.push(new Aa("contentLanguage",null,!0));a.push(new Aa("contentType",null,!0));a.push(new Aa("metadata","customMetadata",!0));return Fc=a}function O(a,e){Object.defineProperty(a,"ref",{get:function(){var f=
new qb(a.bucket,a.fullPath);return e.makeStorageReference(f)}})}function Z(a,e,f){e=ma(e);if(null===e)return null;for(var k={type:"file"},n=f.length,r=0;r<n;r++){var p=f[r];k[p.local]=p.xform(k,e[p.server])}O(k,a);return k}function qa(a,e){e=ma(e);if(null===e||!ca(e.downloadTokens))return null;e=e.downloadTokens;if(0===e.length)return null;var f=encodeURIComponent;return e.split(",").map(function(e){var k=a.fullPath;k="/b/"+f(a.bucket)+"/o/"+f(k);k=W(k);e=F({alt:"media",token:e});return k+e})[0]}
function Na(a,e){for(var f={},k=e.length,n=0;n<k;n++){var r=e[n];r.writable&&(f[r.server]=a[r.local])}return JSON.stringify(f)}function ba(a){if(!a||!H(a))throw"Expected Metadata object.";for(var e in a){var f=a[e];if("customMetadata"===e){if(!H(f))throw"Expected object for 'customMetadata' mapping.";}else if(H(f)&&null!==f)throw"Mapping for '"+e+"' cannot be an object.";}}function ka(a,e,f){for(var k=e.length,n=e.length,r=0;r<e.length;r++)if(e[r].optional){k=r;break}if(!(k<=f.length&&f.length<=n))throw k===
n?(e=k,k=1===k?"argument":"arguments"):(e="between "+k+" and "+n,k="arguments"),new Sa(Ya.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+a+"`: Expected "+e+" "+k+", received "+f.length+".");for(r=0;r<f.length;r++)try{e[r].validator(f[r])}catch(wb){if(wb instanceof Error)throw C(r,a,wb.message);throw C(r,a,wb);}}function la(a,e){return function(f){a(f);e(f)}}function pa(a,e){function f(a){if(!ca(a))throw"Expected string.";}a=a?la(f,a):f;return new Za(a,e)}function Ca(){return new Za(function(a){if(!(a instanceof
Uint8Array||a instanceof ArrayBuffer||V()&&a instanceof Blob))throw"Expected Blob or File.";})}function Ga(){return new Za(function(a){if(!(("number"===typeof a||a instanceof Number)&&0<=a))throw"Expected a number 0 or greater.";})}function La(a,e){return new Za(function(e){if(!(null===e||null!=e&&e instanceof Object))throw"Expected an Object.";void 0!==a&&null!==a&&a(e)},e)}function Ha(a){return new Za(function(a){if(null!==a&&"function"!==typeof a)throw"Expected a Function.";},a)}function Ua(){for(var a=
[],e=0;e<arguments.length;e++)a[e]=arguments[e];e="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){e=new e;for(var f=0;f<a.length;f++)e.append(a[f]);return e.getBlob()}if(V())return new Blob(a);throw Error("This browser doesn't seem to support creating Blobs");}function K(a){if(!a)throw u();}function Xb(a,e){return function(f,k){f=Z(a,k,e);K(null!==f);return f}}function Ib(a,e){return function(f,k){f=Z(a,k,e);K(null!==f);return qa(f,
k)}}function kb(a){return function(e,f){e=401===e.getStatus()?new Sa(Ya.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Sa(Ya.QUOTA_EXCEEDED,"Quota for bucket '"+a.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Sa(Ya.UNAUTHORIZED,"User does not have permission to access '"+a.path+"'."):f;e.setServerResponseProp(f.serverResponseProp());return e}}function Ab(a){var e=
kb(a);return function(f,k){var n=e(f,k);404===f.getStatus()&&(n=new Sa(Ya.OBJECT_NOT_FOUND,"Object '"+a.path+"' does not exist."));n.setServerResponseProp(k.serverResponseProp());return n}}function za(a,e,f){var k=e.fullServerUrl();k=W(k);var n=a.maxOperationRetryTime();a=new lb(k,"GET",Xb(a,f),n);a.errorHandler=Ab(e);return a}function ra(a,e,f){var k=e.fullServerUrl();k=W(k);var n=a.maxOperationRetryTime();a=new lb(k,"GET",Ib(a,f),n);a.errorHandler=Ab(e);return a}function Ka(a,e){var f=e.fullServerUrl();
f=W(f);a=a.maxOperationRetryTime();a=new lb(f,"DELETE",function(a,e){},a);a.successCodes=[200,204];a.errorHandler=Ab(e);return a}function ha(a,e,f){f=Q(f);f.fullPath=a.path;f.size=e.size();f.contentType||(f.contentType=e&&e.type()||"application/octet-stream");return f}function oa(a,e,f,k,n){var r=e.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"};var q="";for(var u=0;2>u;u++)q+=Math.random().toString().slice(2);p["Content-Type"]="multipart/related; boundary\x3d"+q;n=ha(e,k,n);u=Na(n,
f);k=Gd.getBlob("--"+q+"\r\nContent-Type: application/json; charset\x3dutf-8\r\n\r\n"+u+"\r\n--"+q+"\r\nContent-Type: "+n.contentType+"\r\n\r\n",k,"\r\n--"+q+"--");if(null===k)throw z();n={name:n.fullPath};r=W(r);q=a.maxUploadRetryTime();a=new lb(r,"POST",Xb(a,f),q);a.urlParams=n;a.headers=p;a.body=k.uploadData();a.errorHandler=kb(e);return a}function Ra(a,e){try{var f=a.getResponseHeader("X-Goog-Upload-Status")}catch(id){K(!1)}K(-1!==(e||["active"]).indexOf(f));return f}function vb(a,e,f,k,n){var r=
e.bucketOnlyServerUrl(),p=ha(e,k,n);n={name:p.fullPath};r=W(r);k={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":k.size(),"X-Goog-Upload-Header-Content-Type":p.contentType,"Content-Type":"application/json; charset\x3dutf-8"};f=Na(p,f);a=a.maxUploadRetryTime();a=new lb(r,"POST",function(a,e){Ra(a);try{var f=a.getResponseHeader("X-Goog-Upload-URL")}catch(td){K(!1)}K(ca(f));return f},a);a.urlParams=n;a.headers=k;a.body=f;a.errorHandler=kb(e);
return a}function bc(a,e,f,k){a=a.maxUploadRetryTime();f=new lb(f,"POST",function(a,e){e=Ra(a,["active","final"]);try{var f=a.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Bb){K(!1)}a=parseInt(f,10);K(!isNaN(a));return new Jb(a,k.size(),"final"===e)},a);f.headers={"X-Goog-Upload-Command":"query"};f.errorHandler=kb(e);return f}function Ec(a,e,f,k,n,p,q,u){var r=new Jb(0,0);q?(r.current=q.current,r.total=q.total):(r.current=0,r.total=k.size());if(k.size()!==r.total)throw new Sa(Ya.SERVER_FILE_WRONG_SIZE,
"Server recorded incorrect upload file size, please retry the upload.");var K=q=r.total-r.current;0<n&&(K=Math.min(K,n));var w=r.current;n={"X-Goog-Upload-Command":K===q?"upload, finalize":"upload","X-Goog-Upload-Offset":r.current};q=k.slice(w,w+K);if(null===q)throw z();w=e.maxUploadRetryTime();f=new lb(f,"POST",function(a,f){var n=Ra(a,["active","final"]),q=r.current+K,u=k.size();a="final"===n?Xb(e,p)(a,f):null;return new Jb(q,u,"final"===n,a)},w);f.headers=n;f.body=q.uploadData();f.progressCallback=
u||null;f.errorHandler=kb(a);return f}function Ob(a){return function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];Promise.resolve(!0).then(function(){a.apply(null,e)})}}function sd(a,e,f){function k(){Ka||(Ka=!0,e.apply(null,arguments))}function n(e){u=setTimeout(function(){u=null;a(r,2===w)},e)}function r(a){for(var e=1;e<arguments.length;e++);Ka||(a?k.apply(null,arguments):2===w||K?k.apply(null,arguments):(64>q&&(q*=2),1===w?(w=2,e=0):e=1E3*(q+Math.random()),n(e)))}function p(a){ha||
(ha=!0,Ka||(null!==u?(a||(w=2),clearTimeout(u),n(0)):a||(w=1)))}var q=1,u=null,K=!1,w=0,Ka=!1,ha=!1;n(0);setTimeout(function(){K=!0;p(!0)},f);return p}function Eb(a,e,f){var k=F(a.urlParams);k=a.url+k;var n=Q(a.headers);null!==e&&0<e.length&&(n.Authorization="Firebase "+e);n["X-Firebase-Storage-Version"]="webjs/"+("undefined"!==typeof nc?nc.SDK_VERSION:"AppManager");return new Hc(k,a.method,n,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,f)}function Pa(a,
e,f){return new hd(a,new rb,f)}function cc(a){a.INTERNAL.registerService("storage",Pa,{TaskState:Fa,TaskEvent:Rc,StringFormat:ja,Storage:hd,Reference:$a},void 0,!0)}Object.defineProperty(n,"__esModule",{value:!0});var nc=function(a){return a&&"object"===typeof a&&"default"in a?a["default"]:a}(a(151)),Sa=function(){function a(a,e){this.code_="storage/"+a;this.message_="Firebase Storage: "+e;this.serverResponse_=null;this.name_="FirebaseError"}a.prototype.codeProp=function(){return this.code};a.prototype.codeEquals=
function(a){return"storage/"+a===this.codeProp()};a.prototype.serverResponseProp=function(){return this.serverResponse_};a.prototype.setServerResponseProp=function(a){this.serverResponse_=a};Object.defineProperty(a.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"message",{get:function(){return this.message_},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0});return a}(),Ya={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",
INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},ja={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",
DATA_URL:"data_url"},Pb=function(){return function(a,e){this.data=a;this.contentType=e||null}}(),Yb=function(){return function(a){this.base64=!1;this.contentType=null;var e=a.match(/^data:([^,]+)?,/);if(null===e)throw w(ja.DATA_URL,"Must be formatted 'data:[\x3cmediatype\x3e][;base64],\x3cdata\x3e");e=e[1]||null;if(null!=e){var f=7<=e.length?";base64"===e.substring(e.length-7):!1;this.contentType=(this.base64=f)?e.substring(0,e.length-7):e}this.rest=a.substring(a.indexOf(",")+1)}}(),Rc={STATE_CHANGED:"state_changed"},
ua={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Fa={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},Sc;(function(a){a[a.NO_ERROR=0]="NO_ERROR";a[a.NETWORK_ERROR=1]="NETWORK_ERROR";a[a.ABORT=2]="ABORT"})(Sc||(Sc={}));var Tc=function(){function a(){var a=this;this.sent_=!1;this.xhr_=new XMLHttpRequest;this.errorCode_=Sc.NO_ERROR;this.sendPromise_=new Promise(function(e,f){a.xhr_.addEventListener("abort",
function(f){a.errorCode_=Sc.ABORT;e(a)});a.xhr_.addEventListener("error",function(f){a.errorCode_=Sc.NETWORK_ERROR;e(a)});a.xhr_.addEventListener("load",function(f){e(a)})})}a.prototype.send=function(a,e,f,n){var r=this;if(this.sent_)throw k("cannot .send() more than once");this.sent_=!0;this.xhr_.open(e,a,!0);null!=n&&E(n,function(a,e){r.xhr_.setRequestHeader(a,e.toString())});null!=f?this.xhr_.send(f):this.xhr_.send();return this.sendPromise_};a.prototype.getErrorCode=function(){if(!this.sent_)throw k("cannot .getErrorCode() before sending");
return this.errorCode_};a.prototype.getStatus=function(){if(!this.sent_)throw k("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}};a.prototype.getResponseText=function(){if(!this.sent_)throw k("cannot .getResponseText() before sending");return this.xhr_.responseText};a.prototype.abort=function(){this.xhr_.abort()};a.prototype.getResponseHeader=function(a){return this.xhr_.getResponseHeader(a)};a.prototype.addUploadProgressListener=function(a){null!=this.xhr_.upload&&
this.xhr_.upload.addEventListener("progress",a)};a.prototype.removeUploadProgressListener=function(a){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",a)};return a}(),rb=function(){function a(){}a.prototype.createXhrIo=function(){return new Tc};return a}(),qb=function(){function a(a,e){this.bucket=a;this.path_=e}Object.defineProperty(a.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0});a.prototype.fullServerUrl=function(){var a=encodeURIComponent;
return"/b/"+a(this.bucket)+"/o/"+a(this.path)};a.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"};a.makeFromBucketSpec=function(e){try{var f=a.makeFromUrl(e)}catch(id){return new a(e,"")}if(""===f.path)return f;throw new Sa(Ya.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.");};a.makeFromUrl=function(e){for(var f=null,k="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),n=[{regex:/^gs:\/\/([A-Za-z0-9.\-_]+)(\/(.*))?$/i,indices:{bucket:1,path:3},
postModify:function(a){"/"===a.path.charAt(a.path.length-1)&&(a.path_=a.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+k+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(a){a.path_=decodeURIComponent(a.path)}}],r=0;r<n.length;r++){k=n[r];var p=k.regex.exec(e);if(p){f=p[k.indices.bucket];(p=p[k.indices.path])||(p="");f=new a(f,p);k.postModify(f);break}}if(null==f)throw new Sa(Ya.INVALID_URL,"Invalid URL '"+e+"'.");return f};return a}(),
Aa=function(){return function(a,e,f,k){this.server=a;this.local=e||a;this.writable=!!f;this.xform=k||x}}(),Fc=null,Za=function(){return function(a,e){var f=this;this.validator=function(e){f.optional&&!G(e)||a(e)};this.optional=!!e}}(),Gd=function(){function a(a,e){var f=0,k="";Y(a)?(this.data_=a,f=a.size,k=a.type):a instanceof ArrayBuffer?(e?this.data_=new Uint8Array(a):(this.data_=new Uint8Array(a.byteLength),this.data_.set(new Uint8Array(a))),f=this.data_.length):a instanceof Uint8Array&&(e?this.data_=
a:(this.data_=new Uint8Array(a.length),this.data_.set(a)),f=a.length);this.size_=f;this.type_=k}a.prototype.size=function(){return this.size_};a.prototype.type=function(){return this.type_};a.prototype.slice=function(e,f){if(Y(this.data_)){var k=this.data_;e=k.webkitSlice?k.webkitSlice(e,f):k.mozSlice?k.mozSlice(e,f):k.slice?k.slice(e,f):null;return null===e?null:new a(e)}e=new Uint8Array(this.data_.buffer,e,f-e);return new a(e,!0)};a.getBlob=function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=
arguments[f];if(V())return e=e.map(function(e){return e instanceof a?e.data_:e}),new a(Ua.apply(null,e));e=e.map(function(a){return ca(a)?S(ja.RAW,a).data:a.data_});var k=0;e.forEach(function(a){k+=a.byteLength});var n=new Uint8Array(k),p=0;e.forEach(function(a){for(var e=0;e<a.length;e++)n[p++]=a[e]});return new a(n,!0)};a.prototype.uploadData=function(){return this.data_};return a}(),lb=function(){return function(a,e,f,k){this.url=a;this.method=e;this.handler=f;this.timeout=k;this.urlParams={};
this.headers={};this.progressCallback=this.errorHandler=this.body=null;this.successCodes=[200];this.additionalRetryCodes=[]}}(),Jb=function(){return function(a,e,f,k){this.current=a;this.total=e;this.finalized=!!f;this.metadata=k||null}}(),Uc=function(){return function(a,e,f){"function"===typeof a||null!=e||null!=f?(this.next=a,this.error=e||null,this.complete=f||null):(this.next=a.next||null,this.error=a.error||null,this.complete=a.complete||null)}}(),oc=function(){return function(a,e,f,k,n,p){this.bytesTransferred=
a;this.totalBytes=e;this.state=f;this.metadata=k;this.task=n;this.ref=p}}(),uc=function(){function a(a,e,f,k,n,p){var r=this;void 0===p&&(p=null);this.transferred_=0;this.needToFetchMetadata_=this.needToFetchStatus_=!1;this.observers_=[];this.request_=this.uploadUrl_=this.error_=null;this.chunkMultiplier_=1;this.reject_=this.resolve_=null;this.ref_=a;this.authWrapper_=e;this.location_=f;this.blob_=n;this.metadata_=p;this.mappings_=k;this.resumable_=this.shouldDoResumable_(this.blob_);this.state_=
ua.RUNNING;this.errorHandler_=function(a){r.request_=null;r.chunkMultiplier_=1;a.codeEquals(Ya.CANCELED)?(r.needToFetchStatus_=!0,r.completeTransitions_()):(r.error_=a,r.transition_(ua.ERROR))};this.metadataErrorHandler_=function(a){r.request_=null;a.codeEquals(Ya.CANCELED)?r.completeTransitions_():(r.error_=a,r.transition_(ua.ERROR))};this.promise_=new Promise(function(a,e){r.resolve_=a;r.reject_=e;r.start_()});this.promise_.then(null,function(){})}a.prototype.makeProgressCallback_=function(){var a=
this,e=this.transferred_;return function(f,k){a.updateProgress_(e+f)}};a.prototype.shouldDoResumable_=function(a){return 262144<a.size()};a.prototype.start_=function(){if(this.state_===ua.RUNNING&&null===this.request_)if(this.resumable_)null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_();else this.oneShotUpload_()};a.prototype.resolveToken_=function(a){var e=this;this.authWrapper_.getAuthToken().then(function(f){switch(e.state_){case ua.RUNNING:a(f);
break;case ua.CANCELING:e.transition_(ua.CANCELED);break;case ua.PAUSING:e.transition_(ua.PAUSED)}})};a.prototype.createResumable_=function(){var a=this;this.resolveToken_(function(e){var f=vb(a.authWrapper_,a.location_,a.mappings_,a.blob_,a.metadata_);e=a.authWrapper_.makeRequest(f,e);a.request_=e;e.getPromise().then(function(e){a.request_=null;a.uploadUrl_=e;a.needToFetchStatus_=!1;a.completeTransitions_()},a.errorHandler_)})};a.prototype.fetchStatus_=function(){var a=this,e=this.uploadUrl_;this.resolveToken_(function(f){var k=
bc(a.authWrapper_,a.location_,e,a.blob_);f=a.authWrapper_.makeRequest(k,f);a.request_=f;f.getPromise().then(function(e){a.request_=null;a.updateProgress_(e.current);a.needToFetchStatus_=!1;e.finalized&&(a.needToFetchMetadata_=!0);a.completeTransitions_()},a.errorHandler_)})};a.prototype.continueUpload_=function(){var a=this,e=262144*this.chunkMultiplier_,f=new Jb(this.transferred_,this.blob_.size()),k=this.uploadUrl_;this.resolveToken_(function(n){try{var r=Ec(a.location_,a.authWrapper_,k,a.blob_,
e,a.mappings_,f,a.makeProgressCallback_())}catch(Bb){a.error_=Bb;a.transition_(ua.ERROR);return}n=a.authWrapper_.makeRequest(r,n);a.request_=n;n.getPromise().then(function(e){a.increaseMultiplier_();a.request_=null;a.updateProgress_(e.current);e.finalized?(a.metadata_=e.metadata,a.transition_(ua.SUCCESS)):a.completeTransitions_()},a.errorHandler_)})};a.prototype.increaseMultiplier_=function(){33554432>262144*this.chunkMultiplier_&&(this.chunkMultiplier_*=2)};a.prototype.fetchMetadata_=function(){var a=
this;this.resolveToken_(function(e){var f=za(a.authWrapper_,a.location_,a.mappings_);e=a.authWrapper_.makeRequest(f,e);a.request_=e;e.getPromise().then(function(e){a.request_=null;a.metadata_=e;a.transition_(ua.SUCCESS)},a.metadataErrorHandler_)})};a.prototype.oneShotUpload_=function(){var a=this;this.resolveToken_(function(e){var f=oa(a.authWrapper_,a.location_,a.mappings_,a.blob_,a.metadata_);e=a.authWrapper_.makeRequest(f,e);a.request_=e;e.getPromise().then(function(e){a.request_=null;a.metadata_=
e;a.updateProgress_(a.blob_.size());a.transition_(ua.SUCCESS)},a.errorHandler_)})};a.prototype.updateProgress_=function(a){var e=this.transferred_;this.transferred_=a;this.transferred_!==e&&this.notifyObservers_()};a.prototype.transition_=function(a){if(this.state_!==a)switch(a){case ua.CANCELING:this.state_=a;null!==this.request_&&this.request_.cancel();break;case ua.PAUSING:this.state_=a;null!==this.request_&&this.request_.cancel();break;case ua.RUNNING:var e=this.state_===ua.PAUSED;this.state_=
a;e&&(this.notifyObservers_(),this.start_());break;case ua.PAUSED:this.state_=a;this.notifyObservers_();break;case ua.CANCELED:this.error_=p();this.state_=a;this.notifyObservers_();break;case ua.ERROR:this.state_=a;this.notifyObservers_();break;case ua.SUCCESS:this.state_=a,this.notifyObservers_()}};a.prototype.completeTransitions_=function(){switch(this.state_){case ua.PAUSING:this.transition_(ua.PAUSED);break;case ua.CANCELING:this.transition_(ua.CANCELED);break;case ua.RUNNING:this.start_()}};
Object.defineProperty(a.prototype,"snapshot",{get:function(){var a=J(this.state_);return new oc(this.transferred_,this.blob_.size(),a,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0});a.prototype.on=function(a,e,f,k){function n(a){try{p(a);return}catch(jd){}try{if(q(a),!(G(a.next)||G(a.error)||G(a.complete)))throw"";}catch(jd){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";}}function r(a){return function(e,f,n){null!==a&&ka("on",a,arguments);
var r=new Uc(e,f,k);K.addObserver_(r);return function(){K.removeObserver_(r)}}}void 0===e&&(e=void 0);void 0===f&&(f=void 0);void 0===k&&(k=void 0);var p=Ha(!0).validator,q=La(null,!0).validator,u=[pa(function(e){if(a!==Rc.STATE_CHANGED)throw"Expected one of the event types: ["+Rc.STATE_CHANGED+"].";}),La(n,!0),Ha(!0),Ha(!0)];ka("on",u,arguments);var K=this;u=[La(function(a){if(null===a)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";n(a)}),Ha(!0),Ha(!0)];
return G(e)||G(f)||G(k)?r(null)(e,f,k):r(u)};a.prototype.then=function(a,e){return this.promise_.then(a,e)};a.prototype.catch=function(a){return this.then(null,a)};a.prototype.addObserver_=function(a){this.observers_.push(a);this.notifyObserver_(a)};a.prototype.removeObserver_=function(a){var e=this.observers_;a=e.indexOf(a);-1!==a&&e.splice(a,1)};a.prototype.notifyObservers_=function(){var a=this;this.finishPromise_();Array.prototype.slice.call(this.observers_).forEach(function(e){a.notifyObserver_(e)})};
a.prototype.finishPromise_=function(){if(null!==this.resolve_){var a=!0;switch(J(this.state_)){case Fa.SUCCESS:Ob(this.resolve_.bind(null,this.snapshot))();break;case Fa.CANCELED:case Fa.ERROR:Ob(this.reject_.bind(null,this.error_))();break;default:a=!1}a&&(this.reject_=this.resolve_=null)}};a.prototype.notifyObserver_=function(a){switch(J(this.state_)){case Fa.RUNNING:case Fa.PAUSED:null!==a.next&&Ob(a.next.bind(a,this.snapshot))();break;case Fa.SUCCESS:null!==a.complete&&Ob(a.complete.bind(a))();
break;case Fa.CANCELED:case Fa.ERROR:null!==a.error&&Ob(a.error.bind(a,this.error_))();break;default:null!==a.error&&Ob(a.error.bind(a,this.error_))()}};a.prototype.resume=function(){ka("resume",[],arguments);var a=this.state_===ua.PAUSED||this.state_===ua.PAUSING;a&&this.transition_(ua.RUNNING);return a};a.prototype.pause=function(){ka("pause",[],arguments);var a=this.state_===ua.RUNNING;a&&this.transition_(ua.PAUSING);return a};a.prototype.cancel=function(){ka("cancel",[],arguments);var a=this.state_===
ua.RUNNING||this.state_===ua.PAUSING;a&&this.transition_(ua.CANCELING);return a};return a}(),$a=function(){function a(a,e){this.authWrapper=a;this.location=e instanceof qb?e:qb.makeFromUrl(e)}a.prototype.toString=function(){ka("toString",[],arguments);return"gs://"+this.location.bucket+"/"+this.location.path};a.prototype.newRef=function(e,f){return new a(e,f)};a.prototype.mappings=function(){return N()};a.prototype.child=function(a){ka("child",[pa()],arguments);var e=Ja(this.location.path,a);e=new qb(this.location.bucket,
e);return this.newRef(this.authWrapper,e)};Object.defineProperty(a.prototype,"parent",{get:function(){var a=this.location.path;if(0==a.length)a=null;else{var e=a.lastIndexOf("/");a=-1===e?"":a.slice(0,e)}if(null===a)return null;a=new qb(this.location.bucket,a);return this.newRef(this.authWrapper,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"root",{get:function(){var a=new qb(this.location.bucket,"");return this.newRef(this.authWrapper,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"name",{get:function(){return sa(this.location.path)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0});a.prototype.put=function(a,e){void 0===e&&(e=null);
ka("put",[Ca(),new Za(ba,!0)],arguments);this.throwIfRoot_("put");return new uc(this,this.authWrapper,this.location,this.mappings(),new Gd(a),e)};a.prototype.putString=function(a,f,k){void 0===f&&(f=ja.RAW);ka("putString",[pa(),pa(e,!0),new Za(ba,!0)],arguments);this.throwIfRoot_("putString");var n=S(f,a),p=Q(k);null==p.contentType&&null!=n.contentType&&(p.contentType=n.contentType);return new uc(this,this.authWrapper,this.location,this.mappings(),new Gd(n.data,!0),p)};a.prototype.delete=function(){ka("delete",
[],arguments);this.throwIfRoot_("delete");var a=this;return this.authWrapper.getAuthToken().then(function(e){var f=Ka(a.authWrapper,a.location);return a.authWrapper.makeRequest(f,e).getPromise()})};a.prototype.getMetadata=function(){ka("getMetadata",[],arguments);this.throwIfRoot_("getMetadata");var a=this;return this.authWrapper.getAuthToken().then(function(e){var f=za(a.authWrapper,a.location,a.mappings());return a.authWrapper.makeRequest(f,e).getPromise()})};a.prototype.updateMetadata=function(a){ka("updateMetadata",
[new Za(ba,void 0)],arguments);this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(f){var k=e.authWrapper,n=e.location,p=a,r=e.mappings(),q=n.fullServerUrl();q=W(q);p=Na(p,r);var u=k.maxOperationRetryTime();k=new lb(q,"PATCH",Xb(k,r),u);k.headers={"Content-Type":"application/json; charset\x3dutf-8"};k.body=p;k.errorHandler=Ab(n);return e.authWrapper.makeRequest(k,f).getPromise()})};a.prototype.getDownloadURL=function(){ka("getDownloadURL",[],arguments);
this.throwIfRoot_("getDownloadURL");var a=this;return this.authWrapper.getAuthToken().then(function(e){var f=ra(a.authWrapper,a.location,a.mappings());return a.authWrapper.makeRequest(f,e).getPromise().then(function(a){if(null===a)throw new Sa(Ya.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return a})})};a.prototype.throwIfRoot_=function(a){if(""===this.location.path)throw new Sa(Ya.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').");
};return a}(),Gc=function(){function a(a){this.promise_=Promise.reject(a)}a.prototype.getPromise=function(){return this.promise_};a.prototype.cancel=function(a){};return a}(),Zb=function(){function a(){this.map_={};this.id_=-9007199254740991}a.prototype.addRequest=function(a){function e(){delete k.map_[f]}var f=this.id_;this.id_++;this.map_[f]=a;var k=this;a.getPromise().then(e,e)};a.prototype.clear=function(){E(this.map_,function(a,e){e&&e.cancel(!0)});this.map_={}};return a}(),ya=function(){function a(e,
f,k,n,p){this.bucket_=null;this.deleted_=!1;this.app_=e;null!==this.app_&&(e=this.app_.options,null!=e&&(this.bucket_=a.extractBucket_(e)));this.storageRefMaker_=f;this.requestMaker_=k;this.pool_=p;this.service_=n;this.maxOperationRetryTime_=12E4;this.maxUploadRetryTime_=6E4;this.requestMap_=new Zb}a.extractBucket_=function(a){a=a.storageBucket||null;return null==a?null:qb.makeFromBucketSpec(a).bucket};a.prototype.getAuthToken=function(){return null!==this.app_&&null!=this.app_.INTERNAL&&null!=this.app_.INTERNAL.getToken?
this.app_.INTERNAL.getToken().then(function(a){return null!==a?a.accessToken:null},function(a){return null}):Promise.resolve(null)};a.prototype.bucket=function(){if(this.deleted_)throw R();return this.bucket_};a.prototype.service=function(){return this.service_};a.prototype.makeStorageReference=function(a){return this.storageRefMaker_(this,a)};a.prototype.makeRequest=function(a,e){if(this.deleted_)return new Gc(R());a=this.requestMaker_(a,e,this.pool_);this.requestMap_.addRequest(a);return a};a.prototype.deleteApp=
function(){this.deleted_=!0;this.app_=null;this.requestMap_.clear()};a.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_};a.prototype.setMaxUploadRetryTime=function(a){this.maxUploadRetryTime_=a};a.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_};a.prototype.setMaxOperationRetryTime=function(a){this.maxOperationRetryTime_=a};return a}(),Hc=function(){function a(a,e,f,k,n,p,q,u,K,w,Ka){this.reject_=this.resolve_=this.backoffId_=this.pendingXhr_=null;
this.appDelete_=this.canceled_=!1;this.url_=a;this.method_=e;this.headers_=f;this.body_=k;this.successCodes_=n.slice();this.additionalRetryCodes_=p.slice();this.callback_=q;this.errorCallback_=u;this.progressCallback_=w;this.timeout_=K;this.pool_=Ka;var r=this;this.promise_=new Promise(function(a,e){r.resolve_=a;r.reject_=e;r.start_()})}a.prototype.start_=function(){function a(a,e){function k(a){var e=a.loaded;a=a.lengthComputable?a.total:-1;null!==f.progressCallback_&&f.progressCallback_(e,a)}e?
a(!1,new Ic(!1,null,!0)):(e=f.pool_.createXhrIo(),f.pendingXhr_=e,null!==f.progressCallback_&&e.addUploadProgressListener(k),e.send(f.url_,f.method_,f.body_,f.headers_).then(function(e){null!==f.progressCallback_&&e.removeUploadProgressListener(k);f.pendingXhr_=null;var n=e.getErrorCode()===Sc.NO_ERROR,p=e.getStatus();!n||f.isRetryStatusCode_(p)?(e=e.getErrorCode()===Sc.ABORT,a(!1,new Ic(!1,null,e))):(n=-1!==f.successCodes_.indexOf(p),a(!0,new Ic(n,e)))}))}function e(a,e){var k=f.resolve_;a=f.reject_;
var n=e.xhr;if(e.wasSuccessCode)try{var r=f.callback_(n,n.getResponseText());G(r)?k(r):k()}catch(M){a(M)}else null!==n?(e=u(),e.setServerResponseProp(n.getResponseText()),f.errorCallback_?a(f.errorCallback_(n,e)):a(e)):(e=e.canceled?f.appDelete_?R():p():new Sa(Ya.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."),a(e))}var f=this;this.canceled_?e(!1,new Ic(!1,null,!0)):this.backoffId_=sd(a,e,this.timeout_)};a.prototype.getPromise=function(){return this.promise_};a.prototype.cancel=
function(a){this.canceled_=!0;this.appDelete_=a||!1;null!==this.backoffId_&&(0,this.backoffId_)(!1);null!==this.pendingXhr_&&this.pendingXhr_.abort()};a.prototype.isRetryStatusCode_=function(a){var e=500<=a&&600>a,f=-1!==[408,429].indexOf(a);a=-1!==this.additionalRetryCodes_.indexOf(a);return e||f||a};return a}(),Ic=function(){return function(a,e,f){this.wasSuccessCode=a;this.xhr=e;this.canceled=!!f}}(),hd=function(){function a(a,e,f){this.bucket_=null;this.authWrapper_=new ya(a,function(a,e){return new $a(a,
e)},Eb,this,e);this.app_=a;null!=f?this.bucket_=qb.makeFromBucketSpec(f):(a=this.authWrapper_.bucket(),null!=a&&(this.bucket_=new qb(a,"")));this.internals_=new Va(this)}a.prototype.ref=function(a){ka("ref",[pa(function(a){if(/^[A-Za-z]+:\/\//.test(a))throw"Expected child path but got a URL, use refFromURL instead.";},!0)],arguments);if(null==this.bucket_)throw Error("No Storage Bucket defined in Firebase Options.");var e=new $a(this.authWrapper_,this.bucket_);return null!=a?e.child(a):e};a.prototype.refFromURL=
function(a){ka("refFromURL",[pa(function(a){if(!/^[A-Za-z]+:\/\//.test(a))throw"Expected full URL but got a child path, use ref instead.";try{qb.makeFromUrl(a)}catch(id){throw"Expected valid full URL but got an invalid one.";}},!1)],arguments);return new $a(this.authWrapper_,a)};Object.defineProperty(a.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0});a.prototype.setMaxUploadRetryTime=function(a){ka("setMaxUploadRetryTime",
[Ga()],arguments);this.authWrapper_.setMaxUploadRetryTime(a)};a.prototype.setMaxOperationRetryTime=function(a){ka("setMaxOperationRetryTime",[Ga()],arguments);this.authWrapper_.setMaxOperationRetryTime(a)};Object.defineProperty(a.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0});return a}(),Va=function(){function a(a){this.service_=a}a.prototype.delete=
function(){this.service_.authWrapper_.deleteApp();return Promise.resolve(void 0)};return a}();cc(nc);n.registerStorage=cc};
shadow$provide[160]=function(f,a,q,n){(function(a,f){"object"===typeof n&&"undefined"!==typeof q?f(n):"function"===typeof define&&define.amd?define(["exports"],f):(a=a||self,f(a.idb={}))})(this,function(a){function f(a){return new Promise(function(e,f){a.onsuccess=function(){e(a.result)};a.onerror=function(){f(a.error)}})}function n(a,e,k){var n,p=new Promise(function(p,q){n=a[e].apply(a,k);f(n).then(p,q)});p.request=n;return p}function q(a,e,f){var k=n(a,e,f);return k.then(function(a){if(a)return new fa(a,
k.request)})}function u(a,e,f){f.forEach(function(f){Object.defineProperty(a.prototype,f,{get:function(){return this[e][f]},set:function(a){this[e][f]=a}})})}function w(a,e,f,k){k.forEach(function(k){k in f.prototype&&(a.prototype[k]=function(){return n(this[e],k,arguments)})})}function k(a,e,f,k){k.forEach(function(k){k in f.prototype&&(a.prototype[k]=function(){return this[e][k].apply(this[e],arguments)})})}function e(a,e,f,k){k.forEach(function(k){k in f.prototype&&(a.prototype[k]=function(){return q(this[e],
k,arguments)})})}function S(a){this._index=a}function fa(a,e){this._cursor=a;this._request=e}function U(a){this._store=a}function J(a){this._tx=a;this.complete=new Promise(function(e,f){a.oncomplete=function(){e()};a.onerror=function(){f(a.error)};a.onabort=function(){f(a.error)}})}function E(a,e,f){this._db=a;this.oldVersion=e;this.transaction=new J(f)}function Q(a){this._db=a}u(S,"_index",["name","keyPath","multiEntry","unique"]);w(S,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);
e(S,"_index",IDBIndex,["openCursor","openKeyCursor"]);u(fa,"_cursor",["direction","key","primaryKey","value"]);w(fa,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(a){a in IDBCursor.prototype&&(fa.prototype[a]=function(){var e=this,k=arguments;return Promise.resolve().then(function(){e._cursor[a].apply(e._cursor,k);return f(e._request).then(function(a){if(a)return new fa(a,e._request)})})})});U.prototype.createIndex=function(){return new S(this._store.createIndex.apply(this._store,
arguments))};U.prototype.index=function(){return new S(this._store.index.apply(this._store,arguments))};u(U,"_store",["name","keyPath","indexNames","autoIncrement"]);w(U,"_store",IDBObjectStore,"put add delete clear get getAll getKey getAllKeys count".split(" "));e(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);k(U,"_store",IDBObjectStore,["deleteIndex"]);J.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))};u(J,"_tx",["objectStoreNames","mode"]);
k(J,"_tx",IDBTransaction,["abort"]);E.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))};u(E,"_db",["name","version","objectStoreNames"]);k(E,"_db",IDBDatabase,["deleteObjectStore","close"]);Q.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))};u(Q,"_db",["name","version","objectStoreNames"]);k(Q,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(a){[U,S].forEach(function(e){a in
e.prototype&&(e.prototype[a.replace("open","iterate")]=function(){var e=Array.prototype.slice.call(arguments),f=e[e.length-1],k=this._store||this._index,n=k[a].apply(k,e.slice(0,-1));n.onsuccess=function(){f(n.result)}})})});[S,U].forEach(function(a){a.prototype.getAll||(a.prototype.getAll=function(a,e){var f=this,k=[];return new Promise(function(n){f.iterateCursor(a,function(a){a?(k.push(a.value),void 0!==e&&k.length==e?n(k):a.continue()):n(k)})})})});a.openDb=function(a,e,f){a=n(indexedDB,"open",
[a,e]);var k=a.request;k&&(k.onupgradeneeded=function(a){f&&f(new E(k.result,a.oldVersion,k.transaction))});return a.then(function(a){return new Q(a)})};a.deleteDb=function(a){return n(indexedDB,"deleteDatabase",[a])};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[161]=function(f,a,q,n){function u(a,e,f,k){return new (f||(f=Promise))(function(n,p){function q(a){try{K(k.next(a))}catch(Ra){p(Ra)}}function u(a){try{K(k["throw"](a))}catch(Ra){p(Ra)}}function K(a){a.done?n(a.value):(new f(function(e){e(a.value)})).then(q,u)}K((k=k.apply(a,e||[])).next())})}function p(a,e){function f(a){return function(e){return k([a,e])}}function k(f){if(p)throw new TypeError("Generator is already executing.");for(;n;)try{if(p=1,q&&(u=f[0]&2?q["return"]:f[0]?q["throw"]||
((u=q["return"])&&u.call(q),0):q.next)&&!(u=u.call(q,f[1])).done)return u;if(q=0,u)f=[f[0]&2,u.value];switch(f[0]){case 0:case 1:u=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++;q=f[1];f=[0];continue;case 7:f=n.ops.pop();n.trys.pop();continue;default:if(!(u=n.trys,u=0<u.length&&u[u.length-1])&&(6===f[0]||2===f[0])){n=0;continue}if(3===f[0]&&(!u||f[1]>u[0]&&f[1]<u[3]))n.label=f[1];else if(6===f[0]&&n.label<u[1])n.label=u[1],u=f;else if(u&&n.label<u[2])n.label=u[2],n.ops.push(f);
else{u[2]&&n.ops.pop();n.trys.pop();continue}}f=e.call(a,n)}catch(Ra){f=[6,Ra],q=0}finally{p=u=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},p,q,u,K;return K={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K}function z(a){var e="function"===typeof Symbol&&a[Symbol.iterator],f=0;return e?e.call(a):{next:function(){a&&f>=a.length&&(a=void 0);
return{value:a&&a[f++],done:!a}}}}function C(a,e){var f="function"===typeof Symbol&&a[Symbol.iterator];if(!f)return a;a=f.call(a);var k,n=[];try{for(;(void 0===e||0<e--)&&!(k=a.next()).done;)n.push(k.value)}catch(ra){var p={error:ra}}finally{try{k&&!k.done&&(f=a["return"])&&f.call(a)}finally{if(p)throw p.error;}}return n}function R(){for(var a=[],e=0;e<arguments.length;e++)a=a.concat(C(arguments[e]));return a}function w(a){return this instanceof w?(this.v=a,this):new w(a)}function k(a){return a instanceof
pa.FirebaseError&&a.code.includes("request-failed")}function e(a){if(!a||!a.options)throw Ha.create("missing-app-config-values");var e=a.name,f=a.options;a=f.projectId;var k=f.apiKey;f=f.appId;if(!(e&&a&&k&&f))throw Ha.create("missing-app-config-values");return{appName:e,projectId:a,apiKey:k,appId:f}}function S(a){return"https://firebaseinstallations.googleapis.com/v1/projects/"+a.projectId+"/installations"}function fa(a){return{token:a.token,requestStatus:2,expiresIn:Number(a.expiresIn.replace("s",
"000")),creationTime:Date.now()}}function U(a,e){return u(this,void 0,void 0,function(){var f,k;return p(this,function(n){switch(n.label){case 0:return[4,e.json()];case 1:return f=n.sent(),k=f.error,[2,Ha.create("request-failed",{requestName:a,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})]}})})}function J(a){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey})}function E(a,e){e=e.refreshToken;a=J(a);a.append("Authorization",
"FIS_v2 "+e);return a}function Q(a,e){var f=e.fid;return u(this,void 0,void 0,function(){var e,k,n,q,u,w,K;return p(this,function(p){switch(p.label){case 0:return e=S(a),k=J(a),n={fid:f,authVersion:"FIS_v2",appId:a.appId,sdkVersion:"w:0.1.0"},q={method:"POST",headers:k,body:JSON.stringify(n)},[4,fetch(e,q)];case 1:return u=p.sent(),u.ok?[4,u.json()]:[3,3];case 2:return w=p.sent(),K={fid:f,registrationStatus:2,refreshToken:w.refreshToken,authToken:fa(w.authToken)},[2,K];case 3:throw U("Create Installation",
u);}})})}function G(a){return new Promise(function(e){setTimeout(e,a)})}function H(a,e){return u(this,void 0,void 0,function(){var f,k,n;return p(this,function(p){switch(p.label){case 0:return f=a.appName+"!"+a.appId,[4,Ua];case 1:return k=p.sent(),n=k.transaction("firebase-installations-store","readwrite"),n.objectStore("firebase-installations-store").put(e,f),[4,n.complete];case 2:return p.sent(),[2,e]}})})}function ca(a){return u(this,void 0,void 0,function(){var e,f,k;return p(this,function(n){switch(n.label){case 0:return e=
a.appName+"!"+a.appId,[4,Ua];case 1:return f=n.sent(),k=f.transaction("firebase-installations-store","readwrite"),k.objectStore("firebase-installations-store").delete(e),[2,k.complete]}})})}function Y(a,e){return u(this,void 0,void 0,function(){var f,k,n,q,u,w;return p(this,function(p){switch(p.label){case 0:return f=a.appName+"!"+a.appId,[4,Ua];case 1:return k=p.sent(),n=k.transaction("firebase-installations-store","readwrite"),q=n.objectStore("firebase-installations-store"),[4,q.get(f)];case 2:u=
p.sent();w=e(u);if(w===u)return[2,w];void 0===w?q.delete(f):q.put(w,f);return[4,n.complete];case 3:return p.sent(),[2,w]}})})}function V(a){return u(this,void 0,void 0,function(){var e,f;return p(this,function(k){switch(k.label){case 0:return f={},[4,Y(a,function(f){f||(f=new Uint8Array(17),crypto.getRandomValues(f),f[0]=112+f[0]%16,f=f instanceof Uint8Array?f:new Uint8Array(f),f={fid:btoa(String.fromCharCode.apply(String,R(f))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22),registrationStatus:0});
f=1===f.registrationStatus&&f.registrationTime+1E4<Date.now()?{fid:f.fid,registrationStatus:0}:f;if(0===f.registrationStatus)if(navigator.onLine){f={fid:f.fid,registrationStatus:1,registrationTime:Date.now()};var k=ma(a,f);f={installationEntry:f,registrationPromise:k}}else k=Promise.reject(Ha.create("app-offline")),f={installationEntry:f,registrationPromise:k};else f=1===f.registrationStatus?{installationEntry:f,registrationPromise:Ja(a)}:{installationEntry:f};e=f.registrationPromise;return f.installationEntry})];
case 1:return[2,(f.installationEntry=k.sent(),f.registrationPromise=e,f)]}})})}function ma(a,e){return u(this,void 0,void 0,function(){var f,n;return p(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,8]),[4,Q(a,e)];case 1:return f=p.sent(),[4,H(a,f)];case 2:return p.sent(),[3,8];case 3:return n=p.sent(),k(n)&&409===n.serverCode?[4,ca(a)]:[3,5];case 4:return p.sent(),[3,7];case 5:return[4,H(a,{fid:e.fid,registrationStatus:0})];case 6:p.sent(),p.label=7;case 7:throw n;case 8:return[2]}})})}
function Ja(a){return u(this,void 0,void 0,function(){var e;return p(this,function(f){switch(f.label){case 0:return[4,sa(a)];case 1:e=f.sent(),f.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,G(100)];case 3:return f.sent(),[4,sa(a)];case 4:return e=f.sent(),[3,2];case 5:if(0===e.registrationStatus)throw Ha.create("create-installation-failed");return[2]}})})}function sa(a){return Y(a,function(a){if(!a)throw Ha.create("installation-not-found");return 1===a.registrationStatus&&a.registrationTime+
1E4<Date.now()?{fid:a.fid,registrationStatus:0}:a})}function W(a){return u(this,void 0,void 0,function(){var f,k,n,q;return p(this,function(p){switch(p.label){case 0:return f=e(a),[4,V(f)];case 1:return k=p.sent(),n=k.installationEntry,(q=k.registrationPromise)&&q.catch(function(){}),[2,n.fid]}})})}function F(a,e){return u(this,void 0,void 0,function(){var f,k,n,q,u,w,ha;return p(this,function(p){switch(p.label){case 0:return p=e.fid,f=S(a)+"/"+p+"/authTokens:generate",k=E(a,e),n={installation:{sdkVersion:"w:0.1.0"}},
q={method:"POST",headers:k,body:JSON.stringify(n)},[4,fetch(f,q)];case 1:return u=p.sent(),u.ok?[4,u.json()]:[3,3];case 2:return w=p.sent(),ha=fa(w),[2,ha];case 3:throw U("Generate Auth Token",u);}})})}function x(a){return u(this,void 0,void 0,function(){var f;return p(this,function(k){switch(k.label){case 0:return f=e(a),[4,N(f)];case 1:return k.sent(),[2,O(f)]}})})}function N(a){return u(this,void 0,void 0,function(){var e,f,k;return p(this,function(n){switch(n.label){case 0:return[4,V(a)];case 1:return e=
n.sent(),f=e.installationEntry,(k=e.registrationPromise)?[4,k]:[3,3];case 2:return n.sent(),[3,4];case 3:if(2!==f.registrationStatus)throw Ha.create("create-installation-failed");n.label=4;case 4:return[2]}})})}function O(a){return u(this,void 0,void 0,function(){var e,f,k,n;return p(this,function(p){switch(p.label){case 0:return[4,Y(a,function(f){if(void 0===f||2!==f.registrationStatus)throw Ha.create("not-registered");var k=f.authToken,n;(n=2!==k.requestStatus)||(n=Date.now(),n=n<k.creationTime||
k.creationTime+k.expiresIn<n+36E5);if(n){if(1===k.requestStatus)return e=Z(a),f;if(!navigator.onLine)throw Ha.create("app-offline");k={requestStatus:1,requestTime:Date.now()};f=Ga({},f,{authToken:k});e=Na(a,f)}return f})];case 1:return f=p.sent(),e?[4,e]:[3,3];case 2:return n=p.sent(),[3,4];case 3:n=f.authToken,p.label=4;case 4:return k=n,[2,k.token]}})})}function Z(a){return u(this,void 0,void 0,function(){var e,f;return p(this,function(k){switch(k.label){case 0:return[4,qa(a)];case 1:e=k.sent(),
k.label=2;case 2:return 1!==e.authToken.requestStatus?[3,5]:[4,G(100)];case 3:return k.sent(),[4,qa(a)];case 4:return e=k.sent(),[3,2];case 5:f=e.authToken;if(0===f.requestStatus)throw Ha.create("generate-token-failed");return[2,f]}})})}function qa(a){return Y(a,function(a){if(void 0===a||2!==a.registrationStatus)throw Ha.create("not-registered");var e=a.authToken;return 1===e.requestStatus&&e.requestTime+1E4<Date.now()?Ga({},a,{authToken:{requestStatus:0}}):a})}function Na(a,e){return u(this,void 0,
void 0,function(){var f,n,q;return p(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,8]),[4,F(a,e)];case 1:return f=p.sent(),n=Ga({},e,{authToken:f}),[4,H(a,n)];case 2:return p.sent(),[2,f];case 3:return q=p.sent(),!k(q)||401!==q.serverCode&&404!==q.serverCode?[3,5]:[4,ca(a)];case 4:return p.sent(),[3,7];case 5:return n=Ga({},e,{authToken:{requestStatus:0}}),[4,H(a,n)];case 6:p.sent(),p.label=7;case 7:throw q;case 8:return[2]}})})}function ba(a,e){return u(this,void 0,void 0,function(){var f,
k,n,q;return p(this,function(p){switch(p.label){case 0:return p=e.fid,f=S(a)+"/"+p,k=E(a,e),n={method:"DELETE",headers:k},[4,fetch(f,n)];case 1:q=p.sent();if(!q.ok)throw U("Delete Installation",q);return[2]}})})}function ka(a){return u(this,void 0,void 0,function(){var f,k;return p(this,function(n){switch(n.label){case 0:return f=e(a),[4,Y(f,function(a){if(!a||0!==a.registrationStatus)return a})];case 1:k=n.sent();if(!k)return[3,6];if(1!==k.registrationStatus)return[3,2];throw Ha.create("delete-pending-registration");
case 2:if(2!==k.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Ha.create("app-offline");case 3:return[4,ba(f,k)];case 4:return n.sent(),[4,ca(f)];case 5:n.sent(),n.label=6;case 6:return[2]}})})}function la(a){a.INTERNAL.registerService("installations",function(a){e(a);return{app:a,getId:function(){return W(a)},getToken:function(){return x(a)},delete:function(){return ka(a)}}})}Object.defineProperty(n,"__esModule",{value:!0});f=function(a){return a&&"object"===typeof a&&"default"in
a?a["default"]:a}(a(151));var pa=a(150);a=a(160);var Ca=function(a,e){Ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var f in e)e.hasOwnProperty(f)&&(a[f]=e[f])};return Ca(a,e)},Ga=function(){Ga=Object.assign||function(a){for(var e,f=1,k=arguments.length;f<k;f++){e=arguments[f];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a};return Ga.apply(this,arguments)};Object.freeze({__extends:function(a,e){function f(){this.constructor=
a}Ca(a,e);a.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)},get __assign(){return Ga},__rest:function(a,e){var f={},k;for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&0>e.indexOf(k)&&(f[k]=a[k]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(k=Object.getOwnPropertySymbols(a);n<k.length;n++)0>e.indexOf(k[n])&&(f[k[n]]=a[k[n]])}return f},__decorate:function(a,e,f,k){var n=arguments.length,p=3>n?e:null===k?k=Object.getOwnPropertyDescriptor(e,f):k,
q;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)p=Reflect.decorate(a,e,f,k);else for(var u=a.length-1;0<=u;u--)if(q=a[u])p=(3>n?q(p):3<n?q(e,f,p):q(e,f))||p;return 3<n&&p&&Object.defineProperty(e,f,p),p},__param:function(a,e){return function(f,k){e(f,k,a)}},__metadata:function(a,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,e)},__awaiter:u,__generator:p,__exportStar:function(a,e){for(var f in a)e.hasOwnProperty(f)||(e[f]=a[f])},
__values:z,__read:C,__spread:R,__await:w,__asyncGenerator:function(a,e,f){function k(a){x[a]&&(z[a]=function(e){return new Promise(function(f,k){1<C.push([a,e,f,k])||n(a,e)})})}function n(a,e){try{var f=x[a](e);f.value instanceof w?Promise.resolve(f.value.v).then(p,q):u(C[0][2],f)}catch(Ob){u(C[0][3],Ob)}}function p(a){n("next",a)}function q(a){n("throw",a)}function u(a,e){(a(e),C.shift(),C.length)&&n(C[0][0],C[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");
var x=f.apply(a,e||[]),z,C=[];return z={},k("next"),k("throw"),k("return"),z[Symbol.asyncIterator]=function(){return this},z},__asyncDelegator:function(a){function e(e,n){f[e]=a[e]?function(f){return(k=!k)?{value:w(a[e](f)),done:"return"===e}:n?n(f):f}:n}var f,k;return f={},e("next"),e("throw",function(a){throw a;}),e("return"),f[Symbol.iterator]=function(){return this},f},__asyncValues:function(a){function e(e){n[e]=a[e]&&function(k){return new Promise(function(n,p){k=a[e](k);f(n,p,k.done,k.value)})}}
function f(a,e,f,k){Promise.resolve(k).then(function(e){a({value:e,done:f})},e)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k=a[Symbol.asyncIterator],n;return k?k.call(a):(a="function"===typeof z?z(a):a[Symbol.iterator](),n={},e("next"),e("throw"),e("return"),n[Symbol.asyncIterator]=function(){return this},n)},__makeTemplateObject:function(a,e){Object.defineProperty?Object.defineProperty(a,"raw",{value:e}):a.raw=e;return a},__importStar:function(a){if(a&&
a.__esModule)return a;var e={};if(null!=a)for(var f in a)Object.hasOwnProperty.call(a,f)&&(e[f]=a[f]);e.default=a;return e},__importDefault:function(a){return a&&a.__esModule?a:{default:a}}});var La;q=(La={},La["missing-app-config-values"]="Missing App configuration values.",La["create-installation-failed"]="Could not register Firebase Installation.",La["generate-token-failed"]="Could not generate Auth Token.",La["not-registered"]="Firebase Installation is not registered.",La["installation-not-found"]=
"Firebase Installation not found.",La["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',La["app-offline"]="Could not process request. Application offline.",La["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",La);var Ha=new pa.ErrorFactory("installations","Installations",q),Ua=a.openDb("firebase-installations-database",1,function(a){switch(a.oldVersion){case 0:a.createObjectStore("firebase-installations-store")}});
la(f);n.registerInstallations=la};
shadow$provide[162]=function(f,a,q,n){function u(){var a=la.getInstance().firebaseAppInstance.installations().getId();a.then(function(a){pa=a});return a}function p(){var a=la.getInstance().firebaseAppInstance.installations().getToken();a.then(function(a){});return a}function z(){switch(ba.getInstance().document.visibilityState){case "visible":return Ca.VISIBLE;case "hidden":return Ca.HIDDEN;case "prerender":return Ca.PRERENDER;default:return Ca.UNKNOWN}}function C(){var a=ba.getInstance().navigator.connection;
switch(a&&a.effectiveType){case "slow-2g":return 1;case "2g":return 2;case "3g":return 3;case "4g":return 4;default:return 0}}function R(a){var f=w();return f?(e(f),Promise.resolve()):k(a).then(function(a){return e(a)}).then(function(a){if(a){var e=ba.getInstance().localStorage;e.setItem("@firebase/performance/config",JSON.stringify(a));e.setItem("@firebase/performance/configexpire",String(Date.now()+36E5*la.getInstance().configTimeToLive))}},function(){})}function w(){var a=ba.getInstance().localStorage,
e=a.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()&&(a=a.getItem("@firebase/performance/config")))try{return JSON.parse(a)}catch(oa){}}function k(a){return p().then(function(e){var f="https://firebaseremoteconfig.googleapis.com/v1/projects/"+la.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key\x3d"+la.getInstance().getApiKey();e=new Request(f,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:a,app_instance_id_token:e,
app_id:la.getInstance().getAppId(),app_version:"0.2.1",sdk_version:"0.0.1"})});return fetch(e).then(function(a){if(a.ok)return a.json();throw qa.create("RC response not ok");})}).catch(function(){Ga.info(Ha)})}function e(a){if(!a)return a;var e=la.getInstance(),f=a.entries||{};e.loggingEnabled=void 0!==f.fpr_enabled?"true"===String(f.fpr_enabled):La.loggingEnabled;f.fpr_log_source&&(e.logSource=Number(f.fpr_log_source));f.fpr_log_endpoint_url&&(e.logEndPointUrl=f.fpr_log_endpoint_url);void 0!==f.fpr_vc_network_request_sampling_rate&&
(e.networkRequestsSamplingRate=Number(f.fpr_vc_network_request_sampling_rate));void 0!==f.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(f.fpr_vc_trace_sampling_rate));e.logTraceAfterSampling=Math.random()<=e.tracesSamplingRate;e.logNetworkAfterSampling=Math.random()<=e.networkRequestsSamplingRate;return a}function S(){Ua=2;return K=K||fa()}function fa(){return U().then(function(){return u()}).then(function(a){return R(a)}).then(function(){Ua=3},function(){Ua=3})}function U(){var a=ba.getInstance().document;
return new Promise(function(e){if(a&&"complete"!==a.readyState){var f=function(){"complete"===a.readyState&&(a.removeEventListener("readystatechange",f),e())};a.addEventListener("readystatechange",f)}else e()})}function J(a){setTimeout(function(){if(0!==Xb){if(!Ib.length)return J(1E4);var a=Ib.slice();Ib=[];var e=a.map(function(a){return{source_extension_json:a.message,event_time_ms:String(a.eventTime)}});e={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:la.getInstance().logSource,
log_event:e};fetch(la.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(e)}).then(function(a){a.ok||Ga.info("Call to Firebase backend failed.");return a.json()}).then(function(a){a=Math.max(1E4,parseInt(a.next_request_wait_millis,10));Xb=3;J(a)}).catch(function(){Ib=a.concat(Ib);Xb--;Ga.info("Tries left: "+Xb+".");J(1E4)})}},a)}function E(a){return function(e,f){for(var k=[],n=2;n<arguments.length;n++)k[n-2]=arguments[n];k={message:a.apply(void 0,k),eventTime:Date.now()};if(!k.eventTime||
!k.message)throw qa.create("invalid cc log");Ib=Ib.concat([k])}}function Q(){if(kb)return kb;var a=E(Y);kb=new O.Logger("@firebase/performance/cc");kb.logHandler=a;return kb}function G(a){var e=la.getInstance();if(e.instrumentationEnabled||!a.isAuto)if(e.dataCollectionEnabled||a.isAuto)a.isAuto&&z()!==Ca.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===Ua?H(a):S().then(function(){return H(a)},function(){return H(a)}))}function H(a){pa&&setTimeout(function(){return Q().log(a,1)},0)}function ca(a){var e=
la.getInstance();e.instrumentationEnabled&&a.url!==e.logEndPointUrl.split("?")[0]&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return Q().log(a,0)},0)}function Y(a,e){if(0===e)return a={url:a.url,http_method:1,http_response_code:200,response_payload_bytes:a.responsePayloadBytes,client_start_time_us:a.startTimeUs,time_to_response_initiated_us:a.timeToResponseInitiatedUs,time_to_response_completed_us:a.timeToResponseCompletedUs},a={application_info:V(),network_request_metric:a},
JSON.stringify(a);e={name:a.name,is_auto:a.isAuto,client_start_time_us:a.startTimeUs,duration_us:a.durationUs};0!==Object.keys(a.counters).length&&(e.counters=ma(a.counters));a=a.getAttributes();0!==Object.keys(a).length&&(e.custom_attributes=ma(a));a={application_info:V(),trace_metric:e};return JSON.stringify(a)}function V(){var a=la.getInstance().getAppId(),e=pa,f=ba.getInstance().getUrl(),k=ba.getInstance().navigator;return{google_app_id:a,app_instance_id:e,web_app_info:{sdk_version:"0.2.1",page_url:f,
service_worker_status:"serviceWorker"in k?k.serviceWorker.controller?2:3:1,visibility_state:z(),effective_connection_type:C()},application_process_state:0}}function ma(a){return Object.keys(a).map(function(e){return{key:e,value:a[e]}})}function Ja(a){if(a&&void 0!==a.responseStart){var e=ba.getInstance().getTimeOrigin();e=Math.floor(1E3*(a.startTime+e));var f=a.responseStart?Math.floor(1E3*(a.responseStart-a.startTime)):void 0,k=Math.floor(1E3*(a.responseEnd-a.startTime));a={url:a.name&&a.name.split("?")[0],
responsePayloadBytes:a.transferSize,startTimeUs:e,timeToResponseInitiatedUs:f,timeToResponseCompletedUs:k};ca(a)}}function sa(){pa&&(setTimeout(function(){return W()},0),setTimeout(function(){for(var a=ba.getInstance(),e=0,f=a.getEntriesByType("resource");e<f.length;e++)Ja(f[e]);a.setupObserver("resource",Ja)},0),setTimeout(function(){for(var a=ba.getInstance(),e=0,f=a.getEntriesByType("measure");e<f.length;e++)F(f[e]);a.setupObserver("measure",F)},0))}function W(){var a=ba.getInstance(),e=a.getEntriesByType("navigation"),
f=a.getEntriesByType("paint");if(a.onFirstInputDelay){var k=setTimeout(function(){Ab.createOobTrace(e,f);k=void 0},5E3);a.onFirstInputDelay(function(a){k&&(clearTimeout(k),Ab.createOobTrace(e,f,a))})}else Ab.createOobTrace(e,f)}function F(a){a=a.name;"FB-PERF-TRACE-MEASURE"!==a.substring(0,21)&&Ab.createUserTimingTrace(a)}function x(a){a.INTERNAL.registerService("performance",function(a){if("[DEFAULT]"!==a.name)throw qa.create("FB not default");la.getInstance().firebaseAppInstance=a;return new za(a)},
{})}Object.defineProperty(n,"__esModule",{value:!0});f=function(a){return a&&"object"===typeof a&&"default"in a?a["default"]:a}(a(151));var N=a(149);q=a(150);a(161);var O=a(153),Z;a=(Z={},Z["trace started"]="Trace {$traceName} was started before.",Z["trace stopped"]="Trace {$traceName} is not running.",Z["no window"]="Window is not available.",Z["no app id"]="App id is not available.",Z["no project id"]="Project id is not available.",Z["no api key"]="Api key is not available.",Z["invalid cc log"]=
"Attempted to queue invalid cc event",Z["FB not default"]="Performance can only start when Firebase app instance is the default one.",Z["RC response not ok"]="RC response is not ok",Z);var qa=new q.ErrorFactory("performance","Performance",a),Na,ba=function(){function a(a){if(!a)throw qa.create("no window");this.performance=a.performance;this.PerformanceObserver=a.PerformanceObserver;this.windowLocation=a.location;this.navigator=a.navigator;this.document=a.document;this.localStorage=a.localStorage;
a.perfMetrics&&a.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=a.perfMetrics.onFirstInputDelay)}a.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]};a.prototype.mark=function(a){this.performance&&this.performance.mark&&this.performance.mark(a)};a.prototype.measure=function(a,e,f){this.performance&&this.performance.measure&&this.performance.measure(a,e,f)};a.prototype.getEntriesByType=function(a){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(a):
[]};a.prototype.getEntriesByName=function(a){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(a):[]};a.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)};a.prototype.setupObserver=function(a,e){this.PerformanceObserver&&(new this.PerformanceObserver(function(a){var f=0;for(a=a.getEntries();f<a.length;f++)e(a[f])})).observe({entryTypes:[a]})};a.getInstance=function(){void 0===
Na&&(Na=new a(ra));return Na};return a}(),ka,la=function(){function a(){this.dataCollectionEnabled=this.instrumentationEnabled=!0;this.loggingEnabled=!1;this.networkRequestsSamplingRate=this.tracesSamplingRate=1;this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format\x3djson_proto";this.logSource=462;this.logNetworkAfterSampling=this.logTraceAfterSampling=!1;this.configTimeToLive=12}a.prototype.getAppId=function(){var a=this.firebaseAppInstance&&this.firebaseAppInstance.options&&
this.firebaseAppInstance.options.appId;if(!a)throw qa.create("no app id");return a};a.prototype.getProjectId=function(){var a=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!a)throw qa.create("no project id");return a};a.prototype.getApiKey=function(){var a=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!a)throw qa.create("no api key");return a};a.getInstance=function(){void 0===ka&&
(ka=new a);return ka};return a}(),pa,Ca;(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.VISIBLE=1]="VISIBLE";a[a.HIDDEN=2]="HIDDEN";a[a.PRERENDER=3]="PRERENDER";a[a.UNLOADED=4]="UNLOADED"})(Ca||(Ca={}));var Ga=new O.Logger("Performance");Ga.logLevel=O.LogLevel.INFO;var La={loggingEnabled:!0},Ha="Could not fetch config, will use default configs",Ua=1,K,Xb=3,Ib=[];J(5500);var kb,Ab=function(){function a(a,e,f){void 0===e&&(e=!1);this.name=a;this.isAuto=e;this.state=1;this.customAttributes={};this.counters=
{};this.api=ba.getInstance();this.randomId=Math.floor(1E6*Math.random());this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=f||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,f&&this.calculateTraceMetrics())}a.prototype.start=function(){if(1!==this.state)throw qa.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark);this.state=2};a.prototype.stop=
function(){if(2!==this.state)throw qa.create("trace stopped",{traceName:this.name});this.state=3;this.api.mark(this.traceStopMark);this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark);this.calculateTraceMetrics();G(this)};a.prototype.record=function(a,e,f){this.durationUs=Math.floor(1E3*e);this.startTimeUs=Math.floor(1E3*a);f&&f.attributes&&(this.customAttributes=N.__assign({},f.attributes));if(f&&f.metrics)for(a=0,e=Object.keys(f.metrics);a<e.length;a++){var k=e[a];isNaN(Number(f.metrics[k]))||
(this.counters[k]=Number(Math.floor(f.metrics[k])))}G(this)};a.prototype.incrementMetric=function(a,e){void 0===e&&(e=1);void 0===this.counters[a]&&(this.counters[a]=0);this.counters[a]+=e};a.prototype.putMetric=function(a,e){this.counters[a]=e};a.prototype.getMetric=function(a){return this.counters[a]||0};a.prototype.putAttribute=function(a,e){this.customAttributes[a]=e};a.prototype.getAttribute=function(a){return this.customAttributes[a]};a.prototype.removeAttribute=function(a){void 0!==this.customAttributes[a]&&
delete this.customAttributes[a]};a.prototype.getAttributes=function(){return N.__assign({},this.customAttributes)};a.prototype.setStartTime=function(a){this.startTimeUs=a};a.prototype.setDuration=function(a){this.durationUs=a};a.prototype.calculateTraceMetrics=function(){var a=this.api.getEntriesByName(this.traceMeasure);if(a=a&&a[0])this.durationUs=Math.floor(1E3*a.duration),this.startTimeUs=Math.floor(1E3*(a.startTime+this.api.getTimeOrigin()))};a.createOobTrace=function(e,f,k){var n=ba.getInstance().getUrl();
if(n){n=new a("_wt_"+n,!0);var p=Math.floor(1E3*ba.getInstance().getTimeOrigin());n.setStartTime(p);e&&e[0]&&(n.setDuration(Math.floor(1E3*e[0].duration)),n.incrementMetric("domInteractive",Math.floor(1E3*e[0].domInteractive)),n.incrementMetric("domContentLoadedEventEnd",Math.floor(1E3*e[0].domContentLoadedEventEnd)),n.incrementMetric("loadEventEnd",Math.floor(1E3*e[0].loadEventEnd)));f&&((e=f.find(function(a){return"first-paint"===a.name}))&&e.startTime&&n.incrementMetric("_fp",Math.floor(1E3*e.startTime)),
(f=f.find(function(a){return"first-contentful-paint"===a.name}))&&f.startTime&&n.incrementMetric("_fcp",Math.floor(1E3*f.startTime)),k&&n.incrementMetric("_fid",Math.floor(1E3*k)));G(n)}};a.createUserTimingTrace=function(e){e=new a(e,!1,e);G(e)};return a}(),za=function(){function a(a){this.app=a;S().then(sa,sa)}a.prototype.trace=function(a){return new Ab(a)};Object.defineProperty(a.prototype,"instrumentationEnabled",{get:function(){return la.getInstance().instrumentationEnabled},set:function(a){la.getInstance().instrumentationEnabled=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"dataCollectionEnabled",{get:function(){return la.getInstance().dataCollectionEnabled},set:function(a){la.getInstance().dataCollectionEnabled=a},enumerable:!0,configurable:!0});return a}();if(window&&fetch&&Promise){var ra=window;x(f)}else Ga.info("Firebase Performance cannot start if browser does not support fetch and Promise.");n.registerPerformance=x};
shadow$provide[163]=function(f,a,q,n){a(148);f=(f=a(151))&&"object"===typeof f&&"default"in f?f["default"]:f;a(152);a(154);a(156);a(157);a(158);a(159);a(162);console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace \x3cPACKAGE\x3e with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase \x3d require('firebase/app');\nrequire('firebase/\x3cPACKAGE\x3e');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/\x3cPACKAGE\x3e';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/\x3cPACKAGE\x3e';\n");
q.exports=f};
var g,aa=this;
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function fa(a){return"function"==da(a)}function ha(a){return a[ja]||(a[ja]=++ka)}var ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0;function na(a,b,c){return a.call.apply(a.bind,arguments)}
function oa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function pa(a,b,c){pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:oa;return pa.apply(null,arguments)};function qa(a,b){this.bits_=[];this.Rd=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.bits_[d]=e,c=!1)}}var ra={};function ua(a){if(-128<=a&&128>a){var b=ra[a];if(b)return b}b=new qa([a|0],0>a?-1:0);-128<=a&&128>a&&(ra[a]=b);return b}function va(a){if(isNaN(a)||!isFinite(a))return xa;if(0>a)return ya(va(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=Ba;return new qa(b,0)}var Ba=4294967296,xa=ua(0),Ca=ua(1),Da=ua(16777216);
function Ea(a){if(-1==a.Rd)return-Ea(ya(a));for(var b=0,c=1,d=0;d<a.bits_.length;d++){var e=Fa(a,d);b+=(0<=e?e:Ba+e)*c;c*=Ba}return b}g=qa.prototype;g.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(Ga(this))return"0";if(-1==this.Rd)return"-"+ya(this).toString(a);for(var b=va(Math.pow(a,6)),c=this,d="";;){var e=Ha(c,b),f=e.multiply(b);c=c.add(ya(f));f=((0<c.bits_.length?c.bits_[0]:c.Rd)>>>0).toString(a);c=e;if(Ga(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
function Fa(a,b){return 0>b?0:b<a.bits_.length?a.bits_[b]:a.Rd}function Ga(a){if(0!=a.Rd)return!1;for(var b=0;b<a.bits_.length;b++)if(0!=a.bits_[b])return!1;return!0}g.equals=function(a){if(this.Rd!=a.Rd)return!1;for(var b=Math.max(this.bits_.length,a.bits_.length),c=0;c<b;c++)if(Fa(this,c)!=Fa(a,c))return!1;return!0};g.compare=function(a){a=this.add(ya(a));return-1==a.Rd?-1:Ga(a)?0:1};function ya(a){for(var b=a.bits_.length,c=[],d=0;d<b;d++)c[d]=~a.bits_[d];return(new qa(c,~a.Rd)).add(Ca)}
g.add=function(a){for(var b=Math.max(this.bits_.length,a.bits_.length),c=[],d=0,e=0;e<=b;e++){var f=d+(Fa(this,e)&65535)+(Fa(a,e)&65535),h=(f>>>16)+(Fa(this,e)>>>16)+(Fa(a,e)>>>16);d=h>>>16;f&=65535;h&=65535;c[e]=h<<16|f}return new qa(c,c[c.length-1]&-2147483648?-1:0)};
g.multiply=function(a){if(Ga(this)||Ga(a))return xa;if(-1==this.Rd)return-1==a.Rd?ya(this).multiply(ya(a)):ya(ya(this).multiply(a));if(-1==a.Rd)return ya(this.multiply(ya(a)));if(0>this.compare(Da)&&0>a.compare(Da))return va(Ea(this)*Ea(a));for(var b=this.bits_.length+a.bits_.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.bits_.length;d++)for(var e=0;e<a.bits_.length;e++){var f=Fa(this,d)>>>16,h=Fa(this,d)&65535,k=Fa(a,e)>>>16,l=Fa(a,e)&65535;c[2*d+2*e]+=h*l;Ia(c,2*d+2*e);c[2*d+2*e+1]+=f*l;Ia(c,
2*d+2*e+1);c[2*d+2*e+1]+=h*k;Ia(c,2*d+2*e+1);c[2*d+2*e+2]+=f*k;Ia(c,2*d+2*e+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new qa(c,0)};function Ia(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}
function Ha(a,b){if(Ga(b))throw Error("division by zero");if(Ga(a))return xa;if(-1==a.Rd)return-1==b.Rd?Ha(ya(a),ya(b)):ya(Ha(ya(a),b));if(-1==b.Rd)return ya(Ha(a,ya(b)));if(30<a.bits_.length){if(-1==a.Rd||-1==b.Rd)throw Error("slowDivide_ only works with positive integers.");for(var c=Ca;0>=b.compare(a);)c=c.shiftLeft(1),b=b.shiftLeft(1);var d=Ja(c,1),e=Ja(b,1);b=Ja(b,2);for(c=Ja(c,2);!Ga(b);){var f=e.add(b);0>=f.compare(a)&&(d=d.add(c),e=f);b=Ja(b,1);c=Ja(c,1)}return d}for(c=xa;0<=a.compare(b);){d=
Math.max(1,Math.floor(Ea(a)/Ea(b)));e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=va(d);for(var h=f.multiply(b);-1==h.Rd||0<h.compare(a);)d-=e,f=va(d),h=f.multiply(b);Ga(f)&&(f=Ca);c=c.add(f);a=a.add(ya(h))}return c}g.and=function(a){for(var b=Math.max(this.bits_.length,a.bits_.length),c=[],d=0;d<b;d++)c[d]=Fa(this,d)&Fa(a,d);return new qa(c,this.Rd&a.Rd)};
g.or=function(a){for(var b=Math.max(this.bits_.length,a.bits_.length),c=[],d=0;d<b;d++)c[d]=Fa(this,d)|Fa(a,d);return new qa(c,this.Rd|a.Rd)};g.xor=function(a){for(var b=Math.max(this.bits_.length,a.bits_.length),c=[],d=0;d<b;d++)c[d]=Fa(this,d)^Fa(a,d);return new qa(c,this.Rd^a.Rd)};g.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.bits_.length+b+(0<a?1:0),d=[],e=0;e<c;e++)d[e]=0<a?Fa(this,e-b)<<a|Fa(this,e-b-1)>>>32-a:Fa(this,e-b);return new qa(d,this.Rd)};
function Ja(a,b){var c=b>>5;b%=32;for(var d=a.bits_.length-c,e=[],f=0;f<d;f++)e[f]=0<b?Fa(a,f+c)>>>b|Fa(a,f+c+1)<<32-b:Fa(a,f+c);return new qa(e,a.Rd)};function La(a){return-1!=Ma.toLowerCase().indexOf(a.toLowerCase())};function Oa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Pa(a){var b=arguments.length;if(1==b&&"array"==da(arguments[0]))return Pa.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};function Qa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ra(a,b){a.sort(b||Sa)}function Ua(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||Sa;Ra(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function Sa(a,b){return a>b?1:a<b?-1:0};function Wa(a,b){null!=a&&this.append.apply(this,arguments)}g=Wa.prototype;g.$e="";g.set=function(a){this.$e=""+a};g.append=function(a,b,c){this.$e+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.$e+=arguments[d];return this};g.clear=function(){this.$e=""};g.getLength=function(){return this.$e.length};g.toString=function(){return this.$e};var Xa={},Ya={},Za;if("undefined"===typeof Xa||"undefined"===typeof Ya||"undefined"===typeof m)var m={};if("undefined"===typeof Xa||"undefined"===typeof Ya||"undefined"===typeof $a)var $a=null;if("undefined"===typeof Xa||"undefined"===typeof Ya||"undefined"===typeof ab)var ab=null;var bb=!0,cb=null;if("undefined"===typeof Xa||"undefined"===typeof Ya||"undefined"===typeof db)var db=null;function eb(){return new n(null,5,[gb,!0,hb,!0,ib,!1,jb,!1,kb,null],null)}
function lb(){bb=!1;$a=function(){return console.log.apply(console,Qa(arguments))};ab=function(){return console.error.apply(console,Qa(arguments))}}function t(a){return null!=a&&!1!==a}function mb(a){return null==a}function nb(a){return a instanceof Array}function ob(a){return null==a?!0:!1===a?!0:!1}function pb(a){return null!=a}function u(a,b){return a[da(null==b?null:b)]?!0:a._?!0:!1}
function qb(a,b){var c=null==b?null:b.constructor;c=t(t(c)?c.qg:c)?c.Pf:da(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function rb(a){var b=a.Pf;return t(b)?b:y.hd(a)}var tb="undefined"!==typeof Symbol&&"function"===da(Symbol)?Symbol.iterator:"@@iterator";function ub(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function vb(a){for(var b=Array(arguments.length),c=0;;)if(c<b.length)b[c]=arguments[c],c+=1;else return b}
function wb(a){function b(d,e){d.push(e);return d}var c=[];return xb?xb(b,c,a):yb.call(null,b,c,a)}function zb(){}function Bb(){}function Cb(){}var Eb=function Eb(a){if(null!=a&&null!=a.Kd)return a.Kd(a);var c=Eb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Eb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("ICounted.-count",a);};function Fb(){}
var Gb=function Gb(a){if(null!=a&&null!=a.Nd)return a.Nd(a);var c=Gb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Gb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IEmptyableCollection.-empty",a);};function Hb(){}var Ib=function Ib(a,b){if(null!=a&&null!=a.Ld)return a.Ld(a,b);var d=Ib[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Ib._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("ICollection.-conj",a);};function Jb(){}
var Kb=function Kb(a){switch(arguments.length){case 2:return Kb.jd(arguments[0],arguments[1]);case 3:return Kb.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Kb.jd=function(a,b){if(null!=a&&null!=a.xd)return a.xd(a,b);var c=Kb[da(null==a?null:a)];if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);c=Kb._;if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);throw qb("IIndexed.-nth",a);};
Kb.kd=function(a,b,c){if(null!=a&&null!=a.Gd)return a.Gd(a,b,c);var d=Kb[da(null==a?null:a)];if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);d=Kb._;if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);throw qb("IIndexed.-nth",a);};Kb.ud=3;function Lb(){}
var Mb=function Mb(a){if(null!=a&&null!=a.Yd)return a.Yd(a);var c=Mb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Mb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("ISeq.-first",a);},Nb=function Nb(a){if(null!=a&&null!=a.Zd)return a.Zd(a);var c=Nb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Nb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("ISeq.-rest",a);};function Ob(){}
var Pb=function Pb(a){if(null!=a&&null!=a.Ud)return a.Ud(a);var c=Pb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Pb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("INext.-next",a);};function Qb(){}var Rb=function Rb(a){switch(arguments.length){case 2:return Rb.jd(arguments[0],arguments[1]);case 3:return Rb.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};
Rb.jd=function(a,b){if(null!=a&&null!=a.Hd)return a.Hd(a,b);var c=Rb[da(null==a?null:a)];if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);c=Rb._;if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);throw qb("ILookup.-lookup",a);};Rb.kd=function(a,b,c){if(null!=a&&null!=a.wd)return a.wd(a,b,c);var d=Rb[da(null==a?null:a)];if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);d=Rb._;if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);throw qb("ILookup.-lookup",a);};Rb.ud=3;
var Sb=function Sb(a,b,c){if(null!=a&&null!=a.ce)return a.ce(a,b,c);var e=Sb[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=Sb._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw qb("IAssociative.-assoc",a);},Tb=function Tb(a,b){if(null!=a&&null!=a.Ee)return a.Ee(a,b);var d=Tb[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Tb._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("IFind.-find",a);};function Ub(){}
var Vb=function Vb(a,b){if(null!=a&&null!=a.ef)return a.ef(a,b);var d=Vb[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Vb._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("IMap.-dissoc",a);},Wb=function Wb(a){if(null!=a&&null!=a.Yf)return a.key;var c=Wb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Wb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IMapEntry.-key",a);},Xb=function Xb(a){if(null!=a&&null!=a.Zf)return a.val;var c=
Xb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Xb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IMapEntry.-val",a);};function Yb(){}
var Zb=function Zb(a,b){if(null!=a&&null!=a.ng)return a.ng(a,b);var d=Zb[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Zb._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("ISet.-disjoin",a);},$b=function $b(a){if(null!=a&&null!=a.Ue)return a.Ue(a);var c=$b[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=$b._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IStack.-peek",a);},ac=function ac(a){if(null!=a&&null!=a.Ve)return a.Ve(a);var c=
ac[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=ac._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IStack.-pop",a);};function bc(){}var cc=function cc(a,b,c){if(null!=a&&null!=a.oe)return a.oe(a,b,c);var e=cc[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=cc._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw qb("IVector.-assoc-n",a);};function dc(){}
var z=function z(a){if(null!=a&&null!=a.De)return a.De(a);var c=z[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=z._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IDeref.-deref",a);};function ec(){}
var fc=function fc(a){if(null!=a&&null!=a.Fd)return a.Fd(a);var c=fc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=fc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IMeta.-meta",a);},gc=function gc(a,b){if(null!=a&&null!=a.Jd)return a.Jd(a,b);var d=gc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=gc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("IWithMeta.-with-meta",a);};function hc(){}
var ic=function ic(a){switch(arguments.length){case 2:return ic.jd(arguments[0],arguments[1]);case 3:return ic.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};ic.jd=function(a,b){if(null!=a&&null!=a.Vd)return a.Vd(a,b);var c=ic[da(null==a?null:a)];if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);c=ic._;if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);throw qb("IReduce.-reduce",a);};
ic.kd=function(a,b,c){if(null!=a&&null!=a.Wd)return a.Wd(a,b,c);var d=ic[da(null==a?null:a)];if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);d=ic._;if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);throw qb("IReduce.-reduce",a);};ic.ud=3;function jc(){}
var kc=function kc(a,b,c){if(null!=a&&null!=a.Te)return a.Te(a,b,c);var e=kc[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=kc._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw qb("IKVReduce.-kv-reduce",a);},lc=function lc(a,b){if(null!=a&&null!=a.zd)return a.zd(a,b);var d=lc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=lc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("IEquiv.-equiv",a);},mc=function mc(a){if(null!=
a&&null!=a.Cd)return a.Cd(a);var c=mc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=mc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IHash.-hash",a);};function nc(){}var oc=function oc(a){if(null!=a&&null!=a.Id)return a.Id(a);var c=oc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=oc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("ISeqable.-seq",a);};function pc(){}function qc(){}function rc(){}function sc(){}
var tc=function tc(a){if(null!=a&&null!=a.bf)return a.bf(a);var c=tc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=tc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IReversible.-rseq",a);},uc=function uc(a,b){if(null!=a&&null!=a.og)return a.og(a,b);var d=uc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=uc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("IWriter.-write",a);};function vc(){}
var wc=function wc(a,b,c){if(null!=a&&null!=a.Ad)return a.Ad(a,b,c);var e=wc[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=wc._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw qb("IPrintWithWriter.-pr-writer",a);},xc=function xc(a,b,c){if(null!=a&&null!=a.wf)return a.wf(a,b,c);var e=xc[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=xc._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw qb("IWatchable.-add-watch",a);},
yc=function yc(a,b){if(null!=a&&null!=a.xf)return a.xf(a,b);var d=yc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=yc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("IWatchable.-remove-watch",a);},zc=function zc(a){if(null!=a&&null!=a.mf)return a.mf(a);var c=zc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=zc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IEditableCollection.-as-transient",a);},Ac=function Ac(a,b){if(null!=a&&
null!=a.pf)return a.pf(a,b);var d=Ac[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Ac._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("ITransientCollection.-conj!",a);},Bc=function Bc(a){if(null!=a&&null!=a.vf)return a.vf(a);var c=Bc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Bc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("ITransientCollection.-persistent!",a);},Cc=function Cc(a,b,c){if(null!=a&&null!=a.nf)return a.nf(a,
b,c);var e=Cc[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=Cc._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw qb("ITransientAssociative.-assoc!",a);};function Dc(){}
var Ec=function Ec(a,b){if(null!=a&&null!=a.Ce)return a.Ce(a,b);var d=Ec[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Ec._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("IComparable.-compare",a);},Fc=function Fc(a){if(null!=a&&null!=a.Wf)return a.Wf(a);var c=Fc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Fc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IChunk.-drop-first",a);},Gc=function Gc(a){if(null!=a&&null!=a.If)return a.If(a);
var c=Gc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Gc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IChunkedSeq.-chunked-first",a);},Hc=function Hc(a){if(null!=a&&null!=a.lf)return a.lf(a);var c=Hc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Hc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IChunkedSeq.-chunked-rest",a);},Ic=function Ic(a){if(null!=a&&null!=a.lg)return a.name;var c=Ic[da(null==a?null:a)];if(null!=c)return c.hd?
c.hd(a):c.call(null,a);c=Ic._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("INamed.-name",a);},Jc=function Jc(a){if(null!=a&&null!=a.mg)return a.be;var c=Jc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Jc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("INamed.-namespace",a);},Kc=function Kc(a,b){if(null!=a&&null!=a.ge)return a.ge(a,b);var d=Kc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Kc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,
a,b);throw qb("IReset.-reset!",a);},Lc=function Lc(a){switch(arguments.length){case 2:return Lc.jd(arguments[0],arguments[1]);case 3:return Lc.kd(arguments[0],arguments[1],arguments[2]);case 4:return Lc.sd(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Lc.Dd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};
Lc.jd=function(a,b){if(null!=a&&null!=a.Kf)return a.Kf(a,b);var c=Lc[da(null==a?null:a)];if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);c=Lc._;if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);throw qb("ISwap.-swap!",a);};Lc.kd=function(a,b,c){if(null!=a&&null!=a.Lf)return a.Lf(a,b,c);var d=Lc[da(null==a?null:a)];if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);d=Lc._;if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);throw qb("ISwap.-swap!",a);};
Lc.sd=function(a,b,c,d){if(null!=a&&null!=a.Mf)return a.Mf(a,b,c,d);var e=Lc[da(null==a?null:a)];if(null!=e)return e.sd?e.sd(a,b,c,d):e.call(null,a,b,c,d);e=Lc._;if(null!=e)return e.sd?e.sd(a,b,c,d):e.call(null,a,b,c,d);throw qb("ISwap.-swap!",a);};
Lc.Dd=function(a,b,c,d,e){if(null!=a&&null!=a.Nf)return a.Nf(a,b,c,d,e);var f=Lc[da(null==a?null:a)];if(null!=f)return f.Dd?f.Dd(a,b,c,d,e):f.call(null,a,b,c,d,e);f=Lc._;if(null!=f)return f.Dd?f.Dd(a,b,c,d,e):f.call(null,a,b,c,d,e);throw qb("ISwap.-swap!",a);};Lc.ud=5;function Mc(){}
var Nc=function Nc(a){if(null!=a&&null!=a.ee)return a.ee(a);var c=Nc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Nc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IIterable.-iterator",a);};function Oc(a){this.sb=a;this.md=1073741824;this.vd=0}Oc.prototype.og=function(a,b){return this.sb.append(b)};function Pc(a){var b=new Wa;a.Ad(null,new Oc(b),eb());return y.hd(b)}
var Qc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Rc(a){a=Qc(a|0,-862048943);return Qc(a<<15|a>>>-15,461845907)}function Sc(a,b){a=(a|0)^(b|0);return Qc(a<<13|a>>>-13,5)+-430675100|0}function Tc(a,b){a=(a|0)^b;a=Qc(a^a>>>16,-2048144789);a=Qc(a^a>>>13,-1028477387);return a^a>>>16}
function Uc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Sc(c,Rc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return Tc(1===(a.length&1)?b^Rc(a.charCodeAt(a.length-1)):b,Qc(2,a.length))}var Vc={},Wc=0;function Xc(a){255<Wc&&(Vc={},Wc=0);if(null==a)return 0;var b=Vc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Qc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Vc[a]=b;Wc+=1;a=b}return a}
function Yc(a){if(null!=a&&(a.md&4194304||m===a.Xg))return mc(a)^0;if("number"===typeof a){if(t(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Xc(a),a=0===a?a:Tc(Sc(0,Rc(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:mc(a)^0,a}function Zc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}function $c(a,b){return b instanceof a}
function ad(a,b){if(a.ye===b.ye)return 0;var c=ob(a.be);if(t(c?b.be:c))return-1;if(t(a.be)){if(ob(b.be))return 1;c=Sa(a.be,b.be);return 0===c?Sa(a.name,b.name):c}return Sa(a.name,b.name)}function bd(a,b,c,d,e){this.be=a;this.name=b;this.ye=c;this.kf=d;this.ue=e;this.md=2154168321;this.vd=4096}g=bd.prototype;g.toString=function(){return this.ye};g.zd=function(a,b){return b instanceof bd?this.ye===b.ye:!1};
g.call=function(){function a(d,e,f){return A.kd?A.kd(e,this,f):A.call(null,e,this,f)}function b(d,e){return A.jd?A.jd(e,this):A.call(null,e,this)}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+(arguments.length-1));};c.jd=b;c.kd=a;return c}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return A.jd?A.jd(a,this):A.call(null,a,this)};
g.jd=function(a,b){return A.kd?A.kd(a,this,b):A.call(null,a,this,b)};g.Fd=function(){return this.ue};g.Jd=function(a,b){return new bd(this.be,this.name,this.ye,this.kf,b)};g.Cd=function(){var a=this.kf;return null!=a?a:this.kf=a=Zc(Uc(this.name),Xc(this.be))};g.lg=function(){return this.name};g.mg=function(){return this.be};g.Ad=function(a,b){return uc(b,this.ye)};
var cd=function cd(a){switch(arguments.length){case 1:return cd.hd(arguments[0]);case 2:return cd.jd(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};cd.hd=function(a){for(;;){if(a instanceof bd)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?cd.jd(null,a):cd.jd(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof B)a=a.fe;else throw Error("no conversion to symbol");}};
cd.jd=function(a,b){var c=null!=a?[y.hd(a),"/",y.hd(b)].join(""):b;return new bd(a,b,c,null,null)};cd.ud=2;function dd(a){return null!=a?a.vd&131072||m===a.Yg?!0:a.vd?!1:u(Mc,a):u(Mc,a)}function F(a){if(null==a)return null;if(null!=a&&(a.md&8388608||m===a.Jg))return oc(a);if(nb(a)||"string"===typeof a)return 0===a.length?null:new G(a,0,null);if(u(nc,a))return oc(a);throw Error([y.hd(a)," is not ISeqable"].join(""));}
function H(a){if(null==a)return null;if(null!=a&&(a.md&64||m===a.Md))return Mb(a);a=F(a);return null==a?null:Mb(a)}function ed(a){return null!=a?null!=a&&(a.md&64||m===a.Md)?Nb(a):(a=F(a))?a.Zd(null):fd:fd}function I(a){return null==a?null:null!=a&&(a.md&128||m===a.uf)?Pb(a):F(ed(a))}
var J=function J(a){switch(arguments.length){case 1:return J.hd(arguments[0]);case 2:return J.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(2),0,null);return J.od(arguments[0],arguments[1],c)}};J.hd=function(){return!0};J.jd=function(a,b){return null==a?null==b:a===b||lc(a,b)};J.od=function(a,b,c){for(;;)if(J.jd(a,b))if(I(c))a=b,b=H(c),c=I(c);else return J.jd(b,H(c));else return!1};
J.td=function(a){var b=H(a),c=I(a);a=H(c);c=I(c);return this.od(b,a,c)};J.ud=2;function gd(a){this.s=a}gd.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=I(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function hd(a){return new gd(F(a))}function id(a){var b=0,c=1;for(a=F(a);;)if(null!=a)b+=1,c=Qc(31,c)+Yc(H(a))|0,a=I(a);else return Tc(Sc(0,Rc(c)),b)}var jd=Tc(Sc(0,Rc(1)),0);
function kd(a){var b=0,c=0;for(a=F(a);;)if(null!=a)b+=1,c=c+Yc(H(a))|0,a=I(a);else return Tc(Sc(0,Rc(c)),b)}var ld=Tc(Sc(0,Rc(0)),0);Cb["null"]=!0;Eb["null"]=function(){return 0};Date.prototype.zd=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.af=m;Date.prototype.Ce=function(a,b){if(b instanceof Date)return Sa(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};lc.number=function(a,b){return a===b};
zb["function"]=!0;ec["function"]=!0;fc["function"]=function(){return null};mc._=function(a){return ha(a)};function md(a){return a+1}function nd(){this.val=!1;this.md=32768;this.vd=0}nd.prototype.De=function(){return this.val};function od(a){return a instanceof nd}function pd(a){return od(a)?qd.hd?qd.hd(a):qd.call(null,a):a}function qd(a){return z(a)}
function rd(a,b){var c=Eb(a);if(0===c)return b.rd?b.rd():b.call(null);for(var d=Kb.jd(a,0),e=1;;)if(e<c){var f=Kb.jd(a,e);d=b.jd?b.jd(d,f):b.call(null,d,f);if(od(d))return z(d);e+=1}else return d}function sd(a,b,c){var d=Eb(a),e=c;for(c=0;;)if(c<d){var f=Kb.jd(a,c);e=b.jd?b.jd(e,f):b.call(null,e,f);if(od(e))return z(e);c+=1}else return e}
function td(a,b){var c=a.length;if(0===a.length)return b.rd?b.rd():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.jd?b.jd(d,f):b.call(null,d,f);if(od(d))return z(d);e+=1}else return d}function ud(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.jd?b.jd(e,f):b.call(null,e,f);if(od(e))return z(e);c+=1}else return e}function vd(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.jd?b.jd(c,f):b.call(null,c,f);if(od(c))return z(c);d+=1}else return c}
function wd(a){return null!=a?a.md&2||m===a.zg?!0:a.md?!1:u(Cb,a):u(Cb,a)}function xd(a){return null!=a?a.md&16||m===a.jg?!0:a.md?!1:u(Jb,a):u(Jb,a)}function K(a,b,c){var d=O.hd?O.hd(a):O.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(J.jd(yd?yd(a,c):zd.call(null,a,c),b))return c;c+=1}else return-1}
function Ad(a,b,c){var d=O.hd?O.hd(a):O.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(J.jd(yd?yd(a,c):zd.call(null,a,c),b))return c;--c}else return-1}function Bd(a,b){this.ld=a;this.i=b}Bd.prototype.hasNext=function(){return this.i<this.ld.length};Bd.prototype.next=function(){var a=this.ld[this.i];this.i+=1;return a};function G(a,b,c){this.ld=a;this.i=b;this.meta=c;this.md=166592766;this.vd=139264}g=G.prototype;g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O.hd?O.hd(this):O.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.xd=function(a,b){a=b+this.i;if(0<=a&&a<this.ld.length)return this.ld[a];throw Error("Index out of bounds");};g.Gd=function(a,b,c){a=b+this.i;return 0<=a&&a<this.ld.length?this.ld[a]:c};
g.ee=function(){return new Bd(this.ld,this.i)};g.Fd=function(){return this.meta};g.Ud=function(){return this.i+1<this.ld.length?new G(this.ld,this.i+1,null):null};g.Kd=function(){var a=this.ld.length-this.i;return 0>a?0:a};g.bf=function(){var a=this.Kd(null);return 0<a?new Cd(this,a-1,null):null};g.Cd=function(){return id(this)};g.zd=function(a,b){return Dd.jd?Dd.jd(this,b):Dd.call(null,this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){return vd(this.ld,b,this.ld[this.i],this.i+1)};
g.Wd=function(a,b,c){return vd(this.ld,b,c,this.i)};g.Yd=function(){return this.ld[this.i]};g.Zd=function(){return this.i+1<this.ld.length?new G(this.ld,this.i+1,null):fd};g.Id=function(){return this.i<this.ld.length?this:null};g.Jd=function(a,b){return b===this.meta?this:new G(this.ld,this.i,b)};g.Ld=function(a,b){return Ed.jd?Ed.jd(b,this):Ed.call(null,b,this)};G.prototype[tb]=function(){return hd(this)};function Fd(a){return 0<a.length?new G(a,0,null):null}
function Cd(a,b,c){this.Hf=a;this.i=b;this.meta=c;this.md=32374990;this.vd=8192}g=Cd.prototype;g.toString=function(){return Pc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O.hd?O.hd(this):O.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){return 0<this.i?new Cd(this.Hf,this.i-1,null):null};g.Kd=function(){return this.i+1};g.Cd=function(){return id(this)};
g.zd=function(a,b){return Dd.jd?Dd.jd(this,b):Dd.call(null,this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){return Gd?Gd(b,this):Hd.call(null,b,this)};g.Wd=function(a,b,c){return Id?Id(b,c,this):Hd.call(null,b,c,this)};g.Yd=function(){return Kb.jd(this.Hf,this.i)};g.Zd=function(){return 0<this.i?new Cd(this.Hf,this.i-1,null):fd};g.Id=function(){return this};g.Jd=function(a,b){return b===this.meta?this:new Cd(this.Hf,this.i,b)};g.Ld=function(a,b){return Ed.jd?Ed.jd(b,this):Ed.call(null,b,this)};
Cd.prototype[tb]=function(){return hd(this)};function Jd(a){return H(I(a))}function Ld(a){for(;;){var b=I(a);if(null!=b)a=b;else return H(a)}}lc._=function(a,b){return a===b};var Md=function Md(a){switch(arguments.length){case 0:return Md.rd();case 1:return Md.hd(arguments[0]);case 2:return Md.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(2),0,null);return Md.od(arguments[0],arguments[1],c)}};Md.rd=function(){return Nd};
Md.hd=function(a){return a};Md.jd=function(a,b){return null!=a?Ib(a,b):new Od(null,b,null,1,null)};Md.od=function(a,b,c){for(;;)if(t(c))a=Md.jd(a,b),b=H(c),c=I(c);else return Md.jd(a,b)};Md.td=function(a){var b=H(a),c=I(a);a=H(c);c=I(c);return this.od(b,a,c)};Md.ud=2;function Pd(a){return null==a?null:null!=a&&(a.md&4||m===a.Bg)?Gb(a):(null!=a?a.md&4||m===a.Bg||(a.md?0:u(Fb,a)):u(Fb,a))?Gb(a):null}
function O(a){if(null!=a)if(null!=a&&(a.md&2||m===a.zg))a=Eb(a);else if(nb(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.md&8388608||m===a.Jg))a:{a=F(a);for(var b=0;;){if(wd(a)){a=b+Eb(a);break a}a=I(a);b+=1}}else a=Eb(a);else a=0;return a}function Qd(a,b,c){for(;;){if(null==a)return c;if(0===b)return F(a)?H(a):c;if(xd(a))return Kb.kd(a,b,c);if(F(a))a=I(a),--b;else return c}}
function zd(a){switch(arguments.length){case 2:return yd(arguments[0],arguments[1]);case 3:return R(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}
function yd(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.md&16||m===a.jg))return Kb.jd(a,b);if(nb(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.md&64||m===a.Md)||null!=a&&(a.md&16777216||m===a.$f)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(F(a)){a=H(a);break a}throw Error("Index out of bounds");}if(xd(a)){a=Kb.jd(a,b);break a}if(F(a))a=I(a),--b;else throw Error("Index out of bounds");}return a}if(u(Jb,a))return Kb.jd(a,b);throw Error(["nth not supported on this type ",y.hd(rb(null==a?null:a.constructor))].join(""));}
function R(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.md&16||m===a.jg))return Kb.kd(a,b,c);if(nb(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.md&64||m===a.Md)||null!=a&&(a.md&16777216||m===a.$f))return 0>b?c:Qd(a,b,c);if(u(Jb,a))return Kb.kd(a,b,c);throw Error(["nth not supported on this type ",y.hd(rb(null==a?null:a.constructor))].join(""));}
var A=function A(a){switch(arguments.length){case 2:return A.jd(arguments[0],arguments[1]);case 3:return A.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};A.jd=function(a,b){return null==a?null:null!=a&&(a.md&256||m===a.Fg)?Rb.jd(a,b):nb(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&b<a.length?a.charAt(b|0):null:u(Qb,a)?Rb.jd(a,b):null};
A.kd=function(a,b,c){return null!=a?null!=a&&(a.md&256||m===a.Fg)?Rb.kd(a,b,c):nb(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:u(Qb,a)?Rb.kd(a,b,c):c:c};A.ud=3;var Rd=function Rd(a){switch(arguments.length){case 3:return Rd.kd(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(3),0,null);return Rd.od(arguments[0],arguments[1],arguments[2],c)}};
Rd.kd=function(a,b,c){return null!=a?Sb(a,b,c):Sd([b,c])};Rd.od=function(a,b,c,d){for(;;)if(a=Rd.kd(a,b,c),t(d))b=H(d),c=Jd(d),d=I(I(d));else return a};Rd.td=function(a){var b=H(a),c=I(a);a=H(c);var d=I(c);c=H(d);d=I(d);return this.od(b,a,c,d)};Rd.ud=3;
var Td=function Td(a){switch(arguments.length){case 1:return Td.hd(arguments[0]);case 2:return Td.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(2),0,null);return Td.od(arguments[0],arguments[1],c)}};Td.hd=function(a){return a};Td.jd=function(a,b){return null==a?null:Vb(a,b)};Td.od=function(a,b,c){for(;;){if(null==a)return null;a=Td.jd(a,b);if(t(c))b=H(c),c=I(c);else return a}};
Td.td=function(a){var b=H(a),c=I(a);a=H(c);c=I(c);return this.od(b,a,c)};Td.ud=2;function Ud(a){var b=fa(a);return b?b:null!=a?m===a.yg?!0:a.pg?!1:u(zb,a):u(zb,a)}function Vd(a,b){this.nd=a;this.meta=b;this.md=393217;this.vd=0}g=Vd.prototype;g.Fd=function(){return this.meta};g.Jd=function(a,b){return new Vd(this.nd,b)};g.yg=m;
g.call=function(){function a(D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db,Ab){D=this;return Wd.Jf?Wd.Jf(D.nd,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db,Ab):Wd.call(null,D.nd,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db,Ab)}function b(D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db){D=this;return D.nd.Pe?D.nd.Pe(N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db)}function c(D,N,M,Q,T,V,W,
ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb){D=this;return D.nd.Oe?D.nd.Oe(N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb)}function d(D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb){D=this;return D.nd.Ne?D.nd.Ne(N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb)}function e(D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va){D=this;return D.nd.Me?D.nd.Me(N,M,Q,T,V,W,ba,ca,
ia,la,ma,sa,za,Aa,Na,Ta,Va):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va)}function f(D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta){D=this;return D.nd.Le?D.nd.Le(N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta)}function h(D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na){D=this;return D.nd.Ke?D.nd.Ke(N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na)}function k(D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa){D=
this;return D.nd.Je?D.nd.Je(N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa)}function l(D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za){D=this;return D.nd.Ie?D.nd.Ie(N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za)}function p(D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa){D=this;return D.nd.He?D.nd.He(N,M,Q,T,V,W,ba,ca,ia,la,ma,sa):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa)}function r(D,N,M,Q,T,V,W,ba,ca,ia,la,ma){D=this;return D.nd.Ge?D.nd.Ge(N,
M,Q,T,V,W,ba,ca,ia,la,ma):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la,ma)}function q(D,N,M,Q,T,V,W,ba,ca,ia,la){D=this;return D.nd.Fe?D.nd.Fe(N,M,Q,T,V,W,ba,ca,ia,la):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia,la)}function v(D,N,M,Q,T,V,W,ba,ca,ia){D=this;return D.nd.Se?D.nd.Se(N,M,Q,T,V,W,ba,ca,ia):D.nd.call(null,N,M,Q,T,V,W,ba,ca,ia)}function w(D,N,M,Q,T,V,W,ba,ca){D=this;return D.nd.Re?D.nd.Re(N,M,Q,T,V,W,ba,ca):D.nd.call(null,N,M,Q,T,V,W,ba,ca)}function x(D,N,M,Q,T,V,W,ba){D=this;return D.nd.Qe?D.nd.Qe(N,
M,Q,T,V,W,ba):D.nd.call(null,N,M,Q,T,V,W,ba)}function C(D,N,M,Q,T,V,W){D=this;return D.nd.Xd?D.nd.Xd(N,M,Q,T,V,W):D.nd.call(null,N,M,Q,T,V,W)}function E(D,N,M,Q,T,V){D=this;return D.nd.Dd?D.nd.Dd(N,M,Q,T,V):D.nd.call(null,N,M,Q,T,V)}function P(D,N,M,Q,T){D=this;return D.nd.sd?D.nd.sd(N,M,Q,T):D.nd.call(null,N,M,Q,T)}function S(D,N,M,Q){D=this;return D.nd.kd?D.nd.kd(N,M,Q):D.nd.call(null,N,M,Q)}function ea(D,N,M){D=this;return D.nd.jd?D.nd.jd(N,M):D.nd.call(null,N,M)}function ta(D,N){D=this;return D.nd.hd?
D.nd.hd(N):D.nd.call(null,N)}function Ka(D){D=this;return D.nd.rd?D.nd.rd():D.nd.call(null)}var wa=null;wa=function(D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db,Ab){switch(arguments.length){case 1:return Ka.call(this,D);case 2:return ta.call(this,D,N);case 3:return ea.call(this,D,N,M);case 4:return S.call(this,D,N,M,Q);case 5:return P.call(this,D,N,M,Q,T);case 6:return E.call(this,D,N,M,Q,T,V);case 7:return C.call(this,D,N,M,Q,T,V,W);case 8:return x.call(this,D,N,M,Q,T,V,W,ba);case 9:return w.call(this,
D,N,M,Q,T,V,W,ba,ca);case 10:return v.call(this,D,N,M,Q,T,V,W,ba,ca,ia);case 11:return q.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la);case 12:return r.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma);case 13:return p.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa);case 14:return l.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za);case 15:return k.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa);case 16:return h.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na);case 17:return f.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,
Aa,Na,Ta);case 18:return e.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va);case 19:return d.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb);case 20:return c.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb);case 21:return b.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db);case 22:return a.call(this,D,N,M,Q,T,V,W,ba,ca,ia,la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db,Ab)}throw Error("Invalid arity: "+(arguments.length-1));};wa.hd=Ka;wa.jd=ta;wa.kd=ea;wa.sd=
S;wa.Dd=P;wa.Xd=E;wa.Qe=C;wa.Re=x;wa.Se=w;wa.Fe=v;wa.Ge=q;wa.He=r;wa.Ie=p;wa.Je=l;wa.Ke=k;wa.Le=h;wa.Me=f;wa.Ne=e;wa.Oe=d;wa.Pe=c;wa.Eg=b;wa.Jf=a;return wa}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.rd=function(){return this.nd.rd?this.nd.rd():this.nd.call(null)};g.hd=function(a){return this.nd.hd?this.nd.hd(a):this.nd.call(null,a)};g.jd=function(a,b){return this.nd.jd?this.nd.jd(a,b):this.nd.call(null,a,b)};
g.kd=function(a,b,c){return this.nd.kd?this.nd.kd(a,b,c):this.nd.call(null,a,b,c)};g.sd=function(a,b,c,d){return this.nd.sd?this.nd.sd(a,b,c,d):this.nd.call(null,a,b,c,d)};g.Dd=function(a,b,c,d,e){return this.nd.Dd?this.nd.Dd(a,b,c,d,e):this.nd.call(null,a,b,c,d,e)};g.Xd=function(a,b,c,d,e,f){return this.nd.Xd?this.nd.Xd(a,b,c,d,e,f):this.nd.call(null,a,b,c,d,e,f)};g.Qe=function(a,b,c,d,e,f,h){return this.nd.Qe?this.nd.Qe(a,b,c,d,e,f,h):this.nd.call(null,a,b,c,d,e,f,h)};
g.Re=function(a,b,c,d,e,f,h,k){return this.nd.Re?this.nd.Re(a,b,c,d,e,f,h,k):this.nd.call(null,a,b,c,d,e,f,h,k)};g.Se=function(a,b,c,d,e,f,h,k,l){return this.nd.Se?this.nd.Se(a,b,c,d,e,f,h,k,l):this.nd.call(null,a,b,c,d,e,f,h,k,l)};g.Fe=function(a,b,c,d,e,f,h,k,l,p){return this.nd.Fe?this.nd.Fe(a,b,c,d,e,f,h,k,l,p):this.nd.call(null,a,b,c,d,e,f,h,k,l,p)};g.Ge=function(a,b,c,d,e,f,h,k,l,p,r){return this.nd.Ge?this.nd.Ge(a,b,c,d,e,f,h,k,l,p,r):this.nd.call(null,a,b,c,d,e,f,h,k,l,p,r)};
g.He=function(a,b,c,d,e,f,h,k,l,p,r,q){return this.nd.He?this.nd.He(a,b,c,d,e,f,h,k,l,p,r,q):this.nd.call(null,a,b,c,d,e,f,h,k,l,p,r,q)};g.Ie=function(a,b,c,d,e,f,h,k,l,p,r,q,v){return this.nd.Ie?this.nd.Ie(a,b,c,d,e,f,h,k,l,p,r,q,v):this.nd.call(null,a,b,c,d,e,f,h,k,l,p,r,q,v)};g.Je=function(a,b,c,d,e,f,h,k,l,p,r,q,v,w){return this.nd.Je?this.nd.Je(a,b,c,d,e,f,h,k,l,p,r,q,v,w):this.nd.call(null,a,b,c,d,e,f,h,k,l,p,r,q,v,w)};
g.Ke=function(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x){return this.nd.Ke?this.nd.Ke(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x):this.nd.call(null,a,b,c,d,e,f,h,k,l,p,r,q,v,w,x)};g.Le=function(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C){return this.nd.Le?this.nd.Le(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C):this.nd.call(null,a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C)};g.Me=function(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E){return this.nd.Me?this.nd.Me(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E):this.nd.call(null,a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E)};
g.Ne=function(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P){return this.nd.Ne?this.nd.Ne(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P):this.nd.call(null,a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P)};g.Oe=function(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S){return this.nd.Oe?this.nd.Oe(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S):this.nd.call(null,a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S)};
g.Pe=function(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea){return this.nd.Pe?this.nd.Pe(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea):this.nd.call(null,a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea)};g.Eg=function(a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea,ta){return Wd.Jf?Wd.Jf(this.nd,a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea,ta):Wd.call(null,this.nd,a,b,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea,ta)};function Xd(a,b){return fa(a)?new Vd(a,b):null==a?null:gc(a,b)}
function Yd(a){var b=null!=a;return(b?null!=a?a.md&131072||m===a.Hg||(a.md?0:u(ec,a)):u(ec,a):b)?fc(a):null}function Zd(a){return null==a?null:$b(a)}function $d(a){return null==a?null:ac(a)}var ae=function ae(a){switch(arguments.length){case 1:return ae.hd(arguments[0]);case 2:return ae.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(2),0,null);return ae.od(arguments[0],arguments[1],c)}};ae.hd=function(a){return a};
ae.jd=function(a,b){return null==a?null:Zb(a,b)};ae.od=function(a,b,c){for(;;){if(null==a)return null;a=ae.jd(a,b);if(t(c))b=H(c),c=I(c);else return a}};ae.td=function(a){var b=H(a),c=I(a);a=H(c);c=I(c);return this.od(b,a,c)};ae.ud=2;function be(a){return null==a||ob(F(a))}function ce(a){return null==a?!1:null!=a?a.md&8||m===a.Vg?!0:a.md?!1:u(Hb,a):u(Hb,a)}function de(a){return null==a?!1:null!=a?a.md&4096||m===a.Kg?!0:a.md?!1:u(Yb,a):u(Yb,a)}
function ee(a){return null!=a?a.md&16777216||m===a.$f?!0:a.md?!1:u(pc,a):u(pc,a)}function fe(a){return null==a?!1:null!=a?a.md&1024||m===a.Gg?!0:a.md?!1:u(Ub,a):u(Ub,a)}function ge(a){return null!=a?a.md&67108864||m===a.bh?!0:a.md?!1:u(rc,a):u(rc,a)}function he(a){return null!=a?a.md&16384||m===a.eh?!0:a.md?!1:u(bc,a):u(bc,a)}function ie(a){return null!=a?a.vd&512||m===a.Ug?!0:!1:!1}
var je=function je(a){switch(arguments.length){case 0:return je.rd();default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(0),0,null);return je.od(c)}};je.rd=function(){return{}};je.od=function(a){return ke?ke(Pa,a):Wd.call(null,Pa,a)};je.td=function(a){return this.od(F(a))};je.ud=0;function le(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var me={};function ne(a){return null==a?!1:!1===a?!1:!0}
function oe(a){var b=Ud(a);return b?b:null!=a?a.md&1||m===a.Wg?!0:a.md?!1:u(Bb,a):u(Bb,a)}function pe(a,b){return A.kd(a,b,me)===me?!1:!0}
function qe(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return Sa(a,b);throw Error(["Cannot compare ",y.hd(a)," to ",y.hd(b)].join(""));}if(null!=a?a.vd&2048||m===a.af||(a.vd?0:u(Dc,a)):u(Dc,a))return Ec(a,b);if("string"!==typeof a&&!nb(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",y.hd(a)," to ",y.hd(b)].join(""));return Sa(a,b)}
function re(a,b){var c=O(a),d=O(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=qe(yd(a,d),yd(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function se(a){return J.jd(a,qe)?qe:function(b,c){var d=a.jd?a.jd(b,c):a.call(null,b,c);return"number"===typeof d?d:t(d)?-1:t(a.jd?a.jd(c,b):a.call(null,c,b))?1:0}}function te(a,b){return F(b)?(b=ue.hd?ue.hd(b):ue.call(null,b),a=se(a),Ua(b,a),F(b)):fd}function ve(a,b){return xe(a,b)}
function xe(a,b){return te(function(c,d){c=a.hd?a.hd(c):a.call(null,c);d=a.hd?a.hd(d):a.call(null,d);var e=se(qe);return e.jd?e.jd(c,d):e.call(null,c,d)},b)}function Hd(a){switch(arguments.length){case 2:return Gd(arguments[0],arguments[1]);case 3:return Id(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function Gd(a,b){var c=F(b);return c?(b=H(c),c=I(c),xb?xb(a,b,c):yb.call(null,a,b,c)):a.rd?a.rd():a.call(null)}
function Id(a,b,c){for(c=F(c);;)if(c){var d=H(c);b=a.jd?a.jd(b,d):a.call(null,b,d);if(od(b))return z(b);c=I(c)}else return b}function ye(a,b){a=Nc(a);if(t(a.hasNext()))for(var c=a.next();;)if(a.hasNext()){var d=a.next();c=b.jd?b.jd(c,d):b.call(null,c,d);if(od(c))return z(c)}else return c;else return b.rd?b.rd():b.call(null)}function ze(a,b,c){for(a=Nc(a);;)if(a.hasNext()){var d=a.next();c=b.jd?b.jd(c,d):b.call(null,c,d);if(od(c))return z(c)}else return c}
function yb(a){switch(arguments.length){case 2:return Ae(arguments[0],arguments[1]);case 3:return xb(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function Ae(a,b){return null!=b&&(b.md&524288||m===b.Ig)?ic.jd(b,a):nb(b)?td(b,a):"string"===typeof b?td(b,a):u(hc,b)?ic.jd(b,a):dd(b)?ye(b,a):Gd(a,b)}
function xb(a,b,c){return null!=c&&(c.md&524288||m===c.Ig)?ic.kd(c,a,b):nb(c)?ud(c,a,b):"string"===typeof c?ud(c,a,b):u(hc,c)?ic.kd(c,a,b):dd(c)?ze(c,a,b):Id(a,b,c)}function Be(a,b,c){return null!=c?kc(c,a,b):b}function Ce(a){return a}function De(a,b,c,d){a=a.hd?a.hd(b):a.call(null,b);c=xb(a,c,d);return a.hd?a.hd(c):a.call(null,c)}
var Ee=function Ee(a){switch(arguments.length){case 0:return Ee.rd();case 1:return Ee.hd(arguments[0]);case 2:return Ee.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(2),0,null);return Ee.od(arguments[0],arguments[1],c)}};Ee.rd=function(){return 0};Ee.hd=function(a){return a};Ee.jd=function(a,b){return a+b};Ee.od=function(a,b,c){return xb(Ee,a+b,c)};
Ee.td=function(a){var b=H(a),c=I(a);a=H(c);c=I(c);return this.od(b,a,c)};Ee.ud=2;function Fe(a){return a-1}var Ge=function Ge(a){switch(arguments.length){case 1:return Ge.hd(arguments[0]);case 2:return Ge.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(2),0,null);return Ge.od(arguments[0],arguments[1],c)}};Ge.hd=function(a){return a};Ge.jd=function(a,b){return a>b?a:b};
Ge.od=function(a,b,c){return xb(Ge,a>b?a:b,c)};Ge.td=function(a){var b=H(a),c=I(a);a=H(c);c=I(c);return this.od(b,a,c)};Ge.ud=2;function He(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function Ie(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}
var y=function y(a){switch(arguments.length){case 0:return y.rd();case 1:return y.hd(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(1),0,null);return y.od(arguments[0],c)}};y.rd=function(){return""};y.hd=function(a){return null==a?"":[a].join("")};y.od=function(a,b){for(a=new Wa(y.hd(a));;)if(t(b))a=a.append(y.hd(H(b))),b=I(b);else return a.toString()};y.td=function(a){var b=H(a);a=I(a);return this.od(b,a)};y.ud=1;
function Dd(a,b){if(ee(b))if(wd(a)&&wd(b)&&O(a)!==O(b))a=!1;else a:for(a=F(a),b=F(b);;){if(null==a){a=null==b;break a}if(null!=b&&J.jd(H(a),H(b)))a=I(a),b=I(b);else{a=!1;break a}}else a=null;return ne(a)}function Od(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.qd=e;this.md=65937646;this.vd=8192}g=Od.prototype;g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){return 1===this.count?null:this.rest};g.Kd=function(){return this.count};g.Ue=function(){return this.first};g.Ve=function(){return this.Zd(null)};
g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return gc(fd,this.meta)};g.Vd=function(a,b){return Gd(b,this)};g.Wd=function(a,b,c){return Id(b,c,this)};g.Yd=function(){return this.first};g.Zd=function(){return 1===this.count?fd:this.rest};g.Id=function(){return this};g.Jd=function(a,b){return b===this.meta?this:new Od(b,this.first,this.rest,this.count,this.qd)};
g.Ld=function(a,b){return new Od(this.meta,b,this,this.count+1,null)};Od.prototype[tb]=function(){return hd(this)};function Je(a){this.meta=a;this.md=65937614;this.vd=8192}g=Je.prototype;g.toString=function(){return Pc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){return null};g.Kd=function(){return 0};g.Ue=function(){return null};g.Ve=function(){throw Error("Can't pop empty list");};g.Cd=function(){return jd};
g.zd=function(a,b){return(null!=b?b.md&33554432||m===b.$g||(b.md?0:u(qc,b)):u(qc,b))||ee(b)?null==F(b):!1};g.Nd=function(){return this};g.Vd=function(a,b){return Gd(b,this)};g.Wd=function(a,b,c){return Id(b,c,this)};g.Yd=function(){return null};g.Zd=function(){return fd};g.Id=function(){return null};g.Jd=function(a,b){return b===this.meta?this:new Je(b)};g.Ld=function(a,b){return new Od(this.meta,b,null,1,null)};var fd=new Je(null);Je.prototype[tb]=function(){return hd(this)};
function Ke(a){return(null!=a?a.md&134217728||m===a.dh||(a.md?0:u(sc,a)):u(sc,a))?(a=tc(a))?a:fd:xb(Md,fd,a)}function Le(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.qd=d;this.md=65929452;this.vd=8192}g=Le.prototype;g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){return null==this.rest?null:F(this.rest)};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};
g.Vd=function(a,b){return Gd(b,this)};g.Wd=function(a,b,c){return Id(b,c,this)};g.Yd=function(){return this.first};g.Zd=function(){return null==this.rest?fd:this.rest};g.Id=function(){return this};g.Jd=function(a,b){return b===this.meta?this:new Le(b,this.first,this.rest,this.qd)};g.Ld=function(a,b){return new Le(null,b,this,null)};Le.prototype[tb]=function(){return hd(this)};
function Ed(a,b){return null==b?new Od(null,a,null,1,null):null!=b&&(b.md&64||m===b.Md)?new Le(null,a,b,null):new Le(null,a,F(b),null)}function Me(a,b){if(a.fe===b.fe)return 0;var c=ob(a.be);if(t(c?b.be:c))return-1;if(t(a.be)){if(ob(b.be))return 1;c=Sa(a.be,b.be);return 0===c?Sa(a.name,b.name):c}return Sa(a.name,b.name)}function B(a,b,c,d){this.be=a;this.name=b;this.fe=c;this.kf=d;this.md=2153775105;this.vd=4096}g=B.prototype;g.toString=function(){return[":",y.hd(this.fe)].join("")};
g.zd=function(a,b){return b instanceof B?this.fe===b.fe:!1};g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return A.jd(c,this);case 3:return A.kd(c,this,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return A.jd(c,this)};a.kd=function(b,c,d){return A.kd(c,this,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return A.jd(a,this)};g.jd=function(a,b){return A.kd(a,this,b)};
g.Cd=function(){var a=this.kf;return null!=a?a:this.kf=a=Zc(Uc(this.name),Xc(this.be))+2654435769|0};g.lg=function(){return this.name};g.mg=function(){return this.be};g.Ad=function(a,b){return uc(b,[":",y.hd(this.fe)].join(""))};function Ne(a,b){return a===b?!0:a instanceof B&&b instanceof B?a.fe===b.fe:!1}function Oe(a){if(null!=a&&(a.vd&4096||m===a.kg))return Jc(a);throw Error(["Doesn't support namespace: ",y.hd(a)].join(""));}
var Pe=function Pe(a){switch(arguments.length){case 1:return Pe.hd(arguments[0]);case 2:return Pe.jd(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Pe.hd=function(a){if(a instanceof B)return a;if(a instanceof bd)return new B(Oe(a),Qe.hd?Qe.hd(a):Qe.call(null,a),a.ye,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new B(b[0],b[1],a,null):new B(null,b[0],a,null)}return null};
Pe.jd=function(a,b){a=a instanceof B?Qe.hd?Qe.hd(a):Qe.call(null,a):a instanceof bd?Qe.hd?Qe.hd(a):Qe.call(null,a):a;b=b instanceof B?Qe.hd?Qe.hd(b):Qe.call(null,b):b instanceof bd?Qe.hd?Qe.hd(b):Qe.call(null,b):b;return new B(a,b,[t(a)?[y.hd(a),"/"].join(""):null,y.hd(b)].join(""),null)};Pe.ud=2;function Re(a,b,c){this.meta=a;this.yf=b;this.s=null;this.qd=c;this.md=32374988;this.vd=1}g=Re.prototype;g.toString=function(){return Pc(this)};
function Se(a){null!=a.yf&&(a.s=a.yf.rd?a.yf.rd():a.yf.call(null),a.yf=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){this.Id(null);return null==this.s?null:I(this.s)};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};
g.Nd=function(){return gc(fd,this.meta)};g.Vd=function(a,b){return Gd(b,this)};g.Wd=function(a,b,c){return Id(b,c,this)};g.Yd=function(){this.Id(null);return null==this.s?null:H(this.s)};g.Zd=function(){this.Id(null);return null!=this.s?ed(this.s):fd};g.Id=function(){Se(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Re)a=Se(a);else return this.s=a,F(this.s)};g.Jd=function(a,b){return b===this.meta?this:new Re(b,function(c){return function(){return c.Id(null)}}(this),this.qd)};
g.Ld=function(a,b){return Ed(b,this)};Re.prototype[tb]=function(){return hd(this)};function Te(a){this.Tf=a;this.end=0;this.md=2;this.vd=0}Te.prototype.add=function(a){this.Tf[this.end]=a;return this.end+=1};Te.prototype.Bd=function(){var a=new Ue(this.Tf,0,this.end);this.Tf=null;return a};Te.prototype.Kd=function(){return this.end};function Ve(a){return new Te(Array(a))}function Ue(a,b,c){this.ld=a;this.off=b;this.end=c;this.md=524306;this.vd=0}g=Ue.prototype;g.Kd=function(){return this.end-this.off};
g.xd=function(a,b){return this.ld[this.off+b]};g.Gd=function(a,b,c){return 0<=b&&b<this.end-this.off?this.ld[this.off+b]:c};g.Wf=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Ue(this.ld,this.off+1,this.end)};g.Vd=function(a,b){return vd(this.ld,b,this.ld[this.off],this.off+1)};g.Wd=function(a,b,c){return vd(this.ld,b,c,this.off)};function We(a,b,c,d){this.Bd=a;this.re=b;this.meta=c;this.qd=d;this.md=31850732;this.vd=1536}g=We.prototype;g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){return 1<Eb(this.Bd)?new We(Fc(this.Bd),this.re,null,null):null==this.re?null:oc(this.re)};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};
g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};g.Yd=function(){return Kb.jd(this.Bd,0)};g.Zd=function(){return 1<Eb(this.Bd)?new We(Fc(this.Bd),this.re,null,null):null==this.re?fd:this.re};g.Id=function(){return this};g.If=function(){return this.Bd};g.lf=function(){return null==this.re?fd:this.re};g.Jd=function(a,b){return b===this.meta?this:new We(this.Bd,this.re,b,this.qd)};g.Ld=function(a,b){return Ed(b,this)};g.Xf=function(){return null==this.re?null:this.re};
We.prototype[tb]=function(){return hd(this)};function $e(a,b){return 0===Eb(a)?b:new We(a,b,null,null)}function af(a,b){a.add(b)}function ue(a){var b=[];for(a=F(a);;)if(null!=a)b.push(H(a)),a=I(a);else return b}function bf(a,b){if(wd(b))return O(b);var c=0;for(b=F(b);;)if(null!=b&&c<a)c+=1,b=I(b);else return c}
var cf=function cf(a){if(null==a)return null;var c=I(a);return null==c?F(H(a)):Ed(H(a),cf.hd?cf.hd(c):cf.call(null,c))},df=function df(a){switch(arguments.length){case 0:return df.rd();case 1:return df.hd(arguments[0]);case 2:return df.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(2),0,null);return df.od(arguments[0],arguments[1],c)}};df.rd=function(){return new Re(null,function(){return null},null)};
df.hd=function(a){return new Re(null,function(){return a},null)};df.jd=function(a,b){return new Re(null,function(){var c=F(a);return c?ie(c)?$e(Gc(c),df.jd(Hc(c),b)):Ed(H(c),df.jd(ed(c),b)):b},null)};df.od=function(a,b,c){return function h(e,f){return new Re(null,function(){var k=F(e);return k?ie(k)?$e(Gc(k),h(Hc(k),f)):Ed(H(k),h(ed(k),f)):t(f)?h(H(f),I(f)):null},null)}(df.jd(a,b),c)};df.td=function(a){var b=H(a),c=I(a);a=H(c);c=I(c);return this.od(b,a,c)};df.ud=2;
var ef=function ef(a){switch(arguments.length){case 0:return ef.rd();case 1:return ef.hd(arguments[0]);case 2:return ef.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(2),0,null);return ef.od(arguments[0],arguments[1],c)}};ef.rd=function(){return zc(Nd)};ef.hd=function(a){return a};ef.jd=function(a,b){return Ac(a,b)};ef.od=function(a,b,c){for(;;)if(a=Ac(a,b),t(c))b=H(c),c=I(c);else return a};
ef.td=function(a){var b=H(a),c=I(a);a=H(c);c=I(c);return this.od(b,a,c)};ef.ud=2;
function ff(a,b,c){var d=F(c);if(0===b)return a.rd?a.rd():a.call(null);c=Mb(d);var e=Nb(d);if(1===b)return a.hd?a.hd(c):a.call(null,c);d=Mb(e);var f=Nb(e);if(2===b)return a.jd?a.jd(c,d):a.call(null,c,d);e=Mb(f);var h=Nb(f);if(3===b)return a.kd?a.kd(c,d,e):a.call(null,c,d,e);f=Mb(h);var k=Nb(h);if(4===b)return a.sd?a.sd(c,d,e,f):a.call(null,c,d,e,f);h=Mb(k);var l=Nb(k);if(5===b)return a.Dd?a.Dd(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Mb(l);var p=Nb(l);if(6===b)return a.Xd?a.Xd(c,d,e,f,h,k):a.call(null,
c,d,e,f,h,k);l=Mb(p);var r=Nb(p);if(7===b)return a.Qe?a.Qe(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);p=Mb(r);var q=Nb(r);if(8===b)return a.Re?a.Re(c,d,e,f,h,k,l,p):a.call(null,c,d,e,f,h,k,l,p);r=Mb(q);var v=Nb(q);if(9===b)return a.Se?a.Se(c,d,e,f,h,k,l,p,r):a.call(null,c,d,e,f,h,k,l,p,r);q=Mb(v);var w=Nb(v);if(10===b)return a.Fe?a.Fe(c,d,e,f,h,k,l,p,r,q):a.call(null,c,d,e,f,h,k,l,p,r,q);v=Mb(w);var x=Nb(w);if(11===b)return a.Ge?a.Ge(c,d,e,f,h,k,l,p,r,q,v):a.call(null,c,d,e,f,h,k,l,p,r,q,v);w=Mb(x);
var C=Nb(x);if(12===b)return a.He?a.He(c,d,e,f,h,k,l,p,r,q,v,w):a.call(null,c,d,e,f,h,k,l,p,r,q,v,w);x=Mb(C);var E=Nb(C);if(13===b)return a.Ie?a.Ie(c,d,e,f,h,k,l,p,r,q,v,w,x):a.call(null,c,d,e,f,h,k,l,p,r,q,v,w,x);C=Mb(E);var P=Nb(E);if(14===b)return a.Je?a.Je(c,d,e,f,h,k,l,p,r,q,v,w,x,C):a.call(null,c,d,e,f,h,k,l,p,r,q,v,w,x,C);E=Mb(P);var S=Nb(P);if(15===b)return a.Ke?a.Ke(c,d,e,f,h,k,l,p,r,q,v,w,x,C,E):a.call(null,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E);P=Mb(S);var ea=Nb(S);if(16===b)return a.Le?a.Le(c,
d,e,f,h,k,l,p,r,q,v,w,x,C,E,P):a.call(null,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P);S=Mb(ea);var ta=Nb(ea);if(17===b)return a.Me?a.Me(c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S):a.call(null,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S);ea=Mb(ta);var Ka=Nb(ta);if(18===b)return a.Ne?a.Ne(c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea):a.call(null,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea);ta=Mb(Ka);Ka=Nb(Ka);if(19===b)return a.Oe?a.Oe(c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea,ta):a.call(null,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea,ta);var wa=Mb(Ka);
Nb(Ka);if(20===b)return a.Pe?a.Pe(c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea,ta,wa):a.call(null,c,d,e,f,h,k,l,p,r,q,v,w,x,C,E,P,S,ea,ta,wa);throw Error("Only up to 20 arguments supported on functions");}function gf(a){return null!=a&&(a.md&128||m===a.uf)?a.Ud(null):F(ed(a))}function hf(a,b,c){return null==c?a.hd?a.hd(b):a.call(a,b):jf(a,b,Mb(c),gf(c))}function jf(a,b,c,d){return null==d?a.jd?a.jd(b,c):a.call(a,b,c):kf(a,b,c,Mb(d),gf(d))}
function kf(a,b,c,d,e){return null==e?a.kd?a.kd(b,c,d):a.call(a,b,c,d):lf(a,b,c,d,Mb(e),gf(e))}
function lf(a,b,c,d,e,f){if(null==f)return a.sd?a.sd(b,c,d,e):a.call(a,b,c,d,e);var h=Mb(f),k=I(f);if(null==k)return a.Dd?a.Dd(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Mb(k);var l=I(k);if(null==l)return a.Xd?a.Xd(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Mb(l);var p=I(l);if(null==p)return a.Qe?a.Qe(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=Mb(p);var r=I(p);if(null==r)return a.Re?a.Re(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);p=Mb(r);var q=I(r);if(null==q)return a.Se?a.Se(b,c,d,e,h,f,k,l,p):a.call(a,b,c,d,e,h,
f,k,l,p);r=Mb(q);var v=I(q);if(null==v)return a.Fe?a.Fe(b,c,d,e,h,f,k,l,p,r):a.call(a,b,c,d,e,h,f,k,l,p,r);q=Mb(v);var w=I(v);if(null==w)return a.Ge?a.Ge(b,c,d,e,h,f,k,l,p,r,q):a.call(a,b,c,d,e,h,f,k,l,p,r,q);v=Mb(w);var x=I(w);if(null==x)return a.He?a.He(b,c,d,e,h,f,k,l,p,r,q,v):a.call(a,b,c,d,e,h,f,k,l,p,r,q,v);w=Mb(x);var C=I(x);if(null==C)return a.Ie?a.Ie(b,c,d,e,h,f,k,l,p,r,q,v,w):a.call(a,b,c,d,e,h,f,k,l,p,r,q,v,w);x=Mb(C);var E=I(C);if(null==E)return a.Je?a.Je(b,c,d,e,h,f,k,l,p,r,q,v,w,x):
a.call(a,b,c,d,e,h,f,k,l,p,r,q,v,w,x);C=Mb(E);var P=I(E);if(null==P)return a.Ke?a.Ke(b,c,d,e,h,f,k,l,p,r,q,v,w,x,C):a.call(a,b,c,d,e,h,f,k,l,p,r,q,v,w,x,C);E=Mb(P);var S=I(P);if(null==S)return a.Le?a.Le(b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E):a.call(a,b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E);P=Mb(S);var ea=I(S);if(null==ea)return a.Me?a.Me(b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E,P):a.call(a,b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E,P);S=Mb(ea);var ta=I(ea);if(null==ta)return a.Ne?a.Ne(b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E,P,S):a.call(a,
b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E,P,S);ea=Mb(ta);var Ka=I(ta);if(null==Ka)return a.Oe?a.Oe(b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E,P,S,ea):a.call(a,b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E,P,S,ea);ta=Mb(Ka);Ka=I(Ka);if(null==Ka)return a.Pe?a.Pe(b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E,P,S,ea,ta):a.call(a,b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E,P,S,ea,ta);b=[b,c,d,e,h,f,k,l,p,r,q,v,w,x,C,E,P,S,ea,ta];for(c=Ka;;)if(c)b.push(Mb(c)),c=I(c);else break;return a.apply(a,b)}
function Wd(a){switch(arguments.length){case 2:return ke(arguments[0],arguments[1]);case 3:return mf(arguments[0],arguments[1],arguments[2]);case 4:return nf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return of(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new G(b.slice(5),0,null);return pf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function ke(a,b){if(a.td){var c=a.ud,d=bf(c+1,b);return d<=c?ff(a,d,b):a.td(b)}b=F(b);return null==b?a.rd?a.rd():a.call(a):hf(a,Mb(b),gf(b))}function mf(a,b,c){if(a.td){b=Ed(b,c);var d=a.ud;c=bf(d,c)+1;return c<=d?ff(a,c,b):a.td(b)}return hf(a,b,F(c))}function nf(a,b,c,d){return a.td?(b=Ed(b,Ed(c,d)),c=a.ud,d=2+bf(c-1,d),d<=c?ff(a,d,b):a.td(b)):jf(a,b,c,F(d))}function of(a,b,c,d,e){return a.td?(b=Ed(b,Ed(c,Ed(d,e))),c=a.ud,e=3+bf(c-2,e),e<=c?ff(a,e,b):a.td(b)):kf(a,b,c,d,F(e))}
function pf(a,b,c,d,e,f){return a.td?(f=cf(f),b=Ed(b,Ed(c,Ed(d,Ed(e,f)))),c=a.ud,f=4+bf(c-3,f),f<=c?ff(a,f,b):a.td(b)):lf(a,b,c,d,e,cf(f))}function qf(a,b){return!J.jd(a,b)}function rf(a){return F(a)?a:null}
function sf(){if("undefined"===typeof Xa||"undefined"===typeof Ya||"undefined"===typeof Za)Za=function(a){this.Pg=a;this.md=393216;this.vd=0},Za.prototype.Jd=function(a,b){return new Za(b)},Za.prototype.Fd=function(){return this.Pg},Za.prototype.hasNext=function(){return!1},Za.prototype.next=function(){return Error("No such element")},Za.prototype.remove=function(){return Error("Unsupported operation")},Za.fh=function(){return new U(null,1,5,X,[tf],null)},Za.qg=!0,Za.Pf="cljs.core/t_cljs$core51084",
Za.Lg=function(a){return uc(a,"cljs.core/t_cljs$core51084")};return new Za(uf)}var vf={},wf={};function xf(a){this.sf=vf;this._next=a}xf.prototype.hasNext=function(){this.sf===vf?(this.sf=wf,this._next=F(this._next)):this.sf===this._next&&(this._next=I(this.sf));return null!=this._next};xf.prototype.next=function(){if(this.hasNext())return this.sf=this._next,H(this._next);throw Error("No such element");};xf.prototype.remove=function(){return Error("Unsupported operation")};
function yf(a,b){for(;;){if(null==F(b))return!0;var c=H(b);c=a.hd?a.hd(c):a.call(null,c);if(t(c))b=I(b);else return!1}}function zf(a,b){for(;;)if(b=F(b)){var c=H(b);c=a.hd?a.hd(c):a.call(null,c);if(t(c))return c;b=I(b)}else return null}
function Af(a){return function(){function b(h,k){return ob(a.jd?a.jd(h,k):a.call(null,h,k))}function c(h){return ob(a.hd?a.hd(h):a.call(null,h))}function d(){return ob(a.rd?a.rd():a.call(null))}var e=null,f=function(){function h(l,p,r){var q=null;if(2<arguments.length){q=0;for(var v=Array(arguments.length-2);q<v.length;)v[q]=arguments[q+2],++q;q=new G(v,0,null)}return k.call(this,l,p,q)}function k(l,p,r){return ob(nf(a,l,p,r))}h.ud=2;h.td=function(l){var p=H(l);l=I(l);var r=H(l);l=ed(l);return k(p,
r,l)};h.od=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var p=null;if(2<arguments.length){p=0;for(var r=Array(arguments.length-2);p<r.length;)r[p]=arguments[p+2],++p;p=new G(r,0,null)}return f.od(h,k,p)}throw Error("Invalid arity: "+arguments.length);};e.ud=2;e.td=f.td;e.rd=d;e.hd=c;e.jd=b;e.od=f.od;return e}()}
var Bf=function Bf(a){switch(arguments.length){case 0:return Bf.rd();case 1:return Bf.hd(arguments[0]);case 2:return Bf.jd(arguments[0],arguments[1]);case 3:return Bf.kd(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(3),0,null);return Bf.od(arguments[0],arguments[1],arguments[2],c)}};Bf.rd=function(){return Ce};Bf.hd=function(a){return a};
Bf.jd=function(a,b){return function(){function c(l,p,r){l=b.kd?b.kd(l,p,r):b.call(null,l,p,r);return a.hd?a.hd(l):a.call(null,l)}function d(l,p){l=b.jd?b.jd(l,p):b.call(null,l,p);return a.hd?a.hd(l):a.call(null,l)}function e(l){l=b.hd?b.hd(l):b.call(null,l);return a.hd?a.hd(l):a.call(null,l)}function f(){var l=b.rd?b.rd():b.call(null);return a.hd?a.hd(l):a.call(null,l)}var h=null,k=function(){function l(r,q,v,w){var x=null;if(3<arguments.length){x=0;for(var C=Array(arguments.length-3);x<C.length;)C[x]=
arguments[x+3],++x;x=new G(C,0,null)}return p.call(this,r,q,v,x)}function p(r,q,v,w){r=of(b,r,q,v,w);return a.hd?a.hd(r):a.call(null,r)}l.ud=3;l.td=function(r){var q=H(r);r=I(r);var v=H(r);r=I(r);var w=H(r);r=ed(r);return p(q,v,w,r)};l.od=p;return l}();h=function(l,p,r,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,p);case 3:return c.call(this,l,p,r);default:var v=null;if(3<arguments.length){v=0;for(var w=Array(arguments.length-3);v<
w.length;)w[v]=arguments[v+3],++v;v=new G(w,0,null)}return k.od(l,p,r,v)}throw Error("Invalid arity: "+arguments.length);};h.ud=3;h.td=k.td;h.rd=f;h.hd=e;h.jd=d;h.kd=c;h.od=k.od;return h}()};
Bf.kd=function(a,b,c){return function(){function d(p,r,q){p=c.kd?c.kd(p,r,q):c.call(null,p,r,q);p=b.hd?b.hd(p):b.call(null,p);return a.hd?a.hd(p):a.call(null,p)}function e(p,r){p=c.jd?c.jd(p,r):c.call(null,p,r);p=b.hd?b.hd(p):b.call(null,p);return a.hd?a.hd(p):a.call(null,p)}function f(p){p=c.hd?c.hd(p):c.call(null,p);p=b.hd?b.hd(p):b.call(null,p);return a.hd?a.hd(p):a.call(null,p)}function h(){var p=c.rd?c.rd():c.call(null);p=b.hd?b.hd(p):b.call(null,p);return a.hd?a.hd(p):a.call(null,p)}var k=null,
l=function(){function p(q,v,w,x){var C=null;if(3<arguments.length){C=0;for(var E=Array(arguments.length-3);C<E.length;)E[C]=arguments[C+3],++C;C=new G(E,0,null)}return r.call(this,q,v,w,C)}function r(q,v,w,x){q=of(c,q,v,w,x);q=b.hd?b.hd(q):b.call(null,q);return a.hd?a.hd(q):a.call(null,q)}p.ud=3;p.td=function(q){var v=H(q);q=I(q);var w=H(q);q=I(q);var x=H(q);q=ed(q);return r(v,w,x,q)};p.od=r;return p}();k=function(p,r,q,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,
p);case 2:return e.call(this,p,r);case 3:return d.call(this,p,r,q);default:var w=null;if(3<arguments.length){w=0;for(var x=Array(arguments.length-3);w<x.length;)x[w]=arguments[w+3],++w;w=new G(x,0,null)}return l.od(p,r,q,w)}throw Error("Invalid arity: "+arguments.length);};k.ud=3;k.td=l.td;k.rd=h;k.hd=f;k.jd=e;k.kd=d;k.od=l.od;return k}()};
Bf.od=function(a,b,c,d){return function(e){return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var p=Array(arguments.length-0);l<p.length;)p[l]=arguments[l+0],++l;l=new G(p,0,null)}return h.call(this,l)}function h(k){k=ke(H(e),k);for(var l=I(e);;)if(l){var p=H(l);k=p.hd?p.hd(k):p.call(null,k);l=I(l)}else return k}f.ud=0;f.td=function(k){k=F(k);return h(k)};f.od=h;return f}()}(Ke(Ed(a,Ed(b,Ed(c,d)))))};
Bf.td=function(a){var b=H(a),c=I(a);a=H(c);var d=I(c);c=H(d);d=I(d);return this.od(b,a,c,d)};Bf.ud=3;
var Cf=function Cf(a){switch(arguments.length){case 1:return Cf.hd(arguments[0]);case 2:return Cf.jd(arguments[0],arguments[1]);case 3:return Cf.kd(arguments[0],arguments[1],arguments[2]);case 4:return Cf.sd(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(4),0,null);return Cf.od(arguments[0],arguments[1],arguments[2],arguments[3],c)}};Cf.hd=function(a){return a};
Cf.jd=function(a,b){return function(){function c(l,p,r){return a.sd?a.sd(b,l,p,r):a.call(null,b,l,p,r)}function d(l,p){return a.kd?a.kd(b,l,p):a.call(null,b,l,p)}function e(l){return a.jd?a.jd(b,l):a.call(null,b,l)}function f(){return a.hd?a.hd(b):a.call(null,b)}var h=null,k=function(){function l(r,q,v,w){var x=null;if(3<arguments.length){x=0;for(var C=Array(arguments.length-3);x<C.length;)C[x]=arguments[x+3],++x;x=new G(C,0,null)}return p.call(this,r,q,v,x)}function p(r,q,v,w){return pf(a,b,r,q,
v,Fd([w]))}l.ud=3;l.td=function(r){var q=H(r);r=I(r);var v=H(r);r=I(r);var w=H(r);r=ed(r);return p(q,v,w,r)};l.od=p;return l}();h=function(l,p,r,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,p);case 3:return c.call(this,l,p,r);default:var v=null;if(3<arguments.length){v=0;for(var w=Array(arguments.length-3);v<w.length;)w[v]=arguments[v+3],++v;v=new G(w,0,null)}return k.od(l,p,r,v)}throw Error("Invalid arity: "+arguments.length);};h.ud=
3;h.td=k.td;h.rd=f;h.hd=e;h.jd=d;h.kd=c;h.od=k.od;return h}()};
Cf.kd=function(a,b,c){return function(){function d(p,r,q){return a.Dd?a.Dd(b,c,p,r,q):a.call(null,b,c,p,r,q)}function e(p,r){return a.sd?a.sd(b,c,p,r):a.call(null,b,c,p,r)}function f(p){return a.kd?a.kd(b,c,p):a.call(null,b,c,p)}function h(){return a.jd?a.jd(b,c):a.call(null,b,c)}var k=null,l=function(){function p(q,v,w,x){var C=null;if(3<arguments.length){C=0;for(var E=Array(arguments.length-3);C<E.length;)E[C]=arguments[C+3],++C;C=new G(E,0,null)}return r.call(this,q,v,w,C)}function r(q,v,w,x){return pf(a,
b,c,q,v,Fd([w,x]))}p.ud=3;p.td=function(q){var v=H(q);q=I(q);var w=H(q);q=I(q);var x=H(q);q=ed(q);return r(v,w,x,q)};p.od=r;return p}();k=function(p,r,q,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,p);case 2:return e.call(this,p,r);case 3:return d.call(this,p,r,q);default:var w=null;if(3<arguments.length){w=0;for(var x=Array(arguments.length-3);w<x.length;)x[w]=arguments[w+3],++w;w=new G(x,0,null)}return l.od(p,r,q,w)}throw Error("Invalid arity: "+arguments.length);
};k.ud=3;k.td=l.td;k.rd=h;k.hd=f;k.jd=e;k.kd=d;k.od=l.od;return k}()};
Cf.sd=function(a,b,c,d){return function(){function e(r,q,v){return a.Xd?a.Xd(b,c,d,r,q,v):a.call(null,b,c,d,r,q,v)}function f(r,q){return a.Dd?a.Dd(b,c,d,r,q):a.call(null,b,c,d,r,q)}function h(r){return a.sd?a.sd(b,c,d,r):a.call(null,b,c,d,r)}function k(){return a.kd?a.kd(b,c,d):a.call(null,b,c,d)}var l=null,p=function(){function r(v,w,x,C){var E=null;if(3<arguments.length){E=0;for(var P=Array(arguments.length-3);E<P.length;)P[E]=arguments[E+3],++E;E=new G(P,0,null)}return q.call(this,v,w,x,E)}function q(v,
w,x,C){return pf(a,b,c,d,v,Fd([w,x,C]))}r.ud=3;r.td=function(v){var w=H(v);v=I(v);var x=H(v);v=I(v);var C=H(v);v=ed(v);return q(w,x,C,v)};r.od=q;return r}();l=function(r,q,v,w){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,r);case 2:return f.call(this,r,q);case 3:return e.call(this,r,q,v);default:var x=null;if(3<arguments.length){x=0;for(var C=Array(arguments.length-3);x<C.length;)C[x]=arguments[x+3],++x;x=new G(C,0,null)}return p.od(r,q,v,x)}throw Error("Invalid arity: "+
arguments.length);};l.ud=3;l.td=p.td;l.rd=k;l.hd=h;l.jd=f;l.kd=e;l.od=p.od;return l}()};Cf.od=function(a,b,c,d,e){return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var p=Array(arguments.length-0);l<p.length;)p[l]=arguments[l+0],++l;l=new G(p,0,null)}return h.call(this,l)}function h(k){return of(a,b,c,d,df.jd(e,k))}f.ud=0;f.td=function(k){k=F(k);return h(k)};f.od=h;return f}()};
Cf.td=function(a){var b=H(a),c=I(a);a=H(c);var d=I(c);c=H(d);var e=I(d);d=H(e);e=I(e);return this.od(b,a,c,d,e)};Cf.ud=4;
function Df(a,b){return function(){function c(k,l,p){k=null==k?b:k;return a.kd?a.kd(k,l,p):a.call(null,k,l,p)}function d(k,l){k=null==k?b:k;return a.jd?a.jd(k,l):a.call(null,k,l)}function e(k){k=null==k?b:k;return a.hd?a.hd(k):a.call(null,k)}var f=null,h=function(){function k(p,r,q,v){var w=null;if(3<arguments.length){w=0;for(var x=Array(arguments.length-3);w<x.length;)x[w]=arguments[w+3],++w;w=new G(x,0,null)}return l.call(this,p,r,q,w)}function l(p,r,q,v){return of(a,null==p?b:p,r,q,v)}k.ud=3;k.td=
function(p){var r=H(p);p=I(p);var q=H(p);p=I(p);var v=H(p);p=ed(p);return l(r,q,v,p)};k.od=l;return k}();f=function(k,l,p,r){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,p);default:var q=null;if(3<arguments.length){q=0;for(var v=Array(arguments.length-3);q<v.length;)v[q]=arguments[q+3],++q;q=new G(v,0,null)}return h.od(k,l,p,q)}throw Error("Invalid arity: "+arguments.length);};f.ud=3;f.td=h.td;f.hd=e;f.jd=d;f.kd=c;f.od=h.od;return f}()}
function Ef(a,b){return new Re(null,function(){var c=F(b);if(c){if(ie(c)){for(var d=Gc(c),e=O(d),f=Ve(e),h=0;;)if(h<e){var k=function(){var l=Kb.jd(d,h);return a.hd?a.hd(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return $e(f.Bd(),Ef(a,Hc(c)))}e=function(){var l=H(c);return a.hd?a.hd(l):a.call(null,l)}();return null==e?Ef(a,ed(c)):Ed(e,Ef(a,ed(c)))}return null},null)}function Ff(a){this.state=a;this.$d=this.validator=this.meta=null;this.vd=16386;this.md=6455296}g=Ff.prototype;
g.zd=function(a,b){return this===b};g.De=function(){return this.state};g.Fd=function(){return this.meta};g.Of=function(a,b){for(var c=F(this.$d),d=null,e=0,f=0;;)if(f<e){var h=d.xd(null,f),k=R(h,0,null);h=R(h,1,null);h.sd?h.sd(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=F(c))ie(c)?(d=Gc(c),c=Hc(c),k=d,e=O(d),d=k):(d=H(c),k=R(d,0,null),h=R(d,1,null),h.sd?h.sd(k,this,a,b):h.call(null,k,this,a,b),c=I(c),d=null,e=0),f=0;else break};g.wf=function(a,b,c){this.$d=Rd.kd(this.$d,b,c);return this};
g.xf=function(a,b){return this.$d=Td.jd(this.$d,b)};g.Cd=function(){return ha(this)};function Gf(a){return new Ff(a)}function Hf(a,b){if(a instanceof Ff){var c=a.validator;if(null!=c&&!t(c.hd?c.hd(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.$d&&a.Of(c,b);return b}return Kc(a,b)}
var If=function If(a){switch(arguments.length){case 2:return If.jd(arguments[0],arguments[1]);case 3:return If.kd(arguments[0],arguments[1],arguments[2]);case 4:return If.sd(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(4),0,null);return If.od(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
If.jd=function(a,b){if(a instanceof Ff){var c=a.state;b=b.hd?b.hd(c):b.call(null,c);a=Hf(a,b)}else a=Lc.jd(a,b);return a};If.kd=function(a,b,c){if(a instanceof Ff){var d=a.state;b=b.jd?b.jd(d,c):b.call(null,d,c);a=Hf(a,b)}else a=Lc.kd(a,b,c);return a};If.sd=function(a,b,c,d){if(a instanceof Ff){var e=a.state;b=b.kd?b.kd(e,c,d):b.call(null,e,c,d);a=Hf(a,b)}else a=Lc.sd(a,b,c,d);return a};If.od=function(a,b,c,d,e){return a instanceof Ff?Hf(a,of(b,a.state,c,d,e)):Lc.Dd(a,b,c,d,e)};
If.td=function(a){var b=H(a),c=I(a);a=H(c);var d=I(c);c=H(d);var e=I(d);d=H(e);e=I(e);return this.od(b,a,c,d,e)};If.ud=4;
var Jf=function Jf(a){switch(arguments.length){case 1:return Jf.hd(arguments[0]);case 2:return Jf.jd(arguments[0],arguments[1]);case 3:return Jf.kd(arguments[0],arguments[1],arguments[2]);case 4:return Jf.sd(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(4),0,null);return Jf.od(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Jf.hd=function(a){return function(b){return function(){function c(k,l){l=a.hd?a.hd(l):a.call(null,l);return b.jd?b.jd(k,l):b.call(null,k,l)}function d(k){return b.hd?b.hd(k):b.call(null,k)}function e(){return b.rd?b.rd():b.call(null)}var f=null,h=function(){function k(p,r,q){var v=null;if(2<arguments.length){v=0;for(var w=Array(arguments.length-2);v<w.length;)w[v]=arguments[v+2],++v;v=new G(w,0,null)}return l.call(this,p,r,v)}function l(p,r,q){r=mf(a,r,q);return b.jd?b.jd(p,r):b.call(null,p,r)}k.ud=
2;k.td=function(p){var r=H(p);p=I(p);var q=H(p);p=ed(p);return l(r,q,p)};k.od=l;return k}();f=function(k,l,p){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var r=null;if(2<arguments.length){r=0;for(var q=Array(arguments.length-2);r<q.length;)q[r]=arguments[r+2],++r;r=new G(q,0,null)}return h.od(k,l,r)}throw Error("Invalid arity: "+arguments.length);};f.ud=2;f.td=h.td;f.rd=e;f.hd=d;f.jd=c;f.od=h.od;return f}()}};
Jf.jd=function(a,b){return new Re(null,function(){var c=F(b);if(c){if(ie(c)){for(var d=Gc(c),e=O(d),f=Ve(e),h=0;;)if(h<e)af(f,function(){var k=Kb.jd(d,h);return a.hd?a.hd(k):a.call(null,k)}()),h+=1;else break;return $e(f.Bd(),Jf.jd(a,Hc(c)))}return Ed(function(){var k=H(c);return a.hd?a.hd(k):a.call(null,k)}(),Jf.jd(a,ed(c)))}return null},null)};
Jf.kd=function(a,b,c){return new Re(null,function(){var d=F(b),e=F(c);if(d&&e){var f=H(d);var h=H(e);f=a.jd?a.jd(f,h):a.call(null,f,h);d=Ed(f,Jf.kd(a,ed(d),ed(e)))}else d=null;return d},null)};Jf.sd=function(a,b,c,d){return new Re(null,function(){var e=F(b),f=F(c),h=F(d);if(e&&f&&h){var k=H(e);var l=H(f),p=H(h);k=a.kd?a.kd(k,l,p):a.call(null,k,l,p);e=Ed(k,Jf.sd(a,ed(e),ed(f),ed(h)))}else e=null;return e},null)};
Jf.od=function(a,b,c,d,e){var f=function l(k){return new Re(null,function(){var p=Jf.jd(F,k);return yf(Ce,p)?Ed(Jf.jd(H,p),l(Jf.jd(ed,p))):null},null)};return Jf.jd(function(){return function(k){return ke(a,k)}}(f),f(Md.od(e,d,Fd([c,b]))))};Jf.td=function(a){var b=H(a),c=I(a);a=H(c);var d=I(c);c=H(d);var e=I(d);d=H(e);e=I(e);return this.od(b,a,c,d,e)};Jf.ud=4;function Kf(a,b){return new Re(null,function(){if(0<a){var c=F(b);return c?Ed(H(c),Kf(a-1,ed(c))):null}return null},null)}
function Lf(a,b){return new Re(null,function(c){return function(){return c(a,b)}}(function(c,d){for(;;)if(d=F(d),0<c&&d)--c,d=ed(d);else return d}),null)}function Mf(a){return Jf.kd(function(b){return b},a,Lf(2,a))}function Nf(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.qd=null;this.md=32374988;this.vd=1}g=Nf.prototype;g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){return null==this.next?1<this.count?this.next=new Nf(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){if(-1===this.count)for(var c=b.jd?b.jd(this.val,this.val):b.call(null,this.val,this.val);;){if(od(c))return z(c);c=b.jd?b.jd(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.jd?b.jd(c,this.val):b.call(null,c,this.val);if(od(c))return z(c);a+=1}else return c};
g.Wd=function(a,b,c){if(-1===this.count)for(c=b.jd?b.jd(c,this.val):b.call(null,c,this.val);;){if(od(c))return z(c);c=b.jd?b.jd(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.jd?b.jd(c,this.val):b.call(null,c,this.val);if(od(c))return z(c);a+=1}else return c};g.Yd=function(){return this.val};g.Zd=function(){return null==this.next?1<this.count?this.next=new Nf(null,this.count-1,this.val,null):-1===this.count?this:fd:this.next};g.Id=function(){return this};
g.Jd=function(a,b){return b===this.meta?this:new Nf(b,this.count,this.val,this.next)};g.Ld=function(a,b){return Ed(b,this)};function Of(a){return 0<a?new Nf(null,a,null,null):fd}function Pf(a,b){return ke(df,mf(Jf,a,b))}
function Qf(a,b){return new Re(null,function(){var c=F(b);if(c){if(ie(c)){for(var d=Gc(c),e=O(d),f=Ve(e),h=0;;)if(h<e){var k=Kb.jd(d,h);k=a.hd?a.hd(k):a.call(null,k);t(k)&&(k=Kb.jd(d,h),f.add(k));h+=1}else break;return $e(f.Bd(),Qf(a,Hc(c)))}d=H(c);c=ed(c);return t(a.hd?a.hd(d):a.call(null,d))?Ed(d,Qf(a,c)):Qf(a,c)}return null},null)}function Rf(a,b){return Qf(Af(a),b)}
function Tf(a){return function d(c){return new Re(null,function(){return Ed(c,t(ee.hd?ee.hd(c):ee.call(null,c))?Pf(d,Fd([F.hd?F.hd(c):F.call(null,c)])):null)},null)}(a)}function Uf(a){return Qf(function(b){return!ee(b)},ed(Tf(a)))}
var Xf=function Xf(a){switch(arguments.length){case 0:return Xf.rd();case 1:return Xf.hd(arguments[0]);case 2:return Xf.jd(arguments[0],arguments[1]);case 3:return Xf.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Xf.rd=function(){return Nd};Xf.hd=function(a){return a};Xf.jd=function(a,b){return null!=a?null!=a&&(a.vd&4||m===a.Ag)?gc(Bc(xb(Ac,zc(a),b)),Yd(a)):xb(Ib,a,b):xb(Md,fd,b)};
Xf.kd=function(a,b,c){return null!=a&&(a.vd&4||m===a.Ag)?gc(Bc(De(b,ef,zc(a),c)),Yd(a)):De(b,Md,a,c)};Xf.ud=3;function Yf(a){var b=qd;return Bc(xb(function(c,d){return ef.jd(c,b.hd?b.hd(d):b.call(null,d))},zc(Nd),a))}function Zf(a,b,c){return new Re(null,function(){var d=F(c);if(d){var e=Kf(a,d);return a===O(e)?Ed(e,Zf(a,b,Lf(b,d))):null}return null},null)}function $f(a,b){return xb(A,a,b)}
var ag=function ag(a,b,c){b=F(b);var e=H(b),f=I(b);return f?Rd.kd(a,e,function(){var h=A.jd(a,e);return ag.kd?ag.kd(h,f,c):ag.call(null,h,f,c)}()):Rd.kd(a,e,c)},bg=function bg(a){switch(arguments.length){case 3:return bg.kd(arguments[0],arguments[1],arguments[2]);case 4:return bg.sd(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return bg.Dd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return bg.Xd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(6),0,null);return bg.od(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};bg.kd=function(a,b,c){b=F(b);var d=H(b);return(b=I(b))?Rd.kd(a,d,bg.kd(A.jd(a,d),b,c)):Rd.kd(a,d,function(){var e=A.jd(a,d);return c.hd?c.hd(e):c.call(null,e)}())};
bg.sd=function(a,b,c,d){b=F(b);var e=H(b);return(b=I(b))?Rd.kd(a,e,bg.sd(A.jd(a,e),b,c,d)):Rd.kd(a,e,function(){var f=A.jd(a,e);return c.jd?c.jd(f,d):c.call(null,f,d)}())};bg.Dd=function(a,b,c,d,e){b=F(b);var f=H(b);return(b=I(b))?Rd.kd(a,f,bg.Dd(A.jd(a,f),b,c,d,e)):Rd.kd(a,f,function(){var h=A.jd(a,f);return c.kd?c.kd(h,d,e):c.call(null,h,d,e)}())};
bg.Xd=function(a,b,c,d,e,f){b=F(b);var h=H(b);return(b=I(b))?Rd.kd(a,h,bg.Xd(A.jd(a,h),b,c,d,e,f)):Rd.kd(a,h,function(){var k=A.jd(a,h);return c.sd?c.sd(k,d,e,f):c.call(null,k,d,e,f)}())};bg.od=function(a,b,c,d,e,f,h){var k=F(b);b=H(k);return(k=I(k))?Rd.kd(a,b,pf(bg,A.jd(a,b),k,c,d,Fd([e,f,h]))):Rd.kd(a,b,pf(c,A.jd(a,b),d,e,f,Fd([h])))};bg.td=function(a){var b=H(a),c=I(a);a=H(c);var d=I(c);c=H(d);var e=I(d);d=H(e);var f=I(e);e=H(f);var h=I(f);f=H(h);h=I(h);return this.od(b,a,c,d,e,f,h)};bg.ud=6;
function cg(a,b,c){return Rd.kd(a,b,function(){var d=A.jd(a,b);return c.hd?c.hd(d):c.call(null,d)}())}function dg(a,b,c,d){return Rd.kd(a,b,function(){var e=A.jd(a,b);return c.jd?c.jd(e,d):c.call(null,e,d)}())}function eg(a,b){this.Pd=a;this.ld=b}function fg(a){return new eg(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function gg(a){return new eg(a.Pd,ub(a.ld))}
function hg(a){a=a.pd;return 32>a?0:a-1>>>5<<5}function ig(a,b,c){for(;;){if(0===b)return c;var d=fg(a);d.ld[0]=c;c=d;b-=5}}var jg=function jg(a,b,c,d){var f=gg(c),h=a.pd-1>>>b&31;5===b?f.ld[h]=d:(c=c.ld[h],null!=c?(b-=5,a=jg.sd?jg.sd(a,b,c,d):jg.call(null,a,b,c,d)):a=ig(null,b-5,d),f.ld[h]=a);return f};function kg(a,b){throw Error(["No item ",y.hd(a)," in vector of length ",y.hd(b)].join(""));}
function lg(a,b){if(b>=hg(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.ld[b>>>a&31];a=d}else return c.ld}function mg(a,b){return 0<=b&&b<a.pd?lg(a,b):kg(b,a.pd)}
var ng=function ng(a,b,c,d,e){var h=gg(c);if(0===b)h.ld[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.ld[k];a=ng.Dd?ng.Dd(a,b,c,d,e):ng.call(null,a,b,c,d,e);h.ld[k]=a}return h},og=function og(a,b,c){var e=a.pd-2>>>b&31;if(5<b){b-=5;var f=c.ld[e];a=og.kd?og.kd(a,b,f):og.call(null,a,b,f);if(null==a&&0===e)return null;c=gg(c);c.ld[e]=a;return c}if(0===e)return null;c=gg(c);c.ld[e]=null;return c};function pg(a,b,c,d,e,f){this.i=a;this.base=b;this.ld=c;this.v=d;this.start=e;this.end=f}
pg.prototype.hasNext=function(){return this.i<this.end};pg.prototype.next=function(){32===this.i-this.base&&(this.ld=lg(this.v,this.i),this.base+=32);var a=this.ld[this.i&31];this.i+=1;return a};function qg(a,b,c){return new pg(b,b-b%32,b<O(a)?lg(a,b):null,a,b,c)}function rg(a,b,c,d){return c<d?sg(a,b,yd(a,c),c+1,d):b.rd?b.rd():b.call(null)}
function sg(a,b,c,d,e){var f=c;c=d;for(d=lg(a,d);;)if(c<e){var h=c&31;d=0===h?lg(a,c):d;h=d[h];f=b.jd?b.jd(f,h):b.call(null,f,h);if(od(f))return z(f);c+=1}else return f}function U(a,b,c,d,e,f){this.meta=a;this.pd=b;this.shift=c;this.root=d;this.tail=e;this.qd=f;this.md=167666463;this.vd=139268}g=U.prototype;g.Ee=function(a,b){return 0<=b&&b<this.pd?new tg(b,lg(this,b)[b&31]):null};g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){return"number"===typeof b?this.Gd(null,b,c):c};
g.Te=function(a,b,c){a=0;for(var d=c;;)if(a<this.pd){var e=lg(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.kd?b.kd(d,h,k):b.call(null,d,h,k);if(od(d)){e=d;break a}f+=1}else{e=d;break a}if(od(e))return z(e);a+=c;d=e}else return d};g.Vf=m;g.xd=function(a,b){return mg(this,b)[b&31]};g.Gd=function(a,b,c){return 0<=b&&b<this.pd?lg(this,b)[b&31]:c};
g.oe=function(a,b,c){if(0<=b&&b<this.pd)return hg(this)<=b?(a=ub(this.tail),a[b&31]=c,new U(this.meta,this.pd,this.shift,this.root,a,null)):new U(this.meta,this.pd,this.shift,ng(this,this.shift,this.root,b,c),this.tail,null);if(b===this.pd)return this.Ld(null,c);throw Error(["Index ",y.hd(b)," out of bounds  [0,",y.hd(this.pd),"]"].join(""));};g.ee=function(){return qg(this,0,this.pd)};g.Fd=function(){return this.meta};g.Kd=function(){return this.pd};
g.Ue=function(){return 0<this.pd?this.xd(null,this.pd-1):null};g.Ve=function(){if(0===this.pd)throw Error("Can't pop empty vector");if(1===this.pd)return gc(Nd,this.meta);if(1<this.pd-hg(this))return new U(this.meta,this.pd-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=lg(this,this.pd-2),b=og(this,this.shift,this.root);b=null==b?X:b;var c=this.pd-1;return 5<this.shift&&null==b.ld[1]?new U(this.meta,c,this.shift-5,b.ld[0],a,null):new U(this.meta,c,this.shift,b,a,null)};
g.bf=function(){return 0<this.pd?new Cd(this,this.pd-1,null):null};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){if(b instanceof U)if(this.pd===O(b))for(a=this.ee(null),b=b.ee(null);;)if(a.hasNext()){var c=a.next(),d=b.next();if(!J.jd(c,d))return!1}else return!0;else return!1;else return Dd(this,b)};g.mf=function(){return new ug(this.pd,this.shift,vg.hd?vg.hd(this.root):vg.call(null,this.root),wg.hd?wg.hd(this.tail):wg.call(null,this.tail))};
g.Nd=function(){return gc(Nd,this.meta)};g.Vd=function(a,b){return rg(this,b,0,this.pd)};g.Wd=function(a,b,c){a=0;for(var d=c;;)if(a<this.pd){var e=lg(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.jd?b.jd(d,h):b.call(null,d,h);if(od(d)){e=d;break a}f+=1}else{e=d;break a}if(od(e))return z(e);a+=c;d=e}else return d};g.ce=function(a,b,c){if("number"===typeof b)return this.oe(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.Id=function(){if(0===this.pd)return null;if(32>=this.pd)return new G(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.ld[0];else{a=a.ld;break a}}return xg?xg(this,a,0,0):yg.call(null,this,a,0,0)};g.Jd=function(a,b){return b===this.meta?this:new U(b,this.pd,this.shift,this.root,this.tail,this.qd)};
g.Ld=function(a,b){if(32>this.pd-hg(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new U(this.meta,this.pd+1,this.shift,this.root,c,null)}a=(c=this.pd>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=fg(null),c.ld[0]=this.root,d=ig(null,this.shift,new eg(null,this.tail)),c.ld[1]=d):c=jg(this,this.shift,this.root,new eg(null,this.tail));return new U(this.meta,this.pd+1,a,c,[b],null)};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xd(null,c);case 3:return this.Gd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.xd(null,c)};a.kd=function(b,c,d){return this.Gd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.xd(null,a)};g.jd=function(a,b){return this.Gd(null,a,b)};
var X=new eg(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Nd=new U(null,0,5,X,[],jd);function zg(a){var b=a.length;if(32>b)return new U(null,b,5,X,a,null);for(var c=a.slice(0,32),d=32,e=(new U(null,32,5,X,c,null)).mf(null);;)if(d<b)c=d+1,e=ef.jd(e,a[d]),d=c;else return Bc(e)}U.prototype[tb]=function(){return hd(this)};
function Ag(a){return t(Bg.hd?Bg.hd(a):Bg.call(null,a))?new U(null,2,5,X,[Cg.hd?Cg.hd(a):Cg.call(null,a),Dg.hd?Dg.hd(a):Dg.call(null,a)],null):he(a)?Xd(a,null):nb(a)?zg(a):Bc(xb(Ac,zc(Nd),a))}var Eg=function Eg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new G(c.slice(0),0,null):null;return Eg.od(c)};Eg.od=function(a){return a instanceof G&&0===a.i?zg(a.ld):Ag(a)};Eg.ud=0;Eg.td=function(a){return this.od(F(a))};
function Fg(a,b,c,d,e){this.je=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.qd=null;this.md=32375020;this.vd=1536}g=Fg.prototype;g.toString=function(){return Pc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){if(this.off+1<this.node.length){var a=this.je;var b=this.node,c=this.i,d=this.off+1;a=xg?xg(a,b,c,d):yg.call(null,a,b,c,d);return null==a?null:a}return this.Xf()};
g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){return rg(this.je,b,this.i+this.off,O(this.je))};g.Wd=function(a,b,c){return sg(this.je,b,c,this.i+this.off,O(this.je))};g.Yd=function(){return this.node[this.off]};g.Zd=function(){if(this.off+1<this.node.length){var a=this.je;var b=this.node,c=this.i,d=this.off+1;a=xg?xg(a,b,c,d):yg.call(null,a,b,c,d);return null==a?fd:a}return this.lf(null)};
g.Id=function(){return this};g.If=function(){var a=this.node;return new Ue(a,this.off,a.length)};g.lf=function(){var a=this.i+this.node.length;if(a<Eb(this.je)){var b=this.je,c=lg(this.je,a);return xg?xg(b,c,a,0):yg.call(null,b,c,a,0)}return fd};g.Jd=function(a,b){return b===this.meta?this:Gg?Gg(this.je,this.node,this.i,this.off,b):yg.call(null,this.je,this.node,this.i,this.off,b)};g.Ld=function(a,b){return Ed(b,this)};
g.Xf=function(){var a=this.i+this.node.length;if(a<Eb(this.je)){var b=this.je,c=lg(this.je,a);return xg?xg(b,c,a,0):yg.call(null,b,c,a,0)}return null};Fg.prototype[tb]=function(){return hd(this)};
function yg(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Fg(b,mg(b,c),c,d,null);case 4:return xg(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Gg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function xg(a,b,c,d){return new Fg(a,b,c,d,null)}function Gg(a,b,c,d,e){return new Fg(a,b,c,d,e)}
function Hg(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.qd=e;this.md=167666463;this.vd=139264}g=Hg.prototype;g.Ee=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new tg(b,Rb.jd(this.v,a)):null};g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){return"number"===typeof b?this.Gd(null,b,c):c};
g.Te=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Kb.jd(this.v,a);c=b.kd?b.kd(c,e,f):b.call(null,c,e,f);if(od(c))return z(c);d+=1;a+=1}else return c};g.xd=function(a,b){return 0>b||this.end<=this.start+b?kg(b,this.end-this.start):Kb.jd(this.v,this.start+b)};g.Gd=function(a,b,c){return 0>b||this.end<=this.start+b?c:Kb.kd(this.v,this.start+b,c)};
g.oe=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",y.hd(b)," out of bounds [0,",y.hd(this.Kd(null)),"]"].join(""));b=this.meta;c=Rd.kd(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Ig.Dd?Ig.Dd(b,c,d,a,null):Ig.call(null,b,c,d,a,null)};g.ee=function(){return null!=this.v&&m===this.v.Vf?qg(this.v,this.start,this.end):new xf(this)};g.Fd=function(){return this.meta};g.Kd=function(){return this.end-this.start};g.Ue=function(){return Kb.jd(this.v,this.end-1)};
g.Ve=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Ig.Dd?Ig.Dd(a,b,c,d,null):Ig.call(null,a,b,c,d,null)};g.bf=function(){return this.start!==this.end?new Cd(this,this.end-this.start-1,null):null};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return gc(Nd,this.meta)};
g.Vd=function(a,b){return null!=this.v&&m===this.v.Vf?rg(this.v,b,this.start,this.end):rd(this,b)};g.Wd=function(a,b,c){return null!=this.v&&m===this.v.Vf?sg(this.v,b,c,this.start,this.end):sd(this,b,c)};g.ce=function(a,b,c){if("number"===typeof b)return this.oe(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.Id=function(){var a=this;return function(b){return function e(d){return d===a.end?null:Ed(Kb.jd(a.v,d),new Re(null,function(){return function(){return e(d+1)}}(b),null))}}(this)(a.start)};
g.Jd=function(a,b){return b===this.meta?this:Ig.Dd?Ig.Dd(b,this.v,this.start,this.end,this.qd):Ig.call(null,b,this.v,this.start,this.end,this.qd)};g.Ld=function(a,b){a=this.meta;b=cc(this.v,this.end,b);var c=this.start,d=this.end+1;return Ig.Dd?Ig.Dd(a,b,c,d,null):Ig.call(null,a,b,c,d,null)};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xd(null,c);case 3:return this.Gd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.xd(null,c)};a.kd=function(b,c,d){return this.Gd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.xd(null,a)};g.jd=function(a,b){return this.Gd(null,a,b)};Hg.prototype[tb]=function(){return hd(this)};
function Ig(a,b,c,d,e){for(;;)if(b instanceof Hg)c=b.start+c,d=b.start+d,b=b.v;else{if(!he(b))throw Error("v must satisfy IVector");var f=O(b);if(0>c||0>d||c>f||d>f)throw Error("Index out of bounds");return new Hg(a,b,c,d,e)}}var Jg=function Jg(a){switch(arguments.length){case 2:return Jg.jd(arguments[0],arguments[1]);case 3:return Jg.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Jg.jd=function(a,b){return Jg.kd(a,b,O(a))};
Jg.kd=function(a,b,c){return Ig(null,a,b|0,c|0,null)};Jg.ud=3;function Kg(a,b){return a===b.Pd?b:new eg(a,ub(b.ld))}function vg(a){return new eg({},ub(a.ld))}function wg(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];le(a,0,b,0,a.length);return b}
var Lg=function Lg(a,b,c,d){c=Kg(a.root.Pd,c);var f=a.pd-1>>>b&31;if(5===b)a=d;else{var h=c.ld[f];null!=h?(b-=5,a=Lg.sd?Lg.sd(a,b,h,d):Lg.call(null,a,b,h,d)):a=ig(a.root.Pd,b-5,d)}c.ld[f]=a;return c};function ug(a,b,c,d){this.pd=a;this.shift=b;this.root=c;this.tail=d;this.vd=88;this.md=275}g=ug.prototype;
g.pf=function(a,b){if(this.root.Pd){if(32>this.pd-hg(this))this.tail[this.pd&31]=b;else{a=new eg(this.root.Pd,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.pd>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=ig(this.root.Pd,this.shift,a),this.root=new eg(this.root.Pd,b),this.shift=c):this.root=Lg(this,this.shift,this.root,a)}this.pd+=1;return this}throw Error("conj! after persistent!");};g.vf=function(){if(this.root.Pd){this.root.Pd=null;var a=this.pd-hg(this),b=Array(a);le(this.tail,0,b,0,a);return new U(null,this.pd,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.nf=function(a,b,c){if("number"===typeof b)return Mg(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Mg(a,b,c){if(a.root.Pd){if(0<=b&&b<a.pd){if(hg(a)<=b)a.tail[b&31]=c;else{var d=function(){return function(){return function k(f,h){h=Kg(a.root.Pd,h);if(0===f)h.ld[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.ld[l]);h.ld[l]=f}return h}}(a)(a.shift,a.root)}();a.root=d}return a}if(b===a.pd)return a.pf(null,c);throw Error(["Index ",y.hd(b)," out of bounds for TransientVector of length",y.hd(a.pd)].join(""));}throw Error("assoc! after persistent!");}
g.Kd=function(){if(this.root.Pd)return this.pd;throw Error("count after persistent!");};g.xd=function(a,b){if(this.root.Pd)return mg(this,b)[b&31];throw Error("nth after persistent!");};g.Gd=function(a,b,c){return 0<=b&&b<this.pd?this.xd(null,b):c};g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){return"number"===typeof b?this.Gd(null,b,c):c};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Hd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Hd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.Hd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};function Ng(a,b){this.rf=a;this.Ff=b}
Ng.prototype.hasNext=function(){var a=null!=this.rf&&F(this.rf);return a?a:(a=null!=this.Ff)?this.Ff.hasNext():a};Ng.prototype.next=function(){if(null!=this.rf){var a=H(this.rf);this.rf=I(this.rf);return a}if(null!=this.Ff&&this.Ff.hasNext())return this.Ff.next();throw Error("No such element");};Ng.prototype.remove=function(){return Error("Unsupported operation")};function Og(a,b,c,d){this.meta=a;this.he=b;this.ie=c;this.qd=d;this.md=31850700;this.vd=0}g=Og.prototype;g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){var a=I(this.he);return a?new Og(this.meta,a,this.ie,null):null!=this.ie?new Og(this.meta,this.ie,null,null):null};
g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return gc(fd,this.meta)};g.Yd=function(){return H(this.he)};g.Zd=function(){var a=I(this.he);return a?new Og(this.meta,a,this.ie,null):null==this.ie?this.Nd(null):new Og(this.meta,this.ie,null,null)};g.Id=function(){return this};g.Jd=function(a,b){return b===this.meta?this:new Og(b,this.he,this.ie,this.qd)};g.Ld=function(a,b){return Ed(b,this)};Og.prototype[tb]=function(){return hd(this)};
function Pg(a,b,c,d,e){this.meta=a;this.count=b;this.he=c;this.ie=d;this.qd=e;this.vd=139264;this.md=31858766}g=Pg.prototype;g.toString=function(){return Pc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,this.count.hd?this.count.hd(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.ee=function(){return new Ng(this.he,Nc(this.ie))};g.Fd=function(){return this.meta};g.Kd=function(){return this.count};g.Ue=function(){return H(this.he)};
g.Ve=function(){if(t(this.he)){var a=I(this.he);return a?new Pg(this.meta,this.count-1,a,this.ie,null):new Pg(this.meta,this.count-1,F(this.ie),Nd,null)}return this};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return gc(Qg,this.meta)};g.Yd=function(){return H(this.he)};g.Zd=function(){return ed(F(this))};g.Id=function(){var a=F(this.ie),b=this.he;return t(t(b)?b:a)?new Og(null,this.he,F(a),null):null};
g.Jd=function(a,b){return b===this.meta?this:new Pg(b,this.count,this.he,this.ie,this.qd)};g.Ld=function(a,b){t(this.he)?(a=this.ie,b=new Pg(this.meta,this.count+1,this.he,Md.jd(t(a)?a:Nd,b),null)):b=new Pg(this.meta,this.count+1,Md.jd(this.he,b),Nd,null);return b};var Qg=new Pg(null,0,null,Nd,jd);Pg.prototype[tb]=function(){return hd(this)};function Rg(){this.md=2097152;this.vd=0}Rg.prototype.zd=function(){return!1};var Sg=new Rg;
function Tg(a,b){return ne(fe(b)&&!ge(b)?O(a)===O(b)?(null!=a?a.md&1048576||m===a.Zg||(a.md?0:u(jc,a)):u(jc,a))?Be(function(c,d,e){return J.jd(A.kd(b,d,Sg),e)?!0:new nd},!0,a):yf(function(c){return J.jd(A.kd(b,H(c),Sg),Jd(c))},a):null:null)}function Ug(a,b,c,d){this.i=0;this.record=a;this.hg=b;this.fields=c;this.rg=d}Ug.prototype.hasNext=function(){var a=this.i<this.hg;return a?a:this.rg.hasNext()};
Ug.prototype.next=function(){if(this.i<this.hg){var a=yd(this.fields,this.i);this.i+=1;return new tg(a,Rb.jd(this.record,a))}return this.rg.next()};Ug.prototype.remove=function(){return Error("Unsupported operation")};function Vg(a){this.s=a}Vg.prototype.next=function(){if(null!=this.s){var a=H(this.s),b=R(a,0,null);a=R(a,1,null);this.s=I(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Wg(a){this.s=a}
Wg.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=I(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Xg(a,b){if(b instanceof B)a:{var c=a.length;b=b.fe;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof B&&b===a[d].fe){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof bd)a:for(c=a.length,b=b.ye,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof bd&&b===a[d].ye){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(J.jd(b,a[d])){a=d;break a}d+=2}return a}function tg(a,b){this.key=a;this.val=b;this.qd=null;this.md=166619935;this.vd=0}g=tg.prototype;g.Ee=function(a,b){switch(b){case 0:return new tg(0,this.key);case 1:return new tg(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Hd=function(a,b){return this.Gd(null,b,null)};g.wd=function(a,b,c){return this.Gd(null,b,c)};g.xd=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.Gd=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.oe=function(a,b,c){return(new U(null,2,5,X,[this.key,this.val],null)).oe(null,b,c)};g.Fd=function(){return null};g.Kd=function(){return 2};g.Yf=function(){return this.key};g.Zf=function(){return this.val};g.Ue=function(){return this.val};g.Ve=function(){return new U(null,1,5,X,[this.key],null)};g.bf=function(){return new G([this.val,this.key],0,null)};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};
g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return null};g.Vd=function(a,b){return rd(this,b)};g.Wd=function(a,b,c){return sd(this,b,c)};g.ce=function(a,b,c){return Rd.kd(new U(null,2,5,X,[this.key,this.val],null),b,c)};g.Id=function(){return new G([this.key,this.val],0,null)};g.Jd=function(a,b){return Xd(new U(null,2,5,X,[this.key,this.val],null),b)};g.Ld=function(a,b){return new U(null,3,5,X,[this.key,this.val,b],null)};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xd(null,c);case 3:return this.Gd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.xd(null,c)};a.kd=function(b,c,d){return this.Gd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.xd(null,a)};g.jd=function(a,b){return this.Gd(null,a,b)};
function Bg(a){return null!=a?a.md&2048||m===a.ah?!0:!1:!1}function Yg(a,b,c){this.ld=a;this.i=b;this.ue=c;this.md=32374990;this.vd=0}g=Yg.prototype;g.toString=function(){return Pc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.ue};g.Ud=function(){return this.i<this.ld.length-2?new Yg(this.ld,this.i+2,null):null};g.Kd=function(){return(this.ld.length-this.i)/2};g.Cd=function(){return id(this)};
g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){return Gd(b,this)};g.Wd=function(a,b,c){return Id(b,c,this)};g.Yd=function(){return new tg(this.ld[this.i],this.ld[this.i+1])};g.Zd=function(){return this.i<this.ld.length-2?new Yg(this.ld,this.i+2,null):fd};g.Id=function(){return this};g.Jd=function(a,b){return b===this.ue?this:new Yg(this.ld,this.i,b)};g.Ld=function(a,b){return Ed(b,this)};Yg.prototype[tb]=function(){return hd(this)};
function $g(a,b){this.ld=a;this.i=0;this.pd=b}$g.prototype.hasNext=function(){return this.i<this.pd};$g.prototype.next=function(){var a=new tg(this.ld[this.i],this.ld[this.i+1]);this.i+=2;return a};function n(a,b,c,d){this.meta=a;this.pd=b;this.ld=c;this.qd=d;this.md=16647951;this.vd=139268}g=n.prototype;g.Ee=function(a,b){a=Xg(this.ld,b);return-1===a?null:new tg(this.ld[a],this.ld[a+1])};g.toString=function(){return Pc(this)};g.keys=function(){return hd(ah.hd?ah.hd(this):ah.call(null,this))};
g.entries=function(){return new Vg(F(F(this)))};g.values=function(){return hd(bh.hd?bh.hd(this):bh.call(null,this))};g.has=function(a){return pe(this,a)};g.get=function(a,b){return this.wd(null,a,b)};g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.xd(null,e),h=R(f,0,null);f=R(f,1,null);a.jd?a.jd(f,h):a.call(null,f,h);e+=1}else if(b=F(b))ie(b)?(c=Gc(b),b=Hc(b),h=c,d=O(c),c=h):(c=H(b),h=R(c,0,null),f=R(c,1,null),a.jd?a.jd(f,h):a.call(null,f,h),b=I(b),c=null,d=0),e=0;else return null};
g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){a=Xg(this.ld,b);return-1===a?c:this.ld[a+1]};g.Te=function(a,b,c){a=this.ld.length;for(var d=0;;)if(d<a){var e=this.ld[d],f=this.ld[d+1];c=b.kd?b.kd(c,e,f):b.call(null,c,e,f);if(od(c))return z(c);d+=2}else return c};g.ee=function(){return new $g(this.ld,2*this.pd)};g.Fd=function(){return this.meta};g.Kd=function(){return this.pd};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=kd(this)};
g.zd=function(a,b){if(fe(b)&&!ge(b))if(a=this.ld.length,this.pd===b.Kd(null))for(var c=0;;)if(c<a){var d=b.wd(null,this.ld[c],me);if(d!==me)if(J.jd(this.ld[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.mf=function(){return new ch(this.ld.length,ub(this.ld))};g.Nd=function(){return gc(uf,this.meta)};g.Vd=function(a,b){return ye(this,b)};g.Wd=function(a,b,c){return ze(this,b,c)};
g.ef=function(a,b){if(0<=Xg(this.ld,b)){a=this.ld.length;var c=a-2;if(0===c)return this.Nd(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new n(this.meta,this.pd-1,c,null);J.jd(b,this.ld[d])?d+=2:(c[e]=this.ld[d],c[e+1]=this.ld[d+1],e+=2,d+=2)}}else return this};
g.ce=function(a,b,c){a=Xg(this.ld,b);if(-1===a){if(this.pd<dh){a=this.ld;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new n(this.meta,this.pd+1,e,null)}return gc(Sb(Xf.jd(eh,this),b,c),this.meta)}if(c===this.ld[a+1])return this;b=ub(this.ld);b[a+1]=c;return new n(this.meta,this.pd,b,null)};g.Id=function(){var a=this.ld;return 0<=a.length-2?new Yg(a,0,null):null};g.Jd=function(a,b){return b===this.meta?this:new n(b,this.pd,this.ld,this.qd)};
g.Ld=function(a,b){if(he(b))return this.ce(null,Kb.jd(b,0),Kb.jd(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=H(b);if(he(c))a=Sb(a,Kb.jd(c,0),Kb.jd(c,1)),b=I(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Hd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Hd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.Hd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};var uf=new n(null,0,[],ld),dh=8;
function Sd(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Xg(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new n(null,b.length/2,b,null)}n.prototype[tb]=function(){return hd(this)};function ch(a,b){this.qf={};this.len=a;this.ld=b;this.md=259;this.vd=56}g=ch.prototype;g.Kd=function(){if(t(this.qf))return He(this.len);throw Error("count after persistent!");};g.Hd=function(a,b){return this.wd(null,b,null)};
g.wd=function(a,b,c){if(t(this.qf))return a=Xg(this.ld,b),-1===a?c:this.ld[a+1];throw Error("lookup after persistent!");};
g.pf=function(a,b){if(t(this.qf)){if(Bg(b))return this.nf(null,Cg.hd?Cg.hd(b):Cg.call(null,b),Dg.hd?Dg.hd(b):Dg.call(null,b));if(he(b))return this.nf(null,b.hd?b.hd(0):b.call(null,0),b.hd?b.hd(1):b.call(null,1));a=F(b);for(b=this;;){var c=H(a);if(t(c))a=I(a),b=Cc(b,Cg.hd?Cg.hd(c):Cg.call(null,c),Dg.hd?Dg.hd(c):Dg.call(null,c));else return b}}else throw Error("conj! after persistent!");};
g.vf=function(){if(t(this.qf))return this.qf=!1,new n(null,He(this.len),this.ld,null);throw Error("persistent! called twice");};g.nf=function(a,b,c){if(t(this.qf)){a=Xg(this.ld,b);if(-1===a){if(this.len+2<=2*dh)return this.len+=2,this.ld.push(b),this.ld.push(c),this;a=fh.jd?fh.jd(this.len,this.ld):fh.call(null,this.len,this.ld);return Cc(a,b,c)}c!==this.ld[a+1]&&(this.ld[a+1]=c);return this}throw Error("assoc! after persistent!");};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.wd(null,c,null);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.wd(null,c,null)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.wd(null,a,null)};g.jd=function(a,b){return this.wd(null,a,b)};
function fh(a,b){for(var c=zc(eh),d=0;;)if(d<a)c=Cc(c,b[d],b[d+1]),d+=2;else return c}function gh(){this.val=!1}function hh(a,b){return a===b?!0:Ne(a,b)?!0:J.jd(a,b)}function ih(a,b,c){a=ub(a);a[b]=c;return a}function jh(a,b){var c=Array(a.length-2);le(a,0,c,0,2*b);le(a,2*(b+1),c,2*b,c.length-2*b);return c}function kh(a,b,c,d){a=a.ff(b);a.ld[c]=d;return a}
function lh(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.kd?b.kd(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.hf(b,f):f;if(od(c))return c;e+=2;f=c}else return f}function mh(a){this.ld=a;this.i=0;this.se=this.Cf=null}mh.prototype.advance=function(){for(var a=this.ld.length;;)if(this.i<a){var b=this.ld[this.i],c=this.ld[this.i+1];null!=b?b=this.Cf=new tg(b,c):null!=c?(b=Nc(c),b=b.hasNext()?this.se=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
mh.prototype.hasNext=function(){var a=null!=this.Cf;return a?a:(a=null!=this.se)?a:this.advance()};mh.prototype.next=function(){if(null!=this.Cf){var a=this.Cf;this.Cf=null;return a}if(null!=this.se)return a=this.se.next(),this.se.hasNext()||(this.se=null),a;if(this.advance())return this.next();throw Error("No such element");};mh.prototype.remove=function(){return Error("Unsupported operation")};function nh(a,b,c){this.Pd=a;this.Qd=b;this.ld=c;this.vd=131072;this.md=0}g=nh.prototype;
g.ff=function(a){if(a===this.Pd)return this;var b=Ie(this.Qd),c=Array(0>b?4:2*(b+1));le(this.ld,0,c,0,2*b);return new nh(a,this.Qd,c)};g.Af=function(){return oh?oh(this.ld):ph.call(null,this.ld)};g.hf=function(a,b){return lh(this.ld,a,b)};g.gf=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.Qd&e))return d;var f=Ie(this.Qd&e-1);e=this.ld[2*f];f=this.ld[2*f+1];return null==e?f.gf(a+5,b,c,d):hh(c,e)?f:d};
g.qe=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=Ie(this.Qd&h-1);if(0===(this.Qd&h)){var l=Ie(this.Qd);if(2*l<this.ld.length){a=this.ff(a);b=a.ld;f.val=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.Qd|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=qh.qe(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.Qd>>>
d&1)?d+=1:(k[d]=null!=this.ld[e]?qh.qe(a,b+5,Yc(this.ld[e]),this.ld[e],this.ld[e+1],f):this.ld[e+1],e+=2,d+=1);else break;return new rh(a,l+1,k)}b=Array(2*(l+4));le(this.ld,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;le(this.ld,2*k,b,2*(k+1),2*(l-k));f.val=!0;a=this.ff(a);a.ld=b;a.Qd|=h;return a}l=this.ld[2*k];h=this.ld[2*k+1];if(null==l)return l=h.qe(a,b+5,c,d,e,f),l===h?this:kh(this,a,2*k+1,l);if(hh(d,l))return e===h?this:kh(this,a,2*k+1,e);f.val=!0;f=b+5;d=sh?sh(a,f,l,h,c,d,e):th.call(null,a,f,l,h,c,d,e);e=
2*k;k=2*k+1;a=this.ff(a);a.ld[e]=null;a.ld[k]=d;return a};
g.pe=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=Ie(this.Qd&f-1);if(0===(this.Qd&f)){var k=Ie(this.Qd);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=qh.pe(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.Qd>>>c&1)?c+=1:(h[c]=null!=this.ld[d]?qh.pe(a+5,Yc(this.ld[d]),this.ld[d],this.ld[d+1],e):this.ld[d+1],d+=2,c+=1);else break;return new rh(null,k+1,h)}a=Array(2*(k+1));
le(this.ld,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;le(this.ld,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new nh(null,this.Qd|f,a)}var l=this.ld[2*h];f=this.ld[2*h+1];if(null==l)return k=f.pe(a+5,b,c,d,e),k===f?this:new nh(null,this.Qd,ih(this.ld,2*h+1,k));if(hh(c,l))return d===f?this:new nh(null,this.Qd,ih(this.ld,2*h+1,d));e.val=!0;e=this.Qd;k=this.ld;a+=5;a=uh?uh(a,l,f,b,c,d):th.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=ub(k);d[c]=null;d[h]=a;return new nh(null,e,d)};
g.zf=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.Qd&e))return d;var f=Ie(this.Qd&e-1);e=this.ld[2*f];f=this.ld[2*f+1];return null==e?f.zf(a+5,b,c,d):hh(c,e)?new tg(e,f):d};g.Bf=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.Qd&d))return this;var e=Ie(this.Qd&d-1),f=this.ld[2*e],h=this.ld[2*e+1];return null==f?(a=h.Bf(a+5,b,c),a===h?this:null!=a?new nh(null,this.Qd,ih(this.ld,2*e+1,a)):this.Qd===d?null:new nh(null,this.Qd^d,jh(this.ld,e))):hh(c,f)?new nh(null,this.Qd^d,jh(this.ld,e)):this};
g.ee=function(){return new mh(this.ld)};var qh=new nh(null,0,[]);function vh(a){this.ld=a;this.i=0;this.se=null}vh.prototype.hasNext=function(){for(var a=this.ld.length;;){if(null!=this.se&&this.se.hasNext())return!0;if(this.i<a){var b=this.ld[this.i];this.i+=1;null!=b&&(this.se=Nc(b))}else return!1}};vh.prototype.next=function(){if(this.hasNext())return this.se.next();throw Error("No such element");};vh.prototype.remove=function(){return Error("Unsupported operation")};
function rh(a,b,c){this.Pd=a;this.pd=b;this.ld=c;this.vd=131072;this.md=0}g=rh.prototype;g.ff=function(a){return a===this.Pd?this:new rh(a,this.pd,ub(this.ld))};g.Af=function(){return wh?wh(this.ld):xh.call(null,this.ld)};g.hf=function(a,b){for(var c=this.ld.length,d=0;;)if(d<c){var e=this.ld[d];if(null!=e){b=e.hf(a,b);if(od(b))return b;d+=1}else d+=1}else return b};g.gf=function(a,b,c,d){var e=this.ld[b>>>a&31];return null!=e?e.gf(a+5,b,c,d):d};
g.qe=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.ld[h];if(null==k)return a=kh(this,a,h,qh.qe(a,b+5,c,d,e,f)),a.pd+=1,a;b=k.qe(a,b+5,c,d,e,f);return b===k?this:kh(this,a,h,b)};g.pe=function(a,b,c,d,e){var f=b>>>a&31,h=this.ld[f];if(null==h)return new rh(null,this.pd+1,ih(this.ld,f,qh.pe(a+5,b,c,d,e)));a=h.pe(a+5,b,c,d,e);return a===h?this:new rh(null,this.pd,ih(this.ld,f,a))};g.zf=function(a,b,c,d){var e=this.ld[b>>>a&31];return null!=e?e.zf(a+5,b,c,d):d};
g.Bf=function(a,b,c){var d=b>>>a&31,e=this.ld[d];if(null!=e){a=e.Bf(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.pd)a:{e=this.ld;a=e.length;b=Array(2*(this.pd-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new nh(null,h,b);break a}}else d=new rh(null,this.pd-1,ih(this.ld,d,a));else d=new rh(null,this.pd,ih(this.ld,d,a));return d}return this};g.ee=function(){return new vh(this.ld)};
function yh(a,b,c){b*=2;for(var d=0;;)if(d<b){if(hh(c,a[d]))return d;d+=2}else return-1}function zh(a,b,c,d){this.Pd=a;this.We=b;this.pd=c;this.ld=d;this.vd=131072;this.md=0}g=zh.prototype;g.ff=function(a){if(a===this.Pd)return this;var b=Array(2*(this.pd+1));le(this.ld,0,b,0,2*this.pd);return new zh(a,this.We,this.pd,b)};g.Af=function(){return oh?oh(this.ld):ph.call(null,this.ld)};g.hf=function(a,b){return lh(this.ld,a,b)};
g.gf=function(a,b,c,d){a=yh(this.ld,this.pd,c);return 0>a?d:hh(c,this.ld[a])?this.ld[a+1]:d};
g.qe=function(a,b,c,d,e,f){if(c===this.We){b=yh(this.ld,this.pd,d);if(-1===b){if(this.ld.length>2*this.pd)return b=2*this.pd,c=2*this.pd+1,a=this.ff(a),a.ld[b]=d,a.ld[c]=e,f.val=!0,a.pd+=1,a;c=this.ld.length;b=Array(c+2);le(this.ld,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.pd+1;a===this.Pd?(this.ld=b,this.pd=d,a=this):a=new zh(this.Pd,this.We,d,b);return a}return this.ld[b+1]===e?this:kh(this,a,b+1,e)}return(new nh(a,1<<(this.We>>>b&31),[null,this,null,null])).qe(a,b,c,d,e,f)};
g.pe=function(a,b,c,d,e){return b===this.We?(a=yh(this.ld,this.pd,c),-1===a?(a=2*this.pd,b=Array(a+2),le(this.ld,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new zh(null,this.We,this.pd+1,b)):J.jd(this.ld[a+1],d)?this:new zh(null,this.We,this.pd,ih(this.ld,a+1,d))):(new nh(null,1<<(this.We>>>a&31),[null,this])).pe(a,b,c,d,e)};g.zf=function(a,b,c,d){a=yh(this.ld,this.pd,c);return 0>a?d:hh(c,this.ld[a])?new tg(this.ld[a],this.ld[a+1]):d};
g.Bf=function(a,b,c){a=yh(this.ld,this.pd,c);return-1===a?this:1===this.pd?null:new zh(null,this.We,this.pd-1,jh(this.ld,He(a)))};g.ee=function(){return new mh(this.ld)};function th(a){switch(arguments.length){case 6:return uh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return sh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}
function uh(a,b,c,d,e,f){var h=Yc(b);if(h===d)return new zh(null,h,2,[b,c,e,f]);var k=new gh;return qh.pe(a,h,b,c,k).pe(a,d,e,f,k)}function sh(a,b,c,d,e,f,h){var k=Yc(c);if(k===e)return new zh(null,k,2,[c,d,f,h]);var l=new gh;return qh.qe(a,b,k,c,d,l).qe(a,b,e,f,h,l)}function Ah(a,b,c,d,e){this.meta=a;this.te=b;this.i=c;this.s=d;this.qd=e;this.md=32374988;this.vd=0}g=Ah.prototype;g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){if(null==this.s){var a=this.te,b=this.i+2;return Bh?Bh(a,b,null):ph.call(null,a,b,null)}a=this.te;b=this.i;var c=I(this.s);return Bh?Bh(a,b,c):ph.call(null,a,b,c)};
g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){return Gd(b,this)};g.Wd=function(a,b,c){return Id(b,c,this)};g.Yd=function(){return null==this.s?new tg(this.te[this.i],this.te[this.i+1]):H(this.s)};
g.Zd=function(){var a=this,b=null==a.s?function(){var c=a.te,d=a.i+2;return Bh?Bh(c,d,null):ph.call(null,c,d,null)}():function(){var c=a.te,d=a.i,e=I(a.s);return Bh?Bh(c,d,e):ph.call(null,c,d,e)}();return null!=b?b:fd};g.Id=function(){return this};g.Jd=function(a,b){return b===this.meta?this:new Ah(b,this.te,this.i,this.s,this.qd)};g.Ld=function(a,b){return Ed(b,this)};Ah.prototype[tb]=function(){return hd(this)};
function ph(a){switch(arguments.length){case 1:return oh(arguments[0]);case 3:return Bh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function oh(a){return Bh(a,0,null)}function Bh(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ah(null,a,b,null,null);var d=a[b+1];if(t(d)&&(d=d.Af(),t(d)))return new Ah(null,a,b+2,d,null);b+=2}else return null;else return new Ah(null,a,b,c,null)}
function Ch(a,b,c,d,e){this.meta=a;this.te=b;this.i=c;this.s=d;this.qd=e;this.md=32374988;this.vd=0}g=Ch.prototype;g.toString=function(){return Pc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){var a=this.te,b=this.i,c=I(this.s);return Dh?Dh(a,b,c):xh.call(null,a,b,c)};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};
g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){return Gd(b,this)};g.Wd=function(a,b,c){return Id(b,c,this)};g.Yd=function(){return H(this.s)};g.Zd=function(){var a=this.te;var b=this.i,c=I(this.s);a=Dh?Dh(a,b,c):xh.call(null,a,b,c);return null!=a?a:fd};g.Id=function(){return this};g.Jd=function(a,b){return b===this.meta?this:new Ch(b,this.te,this.i,this.s,this.qd)};g.Ld=function(a,b){return Ed(b,this)};Ch.prototype[tb]=function(){return hd(this)};
function xh(a){switch(arguments.length){case 1:return wh(arguments[0]);case 3:return Dh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function wh(a){return Dh(a,0,null)}function Dh(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(t(d)&&(d=d.Af(),t(d)))return new Ch(null,a,b+1,d,null);b+=1}else return null;else return new Ch(null,a,b,c,null)}function Eh(a,b){this.ae=a;this.wg=b;this.bg=!1}
Eh.prototype.hasNext=function(){return!this.bg||this.wg.hasNext()};Eh.prototype.next=function(){if(this.bg)return this.wg.next();this.bg=!0;return new tg(null,this.ae)};Eh.prototype.remove=function(){return Error("Unsupported operation")};function Fh(a,b,c,d,e,f){this.meta=a;this.pd=b;this.root=c;this.de=d;this.ae=e;this.qd=f;this.md=16123663;this.vd=139268}g=Fh.prototype;g.Ee=function(a,b){return null==b?this.de?new tg(null,this.ae):null:null==this.root?null:this.root.zf(0,Yc(b),b,null)};
g.toString=function(){return Pc(this)};g.keys=function(){return hd(ah.hd?ah.hd(this):ah.call(null,this))};g.entries=function(){return new Vg(F(F(this)))};g.values=function(){return hd(bh.hd?bh.hd(this):bh.call(null,this))};g.has=function(a){return pe(this,a)};g.get=function(a,b){return this.wd(null,a,b)};
g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.xd(null,e),h=R(f,0,null);f=R(f,1,null);a.jd?a.jd(f,h):a.call(null,f,h);e+=1}else if(b=F(b))ie(b)?(c=Gc(b),b=Hc(b),h=c,d=O(c),c=h):(c=H(b),h=R(c,0,null),f=R(c,1,null),a.jd?a.jd(f,h):a.call(null,f,h),b=I(b),c=null,d=0),e=0;else return null};g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){return null==b?this.de?this.ae:c:null==this.root?c:this.root.gf(0,Yc(b),b,c)};
g.Te=function(a,b,c){a=this.de?b.kd?b.kd(c,null,this.ae):b.call(null,c,null,this.ae):c;return od(a)?z(a):null!=this.root?pd(this.root.hf(b,a)):a};g.ee=function(){var a=this.root?Nc(this.root):sf();return this.de?new Eh(this.ae,a):a};g.Fd=function(){return this.meta};g.Kd=function(){return this.pd};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=kd(this)};g.zd=function(a,b){return Tg(this,b)};g.mf=function(){return new Gh(this.root,this.pd,this.de,this.ae)};g.Nd=function(){return gc(eh,this.meta)};
g.ef=function(a,b){if(null==b)return this.de?new Fh(this.meta,this.pd-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Bf(0,Yc(b),b);return a===this.root?this:new Fh(this.meta,this.pd-1,a,this.de,this.ae,null)};
g.ce=function(a,b,c){if(null==b)return this.de&&c===this.ae?this:new Fh(this.meta,this.de?this.pd:this.pd+1,this.root,!0,c,null);a=new gh;b=(null==this.root?qh:this.root).pe(0,Yc(b),b,c,a);return b===this.root?this:new Fh(this.meta,a.val?this.pd+1:this.pd,b,this.de,this.ae,null)};g.Id=function(){if(0<this.pd){var a=null!=this.root?this.root.Af():null;return this.de?Ed(new tg(null,this.ae),a):a}return null};g.Jd=function(a,b){return b===this.meta?this:new Fh(b,this.pd,this.root,this.de,this.ae,this.qd)};
g.Ld=function(a,b){if(he(b))return this.ce(null,Kb.jd(b,0),Kb.jd(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=H(b);if(he(c))a=Sb(a,Kb.jd(c,0),Kb.jd(c,1)),b=I(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Hd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Hd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.Hd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};var eh=new Fh(null,0,null,!1,null,ld);
Fh.prototype[tb]=function(){return hd(this)};function Gh(a,b,c,d){this.Pd={};this.root=a;this.count=b;this.de=c;this.ae=d;this.md=259;this.vd=56}function Hh(a,b,c){if(a.Pd){if(null==b)a.ae!==c&&(a.ae=c),a.de||(a.count+=1,a.de=!0);else{var d=new gh;b=(null==a.root?qh:a.root).qe(a.Pd,0,Yc(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Gh.prototype;g.Kd=function(){if(this.Pd)return this.count;throw Error("count after persistent!");};
g.Hd=function(a,b){return null==b?this.de?this.ae:null:null==this.root?null:this.root.gf(0,Yc(b),b)};g.wd=function(a,b,c){return null==b?this.de?this.ae:c:null==this.root?c:this.root.gf(0,Yc(b),b,c)};
g.pf=function(a,b){a:if(this.Pd)if(Bg(b))a=Hh(this,Cg.hd?Cg.hd(b):Cg.call(null,b),Dg.hd?Dg.hd(b):Dg.call(null,b));else if(he(b))a=Hh(this,b.hd?b.hd(0):b.call(null,0),b.hd?b.hd(1):b.call(null,1));else for(a=F(b),b=this;;){var c=H(a);if(t(c))a=I(a),b=Hh(b,Cg.hd?Cg.hd(c):Cg.call(null,c),Dg.hd?Dg.hd(c):Dg.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.vf=function(){if(this.Pd){this.Pd=null;var a=new Fh(null,this.count,this.root,this.de,this.ae,null)}else throw Error("persistent! called twice");return a};g.nf=function(a,b,c){return Hh(this,b,c)};g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Hd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Hd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();
g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.Hd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};function Ih(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=Md.jd(d,a),a=b;else return d}function Jh(a,b,c,d,e){this.meta=a;this.stack=b;this.df=c;this.pd=d;this.qd=e;this.md=32374990;this.vd=0}g=Jh.prototype;g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.meta};g.Ud=function(){var a=H(this.stack);a=Ih(this.df?a.right:a.left,I(this.stack),this.df);return null==a?null:new Jh(null,a,this.df,this.pd-1,null)};
g.Kd=function(){return 0>this.pd?O(I(this))+1:this.pd};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){return Gd(b,this)};g.Wd=function(a,b,c){return Id(b,c,this)};g.Yd=function(){return Zd(this.stack)};g.Zd=function(){var a=H(this.stack);a=Ih(this.df?a.right:a.left,I(this.stack),this.df);return null!=a?new Jh(null,a,this.df,this.pd-1,null):fd};g.Id=function(){return this};
g.Jd=function(a,b){return b===this.meta?this:new Jh(b,this.stack,this.df,this.pd,this.qd)};g.Ld=function(a,b){return Ed(b,this)};Jh.prototype[tb]=function(){return hd(this)};function Kh(a,b,c){return new Jh(null,Ih(a,null,b),b,c,null)}
function Lh(a,b,c,d){return c instanceof Mh?c.left instanceof Mh?new Mh(c.key,c.val,c.left.Be(),new Nh(a,b,c.right,d)):c.right instanceof Mh?new Mh(c.right.key,c.right.val,new Nh(c.key,c.val,c.left,c.right.left),new Nh(a,b,c.right.right,d)):new Nh(a,b,c,d):new Nh(a,b,c,d)}
function Oh(a,b,c,d){return d instanceof Mh?d.right instanceof Mh?new Mh(d.key,d.val,new Nh(a,b,c,d.left),d.right.Be()):d.left instanceof Mh?new Mh(d.left.key,d.left.val,new Nh(a,b,c,d.left.left),new Nh(d.key,d.val,d.left.right,d.right)):new Nh(a,b,c,d):new Nh(a,b,c,d)}
function Ph(a,b,c,d){if(c instanceof Mh)return new Mh(a,b,c.Be(),d);if(d instanceof Nh)return Oh(a,b,c,d.Ef());if(d instanceof Mh&&d.left instanceof Nh)return new Mh(d.left.key,d.left.val,new Nh(a,b,c,d.left.left),Oh(d.key,d.val,d.left.right,d.right.Ef()));throw Error("red-black tree invariant violation");}
function Qh(a,b,c,d){if(d instanceof Mh)return new Mh(a,b,c,d.Be());if(c instanceof Nh)return Lh(a,b,c.Ef(),d);if(c instanceof Mh&&c.right instanceof Nh)return new Mh(c.right.key,c.right.val,Lh(c.key,c.val,c.left.Ef(),c.right.left),new Nh(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var Rh=function Rh(a,b,c){var e=null!=a.left?function(){var k=a.left;return Rh.kd?Rh.kd(k,b,c):Rh.call(null,k,b,c)}():c;if(od(e))return e;var f=function(){var k=a.key,l=a.val;return b.kd?b.kd(e,k,l):b.call(null,e,k,l)}();if(od(f))return f;if(null!=a.right){var h=a.right;return Rh.kd?Rh.kd(h,b,f):Rh.call(null,h,b,f)}return f};function Nh(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.qd=null;this.md=166619935;this.vd=0}g=Nh.prototype;
g.Ee=function(a,b){switch(b){case 0:return new tg(0,this.key);case 1:return new tg(1,this.val);default:return null}};g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();g.eg=function(a){return a.gg(this)};g.Ef=function(){return new Mh(this.key,this.val,this.left,this.right)};g.Be=function(){return this};g.dg=function(a){return a.fg(this)};g.replace=function(a,b,c,d){return new Nh(a,b,c,d)};
g.fg=function(a){return new Nh(a.key,a.val,this,a.right)};g.gg=function(a){return new Nh(a.key,a.val,a.left,this)};g.hf=function(a,b){return Rh(this,a,b)};g.Hd=function(a,b){return this.Gd(null,b,null)};g.wd=function(a,b,c){return this.Gd(null,b,c)};g.xd=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Gd=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.oe=function(a,b,c){return(new U(null,2,5,X,[this.key,this.val],null)).oe(null,b,c)};
g.Fd=function(){return null};g.Kd=function(){return 2};g.Yf=function(){return this.key};g.Zf=function(){return this.val};g.Ue=function(){return this.val};g.Ve=function(){return new U(null,1,5,X,[this.key],null)};g.bf=function(){return new G([this.val,this.key],0,null)};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return null};g.Vd=function(a,b){return rd(this,b)};g.Wd=function(a,b,c){return sd(this,b,c)};
g.ce=function(a,b,c){return Rd.kd(new U(null,2,5,X,[this.key,this.val],null),b,c)};g.Id=function(){return new G([this.key,this.val],0,null)};g.Jd=function(a,b){return gc(new U(null,2,5,X,[this.key,this.val],null),b)};g.Ld=function(a,b){return new U(null,3,5,X,[this.key,this.val,b],null)};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xd(null,c);case 3:return this.Gd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.xd(null,c)};a.kd=function(b,c,d){return this.Gd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.xd(null,a)};g.jd=function(a,b){return this.Gd(null,a,b)};Nh.prototype[tb]=function(){return hd(this)};
function Mh(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.qd=null;this.md=166619935;this.vd=0}g=Mh.prototype;g.Ee=function(a,b){switch(b){case 0:return new tg(0,this.key);case 1:return new tg(1,this.val);default:return null}};
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();g.eg=function(a){return new Mh(this.key,this.val,this.left,a)};g.Ef=function(){throw Error("red-black tree invariant violation");};g.Be=function(){return new Nh(this.key,this.val,this.left,this.right)};
g.dg=function(a){return new Mh(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new Mh(a,b,c,d)};g.fg=function(a){return this.left instanceof Mh?new Mh(this.key,this.val,this.left.Be(),new Nh(a.key,a.val,this.right,a.right)):this.right instanceof Mh?new Mh(this.right.key,this.right.val,new Nh(this.key,this.val,this.left,this.right.left),new Nh(a.key,a.val,this.right.right,a.right)):new Nh(a.key,a.val,this,a.right)};
g.gg=function(a){return this.right instanceof Mh?new Mh(this.key,this.val,new Nh(a.key,a.val,a.left,this.left),this.right.Be()):this.left instanceof Mh?new Mh(this.left.key,this.left.val,new Nh(a.key,a.val,a.left,this.left.left),new Nh(this.key,this.val,this.left.right,this.right)):new Nh(a.key,a.val,a.left,this)};g.hf=function(a,b){return Rh(this,a,b)};g.Hd=function(a,b){return this.Gd(null,b,null)};g.wd=function(a,b,c){return this.Gd(null,b,c)};
g.xd=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Gd=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.oe=function(a,b,c){return(new U(null,2,5,X,[this.key,this.val],null)).oe(null,b,c)};g.Fd=function(){return null};g.Kd=function(){return 2};g.Yf=function(){return this.key};g.Zf=function(){return this.val};g.Ue=function(){return this.val};g.Ve=function(){return new U(null,1,5,X,[this.key],null)};
g.bf=function(){return new G([this.val,this.key],0,null)};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return null};g.Vd=function(a,b){return rd(this,b)};g.Wd=function(a,b,c){return sd(this,b,c)};g.ce=function(a,b,c){return Rd.kd(new U(null,2,5,X,[this.key,this.val],null),b,c)};g.Id=function(){return new G([this.key,this.val],0,null)};g.Jd=function(a,b){return gc(new U(null,2,5,X,[this.key,this.val],null),b)};
g.Ld=function(a,b){return new U(null,3,5,X,[this.key,this.val,b],null)};g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xd(null,c);case 3:return this.Gd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.xd(null,c)};a.kd=function(b,c,d){return this.Gd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.xd(null,a)};
g.jd=function(a,b){return this.Gd(null,a,b)};Mh.prototype[tb]=function(){return hd(this)};
var Sh=function Sh(a,b,c,d,e){if(null==b)return new Mh(c,d,null,null);var h=function(){var k=b.key;return a.jd?a.jd(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return Sh.Dd?Sh.Dd(a,k,c,d,e):Sh.call(null,a,k,c,d,e)}(),null!=h?b.dg(h):null;h=function(){var k=b.right;return Sh.Dd?Sh.Dd(a,k,c,d,e):Sh.call(null,a,k,c,d,e)}();return null!=h?b.eg(h):null},Th=function Th(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof Mh){if(b instanceof Mh){var d=
function(){var e=a.right,f=b.left;return Th.jd?Th.jd(e,f):Th.call(null,e,f)}();return d instanceof Mh?new Mh(d.key,d.val,new Mh(a.key,a.val,a.left,d.left),new Mh(b.key,b.val,d.right,b.right)):new Mh(a.key,a.val,a.left,new Mh(b.key,b.val,d,b.right))}return new Mh(a.key,a.val,a.left,function(){var e=a.right;return Th.jd?Th.jd(e,b):Th.call(null,e,b)}())}if(b instanceof Mh)return new Mh(b.key,b.val,function(){var e=b.left;return Th.jd?Th.jd(a,e):Th.call(null,a,e)}(),b.right);d=function(){var e=a.right,
f=b.left;return Th.jd?Th.jd(e,f):Th.call(null,e,f)}();return d instanceof Mh?new Mh(d.key,d.val,new Nh(a.key,a.val,a.left,d.left),new Nh(b.key,b.val,d.right,b.right)):Ph(a.key,a.val,a.left,new Nh(b.key,b.val,d,b.right))},Uh=function Uh(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.jd?a.jd(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,Th(b.left,b.right);if(0>f)return f=function(){var h=b.left;return Uh.sd?Uh.sd(a,h,c,d):Uh.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof Nh?
Ph(b.key,b.val,f,b.right):new Mh(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return Uh.sd?Uh.sd(a,h,c,d):Uh.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof Nh?Qh(b.key,b.val,b.left,f):new Mh(b.key,b.val,b.left,f):null}return null},Vh=function Vh(a,b,c,d){var f=b.key,h=a.jd?a.jd(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return Vh.sd?Vh.sd(a,k,c,d):Vh.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,
b.left,function(){var k=b.right;return Vh.sd?Vh.sd(a,k,c,d):Vh.call(null,a,k,c,d)}())};function Wh(a,b,c,d,e){this.le=a;this.Ze=b;this.pd=c;this.meta=d;this.qd=e;this.md=418776847;this.vd=8192}g=Wh.prototype;g.Ee=function(a,b){return Xh(this,b)};
g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.xd(null,e),h=R(f,0,null);f=R(f,1,null);a.jd?a.jd(f,h):a.call(null,f,h);e+=1}else if(b=F(b))ie(b)?(c=Gc(b),b=Hc(b),h=c,d=O(c),c=h):(c=H(b),h=R(c,0,null),f=R(c,1,null),a.jd?a.jd(f,h):a.call(null,f,h),b=I(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.wd(null,a,b)};g.entries=function(){return new Vg(F(F(this)))};g.toString=function(){return Pc(this)};
g.keys=function(){return hd(ah.hd?ah.hd(this):ah.call(null,this))};g.values=function(){return hd(bh.hd?bh.hd(this):bh.call(null,this))};function Xh(a,b){for(var c=a.Ze;;)if(null!=c){var d=c.key;d=a.le.jd?a.le.jd(b,d):a.le.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return pe(this,a)};g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){a=Xh(this,b);return null!=a?a.val:c};g.Te=function(a,b,c){return null!=this.Ze?pd(Rh(this.Ze,b,c)):c};
g.Fd=function(){return this.meta};g.Kd=function(){return this.pd};g.bf=function(){return 0<this.pd?Kh(this.Ze,!1,this.pd):null};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=kd(this)};g.zd=function(a,b){return Tg(this,b)};g.Nd=function(){return new Wh(this.le,null,0,this.meta,0)};g.ef=function(a,b){a=[null];b=Uh(this.le,this.Ze,b,a);return null==b?null==yd(a,0)?this:new Wh(this.le,null,0,this.meta,null):new Wh(this.le,b.Be(),this.pd-1,this.meta,null)};
g.ce=function(a,b,c){a=[null];var d=Sh(this.le,this.Ze,b,c,a);return null==d?(a=yd(a,0),J.jd(c,a.val)?this:new Wh(this.le,Vh(this.le,this.Ze,b,c),this.pd,this.meta,null)):new Wh(this.le,d.Be(),this.pd+1,this.meta,null)};g.Id=function(){return 0<this.pd?Kh(this.Ze,!0,this.pd):null};g.Jd=function(a,b){return b===this.meta?this:new Wh(this.le,this.Ze,this.pd,b,this.qd)};
g.Ld=function(a,b){if(he(b))return this.ce(null,Kb.jd(b,0),Kb.jd(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=H(b);if(he(c))a=Sb(a,Kb.jd(c,0),Kb.jd(c,1)),b=I(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Hd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Hd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};g.hd=function(a){return this.Hd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};var Yh=new Wh(qe,null,0,null,ld);Wh.prototype[tb]=function(){return hd(this)};
var Zh=function Zh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new G(c.slice(0),0,null):null;return Zh.od(c)};Zh.od=function(a){for(var b=F(a),c=zc(eh);;)if(b){a=I(I(b));var d=H(b);b=Jd(b);c=Cc(c,d,b);b=a}else return Bc(c)};Zh.ud=0;Zh.td=function(a){return this.od(F(a))};
function $h(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new G(b.slice(0),0,null):null;a:for(b=F(b),d=Yh;;)if(b)c=I(I(b)),d=Rd.kd(d,H(b),Jd(b)),b=c;else break a;return d}function ai(a,b){this.Ed=a;this.ue=b;this.md=32374988;this.vd=0}g=ai.prototype;g.toString=function(){return Pc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.ue};g.Ud=function(){var a=(null!=this.Ed?this.Ed.md&128||m===this.Ed.uf||(this.Ed.md?0:u(Ob,this.Ed)):u(Ob,this.Ed))?this.Ed.Ud(null):I(this.Ed);return null==a?null:new ai(a,null)};g.Cd=function(){return id(this)};
g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){return Gd(b,this)};g.Wd=function(a,b,c){return Id(b,c,this)};g.Yd=function(){return this.Ed.Yd(null).key};g.Zd=function(){var a=(null!=this.Ed?this.Ed.md&128||m===this.Ed.uf||(this.Ed.md?0:u(Ob,this.Ed)):u(Ob,this.Ed))?this.Ed.Ud(null):I(this.Ed);return null!=a?new ai(a,null):fd};g.Id=function(){return this};g.Jd=function(a,b){return b===this.ue?this:new ai(this.Ed,b)};g.Ld=function(a,b){return Ed(b,this)};
ai.prototype[tb]=function(){return hd(this)};function ah(a){return(a=F(a))?new ai(a,null):null}function Cg(a){return Wb(a)}function bi(a,b){this.Ed=a;this.ue=b;this.md=32374988;this.vd=0}g=bi.prototype;g.toString=function(){return Pc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();g.Fd=function(){return this.ue};g.Ud=function(){var a=(null!=this.Ed?this.Ed.md&128||m===this.Ed.uf||(this.Ed.md?0:u(Ob,this.Ed)):u(Ob,this.Ed))?this.Ed.Ud(null):I(this.Ed);return null==a?null:new bi(a,null)};g.Cd=function(){return id(this)};
g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){return Gd(b,this)};g.Wd=function(a,b,c){return Id(b,c,this)};g.Yd=function(){return this.Ed.Yd(null).val};g.Zd=function(){var a=(null!=this.Ed?this.Ed.md&128||m===this.Ed.uf||(this.Ed.md?0:u(Ob,this.Ed)):u(Ob,this.Ed))?this.Ed.Ud(null):I(this.Ed);return null!=a?new bi(a,null):fd};g.Id=function(){return this};g.Jd=function(a,b){return b===this.ue?this:new bi(this.Ed,b)};g.Ld=function(a,b){return Ed(b,this)};
bi.prototype[tb]=function(){return hd(this)};function bh(a){return(a=F(a))?new bi(a,null):null}function Dg(a){return Xb(a)}var ci=function ci(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new G(c.slice(0),0,null):null;return ci.od(c)};ci.od=function(a){return t(zf(Ce,a))?Ae(function(b,c){return Md.jd(t(b)?b:uf,c)},a):null};ci.ud=0;ci.td=function(a){return this.od(F(a))};function di(a){this.iter=a}di.prototype.hasNext=function(){return this.iter.hasNext()};
di.prototype.next=function(){if(this.iter.hasNext())return this.iter.next().key;throw Error("No such element");};di.prototype.remove=function(){return Error("Unsupported operation")};function ei(a,b,c){this.meta=a;this.Xe=b;this.qd=c;this.md=15077647;this.vd=139268}g=ei.prototype;g.toString=function(){return Pc(this)};g.keys=function(){return hd(F(this))};g.entries=function(){return new Wg(F(F(this)))};g.values=function(){return hd(F(this))};g.has=function(a){return pe(this,a)};
g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.xd(null,e),h=R(f,0,null);f=R(f,1,null);a.jd?a.jd(f,h):a.call(null,f,h);e+=1}else if(b=F(b))ie(b)?(c=Gc(b),b=Hc(b),h=c,d=O(c),c=h):(c=H(b),h=R(c,0,null),f=R(c,1,null),a.jd?a.jd(f,h):a.call(null,f,h),b=I(b),c=null,d=0),e=0;else return null};g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){a=Tb(this.Xe,b);return t(a)?Wb(a):c};g.ee=function(){return new di(Nc(this.Xe))};g.Fd=function(){return this.meta};
g.Kd=function(){return Eb(this.Xe)};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=kd(this)};g.zd=function(a,b){if(a=de(b)){var c=O(this)===O(b);if(c)try{return Be(function(){return function(d,e){return(d=pe(b,e))?d:new nd}}(c,a,this),!0,this.Xe)}catch(d){if(d instanceof Error)return!1;throw d;}else return c}else return a};g.mf=function(){return new fi(zc(this.Xe))};g.Nd=function(){return gc(gi,this.meta)};g.ng=function(a,b){return new ei(this.meta,Vb(this.Xe,b),null)};g.Id=function(){return ah(this.Xe)};
g.Jd=function(a,b){return b===this.meta?this:new ei(b,this.Xe,this.qd)};g.Ld=function(a,b){return new ei(this.meta,Rd.kd(this.Xe,b,null),null)};g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Hd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Hd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};
g.hd=function(a){return this.Hd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};var gi=new ei(null,uf,ld);function hi(a){for(var b=a.length,c=zc(gi),d=0;;)if(d<b)Ac(c,a[d]),d+=1;else break;return Bc(c)}ei.prototype[tb]=function(){return hd(this)};function fi(a){this.Ye=a;this.vd=136;this.md=259}g=fi.prototype;g.pf=function(a,b){this.Ye=Cc(this.Ye,b,null);return this};g.vf=function(){return new ei(null,Bc(this.Ye),null)};g.Kd=function(){return O(this.Ye)};
g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){return Rb.kd(this.Ye,b,me)===me?c:b};g.call=function(){function a(d,e,f){return Rb.kd(this.Ye,e,me)===me?f:e}function b(d,e){return Rb.kd(this.Ye,e,me)===me?null:e}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+(arguments.length-1));};c.jd=b;c.kd=a;return c}();g.apply=function(a,b){return this.call.apply(this,[this].concat(ub(b)))};
g.hd=function(a){return Rb.kd(this.Ye,a,me)===me?null:a};g.jd=function(a,b){return Rb.kd(this.Ye,a,me)===me?b:a};function ii(a){if(de(a))return Xd(a,null);a=F(a);if(null==a)return gi;if(a instanceof G&&0===a.i)return hi(a.ld);for(var b=zc(gi);;)if(null!=a){var c=I(a);b=Ac(b,Mb(a));a=c}else return Bc(b)}function ji(a){for(var b=Nd;;)if(I(a))b=Md.jd(b,H(a)),a=I(a);else return F(b)}
function Qe(a){if(null!=a&&(a.vd&4096||m===a.kg))return Ic(a);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",y.hd(a)].join(""));}var ki=function ki(a){switch(arguments.length){case 2:return ki.jd(arguments[0],arguments[1]);case 3:return ki.kd(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(3),0,null);return ki.od(arguments[0],arguments[1],arguments[2],c)}};ki.jd=function(a,b){return b};
ki.kd=function(a,b,c){return(a.hd?a.hd(b):a.call(null,b))>(a.hd?a.hd(c):a.call(null,c))?b:c};ki.od=function(a,b,c,d){return xb(function(e,f){return ki.kd(a,e,f)},ki.kd(a,b,c),d)};ki.td=function(a){var b=H(a),c=I(a);a=H(c);var d=I(c);c=H(d);d=I(d);return this.od(b,a,c,d)};ki.ud=3;function li(a,b,c){this.start=a;this.step=b;this.count=c;this.md=82;this.vd=0}g=li.prototype;g.Kd=function(){return this.count};g.Yd=function(){return this.start};g.xd=function(a,b){return this.start+b*this.step};
g.Gd=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.Wf=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new li(this.start+this.step,this.step,this.count-1)};function mi(a,b,c){this.i=a;this.end=b;this.step=c}mi.prototype.hasNext=function(){return 0<this.step?this.i<this.end:this.i>this.end};mi.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function ni(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.Bd=e;this.Gf=f;this.qd=h;this.md=32375006;this.vd=140800}g=ni.prototype;g.toString=function(){return Pc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return K(this,b,0);case 2:return K(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return K(this,b,0)};a.jd=function(b,c){return K(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ad(this,c,O(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ad(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return Ad(this,c,d)};return b}();function oi(a){if(null==a.Bd){var b=a.Kd(null);32<b?(a.Gf=new ni(null,a.start+32*a.step,a.end,a.step,null,null,null),a.Bd=new li(a.start,a.step,32)):a.Bd=new li(a.start,a.step,b)}}
g.xd=function(a,b){if(0<=b&&b<this.Kd(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Gd=function(a,b,c){return 0<=b&&b<this.Kd(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.ee=function(){return new mi(this.start,this.end,this.step)};g.Fd=function(){return this.meta};
g.Ud=function(){return 0<this.step?this.start+this.step<this.end?new ni(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new ni(null,this.start+this.step,this.end,this.step,null,null,null):null};g.Kd=function(){return Math.ceil((this.end-this.start)/this.step)};g.Cd=function(){var a=this.qd;return null!=a?a:this.qd=a=id(this)};g.zd=function(a,b){return Dd(this,b)};g.Nd=function(){return fd};g.Vd=function(a,b){return rd(this,b)};
g.Wd=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.jd?b.jd(c,a):b.call(null,c,a);if(od(c))return z(c);a+=this.step}else return c};g.Yd=function(){return this.start};g.Zd=function(){var a=this.Ud(null);return null==a?fd:a};g.Id=function(){return this};g.If=function(){oi(this);return this.Bd};g.lf=function(){oi(this);return null==this.Gf?fd:this.Gf};g.Jd=function(a,b){return b===this.meta?this:new ni(b,this.start,this.end,this.step,this.Bd,this.Gf,this.qd)};
g.Ld=function(a,b){return Ed(b,this)};g.Xf=function(){return F(this.lf(null))};ni.prototype[tb]=function(){return hd(this)};function pi(a){return 0>=a?fd:new ni(null,0,a,1,null,null,null)}function qi(a){a:for(var b=a;;)if(b=F(b))b=I(b);else break a;return a}function ri(a,b){if("string"===typeof b)return a=a.exec(b),J.jd(H(a),b)?1===O(a)?H(a):Ag(a):null;throw new TypeError("re-matches must match against a string.");}
function si(a,b,c,d,e,f,h){var k=cb;cb=null==cb?null:cb-1;try{if(null!=cb&&0>cb)return uc(a,"#");uc(a,c);if(0===kb.hd(f))F(h)&&uc(a,function(){var w=ti.hd(f);return t(w)?w:"..."}());else{if(F(h)){var l=H(h);b.kd?b.kd(l,a,f):b.call(null,l,a,f)}for(var p=I(h),r=kb.hd(f)-1;;)if(!p||null!=r&&0===r){F(p)&&0===r&&(uc(a,d),uc(a,function(){var w=ti.hd(f);return t(w)?w:"..."}()));break}else{uc(a,d);var q=H(p);c=a;h=f;b.kd?b.kd(q,c,h):b.call(null,q,c,h);var v=I(p);c=r-1;p=v;r=c}}return uc(a,e)}finally{cb=k}}
function ui(a,b){b=F(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xd(null,e);uc(a,f);e+=1}else if(b=F(b))c=b,ie(c)?(b=Gc(c),d=Hc(c),c=b,f=O(b),b=d,d=f):(f=H(c),uc(a,f),b=I(c),c=null,d=0),e=0;else return null}function vi(a){if(null==$a)throw Error("No *print-fn* fn set for evaluation environment");$a.hd?$a.hd(a):$a.call(null,a)}var wi={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function xi(a){return['"',y.hd(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return wi[b]})),'"'].join("")}function yi(a,b){return(a=ne(A.jd(a,ib)))?(a=null!=b?b.md&131072||m===b.Hg?!0:!1:!1)?null!=Yd(b):a:a}
function zi(a,b,c){if(null==a)return uc(b,"nil");if(yi(c,a)){uc(b,"^");var d=Yd(a);Ai.kd?Ai.kd(d,b,c):Ai.call(null,d,b,c);uc(b," ")}if(a.qg)return a.Lg(b);if(null!=a?a.md&2147483648||m===a.Od||(a.md?0:u(vc,a)):u(vc,a))return wc(a,b,c);if(!0===a||!1===a)return uc(b,y.hd(a));if("number"===typeof a)return uc(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":y.hd(a));if(null!=a&&a.constructor===Object)return uc(b,"#js "),d=Jf.jd(function(f){return new tg(null!=
ri(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,f)?Pe.hd(f):f,a[f])},Oa(a)),Bi.sd?Bi.sd(d,Ai,b,c):Bi.call(null,d,Ai,b,c);if(nb(a))return si(b,Ai,"#js ["," ","]",c,a);if("string"==typeof a)return t(hb.hd(c))?uc(b,xi(a)):uc(b,a);if(fa(a)){var e=a.name;c=t(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return ui(b,Fd(["#object[",c,"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=y.hd(f);;)if(O(f)<h)f=["0",f].join("");else return f},ui(b,Fd(['#inst "',y.hd(a.getUTCFullYear()),
"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return ui(b,Fd(['#"',a.source,'"']));if(t(function(){var f=null==a?null:a.constructor;return null==f?null:f.Pf}()))return ui(b,Fd(["#object[",a.constructor.Pf.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=t(function(){var f=null==e;return f?f:
/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?ui(b,Fd(["#object[",c,"]"])):ui(b,Fd(["#object[",c," ",y.hd(a),"]"]))}function Ai(a,b,c){var d=Ci.hd(c);return t(d)?(c=Rd.kd(c,Di,zi),d.kd?d.kd(a,b,c):d.call(null,a,b,c)):zi(a,b,c)}
function Ei(a,b){var c=new Wa;a:{var d=new Oc(c);Ai(H(a),d,b);a=F(I(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xd(null,h);uc(d," ");Ai(k,d,b);h+=1}else if(a=F(a))e=a,ie(e)?(a=Gc(e),f=Hc(e),e=a,k=O(a),a=f,f=k):(k=H(e),uc(d," "),Ai(k,d,b),a=I(e),e=null,f=0),h=0;else break a}return c}function Fi(a,b){return be(a)?"":y.hd(Ei(a,b))}function Hi(a){var b=Rd.kd(eb(),hb,!1);vi(Fi(a,b));bb&&(a=eb(),vi("\n"),A.jd(a,gb))}
function Ii(a,b,c,d,e){return si(d,function(f,h,k){var l=Wb(f);c.kd?c.kd(l,h,k):c.call(null,l,h,k);uc(h," ");f=Xb(f);return c.kd?c.kd(f,h,k):c.call(null,f,h,k)},[y.hd(a),"{"].join(""),", ","}",e,F(b))}function Bi(a,b,c,d){var e=(fe(a),null),f=R(e,0,null);e=R(e,1,null);return t(f)?Ii(["#:",y.hd(f)].join(""),e,b,c,d):Ii(null,a,b,c,d)}G.prototype.Od=m;G.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Re.prototype.Od=m;Re.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};
tg.prototype.Od=m;tg.prototype.Ad=function(a,b,c){return si(b,Ai,"["," ","]",c,this)};Jh.prototype.Od=m;Jh.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Ah.prototype.Od=m;Ah.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Nh.prototype.Od=m;Nh.prototype.Ad=function(a,b,c){return si(b,Ai,"["," ","]",c,this)};Yg.prototype.Od=m;Yg.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Fg.prototype.Od=m;
Fg.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Le.prototype.Od=m;Le.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Cd.prototype.Od=m;Cd.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Fh.prototype.Od=m;Fh.prototype.Ad=function(a,b,c){return Bi(this,Ai,b,c)};Ch.prototype.Od=m;Ch.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Hg.prototype.Od=m;Hg.prototype.Ad=function(a,b,c){return si(b,Ai,"["," ","]",c,this)};
Wh.prototype.Od=m;Wh.prototype.Ad=function(a,b,c){return Bi(this,Ai,b,c)};ei.prototype.Od=m;ei.prototype.Ad=function(a,b,c){return si(b,Ai,"#{"," ","}",c,this)};We.prototype.Od=m;We.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Ff.prototype.Od=m;Ff.prototype.Ad=function(a,b,c){uc(b,"#object[cljs.core.Atom ");Ai(new n(null,1,[Ji,this.state],null),b,c);return uc(b,"]")};bi.prototype.Od=m;bi.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Mh.prototype.Od=m;
Mh.prototype.Ad=function(a,b,c){return si(b,Ai,"["," ","]",c,this)};Nf.prototype.Od=m;Nf.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};U.prototype.Od=m;U.prototype.Ad=function(a,b,c){return si(b,Ai,"["," ","]",c,this)};Og.prototype.Od=m;Og.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Je.prototype.Od=m;Je.prototype.Ad=function(a,b){return uc(b,"()")};Pg.prototype.Od=m;Pg.prototype.Ad=function(a,b,c){return si(b,Ai,"#queue ["," ","]",c,F(this))};
n.prototype.Od=m;n.prototype.Ad=function(a,b,c){return Bi(this,Ai,b,c)};ni.prototype.Od=m;ni.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};ai.prototype.Od=m;ai.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};Od.prototype.Od=m;Od.prototype.Ad=function(a,b,c){return si(b,Ai,"("," ",")",c,this)};bd.prototype.af=m;bd.prototype.Ce=function(a,b){if(b instanceof bd)return ad(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};B.prototype.af=m;
B.prototype.Ce=function(a,b){if(b instanceof B)return Me(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};Hg.prototype.af=m;Hg.prototype.Ce=function(a,b){if(he(b))return re(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};U.prototype.af=m;U.prototype.Ce=function(a,b){if(he(b))return re(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};tg.prototype.af=m;
tg.prototype.Ce=function(a,b){if(he(b))return re(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};Nh.prototype.af=m;Nh.prototype.Ce=function(a,b){if(he(b))return re(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};Mh.prototype.af=m;Mh.prototype.Ce=function(a,b){if(he(b))return re(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};var Ni=null;
function Oi(){null==Ni&&(Ni=Gf(0));return cd.hd([y.hd("reagent"),y.hd(If.jd(Ni,md))].join(""))}function Pi(){}
var Qi=function Qi(a){if(null!=a&&null!=a.Dg)return a.Dg(a);var c=Qi[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Qi._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IEncodeJS.-clj-\x3ejs",a);},Ri=function Ri(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new G(c.slice(1),0,null):null;return Ri.od(arguments[0],c)};
Ri.od=function(a,b){var c=null!=b&&(b.md&64||m===b.Md)?ke(Zh,b):b,d=A.kd(c,Si,Qe),e=function(){return function(h){var k=f;return(null!=h?m===h.Cg||(h.pg?0:u(Pi,h)):u(Pi,h))?Qi(h):"string"===typeof h||"number"===typeof h||h instanceof B||h instanceof bd?k.hd?k.hd(h):k.call(null,h):Fi(Fd([h]),eb())}}(b,c,c,d),f=function(h,k,l,p){return function v(q){if(null==q)return null;if(null!=q?m===q.Cg||(q.pg?0:u(Pi,q)):u(Pi,q))return Qi(q);if(q instanceof B)return p.hd?p.hd(q):p.call(null,q);if(q instanceof bd)return y.hd(q);
if(fe(q)){var w={};q=F(q);for(var x=null,C=0,E=0;;)if(E<C){var P=x.xd(null,E),S=R(P,0,null),ea=R(P,1,null);P=w;S=e(S);ea=v(ea);P[S]=ea;E+=1}else if(q=F(q))ie(q)?(C=Gc(q),q=Hc(q),x=C,C=O(C)):(x=H(q),C=R(x,0,null),E=R(x,1,null),x=w,C=e(C),E=v(E),x[C]=E,q=I(q),x=null,C=0),E=0;else break;return w}if(ce(q)){w=[];q=F(Jf.jd(v,q));x=null;for(E=C=0;;)if(E<C)P=x.xd(null,E),w.push(P),E+=1;else if(q=F(q))x=q,ie(x)?(q=Gc(x),E=Hc(x),x=q,C=O(q),q=E):(q=H(x),w.push(q),q=I(x),x=null,C=0),E=0;else break;return w}return q}}(b,
c,c,d);return f(a)};Ri.ud=1;Ri.td=function(a){var b=H(a);a=I(a);return this.od(b,a)};function Ti(a,b){var c=Error(a);this.message=a;this.data=b;this.cause=null;this.name=c.name;this.description=c.description;this.number=c.number;this.fileName=c.fileName;this.lineNumber=c.lineNumber;this.columnNumber=c.columnNumber;this.stack=c.stack;return this}Ti.prototype.__proto__=Error.prototype;Ti.prototype.Od=m;
Ti.prototype.Ad=function(a,b,c){uc(b,"#error {:message ");Ai(this.message,b,c);t(this.data)&&(uc(b,", :data "),Ai(this.data,b,c));t(this.cause)&&(uc(b,", :cause "),Ai(this.cause,b,c));return uc(b,"}")};Ti.prototype.toString=function(){return Pc(this)};function Ui(a,b){return new Ti(a,b)}if("undefined"===typeof Xa||"undefined"===typeof Ya||"undefined"===typeof Vi)var Vi=null;"undefined"!==typeof console&&lb();
if("undefined"===typeof Xa||"undefined"===typeof Ya||"undefined"===typeof Wi)var Wi=function(){throw Error("cljs.core/*eval* not bound");};lb();var Xi=new B(null,"idle","idle",-2007156861),Yi=new B(null,"picked-piece","picked-piece",1575215221),Zi=new B(null,"div.col-xl-auto","div.col-xl-auto",1282494918),$i=new B(null,"button.btn.btn-link","button.btn.btn-link",-435000034),aj=new B(null,"game","game",-441523833),bj=new B(null,"next-game-move-number","next-game-move-number",1341022096),Ji=new B(null,"val","val",128701612),cj=new B(null,"delete-fb-doc","delete-fb-doc",771075227),dj=new B(null,"div.d-flex.align-items-center","div.d-flex.align-items-center",
-1526073083),ej=new B(null,"ms","ms",-1152709733),fj=new B(null,"render","render",-1408033454),gj=new B(null,"button.btn.btn-success","button.btn.btn-success",574341715),hj=new B(null,"background-image","background-image",-1142314704),ij=new B(null,"add-fb-doc","add-fb-doc",-1375540194),jj=new B(null,"auto-run","auto-run",1958400437),kj=new B(null,"medium-bot","medium-bot",-1965059009),lj=new B(null,"left","left",-399115937),mj=new B(null,"btn-danger","btn-danger",-1323357465),nj=new B(null,"board",
"board",-1907017633),oj=new B(null,"start-game","start-game",115628303),pj=new B(null,"log","log",-1595516004),qj=new B(null,"span.pt-1","span.pt-1",254343170),rj=new B(null,"create-player","create-player",-835545936),sj=new B(null,"on-dispose","on-dispose",2105306360),tj=new B(null,"start-move","start-move",-1972353710),uj=new B(null,"info-bar","info-bar",-1336008826),vj=new B(null,"from","from",1815293044),wj=new B(null,"challenge","challenge",1302148691),xj=new B(null,"oi-plus","oi-plus",-1358220094),
yj=new B(null,"td\x3espan.ml-3","td\x3espan.ml-3",-1107150566),zj=new B(null,"div.modal-dialog","div.modal-dialog",-237012986),Aj=new B(null,"easy-bot","easy-bot",-1887855782),Bj=new B(null,"document","document",-1329188687),Cj=new B(null,"fsm-state","fsm-state",1656310533),Dj=new B(null,"fb-transact","fb-transact",-293234204),Ej=new B(null,"div.float-right","div.float-right",1969658268),Fj=new B(null,"search-depth","search-depth",187520100),Gj=new B(null,"email","email",1415816706),Hj=new B(null,
"span.oi","span.oi",2145043548),Ij=new B(null,"make-bot-move","make-bot-move",-2011792564),Jj=new B(null,"tabIndex","tabIndex",-169286716),Kj=new B(null,"on-click","on-click",1632826543),Lj=new B(null,"\x3c-","\x3c-",760412998),Mj=new B(null,"hand","hand",791601933),Nj=new B(null,"turn","turn",75759344),Oj=new B(null,"role","role",-736691072),Pj=new B(null,"btn-light","btn-light",-170760269),Qj=new B(null,"div.mb-2","div.mb-2",-710047800),Rj=new B(null,"padding","padding",1660304693),Sj=new B(null,
"my-turn?","my-turn?",-761637518),Tj=new B(null,"img","img",1442687358),Uj=new B(null,"game-moves","game-moves",1349448652),Ci=new B(null,"alt-impl","alt-impl",670969595),Vj=new B(null,"piece","piece",1396691784),Wj=new B(null,"random-bot","random-bot",623375651),Xj=new B(null,"lion","lion",1707241445),Yj=new B(null,"finished-games","finished-games",-1774870294),Zj=new B(null,"active-challenges","active-challenges",1221275831),ak=new B(null,"current-user","current-user",-868792091),bk=new B(null,
"no-cache","no-cache",1588056370),ck=new B(null,"next-moves","next-moves",-644123965),dk=new B(null,"span.ml-2","span.ml-2",729972922),ek=new B(null,"oi-media-pause","oi-media-pause",-1557917706),fk=new B(null,"players","players",-1361554569),gk=new B(null,"\x3c\x3e","\x3c\x3e",1280186386),hk=new B(null,"exception","exception",-335277064),ik=new B(null,"finish-run","finish-run",753148477),jk=new B(null,"div.mt-4.row.justify-content-center","div.mt-4.row.justify-content-center",-1187257582),kk=new B(null,
"h5.text-center","h5.text-center",-1381748718),lk=new B(null,"dispatch-later","dispatch-later",291951390),gb=new B(null,"flush-on-newline","flush-on-newline",-151457939),mk=new B(null,"div.modal-wrapper","div.modal-wrapper",-721152186),nk=new B(null,"after","after",594996914),ok=new B(null,"div.col","div.col",-1800797011),pk=new B(null,"reagent-render","reagent-render",-985383853),qk=new B(null,"challenges","challenges",1539156264),rk=new B(null,"before","before",-1633692388),sk=new B(null,"trigger",
"trigger",103466139),tk=new B(null,"moves","moves",927465255),uk=new B(null,"uid","uid",-1447769400),vk=new B(null,"elephant","elephant",-1725469300),wk=new B(null,"active-games","active-games",-132704267),xk=new B(null,"cancel-move","cancel-move",-1648757002),yk=new B(null,"tr","tr",-1424774646),zk=new B(null,"to","to",192099007),Ak=new B(null,"set","set",304602554),Bk=new B(null,"add-event","add-event",938429088),Ck=new B(null,"hands","hands",-49500209),Dk=new B(null,"componentWillUnmount","componentWillUnmount",
1573788814),Ek=new B(null,"td.font-weight-bold","td.font-weight-bold",1106305476),Fk=new B(null,"td","td",1479933353),Ik=new B(null,"hard-bot","hard-bot",-648571942),Jk=new B(null,"my-finished-games","my-finished-games",1582792289),Kk=new B(null,"scheduled","scheduled",553898551),Lk=new B(null,"error","error",-978969032),Mk=new B(null,"div.container-fluid\x3ediv.mx-lg-5.mt-2","div.container-fluid\x3ediv.mx-lg-5.mt-2",-1543683944),Nk=new B(null,"update-fb-doc","update-fb-doc",-30930332),Ok=new B(null,
"event","event",301435442),Pk=new B(null,"signed-in","signed-in",1370654736),Qk=new B(null,"effects","effects",-282369292),Rk=new B(null,"do-fx","do-fx",1194163050),Sk=new B(null,"div","div",1057191632),Tk=new B(null,"current-position","current-position",2031348254),Di=new B(null,"fallback-impl","fallback-impl",-1501286995),Uk=new B(null,"display-name","display-name",694513143),Vk=new B(null,"games","games",1927565374),Wk=new B(null,"height","height",1025178622),Xk=new B(null,"td\x3espan.mx-2","td\x3espan.mx-2",
-500975165),Si=new B(null,"keyword-fn","keyword-fn",-64566675),Yk=new B(null,"delete-fb-coll","delete-fb-coll",1687916707),Zk=new B(null,"result","result",1415092211),$k=new B(null,"div.col-xl","div.col-xl",-599266275),al=new B(null,"div.row.mt-4","div.row.mt-4",1664657248),bl=new B(null,"resume","resume",-118572261),cl=new B(null,"width","width",-384071477),dl=new B(null,"debug","debug",-1608172596),el=new B(null,"table\x3etbody","table\x3etbody",-1603093044),fl=new B(null,"active?","active?",459499776),
gl=new B(null,"div.d-flex.justify-content-center","div.d-flex.justify-content-center",1785182291),hl=new B(null,"component-will-unmount","component-will-unmount",-2058314698),il=new B(null,"font-size","font-size",-1847940346),jl=new B(null,"oi-pencil","oi-pencil",-318749487),kl=new B(null,"pause","pause",-2095325672),ll=new B(null,"play-move","play-move",1729623260),ml=new B(null,"min-height","min-height",398480837),nl=new B(null,"current-uid","current-uid",342017555),ol=new B(null,"group","group",
582596132),pl=new B(null,"unnamed","unnamed",-26044928),ql=new B(null,"td.font-weight-bold.text-nowrap","td.font-weight-bold.text-nowrap",672128446),rl=new B(null,"db-handler","db-handler",579530098),sl=new B(null,"set-nickname","set-nickname",-364271010),tl=new B(null,"style","style",-496642736),ul=new B(null,"div.backdrop","div.backdrop",1213001975),vl=new B(null,"active-challenge","active-challenge",-1468824283),wl=new B(null,"game-view","game-view",460733246),xl=new B(null,"finished-at","finished-at",
560511419),ti=new B(null,"more-marker","more-marker",-14717935),yl=new B(null,"span","span",1394872991),zl=new B(null,"fb-doc","fb-doc",-1400073563),Al=new B(null,"span.d-flex.justify-content-end","span.d-flex.justify-content-end",-1405581822),Bl=new B(null,"oi-media-play","oi-media-play",699941361),Cl=new B(null,"picked","picked",-1140535747),Dl=new B(null,"set-fb-doc","set-fb-doc",1863453008),El=new B(null,"set-collapsed","set-collapsed",-767930368),Fl=new B(null,"oi-x","oi-x",-510210949),Gl=new B(null,
"delete-game","delete-game",-970899326),Hl=new B(null,"signed-out","signed-out",716070557),ib=new B(null,"meta","meta",1499536964),Il=new B(null,"componentFunction","componentFunction",825866104),Jl=new B(null,"displayName","displayName",-809144601),Kl=new B(null,"eval-fn","eval-fn",-1111644294),Ll=new B(null,"map","map",1371690461),Ml=new B(null,"button.btn.btn-sm.btn-danger","button.btn.btn-sm.btn-danger",-1786051141),Nl=new B(null,"open?","open?",1238443125),Ol=new B(null,"div.mt-3","div.mt-3",
-681976597),Pl=new B(null,"right","right",-452581833),Ql=new B(null,"div.mt-4","div.mt-4",-1531088843),Rl=new B(null,"h4.text-center\x3estrong\x3eu","h4.text-center\x3estrong\x3eu",-329512594),Sl=new B(null,"nickname","nickname",-802027190),Tl=new B(null,"span.mr-2","span.mr-2",1488641310),Ul=new B(null,"span.mr-3","span.mr-3",-1122606375),Vl=new B(null,"btn-primary","btn-primary",-511632032),Wl=new B(null,"field","field",-1302436500),Xl=new B(null,"background-color","background-color",570434026),
Yl=new B(null,"running","running",1554969103),Zl=new B(null,"class","class",-2030961996),$l=new B(null,"history","history",-247395220),am=new B(null,"btn-info","btn-info",-1392958586),bm=new B(null,"div.row","div.row",133678515),cm=new B(null,"button.btn.btn-link.ml-2","button.btn.btn-link.ml-2",-914941541),dm=new B(null,"fb-coll","fb-coll",-604371899),em=new B(null,"chicken","chicken",1192778878),fm=new B(null,"div.modal","div.modal",-610985484),gm=new B(null,"dispatch","dispatch",1319337009),hm=
new B(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),tf=new bd(null,"meta51085","meta51085",1279731381,null),im=new B(null,"visible-modals","visible-modals",481383803),jm=new B(null,"stack","stack",-793405930),km=new B(null,"delete-challenge","delete-challenge",-167740219),lm=new B(null,"reagentRender","reagentRender",-358306383),mm=new B(null,"cursor","cursor",1011937484),nm=new B(null,"name","name",1843675177),om=new B("re-frame.std-interceptors","untrimmed-event","re-frame.std-interceptors/untrimmed-event",
-840935075),pm=new B(null,"collapsed","collapsed",-628494523),qm=new B(null,"modal-open","modal-open",-845881300),rm=new B(null,"coeffects","coeffects",497912985),sm=new B(null,"queue","queue",1455835879),tm=new B(null,"warn","warn",-436710552),um=new B(null,"on-set","on-set",-140953470),vm=new B(null,"pointer","pointer",85071187),wm=new B(null,"display","display",242065432),xm=new B(null,"src","src",-1651076051),ym=new B(null,"moves-fn","moves-fn",-1301983055),zm=new B(null,"div.col-auto.col-xl-12\x3espan.d-flex.align-items-center.justify-content-center",
"div.col-auto.col-xl-12\x3espan.d-flex.align-items-center.justify-content-center",415013284),Am=new B(null,"cofx","cofx",2013202907),Bm=new B(null,"button.btn.btn-danger.ml-2","button.btn.btn-danger.ml-2",-722142981),Cm=new B(null,"oi-minus","oi-minus",-346014020),jb=new B(null,"dup","dup",556298533),Dm=new B(null,"fx-handler","fx-handler",-549783097),Em=new B(null,"collapsed?","collapsed?",-1661420674),Fm=new B(null,"set-open","set-open",-55119703),Gm=new B(null,"h1","h1",-1896887462),Hm=new B(null,
"sequential","sequential",-1082983960),Im=new B(null,"h3","h3",2067611163),Jm=new B(null,"fx","fx",-1237829572),Km=new B(null,"open-players","open-players",1720279354),kb=new B(null,"print-length","print-length",1931866356),Lm=new B(null,"dispatch-n","dispatch-n",-504469236),Mm=new B(null,"trim-v","trim-v",-1274938640),Nm=new B(null,"chick","chick",-1081963668),Om=new B(null,"button.btn.btn-primary.btn-circle","button.btn.btn-primary.btn-circle",-263005508),Pm=new B(null,"paused","paused",-1710376127),
Qm=new B(null,"component-did-update","component-did-update",-1468549173),Rm=new B(null,"div.card\x3ediv.card-body","div.card\x3ediv.card-body",-435848789),Sm=new B(null,"flush-dom","flush-dom",-933676816),Tm=new B(null,"sub","sub",-2093760025),Um=new B(null,"started-at","started-at",1318767912),Vm=new B(null,"dialog","dialog",1415150135),Wm=new B(null,"on-write","on-write",31519475),Xm=new B(null,"key","key",-1516042587),Ym=new B(null,"db","db",993250759),Zm=new B(null,"giraffe","giraffe",-558678955),
$m=new B(null,"validator","validator",-1966190681),an=new B(null,"player-info","player-info",-859643705),bn=new B(null,"close-modal","close-modal",-1882189985),cn=new B("re-frame.std-interceptors","not-found","re-frame.std-interceptors/not-found",-1614827865),dn=new B(null,"my-challenges","my-challenges",-1260582702),en=new B(null,"autobind","autobind",-570650245),fn=new B(null,"yield","yield",177875009),gn=new B(null,"deregister-event-handler","deregister-event-handler",-1096518994),hb=new B(null,
"readably","readably",1129599760),hn=new B(null,"last-moves","last-moves",-593139489),jn=new B(null,"my-active-games","my-active-games",-211497920),kn=new B(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),ln=new B(null,"button.btn.btn-primary","button.btn.btn-primary",510358192),mn=new B(null,"id","id",-1388402092),nn=new B(null,"run-queue","run-queue",-1701798027),on=new B(null,"block","block",664686210),pn=new B(null,"show-modal","show-modal",-11429385),qn=new B(null,"componentWillMount",
"componentWillMount",-285327619),rn=new B(null,"draw","draw",1358331674),sn=new B(null,"hide-modal","hide-modal",619662220),tn=new B(null,"groupEnd","groupEnd",-337721382),un=new B(null,"atom","atom",-397043653),vn=new B(null,"my-games","my-games",-420500673);var Ma;a:{var wn=aa.navigator;if(wn){var xn=wn.userAgent;if(xn){Ma=xn;break a}}Ma=""}function yn(a){return-1!=Ma.indexOf(a)};function zn(){return yn("iPhone")&&!yn("iPod")&&!yn("iPad")};yn("Opera");yn("Trident")||yn("MSIE");yn("Edge");!yn("Gecko")||La("WebKit")&&!yn("Edge")||yn("Trident")||yn("MSIE")||yn("Edge");La("WebKit")&&!yn("Edge")&&yn("Mobile");yn("Macintosh");yn("Windows");yn("Linux")||yn("CrOS");var An=aa.navigator||null;An&&(An.appVersion||"").indexOf("X11");yn("Android");zn();yn("iPad");yn("iPod");zn()||yn("iPad")||yn("iPod");La("KaiOS");La("GAFP");var Bn={},Cn={},Dn=[];function En(a,b){var c=Cn[a];if(void 0!==c)return c;try{Dn.push(a);var d=Bn[a];void 0===d&&(d={exports:{}},Bn[a]=d);var e=shadow$provide[a];if(e){delete shadow$provide[a];try{e.call(d,aa,En,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{Dn.pop()}return d.exports};var Fn=En(6,{});function Gn(a,b,c){var d=t(b.ignoreCase)?"gi":"g";d=t(b.multiline)?[d,"m"].join(""):d;return a.replace(new RegExp(b.source,t(b.gh)?[d,"u"].join(""):d),c)}
function Hn(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new G(f,0,null)}return c.call(this,e)}function c(d){d=Mf(d);if(J.jd(O(d),1))return d=H(d),a.hd?a.hd(d):a.call(null,d);d=Ag(d);return a.hd?a.hd(d):a.call(null,d)}b.ud=0;b.td=function(d){d=F(d);return c(d)};b.od=c;return b}()}
function In(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?Gn(a,b,c):Gn(a,b,Hn(c));throw["Invalid match arg: ",y.hd(b)].join("");}function Jn(a,b){var c=new Wa;for(b=F(b);;)if(null!=b)c.append(y.hd(H(b))),b=I(b),null!=b&&c.append(a);else return c.toString()}function Kn(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()}
function Ln(a){var b=/-/;a="/(?:)/"===y.hd(b)?Md.jd(Ag(Ed("",Jf.jd(y,F(a)))),""):Ag(y.hd(a).split(b));if(1<O(a))a:for(;;)if(""===Zd(a))a=$d(a);else break a;return a};var Mn={},Nn={};if("undefined"===typeof Mn||"undefined"===typeof Nn||"undefined"===typeof On)var On=Gf(null);
if("undefined"===typeof Mn||"undefined"===typeof Nn||"undefined"===typeof Pn)var Pn=function(){var a={};a.warn=function(){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new G(f,0,null)}return c.call(this,e)}function c(d){return If.od(On,bg,new U(null,1,5,X,[tm],null),Md,Fd([ke(y,d)]))}b.ud=0;b.td=function(d){d=F(d);return c(d)};b.od=c;return b}()}(a);a.error=function(){return function(){function b(d){var e=
null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new G(f,0,null)}return c.call(this,e)}function c(d){return If.od(On,bg,new U(null,1,5,X,[Lk],null),Md,Fd([ke(y,d)]))}b.ud=0;b.td=function(d){d=F(d);return c(d)};b.od=c;return b}()}(a);return a}();var Qn={},Rn="undefined"!==typeof window&&null!=window.document,Sn=new ei(null,new n(null,2,["aria",null,"data",null],null),null);function Tn(a){return 2>O(a)?a.toUpperCase():[y.hd(a.substring(0,1).toUpperCase()),y.hd(a.substring(1))].join("")}function Un(a){if("string"===typeof a)return a;a=Qe(a);var b=Ln(a),c=F(b);b=H(c);c=I(c);return t(Sn.hd?Sn.hd(b):Sn.call(null,b))?a:mf(y,b,Jf.jd(Tn,c))}
function Vn(a){var b=function(){var c=function(){var d=Ud(a);return d?(d=a.displayName,t(d)?d:a.name):d}();if(t(c))return c;c=function(){var d=null!=a?a.vd&4096||m===a.kg?!0:!1:!1;return d?Qe(a):d}();if(t(c))return c;c=Yd(a);return fe(c)?nm.hd(c):null}();return In(y.hd(b),"$",".")}var Wn=!1;var Xn=En(12,{});var Yn={};if("undefined"===typeof Mn||"undefined"===typeof Qn||"undefined"===typeof Yn||"undefined"===typeof Zn)var Zn=0;function $n(a){return setTimeout(a,16)}var ao=Rn?function(){var a=window,b=a.requestAnimationFrame;if(t(b))return b;b=a.webkitRequestAnimationFrame;if(t(b))return b;b=a.mozRequestAnimationFrame;if(t(b))return b;a=a.msRequestAnimationFrame;return t(a)?a:$n}():$n;function bo(a,b){return a.cljsMountOrder-b.cljsMountOrder}
if("undefined"===typeof Mn||"undefined"===typeof Qn||"undefined"===typeof Yn||"undefined"===typeof co)var co=function(){return null};function eo(){this.Sf=!1}g=eo.prototype;g.run_funs=function(a){var b=this[a];if(null==b)return null;this[a]=null;a=b.length;for(var c=0;;)if(c<a){var d=b[c];d.rd?d.rd():d.call(null);c+=1}else return null};g.flush_after_render=function(){return this.run_funs("afterRender")};g.queue_render=function(a){return this.enqueue("componentQueue",a)};
g.schedule=function(){if(this.Sf)return null;this.Sf=!0;var a=function(b){return function(){return b.run_queues()}}(this);return ao.hd?ao.hd(a):ao.call(null,a)};g.flush_queues=function(){this.run_funs("beforeFlush");co();var a=this.componentQueue;if(null!=a)a:{this.componentQueue=null,a.sort(bo);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return this.flush_after_render()};g.run_queues=function(){this.Sf=!1;return this.flush_queues()};
g.enqueue=function(a,b){null==this[a]&&(this[a]=[]);this[a].push(b);return this.schedule()};g.add_before_flush=function(a){return this.enqueue("beforeFlush",a)};g.add_after_render=function(a){return this.enqueue("afterRender",a)};if("undefined"===typeof Mn||"undefined"===typeof Qn||"undefined"===typeof Yn||"undefined"===typeof fo){var fo;fo=new eo}function go(a){if(t(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return fo.queue_render(a)};function ho(a,b){a=mf(ki,a,b);return Ed(a,Rf(function(c){return function(d){return c===d}}(a),b))}function io(a,b){return O(a)<O(b)?xb(Md,b,a):xb(Md,a,b)}var jo=function jo(a){switch(arguments.length){case 1:return jo.hd(arguments[0]);case 2:return jo.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(2),0,null);return jo.od(arguments[0],arguments[1],c)}};jo.hd=function(a){return a};
jo.jd=function(a,b){for(;;)if(O(b)<O(a)){var c=a;a=b;b=c}else return xb(function(d,e){return function(f,h){return pe(e,h)?f:ae.jd(f,h)}}(a,b),a,a)};jo.od=function(a,b,c){a=ho(function(d){return-O(d)},Md.od(c,b,Fd([a])));return xb(jo,H(a),ed(a))};jo.td=function(a){var b=H(a),c=I(a);a=H(c);c=I(c);return this.od(b,a,c)};jo.ud=2;
var ko=function ko(a){switch(arguments.length){case 1:return ko.hd(arguments[0]);case 2:return ko.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(2),0,null);return ko.od(arguments[0],arguments[1],c)}};ko.hd=function(a){return a};ko.jd=function(a,b){return O(a)<O(b)?xb(function(c,d){return pe(b,d)?ae.jd(c,d):c},a,a):xb(ae,a,b)};ko.od=function(a,b,c){return xb(ko,a,Md.jd(c,b))};
ko.td=function(a){var b=H(a),c=I(a);a=H(c);c=I(c);return this.od(b,a,c)};ko.ud=2;var lo={},mo;if("undefined"===typeof Mn||"undefined"===typeof lo||"undefined"===typeof no)var no=!1;if("undefined"===typeof Mn||"undefined"===typeof lo||"undefined"===typeof oo)var oo=0;if("undefined"===typeof Mn||"undefined"===typeof lo||"undefined"===typeof po)var po=Gf(0);
function qo(a,b){b.captured=null;a:{var c=mo;mo=b;try{var d=a.rd?a.rd():a.call(null);break a}finally{mo=c}d=void 0}a=b.captured;b.cf=!1;a:{c=b.jf;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function ro(a){var b=mo;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function so(a,b){no&&If.kd(po,Ee,O(b)-O(a));return b}
function to(a,b,c){var d=a.$d;a.$d=so(d,Rd.kd(d,b,c));return a.cg=null}function uo(a,b){var c=a.$d;a.$d=so(c,Td.jd(c,b));return a.cg=null}function vo(a,b,c){var d=a.cg;d=null==d?a.cg=Be(function(){return function(l,p,r){l.push(p);l.push(r);return l}}(d),[],a.$d):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.sd?k.sd(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else return null}
function wo(a,b,c,d){uc(b,["#\x3c",y.hd(d)," "].join(""));a:{d=mo;mo=null;try{var e=z(a);break a}finally{mo=d}e=void 0}Ai(e,b,c);return uc(b,"\x3e")}if("undefined"===typeof Mn||"undefined"===typeof lo||"undefined"===typeof xo)var xo=null;function yo(){for(;;){var a=xo;if(null==a)return null;xo=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}co=yo;function zo(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.$d=d;this.md=2154201088;this.vd=114690}g=zo.prototype;
g.Rf=m;g.Ad=function(a,b,c){return wo(this,b,c,"Atom:")};g.Fd=function(){return this.meta};g.Cd=function(){return ha(this)};g.zd=function(a,b){return this===b};g.ge=function(a,b){a=this.state;this.state=b;null!=this.$d&&vo(this,a,b);return b};g.Kf=function(a,b){return this.ge(null,b.hd?b.hd(this.state):b.call(null,this.state))};g.Lf=function(a,b,c){return this.ge(null,b.jd?b.jd(this.state,c):b.call(null,this.state,c))};
g.Mf=function(a,b,c,d){return this.ge(null,b.kd?b.kd(this.state,c,d):b.call(null,this.state,c,d))};g.Nf=function(a,b,c,d,e){return this.ge(null,of(b,this.state,c,d,e))};g.Of=function(a,b){vo(this,a,b)};g.wf=function(a,b,c){return to(this,b,c)};g.xf=function(a,b){return uo(this,b)};g.Jd=function(a,b){return new zo(this.state,b,this.validator,this.$d)};g.De=function(){ro(this);return this.state};
var Ao=function Ao(a){switch(arguments.length){case 1:return Ao.hd(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new G(c.slice(1),0,null);return Ao.od(arguments[0],c)}};Ao.hd=function(a){return new zo(a,null,null,null)};Ao.od=function(a,b){var c=null!=b&&(b.md&64||m===b.Md)?ke(Zh,b):b;b=A.jd(c,ib);c=A.jd(c,$m);return new zo(a,b,c,null)};Ao.td=function(a){var b=H(a);a=I(a);return this.od(b,a)};Ao.ud=1;
function Bo(a,b,c,d){var e=b.reagReactionCache,f=null==e?uf:e,h=f.jd?f.jd(c,null):f.call(null,c,null);if(null!=h)return z(h);if(null==mo)return a.rd?a.rd():a.call(null);var k=function(){var p=function(){return function(){no&&If.jd(po,Fe);var r=Td.jd(b.reagReactionCache,c);b.reagReactionCache=r;null!=d&&(d.Df=null);return null}}(a,sj,e,f,h);return Co.kd?Co.kd(a,sj,p):Co.call(null,a,sj,p)}(),l=z(k);b.reagReactionCache=Rd.kd(f,c,k);no&&If.jd(po,md);null!=d&&(d.Df=k);return l}
function Do(a,b,c){this.f=a;this.tf=b;this.Df=c;this.md=2153807872;this.vd=0}g=Do.prototype;g.Rf=m;g.De=function(){var a=this,b=a.Df;return null==b?Bo(function(){return function(){return ke(a.f,a.tf)}}(b,this),a.f,a.tf,this):z(b)};g.zd=function(a,b){return b instanceof Do&&J.jd(this.f,b.f)&&J.jd(this.tf,b.tf)};g.Cd=function(){return Yc(new U(null,2,5,X,[this.f,this.tf],null))};g.Ad=function(a,b,c){return wo(this,b,c,"Track:")};
function Eo(a,b,c,d,e){this.Td=a;this.path=b;this.Df=c;this.state=d;this.$d=e;this.md=2153807872;this.vd=114690}g=Eo.prototype;g._peek=function(){var a=mo;mo=null;try{return this.De(null)}finally{mo=a}};g._set_state=function(a,b){if(a===b)return null;this.state=b;return null!=this.$d?vo(this,a,b):null};g.Rf=m;g.Ad=function(a,b,c){return wo(this,b,c,["Cursor: ",y.hd(this.path)].join(""))};g.Cd=function(){return Yc(new U(null,2,5,X,[this.Td,this.path],null))};
g.zd=function(a,b){return b instanceof Eo&&J.jd(this.path,b.path)&&J.jd(this.Td,b.Td)};g.ge=function(a,b){this._set_state(this.state,b);(null!=this.Td?this.Td.md&32768||m===this.Td.ig||(this.Td.md?0:u(dc,this.Td)):u(dc,this.Td))?J.jd(this.path,Nd)?Hf(this.Td,b):If.sd(this.Td,ag,this.path,b):this.Td.jd?this.Td.jd(this.path,b):this.Td.call(null,this.path,b);return b};g.Kf=function(a,b){var c=this;return c.ge(null,function(){var d=c._peek();return b.hd?b.hd(d):b.call(null,d)}())};
g.Lf=function(a,b,c){var d=this;return d.ge(null,function(){var e=d._peek();return b.jd?b.jd(e,c):b.call(null,e,c)}())};g.Mf=function(a,b,c,d){var e=this;return e.ge(null,function(){var f=e._peek();return b.kd?b.kd(f,c,d):b.call(null,f,c,d)}())};g.Nf=function(a,b,c,d,e){return this.ge(null,of(b,this._peek(),c,d,e))};g.Of=function(a,b){vo(this,a,b)};g.wf=function(a,b,c){return to(this,b,c)};g.xf=function(a,b){return uo(this,b)};
g.De=function(){var a=this,b=this,c=a.state,d=function(){var e=a.Df;return null==e?(e=(null!=a.Td?a.Td.md&32768||m===a.Td.ig||(a.Td.md?0:u(dc,a.Td)):u(dc,a.Td))?function(){return function(){return $f(z(a.Td),a.path)}}(e,c,b):function(){return function(){return a.Td.hd?a.Td.hd(a.path):a.Td.call(null,a.path)}}(e,c,b),Bo(e,a.Td,a.path,b)):z(e)}();b._set_state(c,d);return d};
var Fo=function Fo(a){if(null!=a&&null!=a.ag)return a.ag(a);var c=Fo[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Fo._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("IDisposable.dispose!",a);},Go=function Go(a,b){if(null!=a&&null!=a.vg)return a.vg(a,b);var d=Go[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Go._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("IDisposable.add-on-dispose!",a);};
function Ho(a,b,c,d){return a._handle_change(b,c,d)}function Io(a,b,c,d,e,f,h,k){this.f=a;this.state=b;this.cf=c;this.sg=d;this.jf=e;this.$d=f;this.ve=h;this.Uf=k;this.md=2153807872;this.vd=114690}g=Io.prototype;g._peek_at=function(){var a=mo;mo=null;try{return this.De(null)}finally{mo=a}};
g._handle_change=function(a,b,c){return b===c||this.cf?null:null==this.ve?(this.cf=!0,null==xo&&(xo=[],!1===fo.Sf&&fo.schedule()),xo.push(this)):!0===this.ve?this._run(!1):this.ve.hd?this.ve.hd(this):this.ve.call(null,this)};
g._update_watching=function(a){var b=ii(a),c=ii(this.jf);this.jf=a;a=F(ko.jd(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.xd(null,f);xc(h,this,Ho);f+=1}else if(a=F(a))d=a,ie(d)?(a=Gc(d),f=Hc(d),d=a,e=O(a),a=f):(a=H(d),xc(a,this,Ho),a=I(d),d=null,e=0),f=0;else break;b=F(ko.jd(c,b));c=null;for(e=d=0;;)if(e<d)a=c.xd(null,e),yc(a,this),e+=1;else if(b=F(b))c=b,ie(c)?(b=Gc(c),d=Hc(c),c=b,a=O(b),b=d,d=a):(a=H(c),yc(a,this),b=I(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.cf&&null!=this.jf?this._run(!0):null};g._try_capture=function(a){try{return this.Uf=null,qo(a,this)}catch(b){return this.Uf=this.state=a=b,this.cf=!1}};g._run=function(a){var b=this.state;a=t(a)?this._try_capture(this.f):qo(this.f,this);this.sg||(this.state=a,null==this.$d||J.jd(b,a)||vo(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.md&64||m===a.Md)?ke(Zh,a):a;a=A.jd(b,jj);var c=A.jd(b,um),d=A.jd(b,sj);b=A.jd(b,bk);null!=a&&(this.ve=a);null!=c&&(this.Qg=c);null!=d&&(this.tg=d);return null!=b?this.sg=b:null};g.Rf=m;g.Ad=function(a,b,c){return wo(this,b,c,["Reaction ",y.hd(Yc(this)),":"].join(""))};g.Cd=function(){return ha(this)};g.zd=function(a,b){return this===b};
g.ag=function(){var a=this.state,b=this.jf;this.ve=this.state=this.jf=null;this.cf=!0;b=F(ii(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.xd(null,e);yc(f,this);e+=1}else if(b=F(b))c=b,ie(c)?(b=Gc(c),e=Hc(c),c=b,d=O(b),b=e):(b=H(c),yc(b,this),b=I(c),c=null,d=0),e=0;else break;null!=this.tg&&this.tg(a);a=this.ug;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.hd?d.hd(this):d.call(null,this),c+=1;else return null};g.vg=function(a,b){a=this.ug;return null==a?this.ug=[b]:a.push(b)};
g.ge=function(a,b){a=this.state;this.state=b;this.Qg(a,b);vo(this,a,b);return b};g.Kf=function(a,b){var c=this;return c.ge(null,function(){var d=c._peek_at();return b.hd?b.hd(d):b.call(null,d)}())};g.Lf=function(a,b,c){var d=this;return d.ge(null,function(){var e=d._peek_at();return b.jd?b.jd(e,c):b.call(null,e,c)}())};g.Mf=function(a,b,c,d){var e=this;return e.ge(null,function(){var f=e._peek_at();return b.kd?b.kd(f,c,d):b.call(null,f,c,d)}())};
g.Nf=function(a,b,c,d,e){return this.ge(null,of(b,this._peek_at(),c,d,e))};g.Of=function(a,b){vo(this,a,b)};g.wf=function(a,b,c){return to(this,b,c)};g.xf=function(a,b){a=be(this.$d);uo(this,b);return!a&&be(this.$d)&&null==this.ve?this.ag(null):null};
g.De=function(){var a=this.Uf;if(null!=a)throw a;(a=null==mo)&&yo();a&&null==this.ve?this.cf&&(a=this.state,this.state=this.f.rd?this.f.rd():this.f.call(null),null==this.$d||J.jd(a,this.state)||vo(this,a,this.state)):(ro(this),this.cf&&this._run(!1));return this.state};
function Co(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new G(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.md&64||m===c.Md)?ke(Zh,c):c;c=A.jd(e,jj);d=A.jd(e,um);e=A.jd(e,sj);b=new Io(b,null,!0,!1,null,null,null,null);b._set_opts(new n(null,3,[jj,c,um,d,sj,e],null));return b}var Jo=Co(null);
function Ko(a,b){var c=Lo,d=Jo,e=qo(a,d);null!=d.jf&&(Jo=Co(null),d._set_opts(c),d.f=a,d.ve=function(){return function(){return go.hd?go.hd(b):go.call(null,b)}}(d,e),b.cljsRatom=d);return e};var Mo={},No;function Oo(a,b){var c=b.argv;if(null==c){c=X;a=a.constructor;a:for(var d=Oa(b),e=d.length,f=uf,h=0;;)if(h<e){var k=d[h];f=Rd.kd(f,Pe.hd(k),b[k]);h+=1}else break a;b=new U(null,2,5,c,[a,f],null)}else b=c;return b}function Po(a){var b;if(b=Ud(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.reagentRender);return b}if("undefined"===typeof Mn||"undefined"===typeof Qn||"undefined"===typeof Mo||"undefined"===typeof Qo)var Qo=null;
function Ro(a){for(;;){var b=a.reagentRender,c=!0===a.cljsLegacyRender?b.call(a,a):function(){var d=Oo(a,a.props);switch(O(d)){case 1:return b.call(a);case 2:return b.call(a,yd(d,1));case 3:return b.call(a,yd(d,1),yd(d,2));case 4:return b.call(a,yd(d,1),yd(d,2),yd(d,3));case 5:return b.call(a,yd(d,1),yd(d,2),yd(d,3),yd(d,4));default:return b.apply(a,wb(d).slice(1))}}();if(he(c))return Qo.hd?Qo.hd(c):Qo.call(null,c);if(oe(c))c=Po(c)?function(d,e,f,h){return function(){function k(p){var r=null;if(0<
arguments.length){r=0;for(var q=Array(arguments.length-0);r<q.length;)q[r]=arguments[r+0],++r;r=new G(q,0,null)}return l.call(this,r)}function l(p){p=mf(Eg,h,p);return Qo.hd?Qo.hd(p):Qo.call(null,p)}k.ud=0;k.td=function(p){p=F(p);return l(p)};k.od=l;return k}()}(a,b,null,c):c,a.reagentRender=c;else return c}}
var Lo=new n(null,1,[bk,!0],null),So=new n(null,1,[fj,function(){var a=this.cljsRatom;this.cljsIsDirty=!1;return null==a?Ko(function(b,c){return function(){a:{var d=No;No=c;try{var e=Ro(c);break a}finally{No=d}e=void 0}return e}}(a,this),this):a._run(!1)}],null);
function To(a,b){var c=a instanceof B?a.fe:null;switch(c){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getInitialState":return function(){return function(){var d=this.cljsState;d=null!=d?d:this.cljsState=Ao.hd(null);return Hf(d,b.call(this,this))}}(a,c);case "componentWillReceiveProps":return function(){return function(d){return b.call(this,this,Oo(this,d))}}(a,c);case "shouldComponentUpdate":return function(){return function(d){var e=Wn;if(e)return e;e=this.props.argv;
var f=d.argv,h=null==e||null==f;if(null==b){if(h)return h;try{return qf(e,f)}catch(k){return!1}}else return h?b.call(this,this,Oo(this,this.props),Oo(this,d)):b.call(this,this,e,f)}}(a,c);case "componentWillUpdate":return function(){return function(d){return b.call(this,this,Oo(this,d))}}(a,c);case "componentDidUpdate":return function(){return function(d){return b.call(this,this,Oo(this,d))}}(a,c);case "componentWillMount":return function(){return function(){this.cljsMountOrder=Zn+=1;return null==
b?null:b.call(this,this)}}(a,c);case "componentDidMount":return function(){return function(){return b.call(this,this)}}(a,c);case "componentWillUnmount":return function(){return function(){var d=this.cljsRatom;null!=d&&Fo(d);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)}}(a,c);case "componentDidCatch":return function(){return function(d,e){return b.call(this,this,d,e)}}(a,c);default:return null}}function Uo(a,b){a=To(a,b);return t(a)?a:b}
var Vo=new n(null,3,[kn,null,qn,null,Dk,null],null),Wo=function(a){return function(b){return function(c){var d=A.jd(z(b),c);if(null!=d)return d;d=a.hd?a.hd(c):a.call(null,c);If.sd(b,Rd,c,d);return d}}(Gf(uf))}(Un);function Xo(a){return Be(function(b,c,d){return Rd.kd(b,Pe.hd(Wo.hd?Wo.hd(c):Wo.call(null,c)),d)},uf,a)}
function Yo(a){var b=function(){var h=lm.hd(a);return t(h)?h:Il.hd(a)}(),c=null==b,d=t(b)?b:fj.hd(a),e=y.hd(function(){var h=Jl.hd(a);return t(h)?h:Vn(d)}());a:switch(e){case "":var f=y.hd(Oi());break a;default:f=e}b=Be(function(){return function(h,k,l){return Rd.kd(h,k,Uo(k,l))}}(b,c,d,e,f),uf,a);return Rd.od(b,Jl,f,Fd([en,!1,hm,c,lm,d,fj,fj.hd(So)]))}function ap(a){return Be(function(b,c,d){b[Qe(c)]=d;return b},{},a)}function bp(a){a=ap(Yo(ci.od(Fd([Vo,Xo(a)]))));return Xn(a)};var cp={},dp=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/;function ep(a){return a instanceof B||a instanceof bd}var fp={"class":"className","for":"htmlFor",charset:"charSet"};function gp(a,b){return a.hasOwnProperty(b)?a[b]:null}function hp(a,b,c){if(ep(b)){var d=gp(fp,Qe(b));b=null==d?fp[Qe(b)]=Un(b):d}a[b]=ip.hd?ip.hd(c):ip.call(null,c);return a}
function ip(a){return"object"!==da(a)?a:ep(a)?Qe(a):fe(a)?Be(hp,{},a):ce(a)?Ri(a):oe(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new G(f,0,null)}return c.call(this,e)}function c(d){return ke(a,d)}b.ud=0;b.td=function(d){d=F(d);return c(d)};b.od=c;return b}():Ri(a)}var jp={};function kp(a,b,c){if(ep(b)){var d=gp(jp,Qe(b));b=null==d?jp[Qe(b)]=Un(b):d}a[b]=ip(c);return a}
function lp(a){return"object"!==da(a)?a:ep(a)?Qe(a):fe(a)?Be(kp,{},a):ce(a)?Ri(a):oe(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new G(f,0,null)}return c.call(this,e)}function c(d){return ke(a,d)}b.ud=0;b.td=function(d){d=F(d);return c(d)};b.od=c;return b}():Ri(a)}function mp(a,b){a=null==a?{}:a;a.key=b;return a}
function np(a,b){var c=b.id,d=b["class"];b=null!=c&&null==mn.hd(a)?Rd.kd(a,mn,c):a;return t(d)?Rd.kd(b,Zl,function(){var e=Zl.hd(a);return null==e?d:[y.hd(d)," ",y.hd(ep(e)?Qe(e):e)].join("")}()):b}function op(a){var b=null!=a&&(a.md&64||m===a.Md)?ke(Zh,a):a,c=A.jd(b,Zl);return ce(c)?Rd.kd(b,Zl,Jn(" ",Ef(function(){return function(d){return t(d)?ep(d)?Qe(d):d:null}}(a,b,b,c),c))):b}if("undefined"===typeof Mn||"undefined"===typeof Qn||"undefined"===typeof cp||"undefined"===typeof pp)var pp=null;
var qp=new ei(null,new n(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function rp(a,b,c,d){var e=uf,f=null!=e&&(e.md&64||m===e.Md)?ke(Zh,e):e,h=A.jd(f,Wm);if(a===document.activeElement&&pe(qp,a.type)&&"string"===typeof b&&"string"===typeof c){var k=a.value;if(qf(k,c))return fo.add_after_render(function(){return function(){return sp.hd?sp.hd(d):sp.call(null,d)}}(k,e,f,h));c=O(k)-a.selectionStart;c=O(b)-c;d.cljsDOMValue=b;a.value=b;Ud(h)&&(h.hd?h.hd(b):h.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.cljsDOMValue=b;a.value=b;return Ud(h)?h.hd?h.hd(b):h.call(null,
b):null}function sp(a){if(t(a.cljsInputLive)){a.cljsInputDirty=!1;var b=a.cljsRenderedValue,c=a.cljsDOMValue,d=pp.hd?pp.hd(a):pp.call(null,a);return qf(b,c)?rp(d,b,c,a):null}return null}function tp(a,b,c){a.cljsDOMValue=c.target.value;t(a.cljsInputDirty)||(a.cljsInputDirty=!0,fo.add_after_render(function(){return sp(a)}));return b.hd?b.hd(c):b.call(null,c)}
function up(a){var b=No;if(t(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),t(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value,d=null==c?"":c,e=a.onChange;t(b.cljsInputLive)||(b.cljsInputLive=!0,b.cljsDOMValue=d);b.cljsRenderedValue=d;delete a.value;a.defaultValue=d;a.onChange=function(f,h,k,l){return function(p){return tp(b,l,p)}}(a,c,d,e)}}
var vp=null,xp=new n(null,4,[Uk,"ReagentInput",Qm,sp,hl,function(a){return a.cljsInputLive=null},pk,function(a,b,c,d){up(c);return wp.sd?wp.sd(a,b,c,d):wp.call(null,a,b,c,d)}],null);function yp(a){if(fe(a))try{var b=A.jd(a,Xm)}catch(c){b=null}else b=null;return b}function zp(a){var b=yp(Yd(a));return null==b?yp(R(a,1,null)):b}var Ap={};
function Bp(a,b,c){var d=a.name,e=R(b,c,null),f=null==e||fe(e);e=np(op(f?e:null),a);a=t(a.custom)?lp(e):ip(e);c+=f?1:0;a:switch(d){case "input":case "textarea":f=!0;break a;default:f=!1}if(f)return f=X,null==vp&&(vp=bp(xp)),b=Xd(new U(null,5,5,f,[vp,b,d,a,c],null),Yd(b)),Cp.hd?Cp.hd(b):Cp.call(null,b);f=yp(Yd(b));a=null==f?a:mp(a,f);return wp.sd?wp.sd(b,d,a,c):wp.call(null,b,d,a,c)}
function Dp(a){for(;;){var b=R(a,0,null);if(Ne(gk,b)){b=R(a,1,null);var c=null==b||fe(b);b=ip(c?b:null);c=1+(c?1:0);var d=zp(a);null!=d&&mp(b,d);return wp.sd?wp.sd(a,Fn.Fragment,b,c):wp.call(null,a,Fn.Fragment,b,c)}if(ep(b)||"string"===typeof b)switch(b=Qe(b),c=b.indexOf("\x3e"),c){case -1:c=b;b=gp(Ap,c);if(null==b){b=c;var e=I(ri(dp,Qe(c)));c=R(e,0,null);d=R(e,1,null);e=R(e,2,null);e=null==e?null:In(e,/\./," ");c={name:c,id:d,"class":e,custom:qf(-1,c.indexOf("-"))};b=Ap[b]=c}return Bp(b,a,1);case 0:return b=
R(a,1,null),Bp({name:b},a,2);default:a=Xd(new U(null,2,5,X,[b.substring(0,c),Rd.kd(Xd(a,null),0,b.substring(c+1))],null),Yd(a))}else return c=b.cljsReactClass,null==c?Po(b)?b=b.cljsReactClass=b:(c=Yd(b),c=Rd.kd(c,pk,b),c=bp(c),b=b.cljsReactClass=c):b=c,c={argv:a},a=zp(a),null!=a&&(c.key=a),Fn.createElement(b,c)}}
function Cp(a){return"object"!==da(a)?a:he(a)?Dp(a):(null==a?0:null!=a?a.md&64||m===a.Md||(a.md?0:u(Lb,a)):u(Lb,a))?Ep.hd?Ep.hd(a):Ep.call(null,a):ep(a)?Qe(a):(null!=a?a.md&2147483648||m===a.Od||(a.md?0:u(vc,a)):u(vc,a))?Fi(Fd([a]),eb()):a}Qo=Cp;function Ep(a){a=wb(a);for(var b=a.length,c=0;;)if(c<b)a[c]=Cp(a[c]),c+=1;else break;return a}
function wp(a,b,c,d){var e=O(a)-d;switch(e){case 0:return Fn.createElement(b,c);case 1:return a=Cp(R(a,d,null)),Fn.createElement(b,c,a);default:return Fn.createElement.apply(null,Be(function(){return function(f,h,k){h>=d&&f.push(Cp(k));return f}}(e),[b,c],a))}};var Fp=En(21,{});var Gp={};if("undefined"===typeof Mn||"undefined"===typeof Gp||"undefined"===typeof Hp)var Hp=null;if("undefined"===typeof Mn||"undefined"===typeof Gp||"undefined"===typeof Ip)var Ip=Gf(uf);function Jp(a,b,c){var d=Wn;Wn=!0;try{var e=a.rd?a.rd():a.call(null);return Fp.render(e,b,function(){return function(){var f=Wn;Wn=!1;try{return If.sd(Ip,Rd,b,new U(null,2,5,X,[a,b],null)),fo.flush_after_render(),null!=c?c.rd?c.rd():c.call(null):null}finally{Wn=f}}}(e,b,d,!0))}finally{Wn=d}}
function Kp(a,b){return Jp(a,b,null)}function Lp(a,b,c){yo();return Jp(function(){return Cp(Ud(a)?a.rd?a.rd():a.call(null):a)},b,c)}pp=function(a){return Fp.findDOMNode(a)};function Mp(a){switch(arguments.length){case 2:Lp(arguments[0],arguments[1],null);break;case 3:Lp(arguments[0],arguments[1],arguments[2]);break;default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function Np(a,b){return Lp(a,b,null)}
function Op(){yo();yo();for(var a=F(bh(z(Ip))),b=null,c=0,d=0;;)if(d<c){var e=b.xd(null,d);ke(Kp,e);d+=1}else if(a=F(a))b=a,ie(b)?(a=Gc(b),d=Hc(b),b=a,c=O(a),a=d):(a=H(b),ke(Kp,a),a=I(b),b=null,c=0),d=0;else break;return fo.flush_after_render()}var Pp=["reagent","core","force_update_all"],Qp=aa;Pp[0]in Qp||"undefined"==typeof Qp.execScript||Qp.execScript("var "+Pp[0]);for(var Rp;Pp.length&&(Rp=Pp.shift());)Pp.length||void 0===Op?Qp=Qp[Rp]&&Qp[Rp]!==Object.prototype[Rp]?Qp[Rp]:Qp[Rp]={}:Qp[Rp]=Op;
function Sp(a){return fo.add_after_render(a)};function Tp(a,b,c){var d=a;b&&(d=pa(a,b));d=Tp.Tg(d);fa(aa.setImmediate)&&(c||Tp.Sg())?aa.setImmediate(d):(Tp.xg||(Tp.xg=Tp.Og()),Tp.xg(d))}Tp.Sg=function(){return aa.Window&&aa.Window.prototype&&!yn("Edge")&&aa.Window.prototype.setImmediate==aa.setImmediate?!1:!0};
Tp.Og=function(){var a=aa.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!yn("Presto")&&(a=function(){var e=document.createElement("IFRAME");e.style.display="none";e.src="";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write("");e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=pa(function(l){if(("*"==k||l.origin==k)&&l.data==
h)this.port1.onmessage()},this);f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!yn("Trident")&&!yn("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.cb;c.cb=null;e()}};return function(e){d.next={cb:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var f=document.createElement("SCRIPT");
f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){aa.setTimeout(e,0)}};Tp.Tg=function(a){return a};var Up={},Vp=Xf.jd(Qg,Nd);function Wp(a){return null!=a?a.md&32768||m===a.ig?!0:a.md?!1:u(dc,a):u(dc,a)}function Xp(a,b){Go(a,b)}function Yp(a,b){setTimeout(a,b)}function Zp(a){return null!=a&&m===a.Rf?[t($c.jd?$c.jd(zo,a):$c.call(null,zo,a))?"ra":t($c.jd?$c.jd(Eo,a):$c.call(null,Eo,a))?"rc":t($c.jd?$c.jd(Io,a):$c.call(null,Io,a))?"rx":t($c.jd?$c.jd(Do,a):$c.call(null,Do,a))?"tr":"other",y.hd(Yc(a))].join(""):null};var $p=Ao.hd(uf);var aq=Gf(new n(null,5,[pj,console.log.bind(console),tm,console.warn.bind(console),Lk,console.error.bind(console),ol,t(console.group)?console.group.bind(console):console.log.bind(console),tn,t(console.groupEnd)?console.groupEnd.bind(console):function(){return fd}],null));function bq(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new G(b.slice(1),0,null):null;cq(arguments[0],b)}
function cq(a,b){var c=z(aq);a=a.hd?a.hd(c):a.call(null,c);return ke(a,b)};var dq=function dq(a,b){var d=F(b);b=H(d);if(d=I(d)){var e=A.jd(a,b);return t(e)?(d=dq.jd?dq.jd(e,d):dq.call(null,e,d),F(d)?Rd.kd(a,b,d):Td.jd(a,b)):a}return Td.jd(a,b)};function eq(a){return he(a)?H(a):cq(Lk,Fd(["re-frame: expected a vector, but got:",a]))};var fq=Gf(uf);function gq(a,b){return A.jd(A.jd(z(fq),a),b)}function hq(a,b,c){If.sd(fq,ag,new U(null,2,5,X,[a,b],null),c);return c}var iq=function iq(a){switch(arguments.length){case 0:return iq.rd();case 1:return iq.hd(arguments[0]);case 2:return iq.jd(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};iq.rd=function(){return Hf(fq,uf)};iq.hd=function(a){return If.kd(fq,Td,a)};
iq.jd=function(a,b){return t(gq(a,b))?If.od(fq,bg,new U(null,1,5,X,[a],null),Td,Fd([b])):cq(tm,Fd(["re-frame: can't clear",y.hd(a),"handler for",[y.hd(b),". Handler not found."].join("")]))};iq.ud=2;var jq={};if("undefined"===typeof Up||"undefined"===typeof jq||"undefined"===typeof kq)var kq=Gf(Nd);if("undefined"===typeof Up||"undefined"===typeof jq||"undefined"===typeof lq)var lq=Gf(0);function mq(a){var b=null!=a&&(a.md&64||m===a.Md)?ke(Zh,a):a;a=A.jd(b,mn);var c=A.jd(b,rk);b=A.jd(b,nk);return new n(null,3,[mn,t(a)?a:pl,rk,c,nk,b],null)}function nq(a,b){return $f(a,new U(null,2,5,X,[rm,b],null))}function oq(a,b){for(var c=a;;){var d=sm.hd(c);if(be(d))return c;a=Zd(d);var e=jm.hd(c);c=Rd.od(c,sm,$d(d),Fd([jm,Md.jd(e,a)]));a=A.jd(a,b);c=t(a)?a.hd?a.hd(c):a.call(null,c):c}}function pq(a,b){return dg(a,sm,Df(Xf,Vp),b)};var qq=null;var rq=Gf(uf);function sq(){for(var a=F(z(rq)),b=null,c=0,d=0;;)if(d<c){var e=b.xd(null,d);R(e,0,null);e=R(e,1,null);Fo(e);d+=1}else if(a=F(a))ie(a)?(c=Gc(a),a=Hc(a),b=c,c=O(c)):(b=H(a),R(b,0,null),b=R(b,1,null),Fo(b),a=I(a),b=null,c=0),d=0;else break;return t(rf(z(rq)))?cq(tm,Fd(["Subscription cache should be empty after clearing it."])):null}
function tq(a,b,c){a=new U(null,2,5,X,[a,b],null);Xp(c,function(d){return function(){return If.jd(rq,function(e){return function(f){return pe(f,e)&&c===A.jd(f,e)?Td.jd(f,e):f}}(d))}}(a));If.jd(rq,function(d){return function(e){return Rd.kd(e,d,c)}}(a));return c}function uq(a,b){return A.jd(z(rq),new U(null,2,5,X,[a,b],null))}
var Y=function Y(a){switch(arguments.length){case 1:return Y.hd(arguments[0]);case 2:return Y.jd(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Y.hd=function(a){var b=uq(a,Nd);if(t(b))return b;var c=eq(a);b=gq(Tm,c);return null==b?cq(Lk,Fd([["re-frame: no subscription handler registered for: ",y.hd(c),". Returning a nil subscription."].join("")])):tq(a,Nd,b.jd?b.jd($p,a):b.call(null,$p,a))};
Y.jd=function(a,b){var c=uq(a,b);if(t(c))return c;var d=eq(a);var e=gq(Tm,d);if(null==e)return cq(Lk,Fd([["re-frame: no subscription handler registered for: ",y.hd(d),". Returning a nil subscription."].join("")]));var f=Co(function(){return function(){return Yf(b)}}(d,e,c));var h=Co(function(k,l,p){return function(){var r=z(k);return p.kd?p.kd($p,a,r):p.call(null,$p,a,r)}}(f,d,e,c));return tq(a,b,Co(function(k,l){return function(){return z(z(l))}}(f,h,d,e,c)))};Y.ud=2;
function vq(a,b){return Xf.kd(Pd(b),Jf.hd(function(c){var d=R(c,0,null);c=R(c,1,null);return new U(null,2,5,X,[d,a.hd?a.hd(c):a.call(null,c)],null)}),b)}function wq(a,b){var c=qd;c=ee(a)?Jf.jd(c,a):fe(a)?vq(c,a):Wp(a)?c.hd?c.hd(a):c.call(null,a):fd;ee(a)?Jf.jd(qd,a):fe(a)?vq(qd,a):Wp(a)?z(a):cq(Lk,Fd(["re-frame: in the reg-sub for",b,", the input-signals function returns:",a]));return c}
function xq(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new G(b.slice(1),0,null):null;return yq(arguments[0],b)}
function yq(a,b){var c=Ld(b),d=ji(b),e=["re-frame: reg-sub for ",y.hd(a),", "].join("");b=function(){var f=O(d);switch(f){case 0:return function(){return function(){var p=null;p=function(r,q){switch(arguments.length){case 1:return $p;case 2:return $p}throw Error("Invalid arity: "+arguments.length);};p.hd=function(){return $p};p.jd=function(){return $p};return p}()}(f,c,d,e);case 1:return f=H(d),Ud(f)||cq(Lk,Fd([e,"2nd argument expected to be an inputs function, got:",f])),f;case 2:var h=R(d,0,null),
k=R(d,1,null);J.jd(Lj,h)||cq(Lk,Fd([e,"expected :\x3c-, got:",h]));return function(p,r,q){return function(){function v(){return Y.hd(q)}function w(){return Y.hd(q)}var x=null;x=function(C,E){switch(arguments.length){case 1:return w.call(this,C);case 2:return v.call(this,C,E)}throw Error("Invalid arity: "+arguments.length);};x.hd=w;x.jd=v;return x}()}(d,h,k,f,c,d,e);default:h=Zf(2,2,d);k=Jf.jd(H,h);var l=Jf.jd(Ld,h);yf(new ei(null,new n(null,1,[Lj,null],null),null),k)&&yf(he,l)||cq(Lk,Fd([e,"expected pairs of :\x3c- and vectors, got:",
h]));return function(p,r,q){return function(){function v(){return Jf.jd(Y,q)}function w(){return Jf.jd(Y,q)}var x=null;x=function(C,E){switch(arguments.length){case 1:return w.call(this,C);case 2:return v.call(this,C,E)}throw Error("Invalid arity: "+arguments.length);};x.hd=w;x.jd=v;return x}()}(h,k,l,f,c,d,e)}}();return hq(Tm,a,function(f,h,k,l){return function(){function p(v,w,x){var C=l.jd?l.jd(w,x):l.call(null,w,x);v=Gf(null);C=Co(function(E,P,S){return function(){var ea=wq(E,a);return S.kd?S.kd(ea,
w,x):S.call(null,ea,w,x)}}(C,v,f,h,k,l));Hf(v,Zp(C));return C}function r(v,w){var x=l.hd?l.hd(w):l.call(null,w);v=Gf(null);x=Co(function(C,E,P){return function(){var S=wq(C,a);return P.jd?P.jd(S,w):P.call(null,S,w)}}(x,v,f,h,k,l));Hf(v,Zp(x));return x}var q=null;q=function(v,w,x){switch(arguments.length){case 2:return r.call(this,v,w);case 3:return p.call(this,v,w,x)}throw Error("Invalid arity: "+arguments.length);};q.jd=r;q.kd=p;return q}()}(c,d,e,b))};var zq=new n(null,2,[Sm,function(a){function b(){return Tp.hd?Tp.hd(a):Tp.call(null,a)}return Sp.hd?Sp.hd(b):Sp.call(null,b)},fn,Tp],null);function Aq(a){for(var b=O(a.queue);;){if(0===b)return Bq(a,ik,null);var c=zf(zq,ah(Yd(Zd(a.queue))));if(t(c))return Bq(a,kl,c);Cq(a);--b}}function Dq(a){a=function(b){return function(){return Bq(b,nn,null)}}(a);return Tp.hd?Tp.hd(a):Tp.call(null,a)}
function Bq(a,b,c){var d=function(){var f=new U(null,2,5,X,[a.Qf,b],null);if(J.jd(new U(null,2,5,X,[Xi,Bk],null),f))return new U(null,2,5,X,[Kk,function(h,k){return function(){k.queue=Md.jd(k.queue,c);return Dq(k)}}(f,a)],null);if(J.jd(new U(null,2,5,X,[Yl,hk],null),f))return new U(null,2,5,X,[Xi,function(h,k){return function(){k.queue=Vp;throw c;}}(f,a)],null);if(J.jd(new U(null,2,5,X,[Yl,ik],null),f))return be(a.queue)?new U(null,1,5,X,[Xi],null):new U(null,2,5,X,[Kk,function(h,k){return function(){return Dq(k)}}(f,
a)],null);if(J.jd(new U(null,2,5,X,[Yl,kl],null),f))return new U(null,2,5,X,[Pm,function(h,k){return function(){return Eq(k,c)}}(f,a)],null);if(J.jd(new U(null,2,5,X,[Pm,bl],null),f))return new U(null,2,5,X,[Yl,function(h,k){return function(){Cq(k);return Aq(k)}}(f,a)],null);if(J.jd(new U(null,2,5,X,[Kk,nn],null),f))return new U(null,2,5,X,[Yl,function(h,k){return function(){return Aq(k)}}(f,a)],null);if(J.jd(new U(null,2,5,X,[Pm,Bk],null),f))return new U(null,2,5,X,[Pm,function(h,k){return function(){return k.queue=
Md.jd(k.queue,c)}}(f,a)],null);if(J.jd(new U(null,2,5,X,[Yl,Bk],null),f))return new U(null,2,5,X,[Yl,function(h,k){return function(){return k.queue=Md.jd(k.queue,c)}}(f,a)],null);if(J.jd(new U(null,2,5,X,[Kk,Bk],null),f))return new U(null,2,5,X,[Kk,function(h,k){return function(){return k.queue=Md.jd(k.queue,c)}}(f,a)],null);throw Ui(["re-frame: router state transition not found. ",y.hd(a.Qf)," ",y.hd(b)].join(""),new n(null,2,[Cj,a.Qf,sk,b],null));}();var e=R(d,0,null);d=R(d,1,null);a.Qf=e;return t(d)?
d.rd?d.rd():d.call(null):null}function Eq(a,b){a=function(c){return function(){return Bq(c,bl,null)}}(a);return b.hd?b.hd(a):b.call(null,a)}
function Cq(a){var b=Zd(a.queue);try{var c=eq(b),d=gq(Ok,c);if(t(d))if(t(qq))cq(Lk,Fd(["re-frame: while handling",qq,", dispatch-sync was called for",b,". You can't call dispatch-sync within an event handler."]));else{c=qq;qq=b;try{var e=pq(ag(uf,new U(null,2,5,X,[rm,Ok],null),b),d);var f=oq(e,rk);var h=pq(Td.jd(f,sm),jm.hd(f));oq(h,nk)}finally{qq=c}}a.queue=$d(a.queue);a:{var k=F(bh(a.Rg));d=null;for(h=e=0;;)if(h<e){var l=d.xd(null,h);l.jd?l.jd(b,a.queue):l.call(null,b,a.queue);h+=1}else{var p=F(k);
if(p){f=p;if(ie(f)){var r=Gc(f),q=Hc(f);f=r;var v=O(r);k=q;d=f;e=v}else l=H(f),l.jd?l.jd(b,a.queue):l.call(null,b,a.queue),k=I(f),d=null,e=0;h=0}else break a}}}catch(w){Bq(a,hk,w)}}var Fq=new function(a,b,c){this.Qf=a;this.queue=b;this.Rg=c}(Xi,Vp,uf);function Z(a){if(null==a)throw new Ti('re-frame: you called "dispatch" without an event vector.',uf);Bq(Fq,Bk,a);return null};function Gq(a,b){return hq(Jm,a,b)}
var Hq=mq(Fd([mn,Rk,nk,function(a){for(var b,c=F(Qk.hd(a)),d=null,e=0,f=0;;)if(f<e){a=d.xd(null,f);b=R(a,0,null);a=R(a,1,null);var h=gq(Jm,b);t(h)?(b=h,b.hd?b.hd(a):b.call(null,a)):cq(Lk,Fd(["re-frame: no handler registered for effect:",b,". Ignoring."]));f+=1}else if(a=F(c))c=a,ie(c)?(b=Gc(c),c=Hc(c),a=b,b=O(b),d=a,e=b):(a=H(c),b=R(a,0,null),a=R(a,1,null),d=gq(Jm,b),t(d)?(b=d,b.hd?b.hd(a):b.call(null,a)):cq(Lk,Fd(["re-frame: no handler registered for effect:",b,". Ignoring."])),c=I(c),d=null,e=0),
f=0;else return null}]));
Gq(lk,function(a){a=F(Rf(mb,a));for(var b=null,c=0,d=0;;)if(d<c){var e=b.xd(null,d),f=null!=e&&(e.md&64||m===e.Md)?ke(Zh,e):e,h=f,k=A.jd(f,ej),l=A.jd(f,gm);be(l)||"number"!==typeof k?cq(Lk,Fd(["re-frame: ignoring bad :dispatch-later value:",h])):Yp(function(q,v,w,x,C,E,P,S,ea){return function(){return Z(ea)}}(a,b,c,d,e,f,h,k,l),k);d+=1}else if(f=F(a)){e=f;if(ie(e))a=Gc(e),d=Hc(e),b=a,c=O(a),a=d;else{var p=H(e),r=null!=p&&(p.md&64||m===p.Md)?ke(Zh,p):p;h=r;k=A.jd(r,ej);l=A.jd(r,gm);be(l)||"number"!==
typeof k?cq(Lk,Fd(["re-frame: ignoring bad :dispatch-later value:",h])):Yp(function(q,v,w,x,C,E,P,S,ea){return function(){return Z(ea)}}(a,b,c,d,p,r,h,k,l,e,f),k);a=I(e);b=null;c=0}d=0}else return null});Gq(gm,function(a){return he(a)?Z(a):cq(Lk,Fd(["re-frame: ignoring bad :dispatch value. Expected a vector, but got:",a]))});
Gq(Lm,function(a){if(ee(a)){a=F(Rf(mb,a));for(var b=null,c=0,d=0;;)if(d<c){var e=b.xd(null,d);Z(e);d+=1}else if(a=F(a))b=a,ie(b)?(a=Gc(b),c=Hc(b),b=a,e=O(a),a=c,c=e):(e=H(b),Z(e),a=I(b),b=null,c=0),d=0;else return null}else return cq(Lk,Fd(["re-frame: ignoring bad :dispatch-n value. Expected a collection, got got:",a]))});
Gq(gn,function(a){var b=Cf.jd(iq,Ok);if(ee(a)){a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xd(null,e);b.hd?b.hd(f):b.call(null,f);e+=1}else if(a=F(a))c=a,ie(c)?(a=Gc(c),d=Hc(c),c=a,f=O(a),a=d,d=f):(f=H(c),b.hd?b.hd(f):b.call(null,f),a=I(c),c=null,d=0),e=0;else return null}else return b.hd?b.hd(a):b.call(null,a)});Gq(Ym,function(a){return z($p)!==a?Hf($p,a):null});hq(Am,Ym,function(a){return Rd.kd(a,Ym,z($p))});var Iq=function(a){return mq(Fd([mn,rm,rk,function(b){var c=gq(Am,a);return t(c)?cg(b,rm,c):cq(Lk,Fd(["No cofx handler registered for",a]))}]))}(Ym);function Jq(a,b){return J.jd(a,b)?new U(null,3,5,X,[null,null,a],null):new U(null,3,5,X,[a,b,null],null)}function Kq(a){return F(a)?xb(function(b,c){var d=R(c,0,null);c=R(c,1,null);return Rd.kd(b,d,c)},Ag(Of(ke(Ge,ah(a)))),a):null}function Lq(a,b,c){var d=A.jd(a,c),e=A.jd(b,c),f=Mq(d,e),h=R(f,0,null),k=R(f,1,null);f=R(f,2,null);a=pe(a,c);b=pe(b,c);d=a&&b&&(null!=f||null==d&&null==e);return new U(null,3,5,X,[!a||null==h&&d?null:Sd([c,h]),!b||null==k&&d?null:Sd([c,k]),d?Sd([c,f]):null],null)}
var Nq=function Nq(a){switch(arguments.length){case 2:return Nq.jd(arguments[0],arguments[1]);case 3:return Nq.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Nq.jd=function(a,b){return Nq.kd(a,b,io(ah(a),ah(b)))};Nq.kd=function(a,b,c){return xb(function(d,e){return qi(Jf.kd(ci,d,e))},new U(null,3,5,X,[null,null,null],null),Jf.jd(Cf.kd(Lq,a,b),c))};Nq.ud=3;
function Oq(a,b){return Ag(Jf.jd(Kq,Nq.kd(he(a)?a:Ag(a),he(b)?b:Ag(b),pi(function(){var c=O(a),d=O(b);return c>d?c:d}()))))}function Pq(a,b){return new U(null,3,5,X,[rf(ko.jd(a,b)),rf(ko.jd(b,a)),rf(jo.jd(a,b))],null)}
var Qq=function Qq(a){if(null!=a&&null!=a.Ng)return a.Ng(a);var c=Qq[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Qq._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw qb("EqualityPartition.equality-partition",a);},Rq=function Rq(a,b){if(null!=a&&null!=a.Mg)return a.Mg(a,b);var d=Rq[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Rq._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw qb("Diff.diff-similar",a);};Qq["null"]=function(){return un};
Qq.string=function(){return un};Qq.number=function(){return un};Qq.array=function(){return Hm};Qq["function"]=function(){return un};Qq["boolean"]=function(){return un};Qq._=function(a){return(null!=a?a.md&1024||m===a.Gg||(a.md?0:u(Ub,a)):u(Ub,a))?Ll:(null!=a?a.md&4096||m===a.Kg||(a.md?0:u(Yb,a)):u(Yb,a))?Ak:(null!=a?a.md&16777216||m===a.$f||(a.md?0:u(pc,a)):u(pc,a))?Hm:un};Rq["null"]=function(a,b){return Jq(a,b)};Rq.string=function(a,b){return Jq(a,b)};Rq.number=function(a,b){return Jq(a,b)};
Rq.array=function(a,b){return Oq(a,b)};Rq["function"]=function(a,b){return Jq(a,b)};Rq["boolean"]=function(a,b){return Jq(a,b)};Rq._=function(a,b){var c=function(){var d=Qq(a);d=d instanceof B?d.fe:null;switch(d){case "atom":return Jq;case "set":return Pq;case "sequential":return Oq;case "map":return Nq;default:throw Error(["No matching clause: ",y.hd(d)].join(""));}}();return c.jd?c.jd(a,b):c.call(null,a,b)};
function Mq(a,b){return J.jd(a,b)?new U(null,3,5,X,[null,null,a],null):J.jd(Qq(a),Qq(b))?Rq(a,b):Jq(a,b)};mq(Fd([mn,dl,rk,function(a){cq(pj,Fd(["Handling re-frame event:",nq(a,Ok)]));return a},nk,function(a){var b=nq(a,Ok),c=nq(a,Ym);a:{var d=me;for(var e=a,f=F(new U(null,2,5,X,[Qk,Ym],null));;)if(null!=f){e=A.kd(e,H(f),d);if(d===e){d=cn;break a}f=I(f)}else{d=e;break a}}J.jd(d,cn)?cq(pj,Fd(["No :db changes caused by:",b])):(d=Mq(c,d),c=R(d,0,null),d=R(d,1,null),null!=c||null!=d?(cq(ol,Fd(["db clojure.data/diff for:",b])),cq(pj,Fd(["only before:",c])),cq(pj,Fd(["only after :",d])),bq(tn)):cq(pj,Fd(["no app-db changes caused by:",
b])));return a}]));mq(Fd([mn,Mm,rk,function(a){return ag(bg.sd(a,new U(null,2,5,X,[rm,Ok],null),Jg,1),new U(null,2,5,X,[rm,om],null),nq(a,Ok))},nk,function(a){return ag(dq(a,new U(null,2,5,X,[rm,om],null)),new U(null,2,5,X,[rm,Ok],null),nq(a,om))}]));function Sq(a){return mq(Fd([mn,rl,rk,function(b){var c=rm.hd(b),d=null!=c&&(c.md&64||m===c.Md)?ke(Zh,c):c;c=A.jd(d,Ym);d=A.jd(d,Ok);c=a.jd?a.jd(c,d):a.call(null,c,d);return ag(b,new U(null,2,5,X,[Qk,Ym],null),c)}]))}
function Tq(a){return mq(Fd([mn,Dm,rk,function(b){var c=rm.hd(b);c=null!=c&&(c.md&64||m===c.Md)?ke(Zh,c):c;var d=A.jd(c,Ok);return Rd.kd(b,Qk,a.jd?a.jd(c,d):a.call(null,c,d))}]))};Cf.jd(iq,Tm);Cf.jd(iq,Jm);Cf.jd(iq,Am);var Uq=function Uq(a){switch(arguments.length){case 2:return Uq.jd(arguments[0],arguments[1]);case 3:return Uq.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Uq.jd=function(a,b){return Uq.kd(a,null,b)};Uq.kd=function(a,b,c){b=new U(null,4,5,X,[Iq,Hq,b,Sq(c)],null);return hq(Ok,a,Rf(mb,Uf(b)))};Uq.ud=3;function Vq(a,b){b=new U(null,4,5,X,[Iq,Hq,null,Tq(b)],null);hq(Ok,a,Rf(mb,Uf(b)))}
Cf.jd(iq,Ok);var Wq=En(163,{});var Xq={},Yq={},Zq={apiKey:"AIzaSyCOWUeBSMjyQOrhgWdB65Ed1YTXfnyRJl0",authDomain:"todor-a7ec2.firebaseapp.com",databaseURL:"https://todor-a7ec2.firebaseio.com",projectId:"todor-a7ec2",storageBucket:"todor-a7ec2.appspot.com",messagingSenderId:"189572583542"};if("undefined"===typeof Xq||"undefined"===typeof Yq||"undefined"===typeof $q)var $q=Wq.initializeApp(Zq);if("undefined"===typeof Xq||"undefined"===typeof Yq||"undefined"===typeof ar)var ar=Wq.auth();
Uq.jd(Pk,function(a,b){R(b,0,null);b=R(b,1,null);return Rd.kd(a,ak,new n(null,3,[Uk,b.displayName,Gj,b.email,uk,b.uid],null))});Uq.jd(Hl,function(a){return Td.jd(a,ak)});function br(a){return ak.hd(a)}xq.jd?xq.jd(ak,br):xq.call(null,ak,br);var cr=new U(null,1,5,X,[ak],null);function dr(a){return uk.hd(a)}xq.sd?xq.sd(nl,Lj,cr,dr):xq.call(null,nl,Lj,cr,dr);
if("undefined"===typeof Xq||"undefined"===typeof Yq||"undefined"===typeof er)var er=ar.onAuthStateChanged(function(a){if(t(a))return a=new U(null,2,5,X,[Pk,a],null),Z.hd?Z.hd(a):Z.call(null,a);a=new U(null,1,5,X,[Hl],null);return Z.hd?Z.hd(a):Z.call(null,a)});function fr(){return new U(null,3,5,X,[$i,new n(null,1,[Kj,function(){return window.open("login_widget.html","Sign In","width\x3d985,height\x3d735")}],null),"Login"],null)}
function gr(a){return new U(null,3,5,X,[yl,Uk.hd(a),new U(null,3,5,X,[cm,new n(null,1,[Kj,function(){return ar.signOut()}],null),"Logout"],null)],null)}function hr(){var a=X;var b=new U(null,1,5,X,[ak],null);b=Y.hd?Y.hd(b):Y.call(null,b);b=z(b);return new U(null,2,5,a,[Ej,t(b)?new U(null,2,5,X,[gr,b],null):new U(null,1,5,X,[fr],null)],null)};function ir(a){throw Error(["Cannot generate json for ",Fi(Fd([a]),eb())].join(""));}function jr(a){return"string"===typeof a?t(a.startsWith(":"))?[":",a].join(""):a:a instanceof B?t(Oe(a))?ir(a):t(Qe(a).startsWith(":"))?ir(a):[":",Qe(a)].join(""):a}
var kr=function kr(a){return null==a?a:!0===a||!1===a?a:"number"===typeof a?a:ee(a)||de(a)?ke(vb,Jf.jd(kr,a)):fe(a)?ke(je,Pf(function(c){var d=R(c,0,null);c=R(c,1,null);return new U(null,2,5,X,[jr(d),kr.hd?kr.hd(c):kr.call(null,c)],null)},Fd([a]))):jr(a)},lr=function lr(a){if("string"===typeof a)return t(a.startsWith(":"))?t(a.startsWith("::"))?a.substring(1):Pe.hd(a.substring(1)):a;if(null==a||!0===a||!1===a||"number"===typeof a)return a;if(nb(a))return Xf.jd(Nd,Jf.jd(lr,a));if(null!=a&&a.constructor===
Object)return Xf.jd($h(),Jf.jd(function(c){var d=X,e=lr.hd?lr.hd(c):lr.call(null,c);c=a[c];c=lr.hd?lr.hd(c):lr.call(null,c);return new U(null,2,5,d,[e,c],null)},Oa(a)));try{return a.toDate()}catch(c){throw Error(["Cannot parse json: ",y.hd(a)].join(""));}};var mr={};if("undefined"===typeof Xq||"undefined"===typeof mr||"undefined"===typeof nr)var nr=Wq.firestore();function or(a){return a instanceof B?Qe(a):y.hd(a)}function pr(a){return Jn("/",Jf.jd(or,a))}hq(Tm,zl,function(a,b){a=R(b,0,null);var c=R(b,1,null),d=Ao.hd(null);nr.doc(pr(c)).onSnapshot(function(e){return function(f){return Hf(e,lr(f.data()))}}(d,b,a,c));return Co(function(e){return function(){return z(e)}}(d,b,a,c))});
hq(Tm,dm,function(a,b){a=R(b,0,null);var c=R(b,1,null),d=R(b,2,null),e=nr.collection(pr(c)),f=t(d)?d.hd?d.hd(e):d.call(null,e):e,h=Ao.hd(uf);f.onSnapshot(function(k,l,p,r,q,v,w){return function(x){var C=Gf(uf);x.forEach(function(E){return function(P){var S=lr(P.data());return If.sd(E,Rd,P.id,S)}}(C,k,l,p,r,q,v,w));return Hf(p,z(C))}}(e,f,h,b,a,c,d));return Co(function(k,l,p){return function(){return z(p)}}(e,f,h,b,a,c,d))});
Vq(Dl,function(a,b){R(b,0,null);a=R(b,1,null);b=R(b,2,null);return new n(null,1,[Dl,new U(null,2,5,X,[a,b],null)],null)});Vq(Nk,function(a,b){R(b,0,null);a=R(b,1,null);b=R(b,2,null);return new n(null,1,[Nk,new U(null,2,5,X,[a,b],null)],null)});var qr=function(a){return function(b){var c=R(b,0,null),d=R(b,1,null);return nr.doc(pr(c)).set(kr(d)).catch(function(){return function(e){return console.error(e)}}(b,c,d,a))}}(Dl);Gq.jd?Gq.jd(Dl,qr):Gq.call(null,Dl,qr);
var rr=function(a){return function(b){var c=R(b,0,null),d=R(b,1,null);return nr.doc(pr(c)).update(kr(d)).catch(function(){return function(e){return console.error(e)}}(b,c,d,a))}}(Nk);Gq.jd?Gq.jd(Nk,rr):Gq.call(null,Nk,rr);var sr=function(a){return function(b){return nr.doc(pr(b)).delete().catch(function(){return function(c){return console.error(c)}}(a))}}(cj);Gq.jd?Gq.jd(cj,sr):Gq.call(null,cj,sr);
var tr=function(a){return function(b){var c=R(b,0,null),d=R(b,1,null);return nr.collection(pr(c)).add(kr(d)).catch(function(){return function(e){return console.error(e)}}(b,c,d,a))}}(ij);Gq.jd?Gq.jd(ij,tr):Gq.call(null,ij,tr);
var ur=function(a){return function(b){var c=R(b,0,null),d=R(b,1,null),e=nr.doc(pr(c));return nr.runTransaction(function(f,h,k,l,p){return function(r){return r.get(f).then(function(q,v,w,x){return function(C){var E=t(C.exists)?lr(C.data()):null;E=x.hd?x.hd(E):x.call(null,E);E=kr(E);return t(C.exists)?r.update(q,E):r.set(q,E)}}(f,h,k,l,p)).catch(function(){return function(q){return console.error("Transaction failed!",q)}}(f,h,k,l,p))}}(e,b,c,d,a))}}(Dj);Gq.jd?Gq.jd(Dj,ur):Gq.call(null,Dj,ur);
var vr=function(a){return function(b){return nr.collection(pr(b)).get().then(function(c){return function(d){return d.forEach(function(){return function(e){return e.ref.delete()}}(c))}}(a))}}(Yk);Gq.jd?Gq.jd(Yk,vr):Gq.call(null,Yk,vr);var wr=hi([new U(null,2,5,X,[1,0],null),new U(null,2,5,X,[-1,0],null),new U(null,2,5,X,[0,-1],null),new U(null,2,5,X,[0,1],null)]),xr=hi([new U(null,2,5,X,[1,1],null),new U(null,2,5,X,[-1,-1],null),new U(null,2,5,X,[1,-1],null),new U(null,2,5,X,[-1,1],null)]),yr=io(wr,xr),zr=new n(null,5,[Nm,hi([new U(null,2,5,X,[1,0],null)]),Zm,wr,vk,xr,em,Md.od(wr,new U(null,2,5,X,[1,-1],null),Fd([new U(null,2,5,X,[1,1],null)])),Xj,yr],null);
function Ar(a,b,c){return t(function(){var d=J.jd(a,Pl);return d?(d=new ei(null,new n(null,2,[Nm,null,em,null],null),null),d.hd?d.hd(b):d.call(null,b)):d}())?Jf.jd(function(d){var e=R(d,0,null);d=R(d,1,null);return new U(null,2,5,X,[-e,d],null)},c):c}function Br(a){var b=R(a,0,null);a=R(a,1,null);return 0<=b&&3>=b&&0<=a&&2>=a}function Cr(a,b){return Qf(Br,Jf.jd(function(c){return Xf.jd(Nd,Jf.kd(Ee,a,c))},b))}
function Dr(a,b){var c=R(a,0,null);a=R(a,1,null);var d=zr.hd?zr.hd(a):zr.call(null,a);return ii(Cr(b,Ar(c,a,d)))};var Fr=ii(function Er(a){return new Re(null,function(){for(var c=a;;){var d=F(c);if(d){var e=d,f=H(e);if(d=F(function(h,k,l,p){return function v(q){return new Re(null,function(w,x){return function(){for(;;){var C=F(q);if(C){if(ie(C)){var E=Gc(C),P=O(E),S=Ve(P);a:for(var ea=0;;)if(ea<P){var ta=Kb.jd(E,ea);S.add(new U(null,2,5,X,[x,ta],null));ea+=1}else{E=!0;break a}return E?$e(S.Bd(),v(Hc(C))):$e(S.Bd(),null)}S=H(C);return Ed(new U(null,2,5,X,[x,S],null),v(ed(C)))}return null}}}(h,k,l,p),null)}}(c,
f,e,d)(pi(3))))return df.jd(d,Er(ed(c)));c=ed(c)}else return null}},null)}(pi(4)));function Gr(a,b,c,d,e,f){this.field=a;this.we=b;this.Ae=c;this.Sd=d;this.yd=e;this.qd=f;this.md=2230716170;this.vd=139264}g=Gr.prototype;g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){switch(b instanceof B?b.fe:null){case "field":return this.field;case "hands":return this.we;case "turn":return this.Ae;default:return A.kd(this.yd,b,c)}};
g.Te=function(a,b,c){return xb(function(){return function(d,e){var f=R(e,0,null);e=R(e,1,null);return b.kd?b.kd(d,f,e):b.call(null,d,f,e)}}(this),c,this)};g.Ad=function(a,b,c){return si(b,function(){return function(d){return si(b,Ai,""," ","",c,d)}}(this),"#anish.board.core.Board{",", ","}",c,df.jd(new U(null,3,5,X,[new U(null,2,5,X,[Wl,this.field],null),new U(null,2,5,X,[Ck,this.we],null),new U(null,2,5,X,[Nj,this.Ae],null)],null),this.yd))};
g.ee=function(){return new Ug(this,3,new U(null,3,5,X,[Wl,Ck,Nj],null),t(this.yd)?Nc(this.yd):sf())};g.Fd=function(){return this.Sd};g.Kd=function(){return 3+O(this.yd)};g.Cd=function(){var a=this,b=this.qd;if(null!=b)return b;var c=function(){return function(){return function(d){return-897081910^kd(d)}}(b,a)(a)}();return this.qd=c};g.zd=function(a,b){return null!=b&&this.constructor===b.constructor&&J.jd(this.field,b.field)&&J.jd(this.we,b.we)&&J.jd(this.Ae,b.Ae)&&J.jd(this.yd,b.yd)};
g.ef=function(a,b){return pe(new ei(null,new n(null,3,[Wl,null,Ck,null,Nj,null],null),null),b)?Td.jd(gc(Xf.jd(uf,this),this.Sd),b):new Gr(this.field,this.we,this.Ae,this.Sd,rf(Td.jd(this.yd,b)),null)};
g.ce=function(a,b,c){return t(Ne.jd?Ne.jd(Wl,b):Ne.call(null,Wl,b))?new Gr(c,this.we,this.Ae,this.Sd,this.yd,null):t(Ne.jd?Ne.jd(Ck,b):Ne.call(null,Ck,b))?new Gr(this.field,c,this.Ae,this.Sd,this.yd,null):t(Ne.jd?Ne.jd(Nj,b):Ne.call(null,Nj,b))?new Gr(this.field,this.we,c,this.Sd,this.yd,null):new Gr(this.field,this.we,this.Ae,this.Sd,Rd.kd(this.yd,b,c),null)};g.Id=function(){return F(df.jd(new U(null,3,5,X,[new tg(Wl,this.field),new tg(Ck,this.we),new tg(Nj,this.Ae)],null),this.yd))};
g.Jd=function(a,b){return new Gr(this.field,this.we,this.Ae,b,this.yd,this.qd)};g.Ld=function(a,b){return he(b)?this.ce(null,Kb.jd(b,0),Kb.jd(b,1)):xb(Ib,this,b)};function Hr(a,b){return $f(a,new U(null,2,5,X,[Wl,b],null))}function Ir(a,b){var c=R(b,0,null),d=R(b,1,null);return bg.kd(a,new U(null,2,5,X,[Ck,c],null),function(e,f,h){return function(k){var l=A.jd(k,h)-1;return 0===l?Td.jd(k,h):Rd.kd(k,h,l)}}(b,c,d))}
function Jr(a,b,c,d,e,f){this.xe=a;this.from=b;this.ze=c;this.Sd=d;this.yd=e;this.qd=f;this.md=2230716170;this.vd=139264}g=Jr.prototype;g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){switch(b instanceof B?b.fe:null){case "piece":return this.xe;case "from":return this.from;case "to":return this.ze;default:return A.kd(this.yd,b,c)}};
g.Te=function(a,b,c){return xb(function(){return function(d,e){var f=R(e,0,null);e=R(e,1,null);return b.kd?b.kd(d,f,e):b.call(null,d,f,e)}}(this),c,this)};g.Ad=function(a,b,c){return si(b,function(){return function(d){return si(b,Ai,""," ","",c,d)}}(this),"#anish.board.core.Move{",", ","}",c,df.jd(new U(null,3,5,X,[new U(null,2,5,X,[Vj,this.xe],null),new U(null,2,5,X,[vj,this.from],null),new U(null,2,5,X,[zk,this.ze],null)],null),this.yd))};
g.ee=function(){return new Ug(this,3,new U(null,3,5,X,[Vj,vj,zk],null),t(this.yd)?Nc(this.yd):sf())};g.Fd=function(){return this.Sd};g.Kd=function(){return 3+O(this.yd)};g.Cd=function(){var a=this,b=this.qd;if(null!=b)return b;var c=function(){return function(){return function(d){return 91825126^kd(d)}}(b,a)(a)}();return this.qd=c};g.zd=function(a,b){return null!=b&&this.constructor===b.constructor&&J.jd(this.xe,b.xe)&&J.jd(this.from,b.from)&&J.jd(this.ze,b.ze)&&J.jd(this.yd,b.yd)};
g.ef=function(a,b){return pe(new ei(null,new n(null,3,[Vj,null,vj,null,zk,null],null),null),b)?Td.jd(gc(Xf.jd(uf,this),this.Sd),b):new Jr(this.xe,this.from,this.ze,this.Sd,rf(Td.jd(this.yd,b)),null)};
g.ce=function(a,b,c){return t(Ne.jd?Ne.jd(Vj,b):Ne.call(null,Vj,b))?new Jr(c,this.from,this.ze,this.Sd,this.yd,null):t(Ne.jd?Ne.jd(vj,b):Ne.call(null,vj,b))?new Jr(this.xe,c,this.ze,this.Sd,this.yd,null):t(Ne.jd?Ne.jd(zk,b):Ne.call(null,zk,b))?new Jr(this.xe,this.from,c,this.Sd,this.yd,null):new Jr(this.xe,this.from,this.ze,this.Sd,Rd.kd(this.yd,b,c),null)};g.Id=function(){return F(df.jd(new U(null,3,5,X,[new tg(Vj,this.xe),new tg(vj,this.from),new tg(zk,this.ze)],null),this.yd))};
g.Jd=function(a,b){return new Jr(this.xe,this.from,this.ze,b,this.yd,this.qd)};g.Ld=function(a,b){return he(b)?this.ce(null,Kb.jd(b,0),Kb.jd(b,1)):xb(Ib,this,b)};function Kr(a,b,c){return new Jr(a,b,c,null,null,null)}function Lr(a){var b=Td.od(a,Vj,Fd([vj,zk]));b=ge(a)?Xf.jd(uf,b):b;return new Jr(Vj.hd(a),vj.hd(a),zk.hd(a),null,rf(b),null)}var Mr=new n(null,2,[lj,Pl,Pl,lj],null);
function Nr(a,b){var c=R(b,0,null);R(b,1,null);switch(a instanceof B?a.fe:null){case "left":return J.jd(c,3);case "right":return J.jd(c,0);default:return!1}}
function Or(a,b){b=null!=b&&(b.md&64||m===b.Md)?ke(Zh,b):b;var c=A.jd(b,Vj),d=A.jd(b,vj);b=A.jd(b,zk);var e=R(c,0,null),f=R(c,1,null),h=Hr(a,b);R(h,0,null);var k=R(h,1,null);k=J.jd(k,em)?Nm:k;var l=J.jd(d,Mj);f=(f=J.jd(f,Nm))?Nr(e,b):f;a=Rd.kd(ag(a,new U(null,2,5,X,[Wl,b],null),c),Nj,Mr.hd?Mr.hd(e):Mr.call(null,e));a=l?Ir(a,c):a;d=l?a:bg.sd(a,new U(null,1,5,X,[Wl],null),Td,d);t(h)&&(a=new U(null,2,5,X,[e,k],null),h=R(a,0,null),a=R(a,1,null),d=bg.kd(d,new U(null,3,5,X,[Ck,h,a],null),Df(md,0)));return t(f)?
ag(d,new U(null,2,5,X,[Wl,b],null),new U(null,2,5,X,[e,em],null)):d}function Pr(a,b,c){return zf(function(d){var e=Hr(a,d),f=R(e,0,null);R(e,1,null);return J.jd(f,b)?(d=Dr(e,d),d.hd?d.hd(c):d.call(null,c)):null},Cr(c,yr))}function Qr(a,b){return zf(function(c){var d=R(c,0,null);c=R(c,1,null);return J.jd(c,new U(null,2,5,X,[b,Xj],null))?d:null},Wl.hd(a))}function Rr(a,b){var c=Qr(a,b);b=Mr.hd?Mr.hd(b):Mr.call(null,b);return Pr(a,b,c)}
function Sr(a,b){var c=null!=b&&(b.md&64||m===b.Md)?ke(Zh,b):b,d=A.jd(c,Vj),e=A.jd(c,vj),f=A.jd(c,zk);c=Nj.hd(a);var h=R(d,0,null),k=R(d,1,null),l=Hr(a,f);c=J.jd(h,c);var p=J.jd(e,Mj);return c&&(c=p?function(){var r=R(d,0,null);var q=R(d,1,null);r=$f(a,new U(null,3,5,X,[Ck,r,q],null));q=null==l;var v=(v=J.jd(k,Nm))?Nr(h,f):v;return t(r)?q&&ob(v):r}():function(){var r=J.jd(Hr(a,e),d);var q=Dr(d,e);q=q.hd?q.hd(f):q.call(null,f);var v=qf(h,H(l));return r?t(q)?v:q:r}(),t(c))?(b=Or(a,b),ob(Rr(b,h))):c}
function Tr(a){var b=Nj.hd(a),c=Mr.hd?Mr.hd(b):Mr.call(null,b),d=Pf(function(k,l){return function(p){var r=R(p,0,null),q=R(p,1,null);return Jf.jd(function(v,w,x){return function(C){return Kr(x,w,C)}}(p,r,q,k,l),Dr(q,r))}}(b,c),Fd([Qf(function(k){return function(l){R(l,0,null);l=R(l,1,null);var p=R(l,0,null);R(l,1,null);return J.jd(p,k)}}(b,c),Wl.hd(a))])),e=ah($f(a,new U(null,2,5,X,[Ck,b],null))),f=Qf(function(){return function(k){return null==Hr(a,k)}}(b,c,d,e),Fr),h=function(){return function(k,
l,p,r,q){return function x(w){return new Re(null,function(C,E,P,S,ea){return function(){for(var ta=w;;){var Ka=F(ta);if(Ka){var wa=Ka,D=H(wa);if(Ka=F(function(N,M,Q,T,V,W,ba,ca,ia){return function sa(ma){return new Re(null,function(za,Aa,Na,Ta,Va){return function(){for(;;){var fb=F(ma);if(fb){if(ie(fb)){var sb=Gc(fb),Db=O(sb),Ab=Ve(Db);a:for(var Sf=0;;)if(Sf<Db){var Gi=Kb.jd(sb,Sf);Ab.add(Kr(new U(null,2,5,X,[Va,Aa],null),Mj,Gi));Sf+=1}else{sb=!0;break a}return sb?$e(Ab.Bd(),sa(Hc(fb))):$e(Ab.Bd(),
null)}Ab=H(fb);return Ed(Kr(new U(null,2,5,X,[Va,Aa],null),Mj,Ab),sa(ed(fb)))}return null}}}(N,M,Q,T,V,W,ba,ca,ia),null)}}(ta,D,wa,Ka,C,E,P,S,ea)(ea)))return df.jd(Ka,x(ed(ta)));ta=ed(ta)}else return null}}}(k,l,p,r,q),null)}}(b,c,d,e,f)(e)}();return t(Nr(c,Qr(a,c)))?gi:ii(Qf(function(){return function(k){return Sr(a,k)}}(b,c,d,e,f,h),df.jd(d,h)))};function Ur(a,b,c,d,e,f,h,k){this.ke=a;this.history=b;this.ne=c;this.me=d;this.result=e;this.Sd=f;this.yd=h;this.qd=k;this.md=2230716170;this.vd=139264}g=Ur.prototype;g.Hd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){switch(b instanceof B?b.fe:null){case "board":return this.ke;case "history":return this.history;case "next-moves":return this.ne;case "last-moves":return this.me;case "result":return this.result;default:return A.kd(this.yd,b,c)}};
g.Te=function(a,b,c){return xb(function(){return function(d,e){var f=R(e,0,null);e=R(e,1,null);return b.kd?b.kd(d,f,e):b.call(null,d,f,e)}}(this),c,this)};
g.Ad=function(a,b,c){return si(b,function(){return function(d){return si(b,Ai,""," ","",c,d)}}(this),"#anish.board.game.Game{",", ","}",c,df.jd(new U(null,5,5,X,[new U(null,2,5,X,[nj,this.ke],null),new U(null,2,5,X,[$l,this.history],null),new U(null,2,5,X,[ck,this.ne],null),new U(null,2,5,X,[hn,this.me],null),new U(null,2,5,X,[Zk,this.result],null)],null),this.yd))};g.ee=function(){return new Ug(this,5,new U(null,5,5,X,[nj,$l,ck,hn,Zk],null),t(this.yd)?Nc(this.yd):sf())};g.Fd=function(){return this.Sd};
g.Kd=function(){return 5+O(this.yd)};g.Cd=function(){var a=this,b=this.qd;if(null!=b)return b;var c=function(){return function(){return function(d){return-1257343740^kd(d)}}(b,a)(a)}();return this.qd=c};g.zd=function(a,b){return null!=b&&this.constructor===b.constructor&&J.jd(this.ke,b.ke)&&J.jd(this.history,b.history)&&J.jd(this.ne,b.ne)&&J.jd(this.me,b.me)&&J.jd(this.result,b.result)&&J.jd(this.yd,b.yd)};
g.ef=function(a,b){return pe(new ei(null,new n(null,5,[ck,null,$l,null,Zk,null,nj,null,hn,null],null),null),b)?Td.jd(gc(Xf.jd(uf,this),this.Sd),b):new Ur(this.ke,this.history,this.ne,this.me,this.result,this.Sd,rf(Td.jd(this.yd,b)),null)};
g.ce=function(a,b,c){return t(Ne.jd?Ne.jd(nj,b):Ne.call(null,nj,b))?new Ur(c,this.history,this.ne,this.me,this.result,this.Sd,this.yd,null):t(Ne.jd?Ne.jd($l,b):Ne.call(null,$l,b))?new Ur(this.ke,c,this.ne,this.me,this.result,this.Sd,this.yd,null):t(Ne.jd?Ne.jd(ck,b):Ne.call(null,ck,b))?new Ur(this.ke,this.history,c,this.me,this.result,this.Sd,this.yd,null):t(Ne.jd?Ne.jd(hn,b):Ne.call(null,hn,b))?new Ur(this.ke,this.history,this.ne,c,this.result,this.Sd,this.yd,null):t(Ne.jd?Ne.jd(Zk,b):Ne.call(null,
Zk,b))?new Ur(this.ke,this.history,this.ne,this.me,c,this.Sd,this.yd,null):new Ur(this.ke,this.history,this.ne,this.me,this.result,this.Sd,Rd.kd(this.yd,b,c),null)};g.Id=function(){return F(df.jd(new U(null,5,5,X,[new tg(nj,this.ke),new tg($l,this.history),new tg(ck,this.ne),new tg(hn,this.me),new tg(Zk,this.result)],null),this.yd))};g.Jd=function(a,b){return new Ur(this.ke,this.history,this.ne,this.me,this.result,b,this.yd,this.qd)};
g.Ld=function(a,b){return he(b)?this.ce(null,Kb.jd(b,0),Kb.jd(b,1)):xb(Ib,this,b)};
function Vr(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new G(b.slice(0),0,null):null;b=mf(Rd,new n(null,2,[$l,uf,hn,fd],null),b);c=Td.od(b,nj,Fd([$l,ck,hn,Zk]));c=ge(b)?Xf.jd(uf,c):c;b=new Ur(nj.hd(b),$l.hd(b),ck.hd(b),hn.hd(b),Zk.hd(b),null,rf(c),null);c=Sd([new U(null,2,5,X,[0,0],null),new U(null,2,5,X,[lj,vk],null),new U(null,2,5,X,[0,1],null),new U(null,2,5,X,[lj,Xj],null),new U(null,2,5,X,[0,2],null),new U(null,2,5,X,[lj,Zm],null),new U(null,
2,5,X,[1,1],null),new U(null,2,5,X,[lj,Nm],null),new U(null,2,5,X,[3,2],null),new U(null,2,5,X,[Pl,vk],null),new U(null,2,5,X,[3,1],null),new U(null,2,5,X,[Pl,Xj],null),new U(null,2,5,X,[3,0],null),new U(null,2,5,X,[Pl,Zm],null),new U(null,2,5,X,[2,1],null),new U(null,2,5,X,[Pl,Nm],null)]);c=new Gr(c,uf,lj,null,null,null);return Rd.od(b,nj,c,Fd([ck,Tr(c)]))}
function Wr(a,b){var c=null!=a&&(a.md&64||m===a.Md)?ke(Zh,a):a,d=A.jd(c,nj),e=A.jd(c,$l),f=A.jd(c,ck);c=A.jd(c,hn);if(t(f.hd?f.hd(b):f.call(null,b))){f=Or(d,b);var h=Tr(f);e=J.jd(2,e.hd?e.hd(f):e.call(null,f));var k=be(h);e=e?rn:k?Nj.hd(d):null;return bg.kd(Rd.od(a,nj,f,Fd([ck,t(e)?gi:h,hn,Md.jd(c,b),Zk,e])),new U(null,2,5,X,[$l,d],null),Df(md,0))}return null};var Xr=new n(null,5,[Nm,1,vk,4,Zm,4,em,6,Xj,0],null);function Yr(a){var b=Zk.hd(a);return t(b)?J.jd(b,rn)?0:J.jd(b,Nj.hd(nj.hd(a)))?-1E4:1E4:null}
function Zr(a){var b=Yr(a);if(t(b))return b;var c=nj.hd(a),d=null!=c&&(c.md&64||m===c.Md)?ke(Zh,c):c,e=A.jd(d,Wl),f=A.jd(d,Ck),h=A.jd(d,Nj);a=ke(Ee,Jf.jd(function(k,l,p,r,q){return function(v){R(v,0,null);var w=R(v,1,null);v=R(w,0,null);w=R(w,1,null);w=Xr.hd?Xr.hd(w):Xr.call(null,w);return J.jd(v,q)?-w:w}}(c,d,e,f,h,b),e));b=ke(Ee,Jf.jd(function(k,l,p,r,q,v,w){return function(x){var C=R(x,0,null),E=R(x,1,null);return ke(Ee,Jf.jd(function(P,S,ea,ta,Ka,wa,D,N){return function(M){var Q=R(M,0,null);return R(M,
1,null)*(Xr.hd?Xr.hd(Q):Xr.call(null,Q))*(J.jd(S,N)?-1:1)}}(x,C,E,k,l,p,r,q,v,w),E))}}(c,d,e,f,h,a,b),f));return a+b}function $r(a){var b=Yr(a);return t(b)?b:3*Zr(a)-O(ck.hd(a))};function as(a,b){var c=null!=a&&(a.md&64||m===a.Md)?ke(Zh,a):a,d=A.jd(c,Kl),e=A.jd(c,ym),f=A.jd(c,Fj);return function(h,k,l,p,r){return function x(v,w){var C=F(p.hd?p.hd(w):p.call(null,w));if(C)return mf(ki,H,Jf.jd(function(E,P,S,ea,ta,Ka,wa){return function(D){var N=R(D,0,null);D=R(D,1,null);if(v<wa){var M=x(v+1,D);D=R(M,0,null);M=R(M,1,null);return new U(null,2,5,X,[-D,Ed(N,M)],null)}return new U(null,2,5,X,[ta.hd?ta.hd(D):ta.call(null,D),new U(null,1,5,X,[N],null)],null)}}(C,C,h,k,l,p,r),C));Hi(Fd(["no move left, return result"]));
return new U(null,2,5,X,[l.hd?l.hd(w):l.call(null,w),null],null)}}(a,c,d,e,f)(1,b)};function bs(a,b){return as(new n(null,3,[Kl,$r,ym,function(c){return function f(e){return new Re(null,function(){for(;;){var h=F(e);if(h){if(ie(h)){var k=Gc(h),l=O(k),p=Ve(l);a:for(var r=0;;)if(r<l){var q=Kb.jd(k,r);q=new U(null,2,5,X,[q,Wr(c,q)],null);p.add(q);r+=1}else{k=!0;break a}return k?$e(p.Bd(),f(Hc(h))):$e(p.Bd(),null)}p=H(h);return Ed(new U(null,2,5,X,[p,Wr(c,p)],null),f(ed(h)))}return null}},null)}(ck.hd(c))},Fj,a],null),b)}
function cs(a){return function(b){var c=bs(a,b);b=R(c,0,null);c=R(c,1,null);var d=R(c,0,null);Hi(Fd(["Position Value:",b]));Hi(Fd(["Main Var:",c]));return d}}var ds=new U(null,4,5,X,[new U(null,2,5,X,[Wj,function(a){a=Xf.jd(Nd,ck.hd(a));return yd(a,Math.floor(Math.random()*O(a)))}],null),new U(null,2,5,X,[Aj,cs(1)],null),new U(null,2,5,X,[kj,cs(2)],null),new U(null,2,5,X,[Ik,cs(3)],null)],null);
function es(a,b){return zf(function(c){var d=R(c,0,null);c=R(c,1,null);return J.jd(a,d)?c.hd?c.hd(b):c.call(null,b):null},ds)};function fs(a,b,c){return new U(null,3,5,X,[Om,new n(null,2,[Zl,a,Kj,c],null),new U(null,2,5,X,[Hj,new n(null,2,[Zl,b,tl,new n(null,1,[il,"16px"],null)],null)],null)],null)}function gs(a,b){R(b,0,null);b=R(b,1,null);return $f(a,new U(null,2,5,X,[pm,b],null))}xq.jd?xq.jd(Em,gs):xq.call(null,Em,gs);Uq.jd(El,function(a,b){R(b,0,null);var c=R(b,1,null);b=R(b,2,null);return ag(a,new U(null,2,5,X,[pm,c],null),b)});
function hs(a,b,c){var d=z(function(){var e=new U(null,2,5,X,[Em,a],null);return Y.hd?Y.hd(e):Y.call(null,e)}());return new U(null,3,5,X,[Ol,new U(null,3,5,X,[dj,new U(null,2,5,X,[Ul,new U(null,4,5,X,[fs,Pj,t(d)?xj:Cm,function(e){return function(){var f=new U(null,3,5,X,[El,a,ob(e)],null);return Z.hd?Z.hd(f):Z.call(null,f)}}(d)],null)],null),new U(null,2,5,X,[qj,b],null)],null),new U(null,2,5,X,[Sk,t(d)?null:c],null)],null)};function is(a){return Jn(" ",Jf.jd(Kn,Ln(Qe(a))))}function js(a){if(t(a)){if(a instanceof B)return is(a);a=new U(null,2,5,X,[Sl,a],null);a=Y.hd?Y.hd(a):Y.call(null,a);a=z(a);return new U(null,2,5,X,[yl,a],null)}return null}Vq(rj,function(a,b){R(b,0,null);a=R(b,1,null);b=R(b,2,null);return new n(null,1,[Dl,new U(null,2,5,X,[new U(null,2,5,X,[fk,a],null),ci.od(Fd([new n(null,1,[qk,uf],null),b]))],null)],null)});
Vq(sl,function(a,b){R(b,0,null);a=R(b,1,null);b=R(b,2,null);return new n(null,1,[Nk,new U(null,2,5,X,[new U(null,2,5,X,[fk,a],null),new n(null,1,[Sl,b],null)],null)],null)});Vq(Fm,function(a,b){R(b,0,null);a=R(b,1,null);b=R(b,2,null);return new n(null,1,[Nk,new U(null,2,5,X,[new U(null,2,5,X,[fk,a],null),new n(null,1,[Nl,b],null)],null)],null)});
Vq(wj,function(a,b){R(b,0,null);a=R(b,1,null);b=R(b,2,null);return new n(null,1,[Dl,new U(null,2,5,X,[new U(null,4,5,X,[fk,a,qk,b],null),new n(null,1,[fl,!0],null)],null)],null)});Vq(km,function(a,b){R(b,0,null);a=R(b,1,null);b=R(b,2,null);Hi(Fd(["del",a]));Hi(Fd(["-",b]));return new n(null,1,[cj,new U(null,4,5,X,[fk,a,qk,b],null)],null)});
hq(Tm,an,function(){return Co(function(){var a=z(function(){var c=new U(null,1,5,X,[nl],null);return Y.hd?Y.hd(c):Y.call(null,c)}());if(t(a)){var b=z(function(){var c=new U(null,2,5,X,[zl,new U(null,2,5,X,[fk,a],null)],null);return Y.hd?Y.hd(c):Y.call(null,c)}());return t(b)?Rd.kd(b,uk,a):null}return null})});function ks(a){R(a,0,null);a=R(a,1,null);a=new U(null,2,5,X,[zl,new U(null,2,5,X,[fk,a],null)],null);return Y.hd?Y.hd(a):Y.call(null,a)}function ls(a){return Sl.jd(a,"NO ONE")}
xq.kd?xq.kd(Sl,ks,ls):xq.call(null,Sl,ks,ls);function ms(a){R(a,0,null);var b=R(a,1,null);a=R(a,2,null);b=new U(null,2,5,X,[zl,new U(null,4,5,X,[fk,b,qk,a],null)],null);return Y.hd?Y.hd(b):Y.call(null,b)}function ns(a){return a}xq.kd?xq.kd(vl,ms,ns):xq.call(null,vl,ms,ns);
hq(Tm,Zj,function(a,b){a=R(b,0,null);var c=R(b,1,null);return Co(function(d,e,f){return function(){return qi(Jf.jd(function(){return function(h){var k=R(h,0,null);R(h,1,null);h=new U(null,2,5,X,[Sl,k],null);h=Y.hd?Y.hd(h):Y.call(null,h);return new n(null,2,[uk,k,Sl,z(h)],null)}}(d,e,f),z(function(){var h=new U(null,2,5,X,[dm,new U(null,3,5,X,[fk,f,qk],null)],null);return Y.hd?Y.hd(h):Y.call(null,h)}())))}}(b,a,c))});
function os(a){R(a,0,null);R(a,1,null);return new U(null,2,5,X,[function(){var b=new U(null,1,5,X,[nl],null);return Y.hd?Y.hd(b):Y.call(null,b)}(),function(){var b=new U(null,2,5,X,[dm,new U(null,1,5,X,[fk],null)],null);return Y.hd?Y.hd(b):Y.call(null,b)}()],null)}
var ps=function(a,b){return function(c){var d=R(c,0,null),e=R(c,1,null);return df.jd(function(){return function(f,h,k,l,p){return function v(q){return new Re(null,function(){return function(){for(;;){var w=F(q);if(w){if(ie(w)){var x=Gc(w),C=O(x),E=Ve(C);a:for(var P=0;;)if(P<C){var S=Kb.jd(x,P),ea=R(S,0,null);R(S,1,null);S=new n(null,2,[uk,ea,Sl,is(ea)],null);E.add(S);P+=1}else{x=!0;break a}return x?$e(E.Bd(),v(Hc(w))):$e(E.Bd(),null)}E=H(w);x=R(E,0,null);R(E,1,null);return Ed(new n(null,2,[uk,x,Sl,
is(x)],null),v(ed(w)))}return null}}}(f,h,k,l,p),null)}}(c,d,e,a,b)(ds)}(),ve(Sl,Rf(Bf.jd(hi([d]),uk),Qf(pb,Jf.jd(function(){return function(f){var h=R(f,0,null);f=R(f,1,null);return t(Nl.hd(f))?ci.od(Fd([new n(null,2,[uk,h,Sl,"NO ONE"],null),f])):null}}(c,d,e,a,b),e)))))}}(Km,os);xq.kd?xq.kd(Km,os,ps):xq.call(null,Km,os,ps);
function qs(){var a=z(function(){var f=new U(null,1,5,X,[nl],null);return Y.hd?Y.hd(f):Y.call(null,f)}()),b=z(function(){var f=new U(null,1,5,X,[an],null);return Y.hd?Y.hd(f):Y.call(null,f)}()),c=null!=b&&(b.md&64||m===b.Md)?ke(Zh,b):b,d=A.jd(c,Sl),e=A.jd(c,Nl);return new U(null,4,5,X,[hs,uj,new U(null,2,5,X,[Im,"Settings"],null),new U(null,3,5,X,[el,new U(null,4,5,X,[yk,new U(null,2,5,X,[Ek,"Nickname"],null),new U(null,2,5,X,[Xk,t(d)?d:"NO ONE"],null),new U(null,2,5,X,[Fk,new U(null,4,5,X,[fs,am,
jl,function(f,h,k,l){return function(){var p=window.prompt("Set nickname to");if(t(p)){if(t(l))return p=new U(null,3,5,X,[sl,f,p],null),Z.hd?Z.hd(p):Z.call(null,p);p=new U(null,3,5,X,[rj,f,new n(null,2,[Sl,p,qk,uf],null)],null);return Z.hd?Z.hd(p):Z.call(null,p)}return null}}(a,b,c,c,d,e)],null)],null)],null),new U(null,4,5,X,[yk,new U(null,2,5,X,[ql,"Open for Challanges?"],null),new U(null,2,5,X,[Xk,t(e)?"yes":"no"],null),new U(null,2,5,X,[Fk,new U(null,4,5,X,[fs,Vl,t(e)?ek:Bl,function(f,h,k,l,p,
r){return function(){if(t(l)){var q=new U(null,3,5,X,[Fm,f,ob(r)],null);return Z.hd?Z.hd(q):Z.call(null,q)}q=new U(null,3,5,X,[rj,f,new n(null,2,[Nl,ob(r),qk,uf],null)],null);return Z.hd?Z.hd(q):Z.call(null,q)}}(a,b,c,c,d,e)],null)],null)],null)],null)],null)}
function rs(){var a=z(function(){var c=new U(null,1,5,X,[nl],null);return Y.hd?Y.hd(c):Y.call(null,c)}()),b=z(function(){var c=new U(null,2,5,X,[Zj,a],null);return Y.hd?Y.hd(c):Y.call(null,c)}());return F(b)?new U(null,4,5,X,[hs,dn,new U(null,2,5,X,[Im,"Incoming Challenges"],null),new U(null,2,5,X,[el,function(){return function(c,d){return function h(f){return new Re(null,function(k,l){return function(){for(;;){var p=F(f);if(p){var r=p;if(ie(r)){var q=Gc(r),v=O(q),w=Ve(v);return function(){for(var S=
0;;)if(S<v){var ea=Kb.jd(q,S),ta=null!=ea&&(ea.md&64||m===ea.Md)?ke(Zh,ea):ea,Ka=A.jd(ta,uk),wa=A.jd(ta,Sl);af(w,Xd(new U(null,3,5,X,[yk,new U(null,2,5,X,[Fk,wa],null),new U(null,3,5,X,[yj,new U(null,3,5,X,[gj,new n(null,1,[Kj,function(D,N,M,Q,T,V,W,ba,ca,ia,la){return function(){var ma=new U(null,3,5,X,[oj,la,Q],null);return Z.hd?Z.hd(ma):Z.call(null,ma)}}(S,ea,ta,Ka,wa,q,v,w,r,p,k,l)],null),"Start"],null),new U(null,3,5,X,[Bm,new n(null,1,[Kj,function(D,N,M,Q,T,V,W,ba,ca,ia,la){return function(){var ma=
new U(null,3,5,X,[km,la,Q],null);return Z.hd?Z.hd(ma):Z.call(null,ma)}}(S,ea,ta,Ka,wa,q,v,w,r,p,k,l)],null),"Decline"],null)],null)],null),new n(null,1,[Xm,Ka],null)));S+=1}else return!0}()?$e(w.Bd(),h(Hc(r))):$e(w.Bd(),null)}var x=H(r),C=null!=x&&(x.md&64||m===x.Md)?ke(Zh,x):x,E=A.jd(C,uk),P=A.jd(C,Sl);return Ed(Xd(new U(null,3,5,X,[yk,new U(null,2,5,X,[Fk,P],null),new U(null,3,5,X,[yj,new U(null,3,5,X,[gj,new n(null,1,[Kj,function(S,ea,ta,Ka,wa,D,N){return function(){var M=new U(null,3,5,X,[oj,
N,ta],null);return Z.hd?Z.hd(M):Z.call(null,M)}}(x,C,E,P,r,p,k,l)],null),"Start"],null),new U(null,3,5,X,[Bm,new n(null,1,[Kj,function(S,ea,ta,Ka,wa,D,N){return function(){var M=new U(null,3,5,X,[km,N,ta],null);return Z.hd?Z.hd(M):Z.call(null,M)}}(x,C,E,P,r,p,k,l)],null),"Decline"],null)],null)],null),new n(null,1,[Xm,E],null)),h(ed(r)))}return null}}}(c,d),null)}}(a,b)(b)}()],null)],null):null}
function ss(a){var b=null!=a&&(a.md&64||m===a.Md)?ke(Zh,a):a,c=A.jd(b,uk),d=A.jd(b,Sl),e=z(function(){var h=new U(null,1,5,X,[nl],null);return Y.hd?Y.hd(h):Y.call(null,h)}()),f=z(function(){var h=new U(null,3,5,X,[vl,c,e],null);return Y.hd?Y.hd(h):Y.call(null,h)}());return t(f)?new U(null,3,5,X,[yl,"Challenged..",new U(null,2,5,X,[dk,new U(null,4,5,X,[fs,mj,Fl,function(h,k,l,p,r){return function(){var q=new U(null,3,5,X,[km,r,h],null);return Z.hd?Z.hd(q):Z.call(null,q)}}(e,f,a,b,c,d)],null)],null)],
null):c instanceof B?new U(null,3,5,X,[gj,new n(null,1,[Kj,function(h,k,l,p,r){return function(){var q=new U(null,3,5,X,[oj,r,h],null);return Z.hd?Z.hd(q):Z.call(null,q)}}(e,f,a,b,c,d)],null),"Start"],null):new U(null,3,5,X,[ln,new n(null,1,[Kj,function(h,k,l,p,r){return function(){var q=new U(null,3,5,X,[wj,r,h],null);return Z.hd?Z.hd(q):Z.call(null,q)}}(e,f,a,b,c,d)],null),"Challenge"],null)}
function ts(){var a=z(function(){var b=new U(null,1,5,X,[Km],null);return Y.hd?Y.hd(b):Y.call(null,b)}());return new U(null,4,5,X,[hs,Km,new U(null,2,5,X,[Im,"Open Players"],null),new U(null,2,5,X,[el,function(){return function(b){return function e(d){return new Re(null,function(){return function(){for(;;){var f=F(d);if(f){if(ie(f)){var h=Gc(f),k=O(h),l=Ve(k);a:for(var p=0;;)if(p<k){var r=Kb.jd(h,p),q=null!=r&&(r.md&64||m===r.Md)?ke(Zh,r):r;r=q;A.jd(q,uk);q=A.jd(q,Sl);r=Xd(new U(null,3,5,X,[yk,new U(null,
2,5,X,[Fk,q],null),new U(null,2,5,X,[yj,new U(null,2,5,X,[ss,r],null)],null)],null),new n(null,1,[Xm,uk.hd(r)],null));l.add(r);p+=1}else{h=!0;break a}return h?$e(l.Bd(),e(Hc(f))):$e(l.Bd(),null)}l=H(f);l=h=null!=l&&(l.md&64||m===l.Md)?ke(Zh,l):l;A.jd(h,uk);h=A.jd(h,Sl);return Ed(Xd(new U(null,3,5,X,[yk,new U(null,2,5,X,[Fk,h],null),new U(null,2,5,X,[yj,new U(null,2,5,X,[ss,l],null)],null)],null),new n(null,1,[Xm,uk.hd(l)],null)),e(ed(f)))}return null}}}(b),null)}}(a)(a)}()],null)],null)};function us(a,b){var c=null!=b&&(b.md&64||m===b.Md)?ke(Zh,b):b;b=A.jd(c,lj);c=A.jd(c,Pl);return J.jd(a,b)||J.jd(a,c)}Uq.jd(tj,function(a,b){R(b,0,null);var c=R(b,1,null),d=R(b,2,null);b=R(b,3,null);return ag(a,new U(null,3,5,X,[wl,c,Cl],null),new U(null,2,5,X,[d,b],null))});Uq.jd(xk,function(a,b){R(b,0,null);b=R(b,1,null);return ag(a,new U(null,3,5,X,[wl,b,Cl],null),null)});
Vq(ll,function(a,b){a=R(b,0,null);var c=R(b,1,null),d=R(b,2,null),e=R(b,3,null),f=R(b,4,null),h=Zk.hd(Wr(d,Lr(f)));t(h)&&(h=new U(null,3,5,X,[Nk,new U(null,2,5,X,[Vk,c],null),new n(null,3,[fl,!1,Zk,h,xl,Wq.firestore.FieldValue.serverTimestamp()],null)],null),Z.hd?Z.hd(h):Z.call(null,h));return new n(null,2,[gm,new U(null,2,5,X,[xk,c],null),Dj,new U(null,2,5,X,[new U(null,4,5,X,[Vk,c,tk,e],null),function(k,l,p,r,q,v){return function(w){return t(w)?w:v}}(b,a,c,d,e,f)],null)],null)});
Vq(Ij,function(a,b){R(b,0,null);var c=R(b,1,null);a=R(b,2,null);var d=R(b,3,null);b=R(b,4,null);c=es(c,b);return new n(null,1,[gm,new U(null,5,5,X,[ll,a,b,d,c],null)],null)});function vs(a,b){R(b,0,null);b=R(b,1,null);return $f(a,new U(null,3,5,X,[wl,b,Cl],null))}xq.jd?xq.jd(Yi,vs):xq.call(null,Yi,vs);function ws(a){R(a,0,null);a=R(a,1,null);a=new U(null,2,5,X,[zl,new U(null,2,5,X,[Vk,a],null)],null);return Y.hd?Y.hd(a):Y.call(null,a)}function xs(a){return a}
xq.kd?xq.kd(aj,ws,xs):xq.call(null,aj,ws,xs);function ys(a){R(a,0,null);a=R(a,1,null);a=new U(null,2,5,X,[dm,new U(null,3,5,X,[Vk,a,tk],null)],null);return Y.hd?Y.hd(a):Y.call(null,a)}function zs(a){return Jf.jd(Jd,ve(Bf.jd(parseInt,H),a))}xq.kd?xq.kd(Uj,ys,zs):xq.call(null,Uj,ys,zs);function As(a){R(a,0,null);a=R(a,1,null);a=new U(null,2,5,X,[Uj,a],null);return Y.hd?Y.hd(a):Y.call(null,a)}function Bs(a){return O(a)}xq.kd?xq.kd(bj,As,Bs):xq.call(null,bj,As,Bs);
function Cs(a,b){return t(a)?(b=Lr(cg(cg(b,Vj,function(c){var d=R(c,0,null);c=R(c,1,null);return new U(null,2,5,X,[Pe.hd(d),Pe.hd(c)],null)}),vj,function(c){return J.jd(c,"hand")?Mj:c})),Wr(a,b)):console.error("Game is nil")}function Ds(a){R(a,0,null);a=R(a,1,null);a=new U(null,2,5,X,[Uj,a],null);return Y.hd?Y.hd(a):Y.call(null,a)}function Es(a){return xb(Cs,Vr(),a)}xq.kd?xq.kd(Tk,Ds,Es):xq.call(null,Tk,Ds,Es);
function Fs(a){R(a,0,null);var b=R(a,1,null);return new U(null,3,5,X,[function(){var c=new U(null,1,5,X,[nl],null);return Y.hd?Y.hd(c):Y.call(null,c)}(),function(){var c=new U(null,2,5,X,[aj,b],null);return Y.hd?Y.hd(c):Y.call(null,c)}(),function(){var c=new U(null,2,5,X,[Tk,b],null);return Y.hd?Y.hd(c):Y.call(null,c)}()],null)}
function Gs(a){var b=R(a,0,null),c=R(a,1,null),d=null!=c&&(c.md&64||m===c.Md)?ke(Zh,c):c;c=A.jd(d,lj);d=A.jd(d,Pl);a=R(a,2,null);if(t(Zk.hd(a)))return null;a=$f(a,new U(null,2,5,X,[nj,Nj],null));return J.jd(a,lj)&&J.jd(c,b)||J.jd(a,Pl)&&J.jd(d,b)}xq.kd?xq.kd(Sj,Fs,Gs):xq.call(null,Sj,Fs,Gs);var Hs=new n(null,3,[Zm,0,vk,1,Nm,2],null);function Is(a){R(a,0,null);var b=R(a,1,null);R(a,2,null);a=new U(null,2,5,X,[Tk,b],null);return Y.hd?Y.hd(a):Y.call(null,a)}
function Js(a,b){R(b,0,null);R(b,1,null);b=R(b,2,null);return ve(Bf.jd(Hs,H),$f(a,new U(null,3,5,X,[nj,Ck,b],null)))}xq.kd?xq.kd(Mj,Is,Js):xq.call(null,Mj,Is,Js);function Ks(a){var b=R(a,0,null);a=R(a,1,null);return t(b)?["img/",Qe(a),"-",Qe(b),".png"].join(""):"img/empty.png"}
function Ls(a,b,c,d){var e=t(z(function(){var q=new U(null,2,5,X,[Sj,a],null);return Y.hd?Y.hd(q):Y.call(null,q)}()))?ck.hd(d):null,f=z(function(){var q=new U(null,2,5,X,[bj,a],null);return Y.hd?Y.hd(q):Y.call(null,q)}()),h=z(function(){var q=new U(null,2,5,X,[Yi,a],null);return Y.hd?Y.hd(q):Y.call(null,q)}()),k=R(h,0,null),l=R(h,1,null),p=J.jd(l,c)&&J.jd(k,b),r=t(k)?zf(function(q,v,w,x,C){return function(E){var P=null!=E&&(E.md&64||m===E.Md)?ke(Zh,E):E;E=A.jd(P,Vj);var S=A.jd(P,vj);P=A.jd(P,zk);
return J.jd(E,x)&&J.jd(S,C)&&J.jd(P,c)}}(e,f,h,k,l,p),e):zf(function(){return function(q){var v=null!=q&&(q.md&64||m===q.Md)?ke(Zh,q):q;q=A.jd(v,Vj);v=A.jd(v,vj);return J.jd(q,b)&&J.jd(v,c)}}(e,f,h,k,l,p),e);return new U(null,3,5,X,[Sk,new n(null,1,[tl,new n(null,1,[Rj,"2px"],null)],null),new U(null,3,5,X,[Sk,new n(null,2,[tl,new n(null,4,[Xl,p?"rgba(83, 124, 149, 0.7)":t(r)?"rgba(83, 149, 95, 0.4)":t(b)?"rgba(213, 196, 101, 0.7)":"rgba(0,0,0,0.2)",mm,t(r)?vm:null,cl,"128px",Wk,"128px"],null),Kj,
t(k)?t(r)?function(q,v,w,x,C){return function(){var E=new U(null,5,5,X,[ll,a,d,v,new n(null,3,[Vj,x,vj,C,zk,c],null)],null);return Z.hd?Z.hd(E):Z.call(null,E)}}(e,f,h,k,l,p,r):function(){return function(){var q=new U(null,2,5,X,[xk,a],null);return Z.hd?Z.hd(q):Z.call(null,q)}}(e,f,h,k,l,p,r):t(r)?function(){return function(){var q=new U(null,4,5,X,[tj,a,b,c],null);return Z.hd?Z.hd(q):Z.call(null,q)}}(e,f,h,k,l,p,r):null],null),t(b)?new U(null,2,5,X,[Tj,new n(null,2,[xm,Ks(b),cl,"128px"],null)],null):
null],null)],null)}
function Ms(a,b){var c=z(function(){var e=new U(null,2,5,X,[Tk,a],null);return Y.hd?Y.hd(e):Y.call(null,e)}()),d=z(function(){var e=new U(null,3,5,X,[Mj,a,b],null);return Y.hd?Y.hd(e):Y.call(null,e)}());return new U(null,3,5,X,[jk,new n(null,1,[tl,new n(null,1,[ml,"140px"],null)],null),function(){return function(e,f){return function l(k){return new Re(null,function(p){return function(){for(;;){var r=F(k);if(r){if(ie(r)){var q=Gc(r),v=O(q),w=Ve(v);a:for(var x=0;;)if(x<v){var C=Kb.jd(q,x),E=R(C,0,null);
C=R(C,1,null);E=Xd(new U(null,3,5,X,[zm,new U(null,4,5,X,[Tl,new n(null,1,[tl,new n(null,1,[il,"50px"],null)],null),C,"x"],null),new U(null,5,5,X,[Ls,a,new U(null,2,5,X,[b,E],null),Mj,p],null)],null),new n(null,1,[Xm,E],null));w.add(E);x+=1}else{q=!0;break a}return q?$e(w.Bd(),l(Hc(r))):$e(w.Bd(),null)}q=H(r);w=R(q,0,null);q=R(q,1,null);return Ed(Xd(new U(null,3,5,X,[zm,new U(null,4,5,X,[Tl,new n(null,1,[tl,new n(null,1,[il,"50px"],null)],null),q,"x"],null),new U(null,5,5,X,[Ls,a,new U(null,2,5,X,
[b,w],null),Mj,p],null)],null),new n(null,1,[Xm,w],null)),l(ed(r)))}return null}}}(e,f),null)}}(c,d)(d)}()],null)}
function Ns(a){var b=z(function(){var l=new U(null,1,5,X,[nl],null);return Y.hd?Y.hd(l):Y.call(null,l)}()),c=z(function(){var l=new U(null,2,5,X,[aj,a],null);return Y.hd?Y.hd(l):Y.call(null,l)}()),d=z(function(){var l=new U(null,2,5,X,[Tk,a],null);return Y.hd?Y.hd(l):Y.call(null,l)}()),e=$f(d,new U(null,2,5,X,[nj,Nj],null)),f=A.jd(c,e),h=f instanceof B&&us(b,c)&&ob(Zk.hd(d)),k=z(function(){var l=new U(null,2,5,X,[bj,a],null);return Y.hd?Y.hd(l):Y.call(null,l)}());h&&setTimeout(function(l,p,r,q,v,
w,x){return function(){var C=new U(null,5,5,X,[Ij,v,a,x,r],null);return Z.hd?Z.hd(C):Z.call(null,C)}}(b,c,d,e,f,h,k),1500);return new U(null,3,5,X,[Rm,new n(null,1,[tl,new n(null,1,[Xl,"#d5e6d299"],null)],null),new U(null,4,5,X,[al,new U(null,3,5,X,[$k,new U(null,2,5,X,[Rl,new U(null,2,5,X,[js,lj.hd(c)],null)],null),new U(null,3,5,X,[Ms,a,lj],null)],null),new U(null,2,5,X,[Zi,new U(null,3,5,X,[Sk,new U(null,2,5,X,[kk,function(){var l=Zk.hd(d);return t(l)?J.jd(l,rn)?"Draw game!":new U(null,3,5,X,[yl,
new U(null,2,5,X,[js,A.jd(c,l)],null)," wins!"],null):new U(null,3,5,X,[yl,new U(null,2,5,X,[js,A.jd(c,e)],null),"'s turn"],null)}()],null),new U(null,3,5,X,[Ql,new n(null,1,[tl,new n(null,2,[Rj,"2em",hj,'url("img/wood.png")'],null)],null),function(){return function(l,p,r,q,v,w,x){return function P(E){return new Re(null,function(S,ea,ta,Ka,wa,D,N){return function(){for(;;){var M=F(E);if(M){var Q=M;if(ie(Q)){var T=Gc(Q),V=O(T),W=Ve(V);return function(){for(var ca=0;;)if(ca<V){var ia=Kb.jd(T,ca);af(W,
Xd(new U(null,2,5,X,[gl,function(){return function(la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db,Ab,Sf,Gi){return function Xe(Zo){return new Re(null,function(Ye,Kd,Gk,we,Ki,Vf,jt,kt,lt,Li){return function(){for(;;){var Wf=F(Zo);if(Wf){if(ie(Wf)){var Mi=Gc(Wf),$o=O(Mi),Ze=Ve($o);a:for(var Hk=0;;)if(Hk<$o){var Zg=Kb.jd(Mi,Hk);Zg=Xd(new U(null,5,5,X,[Ls,a,Hr(nj.hd(Li),new U(null,2,5,X,[Zg,Kd],null)),new U(null,2,5,X,[Zg,Kd],null),Li],null),new n(null,1,[Xm,Zg],null));Ze.add(Zg);Hk+=1}else{Mi=!0;break a}return Mi?
$e(Ze.Bd(),Xe(Hc(Wf))):$e(Ze.Bd(),null)}Ze=H(Wf);return Ed(Xd(new U(null,5,5,X,[Ls,a,Hr(nj.hd(Li),new U(null,2,5,X,[Ze,Kd],null)),new U(null,2,5,X,[Ze,Kd],null),Li],null),new n(null,1,[Xm,Ze],null)),Xe(ed(Wf)))}return null}}}(la,ma,sa,za,Aa,Na,Ta,Va,fb,sb,Db,Ab,Sf,Gi),null)}}(ca,ia,T,V,W,Q,M,S,ea,ta,Ka,wa,D,N)(pi(4))}()],null),new n(null,1,[Xm,ia],null)));ca+=1}else return!0}()?$e(W.Bd(),P(Hc(Q))):$e(W.Bd(),null)}var ba=H(Q);return Ed(Xd(new U(null,2,5,X,[gl,function(){return function(ca,ia,la,ma,
sa,za,Aa,Na,Ta,Va){return function Db(sb){return new Re(null,function(Ab,Sf,Gi,mt,Zo,Xe){return function(){for(;;){var Ye=F(sb);if(Ye){if(ie(Ye)){var Kd=Gc(Ye),Gk=O(Kd),we=Ve(Gk);a:for(var Ki=0;;)if(Ki<Gk){var Vf=Kb.jd(Kd,Ki);Vf=Xd(new U(null,5,5,X,[Ls,a,Hr(nj.hd(Xe),new U(null,2,5,X,[Vf,Ab],null)),new U(null,2,5,X,[Vf,Ab],null),Xe],null),new n(null,1,[Xm,Vf],null));we.add(Vf);Ki+=1}else{Kd=!0;break a}return Kd?$e(we.Bd(),Db(Hc(Ye))):$e(we.Bd(),null)}we=H(Ye);return Ed(Xd(new U(null,5,5,X,[Ls,a,Hr(nj.hd(Xe),
new U(null,2,5,X,[we,Ab],null)),new U(null,2,5,X,[we,Ab],null),Xe],null),new n(null,1,[Xm,we],null)),Db(ed(Ye)))}return null}}}(ca,ia,la,ma,sa,za,Aa,Na,Ta,Va),null)}}(ba,Q,M,S,ea,ta,Ka,wa,D,N)(pi(4))}()],null),new n(null,1,[Xm,ba],null)),P(ed(Q)))}return null}}}(l,p,r,q,v,w,x),null)}}(b,c,d,e,f,h,k)(pi(3))}()],null)],null)],null),new U(null,3,5,X,[$k,new U(null,2,5,X,[Rl,new U(null,2,5,X,[js,Pl.hd(c)],null)],null),new U(null,3,5,X,[Ms,a,Pl],null)],null)],null)],null)};Vq(oj,function(a,b){R(b,0,null);a=R(b,1,null);b=R(b,2,null);var c=new U(null,2,5,X,[a,b],null);c=ue.hd?ue.hd(c):ue.call(null,c);var d=Math.random;for(var e=c.length-1;0<e;e--){var f=Math.floor(d()*(e+1)),h=c[e];c[e]=c[f];c[f]=h}d=Ag.hd?Ag.hd(c):Ag.call(null,c);c=R(d,0,null);d=R(d,1,null);return new n(null,2,[ij,new U(null,2,5,X,[new U(null,1,5,X,[Vk],null),new n(null,4,[fl,!0,lj,c,Pl,d,Um,Wq.firestore.FieldValue.serverTimestamp()],null)],null),gm,new U(null,3,5,X,[km,a,b],null)],null)});
Vq(Gl,function(a,b){R(b,0,null);a=R(b,1,null);return new n(null,2,[cj,new U(null,2,5,X,[Vk,a],null),Yk,new U(null,3,5,X,[Vk,a,tk],null)],null)});
var Os=new U(null,3,5,X,[dm,new U(null,1,5,X,[Vk],null),function(a){return a.where(":active?","\x3d\x3d",!0).orderBy(":started-at","desc")}],null),Ps=new U(null,1,5,X,[nl],null),Qs=function(a,b,c,d,e){return function(f){var h=R(f,0,null),k=R(f,1,null);return F(Qf(function(l,p,r){return function(q){R(q,0,null);q=R(q,1,null);return us(r,q)}}(f,h,k,a,b,c,d,e),h))}}(jn,Lj,Os,Lj,Ps);xq.Xd?xq.Xd(jn,Lj,Os,Lj,Ps,Qs):xq.call(null,jn,Lj,Os,Lj,Ps,Qs);
var Rs=new U(null,3,5,X,[dm,new U(null,1,5,X,[Vk],null),function(a){return a.where(":active?","\x3d\x3d",!1).orderBy(":finished-at","desc").limit(10)}],null),Ss=new U(null,1,5,X,[nl],null),Ts=function(a,b,c,d,e){return function(f){var h=R(f,0,null),k=R(f,1,null);return F(Qf(function(l,p,r){return function(q){R(q,0,null);q=R(q,1,null);return us(r,q)}}(f,h,k,a,b,c,d,e),h))}}(Jk,Lj,Rs,Lj,Ss);xq.Xd?xq.Xd(Jk,Lj,Rs,Lj,Ss,Ts):xq.call(null,Jk,Lj,Rs,Lj,Ss,Ts);
var Us=new U(null,3,5,X,[dm,new U(null,1,5,X,[Vk],null),function(a){return a.where(":active?","\x3d\x3d",!0).orderBy(":started-at","desc").limit(5)}],null),Vs=new U(null,1,5,X,[nl],null),Ws=function(a,b,c,d,e){return function(f){var h=R(f,0,null),k=R(f,1,null);return F(Qf(function(l,p,r){return function(q){R(q,0,null);q=R(q,1,null);return!us(r,q)}}(f,h,k,a,b,c,d,e),h))}}(wk,Lj,Us,Lj,Vs);xq.Xd?xq.Xd(wk,Lj,Us,Lj,Vs,Ws):xq.call(null,wk,Lj,Us,Lj,Vs,Ws);
var Xs=new U(null,3,5,X,[dm,new U(null,1,5,X,[Vk],null),function(a){return a.where(":active?","\x3d\x3d",!1).orderBy(":finished-at","desc").limit(10)}],null),Ys=new U(null,1,5,X,[nl],null),Zs=function(a,b,c,d,e){return function(f){var h=R(f,0,null),k=R(f,1,null);return F(Qf(function(l,p,r){return function(q){R(q,0,null);q=R(q,1,null);return!us(r,q)}}(f,h,k,a,b,c,d,e),h))}}(Yj,Lj,Xs,Lj,Ys);xq.Xd?xq.Xd(Yj,Lj,Xs,Lj,Ys,Zs):xq.call(null,Yj,Lj,Xs,Lj,Ys,Zs);
function $s(a){var b=z(function(){var c=new U(null,1,5,X,[nl],null);return Y.hd?Y.hd(c):Y.call(null,c)}());return new U(null,2,5,X,[Sk,function(){return function(c){return function f(e){return new Re(null,function(h){return function(){for(;;){var k=F(e);if(k){var l=k;if(ie(l)){var p=Gc(l),r=O(p),q=Ve(r);return function(){for(var C=0;;)if(C<r){var E=Kb.jd(p,C),P=R(E,0,null),S=R(E,1,null);af(q,Xd(new U(null,3,5,X,[Qj,new U(null,2,5,X,[Al,us(h,S)?new U(null,3,5,X,[Ml,new n(null,1,[Kj,function(ea,ta,
Ka){return function(){if(t(confirm("Really delete this game?"))){var wa=new U(null,2,5,X,[Gl,Ka],null);return Z.hd?Z.hd(wa):Z.call(null,wa)}return null}}(C,E,P,S,p,r,q,l,k,h)],null),"Delete"],null):null],null),new U(null,2,5,X,[Ns,P],null)],null),new n(null,1,[Xm,P],null)));C+=1}else return!0}()?$e(q.Bd(),f(Hc(l))):$e(q.Bd(),null)}var v=H(l),w=R(v,0,null),x=R(v,1,null);return Ed(Xd(new U(null,3,5,X,[Qj,new U(null,2,5,X,[Al,us(h,x)?new U(null,3,5,X,[Ml,new n(null,1,[Kj,function(C,E){return function(){if(t(confirm("Really delete this game?"))){var P=
new U(null,2,5,X,[Gl,E],null);return Z.hd?Z.hd(P):Z.call(null,P)}return null}}(v,w,x,l,k,h)],null),"Delete"],null):null],null),new U(null,2,5,X,[Ns,w],null)],null),new n(null,1,[Xm,w],null)),f(ed(l)))}return null}}}(c),null)}}(b)(a)}()],null)}function at(){var a=new U(null,1,5,X,[jn],null);a=Y.hd?Y.hd(a):Y.call(null,a);a=z(a);return t(a)?new U(null,4,5,X,[hs,vn,new U(null,2,5,X,[Im,"My Active Games"],null),new U(null,2,5,X,[$s,a],null)],null):null}
function bt(){var a=new U(null,1,5,X,[wk],null);a=Y.hd?Y.hd(a):Y.call(null,a);a=z(a);return t(a)?new U(null,4,5,X,[hs,wk,new U(null,2,5,X,[Im,"Other Active Games"],null),new U(null,2,5,X,[$s,a],null)],null):null}function ct(){var a=new U(null,1,5,X,[Jk],null);a=Y.hd?Y.hd(a):Y.call(null,a);a=z(a);return t(a)?new U(null,4,5,X,[hs,Jk,new U(null,2,5,X,[Im,"My Finished Games"],null),new U(null,2,5,X,[$s,a],null)],null):null}
function dt(){var a=new U(null,1,5,X,[Yj],null);a=Y.hd?Y.hd(a):Y.call(null,a);a=z(a);return t(a)?new U(null,4,5,X,[hs,Yj,new U(null,2,5,X,[Im,"Other Finished Games"],null),new U(null,2,5,X,[$s,a],null)],null):null};Uq.jd(pn,function(a,b){b=F(b);H(b);var c=I(b);b=H(c);c=I(c);return dg(a,im,Md,new U(null,2,5,X,[b,c],null))});Uq.jd(bn,function(a){return cg(a,im,$d)});function et(a){return im.hd(a)}xq.jd?xq.jd(im,et):xq.call(null,im,et);
function ft(){var a=function(){var e=new U(null,1,5,X,[im],null);return Y.hd?Y.hd(e):Y.call(null,e)}(),b=H(z(a)),c=R(b,0,null),d=R(b,1,null);return new U(null,4,5,X,[mk,new n(null,1,[Zl,t(c)?pn:sn],null),new U(null,1,5,X,[ul],null),new U(null,3,5,X,[Sk,new n(null,1,[Zl,t(c)?qm:null],null),new U(null,3,5,X,[fm,new n(null,4,[Jj,"-1",Oj,Vm,tl,t(c)?new n(null,1,[wm,on],null):null,Kj,function(){return function(){var e=new U(null,1,5,X,[bn],null);return Z.hd?Z.hd(e):Z.call(null,e)}}(a,b,c,d)],null),new U(null,
3,5,X,[zj,new n(null,2,[Oj,Bj,Kj,function(){return function(e){e.preventDefault();return e.stopPropagation()}}(a,b,c,d)],null),t(c)?Xf.jd(new U(null,1,5,X,[z(c)],null),d):null],null)],null)],null)],null)};function gt(){var a=new U(null,1,5,X,[ak],null);a=Y.hd?Y.hd(a):Y.call(null,a);a=z(a);return new U(null,8,5,X,[Mk,new U(null,1,5,X,[ft],null),new U(null,1,5,X,[hr],null),new U(null,2,5,X,[Gm,"Animal Shogi"],null),t(a)?new U(null,3,5,X,[Sk,new U(null,4,5,X,[bm,new U(null,2,5,X,[ok,new U(null,1,5,X,[qs],null)],null),new U(null,2,5,X,[ok,new U(null,1,5,X,[rs],null)],null),new U(null,2,5,X,[ok,new U(null,1,5,X,[ts],null)],null)],null),new U(null,1,5,X,[at],null)],null):null,new U(null,1,5,X,[bt],null),
t(a)?new U(null,1,5,X,[ct],null):null,new U(null,1,5,X,[dt],null)],null)};sq.rd?sq.rd():sq.call(null);var ht=document.getElementById("app");if(t(ht)){var it=new U(null,1,5,X,[gt],null);Np?Lp(it,ht,null):Mp.call(null,it,ht)};
}).call(this);