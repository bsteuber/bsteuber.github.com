var shadow$provide = {};
if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}
(function(){
shadow$provide[0]=function(n,y,c,r,f,z){var v=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;r.exports=function(){try{if(!Object.assign)return!1;var c=new String("abc");c[5]="de";if("5"===Object.getOwnPropertyNames(c)[0])return!1;var p={};for(c=0;10>c;c++)p["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(p).map(function(e){return p[e]}).join(""))return!1;var k={};"abcdefghijklmnopqrst".split("").forEach(function(e){k[e]=
e});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},k)).join("")?!1:!0}catch(e){return!1}}()?Object.assign:function(c,n){if(null===c||void 0===c)throw new TypeError("Object.assign cannot be called with null or undefined");var k=Object(c);for(var e,f=1;f<arguments.length;f++){var I=Object(arguments[f]);for(var r in I)p.call(I,r)&&(k[r]=I[r]);if(v){e=v(I);for(var Y=0;Y<e.length;Y++)x.call(I,e[Y])&&(k[e[Y]]=I[e[Y]])}}return k}};
shadow$provide[1]=function(n,y,c,r,f,z){function v(e,c,q,E,U,G,p,L){if(!e){e=void 0;if(void 0===c)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[q,E,U,G,p,L],x=0;e=Error(c.replace(/%s/g,function(){return k[x++]}));e.name="Invariant Violation"}e.framesToPop=1;throw e;}}function p(e){for(var c=arguments.length-1,q="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+e,E=0;E<c;E++)q+="\x26args[]\x3d"+
encodeURIComponent(arguments[E+1]);v(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",q)}function x(e,c,q){this.props=e;this.context=c;this.refs=Ra;this.updater=q||na}function I(){}function Y(e,c,q){this.props=e;this.context=c;this.refs=Ra;this.updater=q||na}function k(e,c,q){var E=void 0,U={},G=null,p=null;if(null!=c)for(E in void 0!==c.ref&&(p=c.ref),void 0!==c.key&&(G=""+c.key),c)ja.call(c,
E)&&!qa.hasOwnProperty(E)&&(U[E]=c[E]);var L=arguments.length-2;if(1===L)U.children=q;else if(1<L){for(var k=Array(L),x=0;x<L;x++)k[x]=arguments[x+2];U.children=k}if(e&&e.defaultProps)for(E in L=e.defaultProps,L)void 0===U[E]&&(U[E]=L[E]);return{$$typeof:xa,type:e,key:G,ref:p,props:U,_owner:ta.current}}function e(e,c){return{$$typeof:xa,type:e.type,key:c,ref:e.ref,props:e.props,_owner:e._owner}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===xa}function Z(e){var c={"\x3d":"\x3d0",
":":"\x3d2"};return"$"+(""+e).replace(/[=:]/g,function(e){return c[e]})}function za(e,c,q,E){if(La.length){var U=La.pop();U.result=e;U.keyPrefix=c;U.func=q;U.context=E;U.count=0;return U}return{result:e,keyPrefix:c,func:q,context:E,count:0}}function fa(e){e.result=null;e.keyPrefix=null;e.func=null;e.context=null;e.count=0;10>La.length&&La.push(e)}function O(e,c,q,E){var U=typeof e;if("undefined"===U||"boolean"===U)e=null;var G=!1;if(null===e)G=!0;else switch(U){case "string":case "number":G=!0;break;
case "object":switch(e.$$typeof){case xa:case Qa:G=!0}}if(G)return q(E,e,""===c?"."+W(e,0):c),1;G=0;c=""===c?".":c+":";if(Array.isArray(e))for(var L=0;L<e.length;L++){U=e[L];var k=c+W(U,L);G+=O(U,k,q,E)}else if(null===e||"object"!==typeof e?k=null:(k=X&&e[X]||e["@@iterator"],k="function"===typeof k?k:null),"function"===typeof k)for(e=k.call(e),L=0;!(U=e.next()).done;)U=U.value,k=c+W(U,L++),G+=O(U,k,q,E);else"object"===U&&(q=""+e,p("31","[object Object]"===q?"object with keys {"+Object.keys(e).join(", ")+
"}":q,""));return G}function F(e,c,q){return null==e?0:O(e,"",c,q)}function W(e,c){return"object"===typeof e&&null!==e&&null!=e.key?Z(e.key):c.toString(36)}function N(e,c){e.func.call(e.context,c,e.count++)}function K(c,q,E){var U=c.result,G=c.keyPrefix;c=c.func.call(c.context,q,c.count++);Array.isArray(c)?ia(c,U,E,function(e){return e}):null!=c&&(S(c)&&(c=e(c,G+(!c.key||q&&q.key===c.key?"":(""+c.key).replace(Oa,"$\x26/")+"/")+E)),U.push(c))}function ia(e,c,q,E,U){var G="";null!=q&&(G=(""+q).replace(Oa,
"$\x26/")+"/");c=za(c,G,E,U);F(e,K,c);fa(c)}function ba(){var e=ca.current;null===e?p("321"):void 0;return e}var ha=c(0),ka="function"===typeof Symbol&&Symbol.for,xa=ka?Symbol.for("react.element"):60103,Qa=ka?Symbol.for("react.portal"):60106;n=ka?Symbol.for("react.fragment"):60107;y=ka?Symbol.for("react.strict_mode"):60108;c=ka?Symbol.for("react.profiler"):60114;var L=ka?Symbol.for("react.provider"):60109,E=ka?Symbol.for("react.context"):60110;f=ka?Symbol.for("react.concurrent_mode"):60111;var q=
ka?Symbol.for("react.forward_ref"):60112;z=ka?Symbol.for("react.suspense"):60113;var U=ka?Symbol.for("react.memo"):60115,G=ka?Symbol.for("react.lazy"):60116,X="function"===typeof Symbol&&Symbol.iterator,na={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ra={};x.prototype.isReactComponent={};x.prototype.setState=function(e,c){"object"!==typeof e&&"function"!==typeof e&&null!=e?p("85"):void 0;this.updater.enqueueSetState(this,
e,c,"setState")};x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};I.prototype=x.prototype;ka=Y.prototype=new I;ka.constructor=Y;ha(ka,x.prototype);ka.isPureReactComponent=!0;var ca={current:null},ta={current:null},ja=Object.prototype.hasOwnProperty,qa={key:!0,ref:!0,__self:!0,__source:!0},Oa=/\/+/g,La=[];n={Children:{map:function(e,c,q){if(null==e)return e;var E=[];ia(e,E,null,c,q);return E},forEach:function(e,c,q){if(null==e)return e;c=za(null,null,c,q);
F(e,N,c);fa(c)},count:function(e){return F(e,function(){return null},null)},toArray:function(e){var c=[];ia(e,c,null,function(e){return e});return c},only:function(e){S(e)?void 0:p("143");return e}},createRef:function(){return{current:null}},Component:x,PureComponent:Y,createContext:function(e,c){void 0===c&&(c=null);e={$$typeof:E,_calculateChangedBits:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null};e.Provider={$$typeof:L,_context:e};return e.Consumer=e},forwardRef:function(e){return{$$typeof:q,
render:e}},lazy:function(e){return{$$typeof:G,_ctor:e,_status:-1,_result:null}},memo:function(e,c){return{$$typeof:U,type:e,compare:void 0===c?null:c}},useCallback:function(e,c){return ba().useCallback(e,c)},useContext:function(e,c){return ba().useContext(e,c)},useEffect:function(e,c){return ba().useEffect(e,c)},useImperativeHandle:function(e,c,q){return ba().useImperativeHandle(e,c,q)},useDebugValue:function(){},useLayoutEffect:function(e,c){return ba().useLayoutEffect(e,c)},useMemo:function(e,c){return ba().useMemo(e,
c)},useReducer:function(e,c,q){return ba().useReducer(e,c,q)},useRef:function(e){return ba().useRef(e)},useState:function(e){return ba().useState(e)},Fragment:n,StrictMode:y,Suspense:z,createElement:k,cloneElement:function(e,c,q){null===e||void 0===e?p("267",e):void 0;var E=void 0,U=ha({},e.props),G=e.key,L=e.ref,k=e._owner;if(null!=c){void 0!==c.ref&&(L=c.ref,k=ta.current);void 0!==c.key&&(G=""+c.key);var x=void 0;e.type&&e.type.defaultProps&&(x=e.type.defaultProps);for(E in c)ja.call(c,E)&&!qa.hasOwnProperty(E)&&
(U[E]=void 0===c[E]&&void 0!==x?x[E]:c[E])}E=arguments.length-2;if(1===E)U.children=q;else if(1<E){x=Array(E);for(var v=0;v<E;v++)x[v]=arguments[v+2];U.children=x}return{$$typeof:xa,type:e.type,key:G,ref:L,props:U,_owner:k}},createFactory:function(e){var c=k.bind(null,e);c.type=e;return c},isValidElement:S,version:"16.8.6",unstable_ConcurrentMode:f,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:ca,ReactCurrentOwner:ta,assign:ha}};n=(y={default:n},n)||
y;r.exports=n.default||n};
shadow$provide[5]=function(n,y,c,r,f,z){r.exports=c(1)};
shadow$provide[6]=function(n,y,c,r,f,z){r.exports={}};
shadow$provide[7]=function(n,y,c,r,f,z){r.exports=function(c,p,x,f,n,k,e,r){if(!c){if(void 0===p)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[x,f,n,k,e,r],I=0;c=Error(p.replace(/%s/g,function(){return v[I++]}));c.name="Invariant Violation"}c.framesToPop=1;throw c;}}};
shadow$provide[10]=function(n,y,c,r,f,z){var v=c(0),p=c(6),x=c(7);r.exports=function(c,f,k){function e(e,c){if(c){x("function"!==typeof c,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object.");x(!f(c),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var k=e.prototype,p=k.__reactAutoBindPairs;c.hasOwnProperty("mixins")&&y.mixins(e,c.mixins);for(var L in c)if(c.hasOwnProperty(L)&&"mixins"!==
L){var E=c[L],q=k.hasOwnProperty(L),U=q,G=L,v=O.hasOwnProperty(G)?O[G]:null;z.hasOwnProperty(G)&&x("OVERRIDE_BASE"===v,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",G);U&&x("DEFINE_MANY"===v||"DEFINE_MANY_MERGED"===v,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",G);if(y.hasOwnProperty(L))y[L](e,E);else U=O.hasOwnProperty(L),
"function"!==typeof E||U||q||!1===c.autobind?q?(q=O[L],x(U&&("DEFINE_MANY_MERGED"===q||"DEFINE_MANY"===q),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",q,L),"DEFINE_MANY_MERGED"===q?k[L]=I(k[L],E):"DEFINE_MANY"===q&&(k[L]=r(k[L],E))):k[L]=E:(p.push(L,E),k[L]=E)}}}function n(e,c){x(e&&c&&"object"===typeof e&&"object"===typeof c,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var k in c)c.hasOwnProperty(k)&&(x(void 0===e[k],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",
k),e[k]=c[k]);return e}function I(e,c){return function(){var k=e.apply(this,arguments),p=c.apply(this,arguments);if(null==k)return p;if(null==p)return k;var L={};n(L,k);n(L,p);return L}}function r(e,c){return function(){e.apply(this,arguments);c.apply(this,arguments)}}var Y=[],O={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",
render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},F={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},y={displayName:function(e,
c){e.displayName=c},mixins:function(c,k){if(k)for(var p=0;p<k.length;p++)e(c,k[p])},childContextTypes:function(e,c){e.childContextTypes=v({},e.childContextTypes,c)},contextTypes:function(e,c){e.contextTypes=v({},e.contextTypes,c)},getDefaultProps:function(e,c){e.getDefaultProps=e.getDefaultProps?I(e.getDefaultProps,c):c},propTypes:function(e,c){e.propTypes=v({},e.propTypes,c)},statics:function(e,c){a:if(c)for(var k in c){var p=c[k];if(c.hasOwnProperty(k)){x(!(k in y),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',
k);if(k in e){c=F.hasOwnProperty(k)?F[k]:null;x("DEFINE_MANY_MERGED"===c,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",k);e[k]=I(e[k],p);break a}e[k]=p}}},autobind:function(){}},N={componentDidMount:function(){this.__isMounted=!0}},K={componentWillUnmount:function(){this.__isMounted=!1}},z={replaceState:function(e,c){this.updater.enqueueReplaceState(this,e,c)},isMounted:function(){return!!this.__isMounted}},ba=function(){};v(ba.prototype,
c.prototype,z);return function(c){var v=function(e,c,E){if(this.__reactAutoBindPairs.length)for(var q=this.__reactAutoBindPairs,U=0;U<q.length;U+=2){var G=q[U];var L=q[U+1].bind(this);this[G]=L}this.props=e;this.context=c;this.refs=p;this.updater=E||k;this.state=null;e=this.getInitialState?this.getInitialState():null;x("object"===typeof e&&!Array.isArray(e),"%s.getInitialState(): must return an object or null",v.displayName||"ReactCompositeComponent");this.state=e};v.prototype=new ba;v.prototype.constructor=
v;v.prototype.__reactAutoBindPairs=[];Y.forEach(e.bind(null,v));e(v,N);e(v,c);e(v,K);v.getDefaultProps&&(v.defaultProps=v.getDefaultProps());x(v.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var f in O)v.prototype[f]||(v.prototype[f]=null);return v}}};
shadow$provide[11]=function(n,y,c,r,f,z){n=c(5);c=c(10);if("undefined"===typeof n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");y=(new n.Component).updater;r.exports=c(n.Component,n.isValidElement,y)};
shadow$provide[12]=function(n,y,c,r,f,z){function v(){if(!fa){var e=k.expirationTime;O?Qa():O=!0;xa(I,e)}}function p(){var e=k,c=k.next;if(k===c)k=null;else{var q=k.previous;k=q.next=c;c.previous=q}e.next=e.previous=null;q=e.callback;c=e.expirationTime;e=e.priorityLevel;var E=S,U=za;S=e;za=c;try{var G=q()}finally{S=E,za=U}if("function"===typeof G)if(G={callback:G,priorityLevel:e,expirationTime:c,next:null,previous:null},null===k)k=G.next=G.previous=G;else{q=null;e=k;do{if(e.expirationTime>=c){q=e;
break}e=e.next}while(e!==k);null===q?q=k:q===k&&(k=G,v());c=q.previous;c.next=q.previous=G;G.next=q;G.previous=c}}function x(){if(-1===Z&&null!==k&&1===k.priorityLevel){fa=!0;try{do p();while(null!==k&&1===k.priorityLevel)}finally{fa=!1,null!==k?v():O=!1}}}function I(c){fa=!0;var q=e;e=c;try{if(c)for(;null!==k;){var E=f.unstable_now();if(k.expirationTime<=E){do p();while(null!==k&&k.expirationTime<=E)}else break}else if(null!==k){do p();while(null!==k&&!L())}}finally{fa=!1,e=q,null!==k?v():O=!1,x()}}
function Y(e){ba=K(function(c){N(ha);e(c)});ha=W(function(){ia(ba);e(f.unstable_now())},100)}Object.defineProperty(f,"__esModule",{value:!0});var k=null,e=!1,S=3,Z=-1,za=-1,fa=!1,O=!1,F=Date,W="function"===typeof setTimeout?setTimeout:void 0,N="function"===typeof clearTimeout?clearTimeout:void 0,K="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,ia="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,ba,ha;if("object"===typeof performance&&"function"===typeof performance.now){var ka=
performance;f.unstable_now=function(){return ka.now()}}else f.unstable_now=function(){return F.now()};y=null;"undefined"!==typeof window?y=window:"undefined"!==typeof n&&(y=n);if(y&&y._schedMock){n=y._schedMock;var xa=n[0];var Qa=n[1];var L=n[2];f.unstable_now=n[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var E=null,q=function(e){if(null!==E)try{E(e)}finally{E=null}};xa=function(e){null!==E?setTimeout(xa,0,e):(E=e,setTimeout(q,0,!1))};Qa=function(){E=null};L=function(){return!1}}else{"undefined"!==
typeof console&&("function"!==typeof K&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof ia&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var U=null,G=!1,X=-1,na=!1,Ra=!1,ca=0,ta=33,ja=33;L=function(){return ca<=f.unstable_now()};n=new MessageChannel;var qa=n.port2;n.port1.onmessage=
function(){G=!1;var e=U,c=X;U=null;X=-1;var q=f.unstable_now(),E=!1;if(0>=ca-q)if(-1!==c&&c<=q)E=!0;else{na||(na=!0,Y(Oa));U=e;X=c;return}if(null!==e){Ra=!0;try{e(E)}finally{Ra=!1}}};var Oa=function(e){if(null!==U){Y(Oa);var c=e-ca+ja;c<ja&&ta<ja?(8>c&&(c=8),ja=c<ta?ta:c):ta=c;ca=e+ja;G||(G=!0,qa.postMessage(void 0))}else na=!1};xa=function(e,c){U=e;X=c;Ra||0>c?qa.postMessage(void 0):na||(na=!0,Y(Oa))};Qa=function(){U=null;G=!1;X=-1}}f.unstable_ImmediatePriority=1;f.unstable_UserBlockingPriority=
2;f.unstable_NormalPriority=3;f.unstable_IdlePriority=5;f.unstable_LowPriority=4;f.unstable_runWithPriority=function(e,c){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var q=S,E=Z;S=e;Z=f.unstable_now();try{return c()}finally{S=q,Z=E,x()}};f.unstable_next=function(e){switch(S){case 1:case 2:case 3:var c=3;break;default:c=S}var q=S,E=Z;S=c;Z=f.unstable_now();try{return e()}finally{S=q,Z=E,x()}};f.unstable_scheduleCallback=function(e,c){var q=-1!==Z?Z:f.unstable_now();if("object"===
typeof c&&null!==c&&"number"===typeof c.timeout)c=q+c.timeout;else switch(S){case 1:c=q+-1;break;case 2:c=q+250;break;case 5:c=q+1073741823;break;case 4:c=q+1E4;break;default:c=q+5E3}e={callback:e,priorityLevel:S,expirationTime:c,next:null,previous:null};if(null===k)k=e.next=e.previous=e,v();else{q=null;var E=k;do{if(E.expirationTime>c){q=E;break}E=E.next}while(E!==k);null===q?q=k:q===k&&(k=e,v());c=q.previous;c.next=q.previous=e;e.next=q;e.previous=c}return e};f.unstable_cancelCallback=function(e){var c=
e.next;if(null!==c){if(c===e)k=null;else{e===k&&(k=c);var q=e.previous;q.next=c;c.previous=q}e.next=e.previous=null}};f.unstable_wrapCallback=function(e){var c=S;return function(){var q=S,E=Z;S=c;Z=f.unstable_now();try{return e.apply(this,arguments)}finally{S=q,Z=E,x()}}};f.unstable_getCurrentPriorityLevel=function(){return S};f.unstable_shouldYield=function(){return!e&&(null!==k&&k.expirationTime<za||L())};f.unstable_continueExecution=function(){null!==k&&v()};f.unstable_pauseExecution=function(){};
f.unstable_getFirstCallbackNode=function(){return k}};
shadow$provide[14]=function(n,y,c,r,f,z){r.exports=c(12)};
shadow$provide[15]=function(n,y,c,r,f,z){function v(a,d,b,h,m,g,l,w){if(!a){a=void 0;if(void 0===d)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var M=[b,h,m,g,l,w],ya=0;a=Error(d.replace(/%s/g,function(){return M[ya++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a;}}function p(a){for(var d=arguments.length-1,b="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+a,h=0;h<d;h++)b+="\x26args[]\x3d"+
encodeURIComponent(arguments[h+1]);v(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",b)}function x(a,d,b,h,m,g,l,w,B){var M=Array.prototype.slice.call(arguments,3);try{d.apply(b,M)}catch(Ec){this.onError(Ec)}}function I(a,d,b,h,m,g,l,w,B){Tf=!1;sg=null;x.apply(Uf,arguments)}function Y(a,d,b,h,m,g,l,w,B){I.apply(this,arguments);if(Tf){if(Tf){var M=sg;Tf=!1;sg=null}else p("198"),M=void 0;xf||(xf=
!0,Sg=M)}}function k(){if(bf)for(var a in yf){var d=yf[a],b=bf.indexOf(a);-1<b?void 0:p("96",a);if(!Td[b]){d.extractEvents?void 0:p("97",a);Td[b]=d;b=d.eventTypes;for(var h in b){var m=void 0,g=b[h],l=d,w=h;Je.hasOwnProperty(w)?p("99",w):void 0;Je[w]=g;var B=g.phasedRegistrationNames;if(B){for(m in B)B.hasOwnProperty(m)&&e(B[m],l,w);m=!0}else g.registrationName?(e(g.registrationName,l,w),m=!0):m=!1;m?void 0:p("98",h,a)}}}}function e(a,d,b){se[a]?p("100",a):void 0;se[a]=d;te[a]=d.eventTypes[b].dependencies}
function S(a,d,b){var h=a.type||"unknown-event";a.currentTarget=Tg(b);Y(h,d,void 0,a);a.currentTarget=null}function Z(a,d){null==d?p("30"):void 0;if(null==a)return d;if(Array.isArray(a)){if(Array.isArray(d))return a.push.apply(a,d),a;a.push(d);return a}return Array.isArray(d)?[a].concat(d):[a,d]}function za(a,d,b){Array.isArray(a)?a.forEach(d,b):a&&d.call(b,a)}function fa(a){if(a){var d=a._dispatchListeners,b=a._dispatchInstances;if(Array.isArray(d))for(var h=0;h<d.length&&!a.isPropagationStopped();h++)S(a,
d[h],b[h]);else d&&S(a,d,b);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}}function O(a,d){var b=a.stateNode;if(!b)return null;var h=Ug(b);if(!h)return null;b=h[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":(h=!h.disabled)||(a=a.type,h=!("button"===a||"input"===a||"select"===
a||"textarea"===a));a=!h;break a;default:a=!1}if(a)return null;b&&"function"!==typeof b?p("231",d,typeof b):void 0;return b}function F(a){null!==a&&(Vf=Z(Vf,a));a=Vf;Vf=null;if(a&&(za(a,fa),Vf?p("95"):void 0,xf))throw a=Sg,xf=!1,Sg=null,a;}function W(a){if(a[je])return a[je];for(;!a[je];)if(a.parentNode)a=a.parentNode;else return null;a=a[je];return 5===a.tag||6===a.tag?a:null}function N(a){a=a[je];return!a||5!==a.tag&&6!==a.tag?null:a}function K(a){if(5===a.tag||6===a.tag)return a.stateNode;p("33")}
function ia(a){return a[zf]||null}function ba(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}function ha(a,d,b){if(d=O(a,b.dispatchConfig.phasedRegistrationNames[d]))b._dispatchListeners=Z(b._dispatchListeners,d),b._dispatchInstances=Z(b._dispatchInstances,a)}function ka(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var d=a._targetInst,b=[];d;)b.push(d),d=ba(d);for(d=b.length;0<d--;)ha(b[d],"captured",a);for(d=0;d<b.length;d++)ha(b[d],"bubbled",a)}}function xa(a,d,b){a&&b&&b.dispatchConfig.registrationName&&
(d=O(a,b.dispatchConfig.registrationName))&&(b._dispatchListeners=Z(b._dispatchListeners,d),b._dispatchInstances=Z(b._dispatchInstances,a))}function Qa(a){a&&a.dispatchConfig.registrationName&&xa(a._targetInst,null,a)}function L(a){za(a,ka)}function E(a,d){var b={};b[a.toLowerCase()]=d.toLowerCase();b["Webkit"+a]="webkit"+d;b["Moz"+a]="moz"+d;return b}function q(a){if(Af[a])return Af[a];if(!Wf[a])return a;var d=Wf[a],b;for(b in d)if(d.hasOwnProperty(b)&&b in Ud)return Af[a]=d[b];return a}function U(){if(Bf)return Bf;
var a,d=ue,b=d.length,h,m="value"in cf?cf.value:cf.textContent,g=m.length;for(a=0;a<b&&d[a]===m[a];a++);var l=b-a;for(h=1;h<=l&&d[b-h]===m[g-h];h++);return Bf=m.slice(a,1<h?1-h:void 0)}function G(){return!0}function X(){return!1}function na(a,d,b,h){this.dispatchConfig=a;this._targetInst=d;this.nativeEvent=b;a=this.constructor.Interface;for(var M in a)a.hasOwnProperty(M)&&((d=a[M])?this[M]=d(b):"target"===M?this.target=h:this[M]=b[M]);this.isDefaultPrevented=(null!=b.defaultPrevented?b.defaultPrevented:
!1===b.returnValue)?G:X;this.isPropagationStopped=X;return this}function Ra(a,d,b,h){if(this.eventPool.length){var M=this.eventPool.pop();this.call(M,a,d,b,h);return M}return new this(a,d,b,h)}function ca(a){a instanceof this?void 0:p("279");a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function ta(a){a.eventPool=[];a.getPooled=Ra;a.release=ca}function ja(a,d){switch(a){case "keyup":return-1!==Qh.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "blur":return!0;
default:return!1}}function qa(a){a=a.detail;return"object"===typeof a&&"data"in a?a.data:null}function Oa(a,d){switch(a){case "compositionend":return qa(d);case "keypress":if(32!==d.which)return null;Ke=!0;return wh;case "textInput":return a=d.data,a===wh&&Ke?null:a;default:return null}}function La(a,d){if(ve)return"compositionend"===a||!Vg&&ja(a,d)?(a=U(),Bf=ue=cf=null,ve=!1,a):null;switch(a){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&
1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case "compositionend":return tg&&"ko"!==d.locale?null:d.data;default:return null}}function Na(a){if(a=Xf(a)){"function"!==typeof Yf?p("280"):void 0;var d=Ug(a.stateNode);Yf(a.stateNode,a.type,d)}}function Ja(a){Le?df?df.push(a):df=[a]:Le=a}function V(){if(Le){var a=Le,d=df;df=Le=null;Na(a);if(d)for(a=0;a<d.length;a++)Na(d[a])}}function db(a,d){return a(d)}function Jb(a,d,b){return a(d,b)}function Ab(){}function Kb(a,
d){if(Cf)return a(d);Cf=!0;try{return db(a,d)}finally{if(Cf=!1,null!==Le||null!==df)Ab(),V()}}function Bb(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===d?!!eb[a.type]:"textarea"===d?!0:!1}function Ba(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function wa(a){if(!ef)return!1;a="on"+a;var d=a in document;d||(d=document.createElement("div"),d.setAttribute(a,"return;"),d="function"===typeof d[a]);
return d}function Ta(a){var d=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===d||"radio"===d)}function la(a){var d=Ta(a)?"checked":"value",b=Object.getOwnPropertyDescriptor(a.constructor.prototype,d),h=""+a[d];if(!a.hasOwnProperty(d)&&"undefined"!==typeof b&&"function"===typeof b.get&&"function"===typeof b.set){var m=b.get,M=b.set;Object.defineProperty(a,d,{configurable:!0,get:function(){return m.call(this)},set:function(a){h=""+a;M.call(this,a)}});Object.defineProperty(a,d,
{enumerable:b.enumerable});return{getValue:function(){return h},setValue:function(a){h=""+a},stopTracking:function(){a._valueTracker=null;delete a[d]}}}}function ra(a){a._valueTracker||(a._valueTracker=la(a))}function kb(a){if(!a)return!1;var d=a._valueTracker;if(!d)return!0;var b=d.getValue(),h="";a&&(h=Ta(a)?a.checked?"true":"false":a.value);a=h;return a!==b?(d.setValue(a),!0):!1}function Lb(a){if(null===a||"object"!==typeof a)return null;a=Rh&&a[Rh]||a["@@iterator"];return"function"===typeof a?
a:null}function sc(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case Wg:return"ConcurrentMode";case ke:return"Fragment";case Me:return"Portal";case ff:return"Profiler";case Zf:return"StrictMode";case ug:return"Suspense"}if("object"===typeof a)switch(a.$$typeof){case Xg:return"Context.Consumer";case xh:return"Context.Provider";case Yg:var d=a.render;d=d.displayName||d.name||"";return a.displayName||(""!==d?"ForwardRef("+
d+")":"ForwardRef");case Zg:return sc(a.type);case $f:if(a=1===a._status?a._result:null)return sc(a)}return null}function Dd(a){var d="";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var b="";break a;default:var h=a._debugOwner,m=a._debugSource,M=sc(a.type);b=null;h&&(b=sc(h.type));h=M;M="";m?M=" (at "+m.fileName.replace(le,"")+":"+m.lineNumber+")":b&&(M=" (created by "+b+")");b="\n    in "+(h||"Unknown")+M}d+=b;a=a.return}while(a);return d}function jc(d){if(yh.call(a,d))return!0;
if(yh.call(h,d))return!1;if(wi.test(d))return a[d]=!0;h[d]=!0;return!1}function Nc(a,d,b,h){if(null!==b&&0===b.type)return!1;switch(typeof d){case "function":case "symbol":return!0;case "boolean":if(h)return!1;if(null!==b)return!b.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}function fb(a,d,b,h){if(null===d||"undefined"===typeof d||Nc(a,d,b,h))return!0;if(h)return!1;if(null!==b)switch(b.type){case 3:return!d;case 4:return!1===d;case 5:return isNaN(d);
case 6:return isNaN(d)||1>d}return!1}function rb(a,d,b,h,m){this.acceptsBooleans=2===d||3===d||4===d;this.attributeName=h;this.attributeNamespace=m;this.mustUseProperty=b;this.propertyName=a;this.type=d}function ac(a){return a[1].toUpperCase()}function tc(a,b,h,m){var M=d.hasOwnProperty(b)?d[b]:null;(null!==M?0===M.type:m?0:2<b.length&&("o"===b[0]||"O"===b[0])&&("n"===b[1]||"N"===b[1]))||(fb(b,h,M,m)&&(h=null),m||null===M?jc(b)&&(null===h?a.removeAttribute(b):a.setAttribute(b,""+h)):M.mustUseProperty?
a[M.propertyName]=null===h?3===M.type?!1:"":h:(b=M.attributeName,m=M.attributeNamespace,null===h?a.removeAttribute(b):(M=M.type,h=3===M||4===M&&!0===h?"":""+h,m?a.setAttributeNS(m,b,h):a.setAttribute(b,h))))}function Wa(a){switch(typeof a){case "boolean":case "number":case "object":case "string":case "undefined":return a;default:return""}}function ma(a,d){var b=d.checked;return gd({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=b?b:a._wrapperState.initialChecked})}function Ua(a,
d){var b=null==d.defaultValue?"":d.defaultValue,h=null!=d.checked?d.checked:d.defaultChecked;b=Wa(null!=d.value?d.value:b);a._wrapperState={initialChecked:h,initialValue:b,controlled:"checkbox"===d.type||"radio"===d.type?null!=d.checked:null!=d.value}}function Mb(a,d){d=d.checked;null!=d&&tc(a,"checked",d,!1)}function kc(a,d){Mb(a,d);var b=Wa(d.value),h=d.type;if(null!=b)if("number"===h){if(0===b&&""===a.value||a.value!=b)a.value=""+b}else a.value!==""+b&&(a.value=""+b);else if("submit"===h||"reset"===
h){a.removeAttribute("value");return}d.hasOwnProperty("value")?Ca(a,d.type,b):d.hasOwnProperty("defaultValue")&&Ca(a,d.type,Wa(d.defaultValue));null==d.checked&&null!=d.defaultChecked&&(a.defaultChecked=!!d.defaultChecked)}function Wb(a,d,b){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var h=d.type;if(!("submit"!==h&&"reset"!==h||void 0!==d.value&&null!==d.value))return;d=""+a._wrapperState.initialValue;b||d===a.value||(a.value=d);a.defaultValue=d}b=a.name;""!==b&&(a.name="");a.defaultChecked=
!a.defaultChecked;a.defaultChecked=!!a._wrapperState.initialChecked;""!==b&&(a.name=b)}function Ca(a,d,b){if("number"!==d||a.ownerDocument.activeElement!==a)null==b?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+b&&(a.defaultValue=""+b)}function Ia(a,d,b){a=na.getPooled(B.change,a,d,b);a.type="change";Ja(b);L(a);return a}function Oc(a){F(a)}function Pc(a){var d=K(a);if(kb(d))return a}function gb(a,d){if("change"===a)return d}function Fa(){ea&&(ea.detachEvent("onpropertychange",
lb),Vd=ea=null)}function lb(a){"value"===a.propertyName&&Pc(Vd)&&(a=Ia(Vd,a,Ba(a)),Kb(Oc,a))}function Db(a,d,b){"focus"===a?(Fa(),ea=d,Vd=b,ea.attachEvent("onpropertychange",lb)):"blur"===a&&Fa()}function Xb(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return Pc(Vd)}function bc(a,d){if("click"===a)return Pc(d)}function Nb(a,d){if("input"===a||"change"===a)return Pc(d)}function Eb(a){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(a):(a=Zi[a])?!!d[a]:!1}function lc(){return Eb}
function Fc(a,d){return a===d&&(0!==a||1/a===1/d)||a!==a&&d!==d}function Ob(a,d){if(Fc(a,d))return!0;if("object"!==typeof a||null===a||"object"!==typeof d||null===d)return!1;var b=Object.keys(a),h=Object.keys(d);if(b.length!==h.length)return!1;for(h=0;h<b.length;h++)if(!zh.call(d,b[h])||!Fc(a[b[h]],d[b[h]]))return!1;return!0}function mb(a){var d=a;if(a.alternate)for(;d.return;)d=d.return;else{if(0!==(d.effectTag&2))return 1;for(;d.return;)if(d=d.return,0!==(d.effectTag&2))return 1}return 3===d.tag?
2:3}function uc(a){2!==mb(a)?p("188"):void 0}function sa(a){var d=a.alternate;if(!d)return d=mb(a),3===d?p("188"):void 0,1===d?null:a;for(var b=a,h=d;;){var m=b.return,g=m?m.alternate:null;if(!m||!g)break;if(m.child===g.child){for(var M=m.child;M;){if(M===b)return uc(m),a;if(M===h)return uc(m),d;M=M.sibling}p("188")}if(b.return!==h.return)b=m,h=g;else{M=!1;for(var l=m.child;l;){if(l===b){M=!0;b=m;h=g;break}if(l===h){M=!0;h=m;b=g;break}l=l.sibling}if(!M){for(l=g.child;l;){if(l===b){M=!0;b=g;h=m;break}if(l===
h){M=!0;h=g;b=m;break}l=l.sibling}M?void 0:p("189")}}b.alternate!==h?p("190"):void 0}3!==b.tag?p("188"):void 0;return b.stateNode.current===b?a:d}function hd(a){a=sa(a);if(!a)return null;for(var d=a;;){if(5===d.tag||6===d.tag)return d;if(d.child)d.child.return=d,d=d.child;else{if(d===a)break;for(;!d.sibling;){if(!d.return||d.return===a)return null;d=d.return}d.sibling.return=d.return;d=d.sibling}}return null}function od(a){var d=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===d&&(a=13)):a=d;10===
a&&(a=13);return 32<=a||13===a?a:0}function Gc(a,d){var b=a[0];a=a[1];var h="on"+(a[0].toUpperCase()+a.slice(1));d={phasedRegistrationNames:{bubbled:h,captured:h+"Capture"},dependencies:[b],isInteractive:d};ag[a]=d;bg[b]=d}function Qc(a){var d=a.targetInst,b=d;do{if(!b){a.ancestors.push(b);break}var h;for(h=b;h.return;)h=h.return;h=3!==h.tag?null:h.stateNode.containerInfo;if(!h)break;a.ancestors.push(b);b=W(h)}while(b);for(b=0;b<a.ancestors.length;b++){d=a.ancestors[b];var m=Ba(a.nativeEvent);h=a.topLevelType;
for(var g=a.nativeEvent,M=null,l=0;l<Td.length;l++){var w=Td[l];w&&(w=w.extractEvents(h,d,g,m))&&(M=Z(M,w))}F(M)}}function Sa(a,d){if(!d)return null;var b=(vg(a)?H:Wd).bind(null,a);d.addEventListener(a,b,!1)}function u(a,d){if(!d)return null;var b=(vg(a)?H:Wd).bind(null,a);d.addEventListener(a,b,!0)}function H(a,d){Jb(Wd,a,d)}function Wd(a,d){if($g){var b=Ba(d);b=W(b);null===b||"number"!==typeof b.tag||2===mb(b)||(b=null);if(Sh.length){var h=Sh.pop();h.topLevelType=a;h.nativeEvent=d;h.targetInst=
b;a=h}else a={topLevelType:a,nativeEvent:d,targetInst:b,ancestors:[]};try{Kb(Qc,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>Sh.length&&Sh.push(a)}}}function mc(a){Object.prototype.hasOwnProperty.call(a,Th)||(a[Th]=Bj++,$i[a[Th]]={});return $i[a[Th]]}function Pb(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(ya){return a.body}}function Ya(a){for(;a&&a.firstChild;)a=
a.firstChild;return a}function cc(a,d){var b=Ya(a);a=0;for(var h;b;){if(3===b.nodeType){h=a+b.textContent.length;if(a<=d&&h>=d)return{node:b,offset:d-a};a=h}a:{for(;b;){if(b.nextSibling){b=b.nextSibling;break a}b=b.parentNode}b=void 0}b=Ya(b)}}function D(a,d){return a&&d?a===d?!0:a&&3===a.nodeType?!1:d&&3===d.nodeType?D(a,d.parentNode):"contains"in a?a.contains(d):a.compareDocumentPosition?!!(a.compareDocumentPosition(d)&16):!1:!1}function P(){for(var a=window,d=Pb();d instanceof a.HTMLIFrameElement;){try{var b=
"string"===typeof d.contentWindow.location.href}catch(ti){b=!1}if(b)a=d.contentWindow;else break;d=Pb(a.document)}return d}function dc(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d&&("input"===d&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===d||"true"===a.contentEditable)}function Rc(){var a=P();if(dc(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else a:{d=(d=a.ownerDocument)&&d.defaultView||window;
var b=d.getSelection&&d.getSelection();if(b&&0!==b.rangeCount){d=b.anchorNode;var h=b.anchorOffset,m=b.focusNode;b=b.focusOffset;try{d.nodeType,m.nodeType}catch(tk){d=null;break a}var g=0,l=-1,w=-1,B=0,t=0,e=a,c=null;b:for(;;){for(var Q;;){e!==d||0!==h&&3!==e.nodeType||(l=g+h);e!==m||0!==b&&3!==e.nodeType||(w=g+b);3===e.nodeType&&(g+=e.nodeValue.length);if(null===(Q=e.firstChild))break;c=e;e=Q}for(;;){if(e===a)break b;c===d&&++B===h&&(l=g);c===m&&++t===b&&(w=g);if(null!==(Q=e.nextSibling))break;e=
c;c=e.parentNode}e=Q}d=-1===l||-1===w?null:{start:l,end:w}}else d=null}d=d||{start:0,end:0}}else d=null;return{focusedElem:a,selectionRange:d}}function ec(a){var d=P(),b=a.focusedElem,h=a.selectionRange;if(d!==b&&b&&b.ownerDocument&&D(b.ownerDocument.documentElement,b)){if(null!==h&&dc(b))if(d=h.start,a=h.end,void 0===a&&(a=d),"selectionStart"in b)b.selectionStart=d,b.selectionEnd=Math.min(a,b.value.length);else if(a=(d=b.ownerDocument||document)&&d.defaultView||window,a.getSelection){a=a.getSelection();
var m=b.textContent.length,g=Math.min(h.start,m);h=void 0===h.end?g:Math.min(h.end,m);!a.extend&&g>h&&(m=h,h=g,g=m);m=cc(b,g);var M=cc(b,h);m&&M&&(1!==a.rangeCount||a.anchorNode!==m.node||a.anchorOffset!==m.offset||a.focusNode!==M.node||a.focusOffset!==M.offset)&&(d=d.createRange(),d.setStart(m.node,m.offset),a.removeAllRanges(),g>h?(a.addRange(d),a.extend(M.node,M.offset)):(d.setEnd(M.node,M.offset),a.addRange(d)))}d=[];for(a=b;a=a.parentNode;)1===a.nodeType&&d.push({element:a,left:a.scrollLeft,
top:a.scrollTop});"function"===typeof b.focus&&b.focus();for(b=0;b<d.length;b++)a=d[b],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}function Qb(a,d){var b=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument;if(bh||null==cg||cg!==Pb(b))return null;b=cg;"selectionStart"in b&&dc(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset});
return ch&&Ob(ch,b)?null:(ch=b,a=na.getPooled(Vh.select,Wh,a,d),a.type="select",a.target=cg,L(a),a)}function Da(a){var d="";Ne.Children.forEach(a,function(a){null!=a&&(d+=a)});return d}function Xd(a,d){a=gd({children:void 0},d);if(d=Da(d.children))a.children=d;return a}function vc(a,d,b,h){a=a.options;if(d){d={};for(var m=0;m<b.length;m++)d["$"+b[m]]=!0;for(b=0;b<a.length;b++)m=d.hasOwnProperty("$"+a[b].value),a[b].selected!==m&&(a[b].selected=m),m&&h&&(a[b].defaultSelected=!0)}else{b=""+Wa(b);d=
null;for(m=0;m<a.length;m++){if(a[m].value===b){a[m].selected=!0;h&&(a[m].defaultSelected=!0);return}null!==d||a[m].disabled||(d=a[m])}null!==d&&(d.selected=!0)}}function $b(a,d){null!=d.dangerouslySetInnerHTML?p("91"):void 0;return gd({},d,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ma(a,d){var b=d.value;null==b&&(b=d.defaultValue,d=d.children,null!=d&&(null!=b?p("92"):void 0,Array.isArray(d)&&(1>=d.length?void 0:p("93"),d=d[0]),b=d),null==b&&(b=""));a._wrapperState=
{initialValue:Wa(b)}}function fc(a,d){var b=Wa(d.value),h=Wa(d.defaultValue);null!=b&&(b=""+b,b!==a.value&&(a.value=b),null==d.defaultValue&&a.defaultValue!==b&&(a.defaultValue=b));null!=h&&(a.defaultValue=""+h)}function Va(a){var d=a.textContent;d===a._wrapperState.initialValue&&(a.value=d)}function pa(a){switch(a){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wc(a,d){return null==a||"http://www.w3.org/1999/xhtml"===
a?pa(d):"http://www.w3.org/2000/svg"===a&&"foreignObject"===d?"http://www.w3.org/1999/xhtml":a}function da(a,d){if(d){var b=a.firstChild;if(b&&b===a.lastChild&&3===b.nodeType){b.nodeValue=d;return}}a.textContent=d}function xb(a,d,b){return null==d||"boolean"===typeof d||""===d?"":b||"number"!==typeof d||0===d||dh.hasOwnProperty(a)&&dh[a]?(""+d).trim():d+"px"}function Sc(a,d){a=a.style;for(var b in d)if(d.hasOwnProperty(b)){var h=0===b.indexOf("--"),m=xb(b,d[b],h);"float"===b&&(b="cssFloat");h?a.setProperty(b,
m):a[b]=m}}function cb(a,d){d&&(Cj[a]&&(null!=d.children||null!=d.dangerouslySetInnerHTML?p("137",a,""):void 0),null!=d.dangerouslySetInnerHTML&&(null!=d.children?p("60"):void 0,"object"===typeof d.dangerouslySetInnerHTML&&"__html"in d.dangerouslySetInnerHTML?void 0:p("61")),null!=d.style&&"object"!==typeof d.style?p("62",""):void 0)}function pd(a,d){if(-1===a.indexOf("-"))return"string"===typeof d.is;switch(a){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function ib(a,d){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var b=mc(a);d=te[d];for(var h=0;h<d.length;h++){var m=d[h];if(!b.hasOwnProperty(m)||!b[m]){switch(m){case "scroll":u("scroll",a);break;case "focus":case "blur":u("focus",a);u("blur",a);b.blur=!0;b.focus=!0;break;case "cancel":case "close":wa(m)&&u(m,a);break;case "invalid":case "submit":case "reset":break;default:-1===dg.indexOf(m)&&Sa(m,a)}b[m]=!0}}}function we(){}function Rb(a,d){switch(a){case "button":case "input":case "select":case "textarea":return!!d.autoFocus}return!1}
function nc(a,d){return"textarea"===a||"option"===a||"noscript"===a||"string"===typeof d.children||"number"===typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function xe(a,d,b,h,m){a[zf]=m;"input"===b&&"radio"===m.type&&null!=m.name&&Mb(a,m);pd(b,h);h=pd(b,m);for(var g=0;g<d.length;g+=2){var M=d[g],l=d[g+1];"style"===M?Sc(a,l):"dangerouslySetInnerHTML"===M?xi(a,l):"children"===M?da(a,l):tc(a,M,l,h)}switch(b){case "input":kc(a,
m);break;case "textarea":fc(a,m);break;case "select":d=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!m.multiple,b=m.value,null!=b?vc(a,!!m.multiple,b,!1):d!==!!m.multiple&&(null!=m.defaultValue?vc(a,!!m.multiple,m.defaultValue,!0):vc(a,!!m.multiple,m.multiple?[]:"",!1))}}function ub(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function Yd(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function sb(a){0>wg||(a.current=
Xh[wg],Xh[wg]=null,wg--)}function Fb(a,d){wg++;Xh[wg]=a.current;a.current=d}function xc(a,d){var b=a.type.contextTypes;if(!b)return Df;var h=a.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===d)return h.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in b)m[g]=d[g];h&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=d,a.__reactInternalMemoizedMaskedChildContext=m);return m}function yb(a){a=a.childContextTypes;return null!==a&&void 0!==a}function gc(a){sb(me,a);
sb(qd,a)}function Tc(a){sb(me,a);sb(qd,a)}function Ed(a,d,b){qd.current!==Df?p("168"):void 0;Fb(qd,d,a);Fb(me,b,a)}function Fd(a,d,b){var h=a.stateNode;a=d.childContextTypes;if("function"!==typeof h.getChildContext)return b;h=h.getChildContext();for(var m in h)m in a?void 0:p("108",sc(d)||"Unknown",m);return gd({},b,h)}function Gb(a){var d=a.stateNode;d=d&&d.__reactInternalMemoizedMergedChildContext||Df;Oe=qd.current;Fb(qd,d,a);Fb(me,me.current,a);return!0}function Pe(a,d,b){var h=a.stateNode;h?void 0:
p("169");b?(d=Fd(a,d,Oe),h.__reactInternalMemoizedMergedChildContext=d,sb(me,a),sb(qd,a),Fb(qd,d,a)):sb(me,a);Fb(me,b,a)}function yc(a){return function(d){try{return a(d)}catch(ic){}}}function Uc(a){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)return!0;try{var b=d.inject(a);Yh=yc(function(a){return d.onCommitFiberRoot(b,a)});yi=yc(function(a){return d.onCommitFiberUnmount(b,a)})}catch(ti){}return!0}function ne(a,
d,b,h){this.tag=a;this.key=b;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=d;this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=h;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Vc(a,d,b,h){return new ne(a,d,b,h)}function Ef(a){a=a.prototype;return!(!a||!a.isReactComponent)}function ye(a){if("function"===
typeof a)return Ef(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Yg)return 11;if(a===Zg)return 14}return 2}function Za(a,d){var b=a.alternate;null===b?(b=Vc(a.tag,d,a.key,a.mode),b.elementType=a.elementType,b.type=a.type,b.stateNode=a.stateNode,b.alternate=a,a.alternate=b):(b.pendingProps=d,b.effectTag=0,b.nextEffect=null,b.firstEffect=null,b.lastEffect=null);b.childExpirationTime=a.childExpirationTime;b.expirationTime=a.expirationTime;b.child=a.child;b.memoizedProps=a.memoizedProps;b.memoizedState=
a.memoizedState;b.updateQueue=a.updateQueue;b.contextDependencies=a.contextDependencies;b.sibling=a.sibling;b.index=a.index;b.ref=a.ref;return b}function Wc(a,d,b,h,m,g){var l=2;h=a;if("function"===typeof a)Ef(a)&&(l=1);else if("string"===typeof a)l=5;else a:switch(a){case ke:return Pa(b.children,m,g,d);case Wg:return Xc(b,m|3,g,d);case Zf:return Xc(b,m|2,g,d);case ff:return a=Vc(12,b,d,m|4),a.elementType=ff,a.type=ff,a.expirationTime=g,a;case ug:return a=Vc(13,b,d,m),a.elementType=ug,a.type=ug,a.expirationTime=
g,a;default:if("object"===typeof a&&null!==a)switch(a.$$typeof){case xh:l=10;break a;case Xg:l=9;break a;case Yg:l=11;break a;case Zg:l=14;break a;case $f:l=16;h=null;break a}p("130",null==a?a:typeof a,"")}d=Vc(l,b,d,m);d.elementType=a;d.type=h;d.expirationTime=g;return d}function Pa(a,d,b,h){a=Vc(7,a,h,d);a.expirationTime=b;return a}function Xc(a,d,b,h){a=Vc(8,a,h,d);d=0===(d&1)?Zf:Wg;a.elementType=d;a.type=d;a.expirationTime=b;return a}function Zd(a,d,b){a=Vc(6,a,null,d);a.expirationTime=b;return a}
function Gd(a,d,b){d=Vc(4,null!==a.children?a.children:[],a.key,d);d.expirationTime=b;d.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return d}function $a(a,d){a.didError=!1;var b=a.earliestPendingTime;0===b?a.earliestPendingTime=a.latestPendingTime=d:b<d?a.earliestPendingTime=d:a.latestPendingTime>d&&(a.latestPendingTime=d);Qe(d,a)}function Re(a,d){a.didError=!1;if(0===d)a.earliestPendingTime=0,a.latestPendingTime=0,a.earliestSuspendedTime=0,a.latestSuspendedTime=
0,a.latestPingedTime=0;else{d<a.latestPingedTime&&(a.latestPingedTime=0);var b=a.latestPendingTime;0!==b&&(b>d?a.earliestPendingTime=a.latestPendingTime=0:a.earliestPendingTime>d&&(a.earliestPendingTime=a.latestPendingTime));b=a.earliestSuspendedTime;0===b?$a(a,d):d<a.latestSuspendedTime?(a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0,$a(a,d)):d>b&&$a(a,d)}Qe(0,a)}function ab(a,d){a.didError=!1;a.latestPingedTime>=d&&(a.latestPingedTime=0);var b=a.earliestPendingTime,h=a.latestPendingTime;
b===d?a.earliestPendingTime=h===d?a.latestPendingTime=0:h:h===d&&(a.latestPendingTime=b);b=a.earliestSuspendedTime;h=a.latestSuspendedTime;0===b?a.earliestSuspendedTime=a.latestSuspendedTime=d:b<d?a.earliestSuspendedTime=d:h>d&&(a.latestSuspendedTime=d);Qe(d,a)}function Hd(a,d){var b=a.earliestPendingTime;a=a.earliestSuspendedTime;b>d&&(d=b);a>d&&(d=a);return d}function Qe(a,d){var b=d.earliestSuspendedTime,h=d.latestSuspendedTime,m=d.earliestPendingTime,g=d.latestPingedTime;m=0!==m?m:g;0===m&&(0===
a||h<a)&&(m=h);a=m;0!==a&&b>a&&(a=b);d.nextExpirationTimeToWorkOn=m;d.expirationTime=a}function Ka(a,d){if(a&&a.defaultProps){d=gd({},d);a=a.defaultProps;for(var b in a)void 0===d[b]&&(d[b]=a[b])}return d}function vb(a){var d=a._result;switch(a._status){case 1:return d;case 2:throw d;case 0:throw d;default:a._status=0;d=a._ctor;d=d();d.then(function(d){0===a._status&&(d=d.default,a._status=1,a._result=d)},function(d){0===a._status&&(a._status=2,a._result=d)});switch(a._status){case 1:return a._result;
case 2:throw a._result;}a._result=d;throw d;}}function rd(a,d,b,h){d=a.memoizedState;b=b(h,d);b=null===b||void 0===b?d:gd({},d,b);a.memoizedState=b;h=a.updateQueue;null!==h&&0===a.expirationTime&&(h.baseState=b)}function nb(a,d,b,h,m,g,l){a=a.stateNode;return"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(h,g,l):d.prototype&&d.prototype.isPureReactComponent?!Ob(b,h)||!Ob(m,g):!0}function tb(a,d,b){var h=!1,m=Df,g=d.contextType;"object"===typeof g&&null!==g?g=Hc(g):(m=yb(d)?Oe:
qd.current,h=d.contextTypes,g=(h=null!==h&&void 0!==h)?xc(a,m):Df);d=new d(b,g);a.memoizedState=null!==d.state&&void 0!==d.state?d.state:null;d.updater=Ah;a.stateNode=d;d._reactInternalFiber=a;h&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=m,a.__reactInternalMemoizedMaskedChildContext=g);return d}function zc(a,d,b,h){a=d.state;"function"===typeof d.componentWillReceiveProps&&d.componentWillReceiveProps(b,h);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(b,
h);d.state!==a&&Ah.enqueueReplaceState(d,d.state,null)}function id(a,d,b,h){var m=a.stateNode;m.props=b;m.state=a.memoizedState;m.refs=aj;var g=d.contextType;"object"===typeof g&&null!==g?m.context=Hc(g):(g=yb(d)?Oe:qd.current,m.context=xc(a,g));g=a.updateQueue;null!==g&&($d(a,g,b,m,h),m.state=a.memoizedState);g=d.getDerivedStateFromProps;"function"===typeof g&&(rd(a,d,g,b),m.state=a.memoizedState);"function"===typeof d.getDerivedStateFromProps||"function"===typeof m.getSnapshotBeforeUpdate||"function"!==
typeof m.UNSAFE_componentWillMount&&"function"!==typeof m.componentWillMount||(d=m.state,"function"===typeof m.componentWillMount&&m.componentWillMount(),"function"===typeof m.UNSAFE_componentWillMount&&m.UNSAFE_componentWillMount(),d!==m.state&&Ah.enqueueReplaceState(m,m.state,null),g=a.updateQueue,null!==g&&($d(a,g,b,m,h),m.state=a.memoizedState));"function"===typeof m.componentDidMount&&(a.effectTag|=4)}function Sb(a,d,b){a=b.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(b._owner){b=
b._owner;var h=void 0;b&&(1!==b.tag?p("309"):void 0,h=b.stateNode);h?void 0:p("147",a);var m=""+a;if(null!==d&&null!==d.ref&&"function"===typeof d.ref&&d.ref._stringRef===m)return d.ref;d=function(a){var d=h.refs;d===aj&&(d=h.refs={});null===a?delete d[m]:d[m]=a};d._stringRef=m;return d}"string"!==typeof a?p("284"):void 0;b._owner?void 0:p("290",a)}return a}function zb(a,d){"textarea"!==a.type&&p("31","[object Object]"===Object.prototype.toString.call(d)?"object with keys {"+Object.keys(d).join(", ")+
"}":d,"")}function Tb(a){function d(d,b){if(a){var h=d.lastEffect;null!==h?(h.nextEffect=b,d.lastEffect=b):d.firstEffect=d.lastEffect=b;b.nextEffect=null;b.effectTag=8}}function b(b,h){if(!a)return null;for(;null!==h;)d(b,h),h=h.sibling;return null}function h(a,d){for(a=new Map;null!==d;)null!==d.key?a.set(d.key,d):a.set(d.index,d),d=d.sibling;return a}function m(a,d,b){a=Za(a,d,b);a.index=0;a.sibling=null;return a}function g(d,b,h){d.index=h;if(!a)return b;h=d.alternate;if(null!==h)return h=h.index,
h<b?(d.effectTag=2,b):h;d.effectTag=2;return b}function l(d){a&&null===d.alternate&&(d.effectTag=2);return d}function w(a,d,b,h){if(null===d||6!==d.tag)return d=Zd(b,a.mode,h),d.return=a,d;d=m(d,b,h);d.return=a;return d}function B(a,d,b,h){if(null!==d&&d.elementType===b.type)return h=m(d,b.props,h),h.ref=Sb(a,d,b),h.return=a,h;h=Wc(b.type,b.key,b.props,null,a.mode,h);h.ref=Sb(a,d,b);h.return=a;return h}function t(a,d,b,h){if(null===d||4!==d.tag||d.stateNode.containerInfo!==b.containerInfo||d.stateNode.implementation!==
b.implementation)return d=Gd(b,a.mode,h),d.return=a,d;d=m(d,b.children||[],h);d.return=a;return d}function M(a,d,b,h,g){if(null===d||7!==d.tag)return d=Pa(b,a.mode,h,g),d.return=a,d;d=m(d,b,h);d.return=a;return d}function e(a,d,b){if("string"===typeof d||"number"===typeof d)return d=Zd(""+d,a.mode,b),d.return=a,d;if("object"===typeof d&&null!==d){switch(d.$$typeof){case ze:return b=Wc(d.type,d.key,d.props,null,a.mode,b),b.ref=Sb(a,null,d),b.return=a,b;case Me:return d=Gd(d,a.mode,b),d.return=a,d}if(gf(d)||
Lb(d))return d=Pa(d,a.mode,b,null),d.return=a,d;zb(a,d)}return null}function c(a,d,b,h){var m=null!==d?d.key:null;if("string"===typeof b||"number"===typeof b)return null!==m?null:w(a,d,""+b,h);if("object"===typeof b&&null!==b){switch(b.$$typeof){case ze:return b.key===m?b.type===ke?M(a,d,b.props.children,h,m):B(a,d,b,h):null;case Me:return b.key===m?t(a,d,b,h):null}if(gf(b)||Lb(b))return null!==m?null:M(a,d,b,h,null);zb(a,b)}return null}function Q(a,d,b,h,m){if("string"===typeof h||"number"===typeof h)return a=
a.get(b)||null,w(d,a,""+h,m);if("object"===typeof h&&null!==h){switch(h.$$typeof){case ze:return a=a.get(null===h.key?b:h.key)||null,h.type===ke?M(d,a,h.props.children,m,h.key):B(d,a,h,m);case Me:return a=a.get(null===h.key?b:h.key)||null,t(d,a,h,m)}if(gf(h)||Lb(h))return a=a.get(b)||null,M(d,a,h,m,null);zb(d,h)}return null}function ea(m,l,w,B){for(var t=null,M=null,ya=l,ea=l=0,ic=null;null!==ya&&ea<w.length;ea++){ya.index>ea?(ic=ya,ya=null):ic=ya.sibling;var Ha=c(m,ya,w[ea],B);if(null===Ha){null===
ya&&(ya=ic);break}a&&ya&&null===Ha.alternate&&d(m,ya);l=g(Ha,l,ea);null===M?t=Ha:M.sibling=Ha;M=Ha;ya=ic}if(ea===w.length)return b(m,ya),t;if(null===ya){for(;ea<w.length;ea++)if(ya=e(m,w[ea],B))l=g(ya,l,ea),null===M?t=ya:M.sibling=ya,M=ya;return t}for(ya=h(m,ya);ea<w.length;ea++)if(ic=Q(ya,m,ea,w[ea],B))a&&null!==ic.alternate&&ya.delete(null===ic.key?ea:ic.key),l=g(ic,l,ea),null===M?t=ic:M.sibling=ic,M=ic;a&&ya.forEach(function(a){return d(m,a)});return t}function Ha(m,l,w,B){var t=Lb(w);"function"!==
typeof t?p("150"):void 0;w=t.call(w);null==w?p("151"):void 0;for(var M=t=null,ya=l,ea=l=0,ic=null,Ha=w.next();null!==ya&&!Ha.done;ea++,Ha=w.next()){ya.index>ea?(ic=ya,ya=null):ic=ya.sibling;var q=c(m,ya,Ha.value,B);if(null===q){ya||(ya=ic);break}a&&ya&&null===q.alternate&&d(m,ya);l=g(q,l,ea);null===M?t=q:M.sibling=q;M=q;ya=ic}if(Ha.done)return b(m,ya),t;if(null===ya){for(;!Ha.done;ea++,Ha=w.next())Ha=e(m,Ha.value,B),null!==Ha&&(l=g(Ha,l,ea),null===M?t=Ha:M.sibling=Ha,M=Ha);return t}for(ya=h(m,ya);!Ha.done;ea++,
Ha=w.next())Ha=Q(ya,m,ea,Ha.value,B),null!==Ha&&(a&&null!==Ha.alternate&&ya.delete(null===Ha.key?ea:Ha.key),l=g(Ha,l,ea),null===M?t=Ha:M.sibling=Ha,M=Ha);a&&ya.forEach(function(a){return d(m,a)});return t}return function(a,h,g,w){var B="object"===typeof g&&null!==g&&g.type===ke&&null===g.key;B&&(g=g.props.children);var t="object"===typeof g&&null!==g;if(t)switch(g.$$typeof){case ze:a:{t=g.key;for(B=h;null!==B;){if(B.key===t)if(7===B.tag?g.type===ke:B.elementType===g.type){b(a,B.sibling);h=m(B,g.type===
ke?g.props.children:g.props,w);h.ref=Sb(a,B,g);h.return=a;a=h;break a}else{b(a,B);break}else d(a,B);B=B.sibling}g.type===ke?(h=Pa(g.props.children,a.mode,w,g.key),h.return=a,a=h):(w=Wc(g.type,g.key,g.props,null,a.mode,w),w.ref=Sb(a,h,g),w.return=a,a=w)}return l(a);case Me:a:{for(B=g.key;null!==h;){if(h.key===B)if(4===h.tag&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){b(a,h.sibling);h=m(h,g.children||[],w);h.return=a;a=h;break a}else{b(a,h);break}else d(a,
h);h=h.sibling}h=Gd(g,a.mode,w);h.return=a;a=h}return l(a)}if("string"===typeof g||"number"===typeof g)return g=""+g,null!==h&&6===h.tag?(b(a,h.sibling),h=m(h,g,w),h.return=a,a=h):(b(a,h),h=Zd(g,a.mode,w),h.return=a,a=h),l(a);if(gf(g))return ea(a,h,g,w);if(Lb(g))return Ha(a,h,g,w);t&&zb(a,g);if("undefined"===typeof g&&!B)switch(a.tag){case 1:case 0:w=a.type,p("152",w.displayName||w.name||"Component")}return b(a,h)}}function Ic(a){a===Bh?p("174"):void 0;return a}function Jc(a,d){Fb(xg,d,a);Fb(yg,a,
a);Fb(Se,Bh,a);var b=d.nodeType;switch(b){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:wc(null,"");break;default:b=8===b?d.parentNode:d,d=b.namespaceURI||null,b=b.tagName,d=wc(d,b)}sb(Se,a);Fb(Se,d,a)}function l(a){sb(Se,a);sb(yg,a);sb(xg,a)}function b(a){Ic(xg.current);var d=Ic(Se.current),b=wc(d,a.type);d!==b&&(Fb(yg,a,a),Fb(Se,b,a))}function g(a){yg.current===a&&(sb(Se,a),sb(yg,a))}function t(){p("321")}function Q(a,d){if(null===d)return!1;for(var b=0;b<d.length&&b<a.length;b++)if(!Fc(a[b],
d[b]))return!1;return!0}function oc(a,d,b,h,m,g){eg=g;fg=d;ae=null!==a?a.memoizedState:null;$h.current=null===ae?zg:eh;d=b(h,m);if(fh){do fh=!1,Ag+=1,ae=null!==a?a.memoizedState:null,hf=Zc,Te=sd=td=null,$h.current=eh,d=b(h,m);while(fh);Ue=null;Ag=0}$h.current=zi;a=fg;a.memoizedState=Zc;a.expirationTime=Bg;a.updateQueue=Te;a.effectTag|=Ch;a=null!==td&&null!==td.next;eg=0;hf=sd=Zc=ae=td=fg=null;Bg=0;Te=null;Ch=0;a?p("300"):void 0;return d}function ud(){$h.current=zi;eg=0;hf=sd=Zc=ae=td=fg=null;Bg=0;
Te=null;Ch=0;fh=!1;Ue=null;Ag=0}function jd(){var a={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};null===sd?Zc=sd=a:sd=sd.next=a;return sd}function Ga(){if(null!==hf)sd=hf,hf=sd.next,td=ae,ae=null!==td?td.next:null;else{null===ae?p("310"):void 0;td=ae;var a={memoizedState:td.memoizedState,baseState:td.baseState,queue:td.queue,baseUpdate:td.baseUpdate,next:null};sd=null===sd?Zc=a:sd.next=a;ae=td.next}return sd}function ob(a,d){return"function"===typeof d?d(a):d}function kd(a){var d=
Ga(),b=d.queue;null===b?p("311"):void 0;b.lastRenderedReducer=a;if(0<Ag){var h=b.dispatch;if(null!==Ue){var m=Ue.get(b);if(void 0!==m){Ue.delete(b);var g=d.memoizedState;do g=a(g,m.action),m=m.next;while(null!==m);Fc(g,d.memoizedState)||(Ve=!0);d.memoizedState=g;d.baseUpdate===b.last&&(d.baseState=g);b.lastRenderedState=g;return[g,h]}}return[d.memoizedState,h]}h=b.last;var l=d.baseUpdate;g=d.baseState;null!==l?(null!==h&&(h.next=null),h=l.next):h=null!==h?h.next:null;if(null!==h){var w=m=null,B=h,
t=!1;do{var M=B.expirationTime;M<eg?(t||(t=!0,w=l,m=g),M>Bg&&(Bg=M)):g=B.eagerReducer===a?B.eagerState:a(g,B.action);l=B;B=B.next}while(null!==B&&B!==h);t||(w=l,m=g);Fc(g,d.memoizedState)||(Ve=!0);d.memoizedState=g;d.baseUpdate=w;d.baseState=m;b.lastRenderedState=g}return[d.memoizedState,b.dispatch]}function Kd(a,d,b,h){a={tag:a,create:d,destroy:b,deps:h,next:null};null===Te?(Te={lastEffect:null},Te.lastEffect=a.next=a):(d=Te.lastEffect,null===d?Te.lastEffect=a.next=a:(b=d.next,d.next=a,a.next=b,
Te.lastEffect=a));return a}function oe(a,d,b,h){var m=jd();Ch|=a;m.memoizedState=Kd(d,b,void 0,void 0===h?null:h)}function be(a,d,b,h){var m=Ga();h=void 0===h?null:h;var g=void 0;if(null!==td){var l=td.memoizedState;g=l.destroy;if(null!==h&&Q(h,l.deps)){Kd(gh,b,g,h);return}}Ch|=a;m.memoizedState=Kd(d,b,g,h)}function Ea(a,d){if("function"===typeof d)return a=a(),d(a),function(){d(null)};if(null!==d&&void 0!==d)return a=a(),d.current=a,function(){d.current=null}}function Aa(){}function pe(a,d,b){25>
Ag?void 0:p("301");var h=a.alternate;if(a===fg||null!==h&&h===fg)if(fh=!0,a={expirationTime:eg,action:b,eagerReducer:null,eagerState:null,next:null},null===Ue&&(Ue=new Map),b=Ue.get(d),void 0===b)Ue.set(d,a);else{for(d=b;null!==d.next;)d=d.next;d.next=a}else{Kc();var m=ce();m=vd(m,a);var g={expirationTime:m,action:b,eagerReducer:null,eagerState:null,next:null},l=d.last;if(null===l)g.next=g;else{var w=l.next;null!==w&&(g.next=w);l.next=g}d.last=g;if(0===a.expirationTime&&(null===h||0===h.expirationTime)&&
(h=d.lastRenderedReducer,null!==h))try{var B=d.lastRenderedState,t=h(B,b);g.eagerReducer=h;g.eagerState=t;if(Fc(t,B))return}catch(Ec){}finally{}Ld(a,m)}}function pc(a,d){var b=Vc(5,null,null,0);b.elementType="DELETED";b.type="DELETED";b.stateNode=d;b.return=a;b.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=b,a.lastEffect=b):a.firstEffect=a.lastEffect=b}function Ae(a,d){switch(a.tag){case 5:var b=a.type;d=1!==d.nodeType||b.toLowerCase()!==d.nodeName.toLowerCase()?null:d;return null!==d?
(a.stateNode=d,!0):!1;case 6:return d=""===a.pendingProps||3!==d.nodeType?null:d,null!==d?(a.stateNode=d,!0):!1;case 13:return!1;default:return!1}}function Gf(a){if(We){var d=Hf;if(d){var b=d;if(!Ae(a,d)){d=ub(b);if(!d||!Ae(a,d)){a.effectTag|=2;We=!1;Be=a;return}pc(Be,b)}Be=a;Hf=Yd(d)}else a.effectTag|=2,We=!1,Be=a}}function If(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&18!==a.tag;)a=a.return;Be=a}function qc(a){if(a!==Be)return!1;if(!We)return If(a),We=!0,!1;var d=a.type;if(5!==a.tag||"head"!==
d&&"body"!==d&&!nc(d,a.memoizedProps))for(d=Hf;d;)pc(a,d),d=ub(d);If(a);Hf=Be?ub(a.stateNode):null;return!0}function oa(a,d,b,h){d.child=null===a?ai(d,null,b,h):hh(d,a.child,b,h)}function bb(a,d,b,h,m){b=b.render;var g=d.ref;rc(d,m);h=oc(a,d,b,h,g,m);if(null!==a&&!Ve)return d.updateQueue=a.updateQueue,d.effectTag&=-517,a.expirationTime<=m&&(a.expirationTime=0),Md(a,d,m);d.effectTag|=1;oa(a,d,h,m);return d.child}function $c(a,d,b,h,m,g){if(null===a){var l=b.type;if("function"===typeof l&&!Ef(l)&&void 0===
l.defaultProps&&null===b.compare&&void 0===b.defaultProps)return d.tag=15,d.type=l,Ac(a,d,l,h,m,g);a=Wc(b.type,null,h,null,d.mode,g);a.ref=d.ref;a.return=d;return d.child=a}l=a.child;if(m<g&&(m=l.memoizedProps,b=b.compare,b=null!==b?b:Ob,b(m,h)&&a.ref===d.ref))return Md(a,d,g);d.effectTag|=1;a=Za(l,h,g);a.ref=d.ref;a.return=d;return d.child=a}function Ac(a,d,b,h,m,g){return null!==a&&Ob(a.memoizedProps,h)&&a.ref===d.ref&&(Ve=!1,m<g)?Md(a,d,g):Jf(a,d,b,h,g)}function Cg(a,d){var b=d.ref;if(null===a&&
null!==b||null!==a&&a.ref!==b)d.effectTag|=128}function Jf(a,d,b,h,m){var g=yb(b)?Oe:qd.current;g=xc(d,g);rc(d,m);b=oc(a,d,b,h,g,m);if(null!==a&&!Ve)return d.updateQueue=a.updateQueue,d.effectTag&=-517,a.expirationTime<=m&&(a.expirationTime=0),Md(a,d,m);d.effectTag|=1;oa(a,d,b,m);return d.child}function de(a,d,b,h,m){if(yb(b)){var g=!0;Gb(d)}else g=!1;rc(d,m);if(null===d.stateNode)null!==a&&(a.alternate=null,d.alternate=null,d.effectTag|=2),tb(d,b,h,m),id(d,b,h,m),h=!0;else if(null===a){var l=d.stateNode,
w=d.memoizedProps;l.props=w;var B=l.context,t=b.contextType;"object"===typeof t&&null!==t?t=Hc(t):(t=yb(b)?Oe:qd.current,t=xc(d,t));var M=b.getDerivedStateFromProps,e="function"===typeof M||"function"===typeof l.getSnapshotBeforeUpdate;e||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(w!==h||B!==t)&&zc(d,l,h,t);Xe=!1;var ya=d.memoizedState;B=l.state=ya;var c=d.updateQueue;null!==c&&($d(d,c,h,l,m),B=d.memoizedState);w!==h||ya!==B||me.current||
Xe?("function"===typeof M&&(rd(d,b,M,h),B=d.memoizedState),(w=Xe||nb(d,b,w,h,ya,B,t))?(e||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(d.effectTag|=4)):("function"===typeof l.componentDidMount&&(d.effectTag|=4),d.memoizedProps=h,d.memoizedState=B),l.props=h,l.state=B,
l.context=t,h=w):("function"===typeof l.componentDidMount&&(d.effectTag|=4),h=!1)}else l=d.stateNode,w=d.memoizedProps,l.props=d.type===d.elementType?w:Ka(d.type,w),B=l.context,t=b.contextType,"object"===typeof t&&null!==t?t=Hc(t):(t=yb(b)?Oe:qd.current,t=xc(d,t)),M=b.getDerivedStateFromProps,(e="function"===typeof M||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(w!==h||B!==t)&&zc(d,l,h,t),
Xe=!1,B=d.memoizedState,ya=l.state=B,c=d.updateQueue,null!==c&&($d(d,c,h,l,m),ya=d.memoizedState),w!==h||B!==ya||me.current||Xe?("function"===typeof M&&(rd(d,b,M,h),ya=d.memoizedState),(M=Xe||nb(d,b,w,h,B,ya,t))?(e||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(h,ya,t),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(h,ya,t)),"function"===typeof l.componentDidUpdate&&
(d.effectTag|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(d.effectTag|=256)):("function"!==typeof l.componentDidUpdate||w===a.memoizedProps&&B===a.memoizedState||(d.effectTag|=4),"function"!==typeof l.getSnapshotBeforeUpdate||w===a.memoizedProps&&B===a.memoizedState||(d.effectTag|=256),d.memoizedProps=h,d.memoizedState=ya),l.props=h,l.state=ya,l.context=t,h=M):("function"!==typeof l.componentDidUpdate||w===a.memoizedProps&&B===a.memoizedState||(d.effectTag|=4),"function"!==typeof l.getSnapshotBeforeUpdate||
w===a.memoizedProps&&B===a.memoizedState||(d.effectTag|=256),h=!1);return J(a,d,b,h,g,m)}function J(a,d,b,h,m,g){Cg(a,d);var l=0!==(d.effectTag&64);if(!h&&!l)return m&&Pe(d,b,!1),Md(a,d,g);h=d.stateNode;Ai.current=d;var w=l&&"function"!==typeof b.getDerivedStateFromError?null:h.render();d.effectTag|=1;null!==a&&l?(d.child=hh(d,a.child,null,g),d.child=hh(d,null,w,g)):oa(a,d,w,g);d.memoizedState=h.state;m&&Pe(d,b,!0);return d.child}function jf(a){var d=a.stateNode;d.pendingContext?Ed(a,d.pendingContext,
d.pendingContext!==d.context):d.context&&Ed(a,d.context,!1);Jc(a,d.containerInfo)}function Kf(a,d,b){var h=d.mode,m=d.pendingProps,g=d.memoizedState;if(0===(d.effectTag&64)){g=null;var l=!1}else g={timedOutAt:null!==g?g.timedOutAt:0},l=!0,d.effectTag&=-65;if(null===a)if(l){var w=m.fallback;a=Pa(null,h,0,null);0===(d.mode&1)&&(a.child=null!==d.memoizedState?d.child.child:d.child);h=Pa(w,h,b,null);a.sibling=h;b=a;b.return=h.return=d}else b=h=ai(d,null,m.children,b);else null!==a.memoizedState?(h=a.child,
w=h.sibling,l?(b=m.fallback,m=Za(h,h.pendingProps,0),0===(d.mode&1)&&(l=null!==d.memoizedState?d.child.child:d.child,l!==h.child&&(m.child=l)),h=m.sibling=Za(w,b,w.expirationTime),b=m,m.childExpirationTime=0,b.return=h.return=d):b=h=hh(d,h.child,m.children,b)):(w=a.child,l?(l=m.fallback,m=Pa(null,h,0,null),m.child=w,0===(d.mode&1)&&(m.child=null!==d.memoizedState?d.child.child:d.child),h=m.sibling=Pa(l,h,b,null),h.effectTag|=2,b=m,m.childExpirationTime=0,b.return=h.return=d):h=b=hh(d,w,m.children,
b)),d.stateNode=a.stateNode;d.memoizedState=g;d.child=b;return h}function Md(a,d,b){null!==a&&(d.contextDependencies=a.contextDependencies);if(d.childExpirationTime<b)return null;null!==a&&d.child!==a.child?p("153"):void 0;if(null!==d.child){a=d.child;b=Za(a,a.pendingProps,a.expirationTime);d.child=b;for(b.return=d;null!==a.sibling;)a=a.sibling,b=b.sibling=Za(a,a.pendingProps,a.expirationTime),b.return=d;b.sibling=null}return d.child}function Dg(a,d,h){var m=d.expirationTime;if(null!==a)if(a.memoizedProps!==
d.pendingProps||me.current)Ve=!0;else{if(m<h){Ve=!1;switch(d.tag){case 3:jf(d);Hf=Be=null;We=!1;break;case 5:b(d);break;case 1:yb(d.type)&&Gb(d);break;case 4:Jc(d,d.stateNode.containerInfo);break;case 10:gg(d,d.memoizedProps.value);break;case 13:if(null!==d.memoizedState){m=d.child.childExpirationTime;if(0!==m&&m>=h)return Kf(a,d,h);d=Md(a,d,h);return null!==d?d.sibling:null}}return Md(a,d,h)}}else Ve=!1;d.expirationTime=0;switch(d.tag){case 2:m=d.elementType;null!==a&&(a.alternate=null,d.alternate=
null,d.effectTag|=2);a=d.pendingProps;var g=xc(d,qd.current);rc(d,h);g=oc(null,d,m,a,g,h);d.effectTag|=1;if("object"===typeof g&&null!==g&&"function"===typeof g.render&&void 0===g.$$typeof){d.tag=1;ud();if(yb(m)){var l=!0;Gb(d)}else l=!1;d.memoizedState=null!==g.state&&void 0!==g.state?g.state:null;var w=m.getDerivedStateFromProps;"function"===typeof w&&rd(d,m,w,a);g.updater=Ah;d.stateNode=g;g._reactInternalFiber=d;id(d,m,a,h);d=J(null,d,m,!0,l,h)}else d.tag=0,oa(null,d,g,h),d=d.child;return d;case 16:g=
d.elementType;null!==a&&(a.alternate=null,d.alternate=null,d.effectTag|=2);l=d.pendingProps;a=vb(g);d.type=a;g=d.tag=ye(a);l=Ka(a,l);w=void 0;switch(g){case 0:w=Jf(null,d,a,l,h);break;case 1:w=de(null,d,a,l,h);break;case 11:w=bb(null,d,a,l,h);break;case 14:w=$c(null,d,a,Ka(a.type,l),m,h);break;default:p("306",a,"")}return w;case 0:return m=d.type,g=d.pendingProps,g=d.elementType===m?g:Ka(m,g),Jf(a,d,m,g,h);case 1:return m=d.type,g=d.pendingProps,g=d.elementType===m?g:Ka(m,g),de(a,d,m,g,h);case 3:jf(d);
m=d.updateQueue;null===m?p("282"):void 0;g=d.memoizedState;g=null!==g?g.element:null;$d(d,m,d.pendingProps,null,h);m=d.memoizedState.element;if(m===g)Hf=Be=null,We=!1,d=Md(a,d,h);else{g=d.stateNode;if(g=(null===a||null===a.child)&&g.hydrate)Hf=Yd(d.stateNode.containerInfo),Be=d,g=We=!0;g?(d.effectTag|=2,d.child=ai(d,null,m,h)):(oa(a,d,m,h),Hf=Be=null,We=!1);d=d.child}return d;case 5:return b(d),null===a&&Gf(d),m=d.type,g=d.pendingProps,l=null!==a?a.memoizedProps:null,w=g.children,nc(m,g)?w=null:null!==
l&&nc(m,l)&&(d.effectTag|=16),Cg(a,d),1!==h&&d.mode&1&&g.hidden?(d.expirationTime=d.childExpirationTime=1,d=null):(oa(a,d,w,h),d=d.child),d;case 6:return null===a&&Gf(d),null;case 13:return Kf(a,d,h);case 4:return Jc(d,d.stateNode.containerInfo),m=d.pendingProps,null===a?d.child=hh(d,null,m,h):oa(a,d,m,h),d.child;case 11:return m=d.type,g=d.pendingProps,g=d.elementType===m?g:Ka(m,g),bb(a,d,m,g,h);case 7:return oa(a,d,d.pendingProps,h),d.child;case 8:return oa(a,d,d.pendingProps.children,h),d.child;
case 12:return oa(a,d,d.pendingProps.children,h),d.child;case 10:a:{m=d.type._context;g=d.pendingProps;w=d.memoizedProps;l=g.value;gg(d,l);if(null!==w){var B=w.value;l=Fc(B,l)?0:("function"===typeof m._calculateChangedBits?m._calculateChangedBits(B,l):1073741823)|0;if(0===l){if(w.children===g.children&&!me.current){d=Md(a,d,h);break a}}else for(B=d.child,null!==B&&(B.return=d);null!==B;){var t=B.contextDependencies;if(null!==t){w=B.child;for(var e=t.first;null!==e;){if(e.context===m&&0!==(e.observedBits&
l)){1===B.tag&&(e=ad(h),e.tag=bi,Nd(B,e));B.expirationTime<h&&(B.expirationTime=h);e=B.alternate;null!==e&&e.expirationTime<h&&(e.expirationTime=h);e=h;for(var M=B.return;null!==M;){var c=M.alternate;if(M.childExpirationTime<e)M.childExpirationTime=e,null!==c&&c.childExpirationTime<e&&(c.childExpirationTime=e);else if(null!==c&&c.childExpirationTime<e)c.childExpirationTime=e;else break;M=M.return}t.expirationTime<h&&(t.expirationTime=h);break}e=e.next}}else w=10===B.tag?B.type===d.type?null:B.child:
B.child;if(null!==w)w.return=B;else for(w=B;null!==w;){if(w===d){w=null;break}B=w.sibling;if(null!==B){B.return=w.return;w=B;break}w=w.return}B=w}}oa(a,d,g.children,h);d=d.child}return d;case 9:return g=d.type,l=d.pendingProps,m=l.children,rc(d,h),g=Hc(g,l.unstable_observedBits),m=m(g),d.effectTag|=1,oa(a,d,m,h),d.child;case 14:return g=d.type,l=Ka(g,d.pendingProps),l=Ka(g.type,l),$c(a,d,g,l,m,h);case 15:return Ac(a,d,d.type,d.pendingProps,m,h);case 17:return m=d.type,g=d.pendingProps,g=d.elementType===
m?g:Ka(m,g),null!==a&&(a.alternate=null,d.alternate=null,d.effectTag|=2),d.tag=1,yb(m)?(a=!0,Gb(d)):a=!1,rc(d,h),tb(d,m,g,h),id(d,m,g,h),J(null,d,m,!0,a,h)}p("156")}function gg(a,d){var b=a.type._context;Fb(ci,b._currentValue,a);b._currentValue=d}function Lf(a){var d=ci.current;sb(ci,a);a.type._context._currentValue=d}function rc(a,d){Ce=a;Eg=kf=null;var b=a.contextDependencies;null!==b&&b.expirationTime>=d&&(Ve=!0);a.contextDependencies=null}function Hc(a,d){if(Eg!==a&&!1!==d&&0!==d){if("number"!==
typeof d||1073741823===d)Eg=a,d=1073741823;d={context:a,observedBits:d,next:null};null===kf?(null===Ce?p("308"):void 0,kf=d,Ce.contextDependencies={first:d,expirationTime:0}):kf=kf.next=d}return a._currentValue}function Bc(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function lf(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,
firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ad(a){return{expirationTime:a,tag:hg,payload:null,callback:null,next:null,nextEffect:null}}function De(a,d){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=d:(a.lastUpdate.next=d,a.lastUpdate=d)}function Nd(a,d){var b=a.alternate;if(null===b){var h=a.updateQueue,m=null;null===h&&(h=a.updateQueue=Bc(a.memoizedState))}else h=a.updateQueue,m=b.updateQueue,null===
h?null===m?(h=a.updateQueue=Bc(a.memoizedState),m=b.updateQueue=Bc(b.memoizedState)):h=a.updateQueue=lf(m):null===m&&(m=b.updateQueue=lf(h));null===m||h===m?De(h,d):null===h.lastUpdate||null===m.lastUpdate?(De(h,d),De(m,d)):(De(h,d),m.lastUpdate=d)}function R(a,d){var b=a.updateQueue;b=null===b?a.updateQueue=Bc(a.memoizedState):Lc(a,b);null===b.lastCapturedUpdate?b.firstCapturedUpdate=b.lastCapturedUpdate=d:(b.lastCapturedUpdate.next=d,b.lastCapturedUpdate=d)}function Lc(a,d){var b=a.alternate;null!==
b&&d===b.updateQueue&&(d=a.updateQueue=lf(d));return d}function mf(a,d,b,h,m,g){switch(b.tag){case cj:return a=b.payload,"function"===typeof a?a.call(g,h,m):a;case ih:a.effectTag=a.effectTag&-2049|64;case hg:a=b.payload;m="function"===typeof a?a.call(g,h,m):a;if(null===m||void 0===m)break;return gd({},h,m);case bi:Xe=!0}return h}function $d(a,d,b,h,m){Xe=!1;d=Lc(a,d);for(var g=d.baseState,l=null,w=0,B=d.firstUpdate,t=g;null!==B;){var e=B.expirationTime;e<m?(null===l&&(l=B,g=t),w<e&&(w=e)):(t=mf(a,
d,B,t,b,h),null!==B.callback&&(a.effectTag|=32,B.nextEffect=null,null===d.lastEffect?d.firstEffect=d.lastEffect=B:(d.lastEffect.nextEffect=B,d.lastEffect=B)));B=B.next}e=null;for(B=d.firstCapturedUpdate;null!==B;){var M=B.expirationTime;M<m?(null===e&&(e=B,null===l&&(g=t)),w<M&&(w=M)):(t=mf(a,d,B,t,b,h),null!==B.callback&&(a.effectTag|=32,B.nextEffect=null,null===d.lastCapturedEffect?d.firstCapturedEffect=d.lastCapturedEffect=B:(d.lastCapturedEffect.nextEffect=B,d.lastCapturedEffect=B)));B=B.next}null===
l&&(d.lastUpdate=null);null===e?d.lastCapturedUpdate=null:a.effectTag|=32;null===l&&null===e&&(g=t);d.baseState=g;d.firstUpdate=l;d.firstCapturedUpdate=e;a.expirationTime=w;a.memoizedState=t}function ee(a,d,b){null!==d.firstCapturedUpdate&&(null!==d.lastUpdate&&(d.lastUpdate.next=d.firstCapturedUpdate,d.lastUpdate=d.lastCapturedUpdate),d.firstCapturedUpdate=d.lastCapturedUpdate=null);ig(d.firstEffect,b);d.firstEffect=d.lastEffect=null;ig(d.firstCapturedEffect,b);d.firstCapturedEffect=d.lastCapturedEffect=
null}function ig(a,d){for(;null!==a;){var b=a.callback;if(null!==b){a.callback=null;var h=d;"function"!==typeof b?p("191",b):void 0;b.call(h)}a=a.nextEffect}}function Ye(a,d){return{value:a,source:d,stack:Dd(d)}}function aa(a,d){var b=d.source,h=d.stack;null===h&&null!==b&&(h=Dd(b));null!==b&&sc(b.type);d=d.value;null!==a&&1===a.tag&&sc(a.type);try{console.error(d)}catch(ui){setTimeout(function(){throw ui;})}}function jg(a){var d=a.ref;if(null!==d)if("function"===typeof d)try{d(null)}catch(ic){Cb(a,
ic)}else d.current=null}function bd(a,d,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var h=b=b.next;do{if((h.tag&a)!==gh){var m=h.destroy;h.destroy=void 0;void 0!==m&&m()}(h.tag&d)!==gh&&(m=h.create,h.destroy=m());h=h.next}while(h!==b)}}function wd(a,d){for(var b=a;;){if(5===b.tag){var h=b.stateNode;if(d)h.style.display="none";else{h=b.stateNode;var m=b.memoizedProps.style;m=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;h.style.display=xb("display",m)}}else if(6===
b.tag)b.stateNode.nodeValue=d?"":b.memoizedProps;else if(13===b.tag&&null!==b.memoizedState){h=b.child.sibling;h.return=b;b=h;continue}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return;b=b.return}b.sibling.return=b.return;b=b.sibling}}function Ee(a){"function"===typeof yi&&yi(a);switch(a.tag){case 0:case 11:case 14:case 15:var d=a.updateQueue;if(null!==d&&(d=d.lastEffect,null!==d)){var b=d=d.next;do{var h=b.destroy;
if(void 0!==h){var m=a;try{h()}catch(Qg){Cb(m,Qg)}}b=b.next}while(b!==d)}break;case 1:jg(a);d=a.stateNode;if("function"===typeof d.componentWillUnmount)try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(Qg){Cb(a,Qg)}break;case 5:jg(a);break;case 4:Od(a)}}function kg(a){return 5===a.tag||3===a.tag||4===a.tag}function Pd(a){a:{for(var d=a.return;null!==d;){if(kg(d)){var b=d;break a}d=d.return}p("160");b=void 0}var h=d=void 0;switch(b.tag){case 5:d=b.stateNode;h=!1;break;
case 3:d=b.stateNode.containerInfo;h=!0;break;case 4:d=b.stateNode.containerInfo;h=!0;break;default:p("161")}b.effectTag&16&&(da(d,""),b.effectTag&=-17);b=a;a:b:for(;;){for(;null===b.sibling;){if(null===b.return||kg(b.return)){b=null;break a}b=b.return}b.sibling.return=b.return;for(b=b.sibling;5!==b.tag&&6!==b.tag&&18!==b.tag;){if(b.effectTag&2)continue b;if(null===b.child||4===b.tag)continue b;else b.child.return=b,b=b.child}if(!(b.effectTag&2)){b=b.stateNode;break a}}for(var m=a;;){if(5===m.tag||
6===m.tag)if(b)if(h){var g=d,l=m.stateNode,w=b;8===g.nodeType?g.parentNode.insertBefore(l,w):g.insertBefore(l,w)}else d.insertBefore(m.stateNode,b);else h?(l=d,w=m.stateNode,8===l.nodeType?(g=l.parentNode,g.insertBefore(w,l)):(g=l,g.appendChild(w)),l=l._reactRootContainer,null!==l&&void 0!==l||null!==g.onclick||(g.onclick=we)):d.appendChild(m.stateNode);else if(4!==m.tag&&null!==m.child){m.child.return=m;m=m.child;continue}if(m===a)break;for(;null===m.sibling;){if(null===m.return||m.return===a)return;
m=m.return}m.sibling.return=m.return;m=m.sibling}}function Od(a){for(var d=a,b=!1,h=void 0,m=void 0;;){if(!b){b=d.return;a:for(;;){null===b?p("160"):void 0;switch(b.tag){case 5:h=b.stateNode;m=!1;break a;case 3:h=b.stateNode.containerInfo;m=!0;break a;case 4:h=b.stateNode.containerInfo;m=!0;break a}b=b.return}b=!0}if(5===d.tag||6===d.tag){var g=d,l=g;a:for(;;)if(Ee(l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===g)break;for(;null===l.sibling;){if(null===l.return||l.return===g)break a;
l=l.return}l.sibling.return=l.return;l=l.sibling}m?(g=h,l=d.stateNode,8===g.nodeType?g.parentNode.removeChild(l):g.removeChild(l)):h.removeChild(d.stateNode)}else if(4===d.tag){if(null!==d.child){h=d.stateNode.containerInfo;m=!0;d.child.return=d;d=d.child;continue}}else if(Ee(d),null!==d.child){d.child.return=d;d=d.child;continue}if(d===a)break;for(;null===d.sibling;){if(null===d.return||d.return===a)return;d=d.return;4===d.tag&&(b=!1)}d.sibling.return=d.return;d=d.sibling}}function Fe(a,d){switch(d.tag){case 0:case 11:case 14:case 15:bd(Dh,
Bi,d);break;case 1:break;case 5:var b=d.stateNode;if(null!=b){var h=d.memoizedProps;a=null!==a?a.memoizedProps:h;var m=d.type,g=d.updateQueue;d.updateQueue=null;null!==g&&xe(b,g,m,a,h,d)}break;case 6:null===d.stateNode?p("162"):void 0;d.stateNode.nodeValue=d.memoizedProps;break;case 3:break;case 12:break;case 13:b=d.memoizedState;h=void 0;a=d;null===b?h=!1:(h=!0,a=d.child,0===b.timedOutAt&&(b.timedOutAt=ce()));null!==a&&wd(a,h);b=d.updateQueue;if(null!==b){d.updateQueue=null;var l=d.stateNode;null===
l&&(l=d.stateNode=new ld);b.forEach(function(a){var b=fe.bind(null,d,a);l.has(a)||(l.add(a),a.then(b,b))})}break;case 17:break;default:p("163")}}function ge(a,d,b){b=ad(b);b.tag=ih;b.payload={element:null};var h=d.value;b.callback=function(){jh(h);aa(a,d)};return b}function Ze(a,d,b){b=ad(b);b.tag=ih;var h=a.type.getDerivedStateFromError;if("function"===typeof h){var m=d.value;b.payload=function(){return h(m)}}var g=a.stateNode;null!==g&&"function"===typeof g.componentDidCatch&&(b.callback=function(){"function"!==
typeof h&&(null===qe?qe=new Set([this]):qe.add(this));var b=d.value,m=d.stack;aa(a,d);this.componentDidCatch(b,{componentStack:null!==m?m:""})});return b}function pb(a){switch(a.tag){case 1:yb(a.type)&&gc(a);var d=a.effectTag;return d&2048?(a.effectTag=d&-2049|64,a):null;case 3:return l(a),Tc(a),d=a.effectTag,0!==(d&64)?p("285"):void 0,a.effectTag=d&-2049|64,a;case 5:return g(a),null;case 13:return d=a.effectTag,d&2048?(a.effectTag=d&-2049|64,a):null;case 18:return null;case 4:return l(a),null;case 10:return Lf(a),
null;default:return null}}function Cc(){if(null!==hc)for(var a=hc.return;null!==a;){var d=a;switch(d.tag){case 1:var b=d.type.childContextTypes;null!==b&&void 0!==b&&gc(d);break;case 3:l(d);Tc(d);break;case 5:g(d);break;case 4:l(d);break;case 10:Lf(d)}a=a.return}nf=null;xd=0;Mf=-1;Ci=!1;hc=null}function Hb(){for(;null!==va;){var a=va.effectTag;a&16&&da(va.stateNode,"");if(a&128){var d=va.alternate;null!==d&&(d=d.ref,null!==d&&("function"===typeof d?d(null):d.current=null))}switch(a&14){case 2:Pd(va);
va.effectTag&=-3;break;case 6:Pd(va);va.effectTag&=-3;Fe(va.alternate,va);break;case 4:Fe(va.alternate,va);break;case 8:a=va,Od(a),a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null,a=a.alternate,null!==a&&(a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null)}va=va.nextEffect}}function Ub(){for(;null!==va;){if(va.effectTag&256)a:{var a=va.alternate,d=va;switch(d.tag){case 0:case 11:case 15:bd(Di,gh,d);break a;case 1:if(d.effectTag&256&&null!==a){var b=a.memoizedProps,
h=a.memoizedState;a=d.stateNode;d=a.getSnapshotBeforeUpdate(d.elementType===d.type?b:Ka(d.type,b),h);a.__reactInternalSnapshotBeforeUpdate=d}break a;case 3:case 5:case 6:case 4:case 17:break a;default:p("163")}}va=va.nextEffect}}function Fg(a,d){for(;null!==va;){var b=va.effectTag;if(b&36){var h=va.alternate,m=va,g=d;switch(m.tag){case 0:case 11:case 15:bd(Ei,kh,m);break;case 1:var l=m.stateNode;if(m.effectTag&4)if(null===h)l.componentDidMount();else{var w=m.elementType===m.type?h.memoizedProps:Ka(m.type,
h.memoizedProps);l.componentDidUpdate(w,h.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}h=m.updateQueue;null!==h&&ee(m,h,l,g);break;case 3:h=m.updateQueue;if(null!==h){l=null;if(null!==m.child)switch(m.child.tag){case 5:l=m.child.stateNode;break;case 1:l=m.child.stateNode}ee(m,h,l,g)}break;case 5:g=m.stateNode;null===h&&m.effectTag&4&&Rb(m.type,m.memoizedProps)&&g.focus();break;case 6:break;case 4:break;case 12:break;case 13:break;case 17:break;default:p("163")}}b&128&&(m=va.ref,null!==m&&
(g=va.stateNode,"function"===typeof m?m(g):m.current=g));b&512&&(di=a);va=va.nextEffect}}function Ge(a,d){Eh=Fh=di=null;var b=cd;cd=!0;do{if(d.effectTag&512){var h=!1,m=void 0;try{var g=d;bd(ei,gh,g);bd(gh,Fi,g)}catch(vi){h=!0,m=vi}h&&Cb(d,m)}d=d.nextEffect}while(null!==d);cd=b;b=a.expirationTime;0!==b&&of(a,b);yd||cd||zd(1073741823,!1)}function Kc(){null!==Fh&&dj(Fh);null!==Eh&&Eh()}function dd(a,d){fi=lg=!0;a.current===d?p("177"):void 0;var b=a.pendingCommitExpirationTime;0===b?p("261"):void 0;
a.pendingCommitExpirationTime=0;var h=d.expirationTime,m=d.childExpirationTime;Re(a,m>h?m:h);ej.current=null;h=void 0;1<d.effectTag?null!==d.lastEffect?(d.lastEffect.nextEffect=d,h=d.firstEffect):h=d:h=d.firstEffect;Gi=$g;Hi=Rc();$g=!1;for(va=h;null!==va;){m=!1;var g=void 0;try{Ub()}catch(Rg){m=!0,g=Rg}m&&(null===va?p("178"):void 0,Cb(va,g),null!==va&&(va=va.nextEffect))}for(va=h;null!==va;){m=!1;g=void 0;try{Hb()}catch(Rg){m=!0,g=Rg}m&&(null===va?p("178"):void 0,Cb(va,g),null!==va&&(va=va.nextEffect))}ec(Hi);
Hi=null;$g=!!Gi;Gi=null;a.current=d;for(va=h;null!==va;){m=!1;g=void 0;try{Fg(a,b)}catch(Rg){m=!0,g=Rg}m&&(null===va?p("178"):void 0,Cb(va,g),null!==va&&(va=va.nextEffect))}if(null!==h&&null!==di){var l=Ge.bind(null,a,h);Fh=Ib.unstable_runWithPriority(Ib.unstable_NormalPriority,function(){return Gh(l)});Eh=l}lg=fi=!1;"function"===typeof Yh&&Yh(d.stateNode);b=d.expirationTime;d=d.childExpirationTime;d=d>b?d:b;0===d&&(qe=null);Ad(a,d)}function Qd(a){for(;;){var d=a.alternate,b=a.return,h=a.sibling;
if(0===(a.effectTag&1024)){hc=a;a:{var m=d;d=a;var w=xd,B=d.pendingProps;switch(d.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:yb(d.type)&&gc(d);break;case 3:l(d);Tc(d);B=d.stateNode;B.pendingContext&&(B.context=B.pendingContext,B.pendingContext=null);if(null===m||null===m.child)qc(d),d.effectTag&=-3;gi(d);break;case 5:g(d);var t=Ic(xg.current);w=d.type;if(null!==m&&null!=d.stateNode)Ii(m,d,w,B,t),m.ref!==d.ref&&(d.effectTag|=128);else if(B){var e=Ic(Se.current);if(qc(d)){B=d;m=B.stateNode;
var c=B.type,ea=B.memoizedProps,Q=t;m[je]=B;m[zf]=ea;w=void 0;t=c;switch(t){case "iframe":case "object":Sa("load",m);break;case "video":case "audio":for(c=0;c<dg.length;c++)Sa(dg[c],m);break;case "source":Sa("error",m);break;case "img":case "image":case "link":Sa("error",m);Sa("load",m);break;case "form":Sa("reset",m);Sa("submit",m);break;case "details":Sa("toggle",m);break;case "input":Ua(m,ea);Sa("invalid",m);ib(Q,"onChange");break;case "select":m._wrapperState={wasMultiple:!!ea.multiple};Sa("invalid",
m);ib(Q,"onChange");break;case "textarea":Ma(m,ea),Sa("invalid",m),ib(Q,"onChange")}cb(t,ea);c=null;for(w in ea)ea.hasOwnProperty(w)&&(e=ea[w],"children"===w?"string"===typeof e?m.textContent!==e&&(c=["children",e]):"number"===typeof e&&m.textContent!==""+e&&(c=["children",""+e]):se.hasOwnProperty(w)&&null!=e&&ib(Q,w));switch(t){case "input":ra(m);Wb(m,ea,!0);break;case "textarea":ra(m);Va(m,ea);break;case "select":case "option":break;default:"function"===typeof ea.onClick&&(m.onclick=we)}w=c;B.updateQueue=
w;if(B=null!==w?!0:!1)d.effectTag|=4}else{ea=d;Q=w;m=B;c=9===t.nodeType?t:t.ownerDocument;e===Ji.html&&(e=pa(Q));e===Ji.html?"script"===Q?(m=c.createElement("div"),m.innerHTML="\x3cscript\x3e\x3c/script\x3e",c=m.removeChild(m.firstChild)):"string"===typeof m.is?c=c.createElement(Q,{is:m.is}):(c=c.createElement(Q),"select"===Q&&(Q=c,m.multiple?Q.multiple=!0:m.size&&(Q.size=m.size))):c=c.createElementNS(e,Q);m=c;m[je]=ea;m[zf]=B;Ki(m,d,!1,!1);Q=m;c=w;ea=B;var M=t,Ha=pd(c,ea);switch(c){case "iframe":case "object":Sa("load",
Q);t=ea;break;case "video":case "audio":for(t=0;t<dg.length;t++)Sa(dg[t],Q);t=ea;break;case "source":Sa("error",Q);t=ea;break;case "img":case "image":case "link":Sa("error",Q);Sa("load",Q);t=ea;break;case "form":Sa("reset",Q);Sa("submit",Q);t=ea;break;case "details":Sa("toggle",Q);t=ea;break;case "input":Ua(Q,ea);t=ma(Q,ea);Sa("invalid",Q);ib(M,"onChange");break;case "option":t=Xd(Q,ea);break;case "select":Q._wrapperState={wasMultiple:!!ea.multiple};t=gd({},ea,{value:void 0});Sa("invalid",Q);ib(M,
"onChange");break;case "textarea":Ma(Q,ea);t=$b(Q,ea);Sa("invalid",Q);ib(M,"onChange");break;default:t=ea}cb(c,t);e=void 0;var q=c,Vd=Q,u=t;for(e in u)if(u.hasOwnProperty(e)){var E=u[e];"style"===e?Sc(Vd,E):"dangerouslySetInnerHTML"===e?(E=E?E.__html:void 0,null!=E&&xi(Vd,E)):"children"===e?"string"===typeof E?("textarea"!==q||""!==E)&&da(Vd,E):"number"===typeof E&&da(Vd,""+E):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(se.hasOwnProperty(e)?null!=E&&ib(M,
e):null!=E&&tc(Vd,e,E,Ha))}switch(c){case "input":ra(Q);Wb(Q,ea,!1);break;case "textarea":ra(Q);Va(Q,ea);break;case "option":null!=ea.value&&Q.setAttribute("value",""+Wa(ea.value));break;case "select":t=Q;t.multiple=!!ea.multiple;Q=ea.value;null!=Q?vc(t,!!ea.multiple,Q,!1):null!=ea.defaultValue&&vc(t,!!ea.multiple,ea.defaultValue,!0);break;default:"function"===typeof t.onClick&&(Q.onclick=we)}Rb(w,B)&&(d.effectTag|=4);d.stateNode=m}null!==d.ref&&(d.effectTag|=128)}else null===d.stateNode?p("166"):
void 0;break;case 6:m&&null!=d.stateNode?Li(m,d,m.memoizedProps,B):("string"!==typeof B&&(null===d.stateNode?p("166"):void 0),m=Ic(xg.current),Ic(Se.current),qc(d)?(B=d,w=B.stateNode,m=B.memoizedProps,w[je]=B,w.nodeValue!==m&&(d.effectTag|=4)):(w=d,B=(9===m.nodeType?m:m.ownerDocument).createTextNode(B),B[je]=d,w.stateNode=B));break;case 11:break;case 13:B=d.memoizedState;if(0!==(d.effectTag&64)){d.expirationTime=w;hc=d;break a}B=null!==B;w=null!==m&&null!==m.memoizedState;null!==m&&!B&&w&&(m=m.child.sibling,
null!==m&&(t=d.firstEffect,null!==t?(d.firstEffect=m,m.nextEffect=t):(d.firstEffect=d.lastEffect=m,m.nextEffect=null),m.effectTag=8));if(B||w)d.effectTag|=4;break;case 7:break;case 8:break;case 12:break;case 4:l(d);gi(d);break;case 10:Lf(d);break;case 9:break;case 14:break;case 17:yb(d.type)&&gc(d);break;case 18:break;default:p("156")}hc=null}d=a;if(1===xd||1!==d.childExpirationTime){B=0;for(w=d.child;null!==w;)m=w.expirationTime,t=w.childExpirationTime,m>B&&(B=m),t>B&&(B=t),w=w.sibling;d.childExpirationTime=
B}if(null!==hc)return hc;null!==b&&0===(b.effectTag&1024)&&(null===b.firstEffect&&(b.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==b.lastEffect&&(b.lastEffect.nextEffect=a.firstEffect),b.lastEffect=a.lastEffect),1<a.effectTag&&(null!==b.lastEffect?b.lastEffect.nextEffect=a:b.firstEffect=a,b.lastEffect=a))}else{a=pb(a,xd);if(null!==a)return a.effectTag&=1023,a;null!==b&&(b.firstEffect=b.lastEffect=null,b.effectTag|=1024)}if(null!==h)return h;if(null!==b)a=b;else break}return null}function Vb(a){var d=
Dg(a.alternate,a,xd);a.memoizedProps=a.pendingProps;null===d&&(d=Qd(a));ej.current=null;return d}function Mc(a,d){lg?p("243"):void 0;Kc();lg=!0;var b=hi.current;hi.current=zi;var h=a.nextExpirationTimeToWorkOn;if(h!==xd||a!==nf||null===hc)Cc(),nf=a,xd=h,hc=Za(nf.current,null,xd),a.pendingCommitExpirationTime=0;var m=!1;do{try{if(d)for(;null!==hc&&!Nf();)hc=Vb(hc);else for(;null!==hc;)hc=Vb(hc)}catch(Ff){if(Eg=kf=Ce=null,ud(),null===hc)m=!0,jh(Ff);else{null===hc?p("271"):void 0;var g=hc,l=g.return;
if(null===l)m=!0,jh(Ff);else{a:{var w=a,B=l,t=g,e=Ff;l=xd;t.effectTag|=1024;t.firstEffect=t.lastEffect=null;if(null!==e&&"object"===typeof e&&"function"===typeof e.then){var c=e;e=B;var ea=-1,Q=-1;do{if(13===e.tag){var M=e.alternate;if(null!==M&&(M=M.memoizedState,null!==M)){Q=10*(1073741822-M.timedOutAt);break}M=e.pendingProps.maxDuration;if("number"===typeof M)if(0>=M)ea=0;else if(-1===ea||M<ea)ea=M}e=e.return}while(null!==e);e=B;do{if(M=13===e.tag)M=void 0===e.memoizedProps.fallback?!1:null===
e.memoizedState;if(M){B=e.updateQueue;null===B?(B=new Set,B.add(c),e.updateQueue=B):B.add(c);if(0===(e.mode&1)){e.effectTag|=64;t.effectTag&=-1957;1===t.tag&&(null===t.alternate?t.tag=17:(l=ad(1073741823),l.tag=bi,Nd(t,l)));t.expirationTime=1073741823;break a}t=w;B=l;var Ha=t.pingCache;null===Ha?(Ha=t.pingCache=new Ej,M=new Set,Ha.set(c,M)):(M=Ha.get(c),void 0===M&&(M=new Set,Ha.set(c,M)));M.has(B)||(M.add(B),t=Bd.bind(null,t,c,B),c.then(t,t));-1===ea?w=1073741823:(-1===Q&&(Q=10*(1073741822-Hd(w,
l))-5E3),w=Q+ea);0<=w&&Mf<w&&(Mf=w);e.effectTag|=2048;e.expirationTime=l;break a}e=e.return}while(null!==e);e=Error((sc(t.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+Dd(t))}Ci=!0;e=Ye(e,t);w=B;do{switch(w.tag){case 3:w.effectTag|=2048;w.expirationTime=l;l=ge(w,e,l);R(w,l);break a;case 1:if(ea=e,Q=w.type,t=w.stateNode,0===(w.effectTag&
64)&&("function"===typeof Q.getDerivedStateFromError||null!==t&&"function"===typeof t.componentDidCatch&&(null===qe||!qe.has(t)))){w.effectTag|=2048;w.expirationTime=l;l=Ze(w,ea,l);R(w,l);break a}}w=w.return}while(null!==w)}hc=Qd(g);continue}}}break}while(1);lg=!1;hi.current=b;Eg=kf=Ce=null;ud();if(m)nf=null,a.finishedWork=null;else if(null!==hc)a.finishedWork=null;else{b=a.current.alternate;null===b?p("281"):void 0;nf=null;if(Ci){m=a.latestPendingTime;g=a.latestSuspendedTime;l=a.latestPingedTime;
if(0!==m&&m<h||0!==g&&g<h||0!==l&&l<h){ab(a,h);Gg(a,b,h,a.expirationTime,-1);return}if(!a.didError&&d){a.didError=!0;h=a.nextExpirationTimeToWorkOn=h;d=a.expirationTime=1073741823;Gg(a,b,h,d,-1);return}}d&&-1!==Mf?(ab(a,h),d=10*(1073741822-Hd(a,h)),d<Mf&&(Mf=d),d=10*(1073741822-ce()),d=Mf-d,Gg(a,b,h,a.expirationTime,0>d?0:d)):(a.pendingCommitExpirationTime=h,a.finishedWork=b)}}function Cb(a,d){for(var b=a.return;null!==b;){switch(b.tag){case 1:var h=b.stateNode;if("function"===typeof b.type.getDerivedStateFromError||
"function"===typeof h.componentDidCatch&&(null===qe||!qe.has(h))){a=Ye(d,a);a=Ze(b,a,1073741823);Nd(b,a);Ld(b,1073741823);return}break;case 3:a=Ye(d,a);a=ge(b,a,1073741823);Nd(b,a);Ld(b,1073741823);return}b=b.return}3===a.tag&&(b=Ye(d,a),b=ge(a,b,1073741823),Nd(a,b),Ld(a,1073741823))}function vd(a,d){var b=Ib.unstable_getCurrentPriorityLevel(),h=void 0;if(0===(d.mode&1))h=1073741823;else if(lg&&!fi)h=xd;else{switch(b){case Ib.unstable_ImmediatePriority:h=1073741823;break;case Ib.unstable_UserBlockingPriority:h=
1073741822-10*(((1073741822-a+15)/10|0)+1);break;case Ib.unstable_NormalPriority:h=1073741822-25*(((1073741822-a+500)/25|0)+1);break;case Ib.unstable_LowPriority:case Ib.unstable_IdlePriority:h=1;break;default:p("313")}null!==nf&&h===xd&&--h}b===Ib.unstable_UserBlockingPriority&&(0===he||h<he)&&(he=h);return h}function Bd(a,d,b){var h=a.pingCache;null!==h&&h.delete(d);if(null!==nf&&xd===b)nf=null;else if(d=a.earliestSuspendedTime,h=a.latestSuspendedTime,0!==d&&b<=d&&b>=h){a.didError=!1;d=a.latestPingedTime;
if(0===d||d>b)a.latestPingedTime=b;Qe(b,a);b=a.expirationTime;0!==b&&of(a,b)}}function fe(a,d){var b=a.stateNode;null!==b&&b.delete(d);d=ce();d=vd(d,a);a=lh(a,d);null!==a&&($a(a,d),d=a.expirationTime,0!==d&&of(a,d))}function lh(a,d){a.expirationTime<d&&(a.expirationTime=d);var b=a.alternate;null!==b&&b.expirationTime<d&&(b.expirationTime=d);var h=a.return,m=null;if(null===h&&3===a.tag)m=a.stateNode;else for(;null!==h;){b=h.alternate;h.childExpirationTime<d&&(h.childExpirationTime=d);null!==b&&b.childExpirationTime<
d&&(b.childExpirationTime=d);if(null===h.return&&3===h.tag){m=h.stateNode;break}h=h.return}return m}function Ld(a,d){a=lh(a,d);null!==a&&(!lg&&0!==xd&&d>xd&&Cc(),$a(a,d),lg&&!fi&&nf===a||of(a,a.expirationTime),pf>Hh&&(pf=0,p("185")))}function w(a,d,b,h,m){return Ib.unstable_runWithPriority(Ib.unstable_ImmediatePriority,function(){return a(d,b,h,m)})}function Ha(){qf=1073741822-((Ib.unstable_now()-Hg)/10|0)}function md(a,d){if(0!==Ih){if(d<Ih)return;null!==ii&&Ib.unstable_cancelCallback(ii)}Ih=d;a=
Ib.unstable_now()-Hg;ii=Ib.unstable_scheduleCallback(mg,{timeout:10*(1073741822-d)-a})}function Gg(a,d,b,h,m){a.expirationTime=h;0!==m||Nf()?0<m&&(a.timeoutHandle=Mi(ed.bind(null,a,d,b),m)):(a.pendingCommitExpirationTime=b,a.finishedWork=d)}function ed(a,d,b){a.pendingCommitExpirationTime=b;a.finishedWork=d;Ha();wb=qf;Yb(a,b)}function Ad(a,d){a.expirationTime=d;a.finishedWork=null}function ce(){if(cd)return wb;jb();if(0===Cd||1===Cd)Ha(),wb=qf;return wb}function of(a,d){null===a.nextScheduledRoot?
(a.expirationTime=d,null===Rd?(Dc=Rd=a,a.nextScheduledRoot=a):(Rd=Rd.nextScheduledRoot=a,Rd.nextScheduledRoot=Dc)):d>a.expirationTime&&(a.expirationTime=d);cd||(yd?ng&&(rf=a,Cd=1073741823,Ig(a,1073741823,!1)):1073741823===d?zd(1073741823,!1):md(a,d))}function jb(){var a=0,d=null;if(null!==Rd)for(var b=Rd,h=Dc;null!==h;){var m=h.expirationTime;if(0===m){null===b||null===Rd?p("244"):void 0;if(h===h.nextScheduledRoot){Dc=Rd=h.nextScheduledRoot=null;break}else if(h===Dc)Dc=m=h.nextScheduledRoot,Rd.nextScheduledRoot=
m,h.nextScheduledRoot=null;else if(h===Rd){Rd=b;Rd.nextScheduledRoot=Dc;h.nextScheduledRoot=null;break}else b.nextScheduledRoot=h.nextScheduledRoot,h.nextScheduledRoot=null;h=b.nextScheduledRoot}else{m>a&&(a=m,d=h);if(h===Rd)break;if(1073741823===a)break;b=h;h=h.nextScheduledRoot}}rf=d;Cd=a}function Nf(){return Jh?!0:Ib.unstable_shouldYield()?Jh=!0:!1}function mg(){try{if(!Nf()&&null!==Dc){Ha();var a=Dc;do{var d=a.expirationTime;0!==d&&qf<=d&&(a.nextExpirationTimeToWorkOn=qf);a=a.nextScheduledRoot}while(a!==
Dc)}zd(0,!0)}finally{Jh=!1}}function zd(a,d){jb();if(d)for(Ha(),wb=qf;null!==rf&&0!==Cd&&a<=Cd&&!(Jh&&qf>Cd);)Ig(rf,Cd,qf>Cd),jb(),Ha(),wb=qf;else for(;null!==rf&&0!==Cd&&a<=Cd;)Ig(rf,Cd,!1),jb();d&&(Ih=0,ii=null);0!==Cd&&md(rf,Cd);pf=0;Kh=null;if(null!==Of)for(a=Of,Of=null,d=0;d<a.length;d++){var b=a[d];try{b._onComplete()}catch(ti){mh||(mh=!0,ji=ti)}}if(mh)throw a=ji,ji=null,mh=!1,a;}function Yb(a,d){cd?p("253"):void 0;rf=a;Cd=d;Ig(a,d,!1);zd(1073741823,!1)}function Ig(a,d,b){cd?p("245"):void 0;
cd=!0;if(b){var h=a.finishedWork;null!==h?Pf(a,h,d):(a.finishedWork=null,h=a.timeoutHandle,-1!==h&&(a.timeoutHandle=-1,fj(h)),Mc(a,b),h=a.finishedWork,null!==h&&(Nf()?a.finishedWork=h:Pf(a,h,d)))}else h=a.finishedWork,null!==h?Pf(a,h,d):(a.finishedWork=null,h=a.timeoutHandle,-1!==h&&(a.timeoutHandle=-1,fj(h)),Mc(a,b),h=a.finishedWork,null!==h&&Pf(a,h,d));cd=!1}function Pf(a,d,b){var h=a.firstBatch;null!==h&&h._expirationTime>=b&&(null===Of?Of=[h]:Of.push(h),h._defer)?(a.finishedWork=d,a.expirationTime=
0):(a.finishedWork=null,a===Kh?pf++:(Kh=a,pf=0),Ib.unstable_runWithPriority(Ib.unstable_ImmediatePriority,function(){dd(a,d)}))}function jh(a){null===rf?p("246"):void 0;rf.expirationTime=0;mh||(mh=!0,ji=a)}function nh(a,d){var b=yd;yd=!0;try{return a(d)}finally{(yd=b)||cd||zd(1073741823,!1)}}function oh(a,d){if(yd&&!ng){ng=!0;try{return a(d)}finally{ng=!1}}return a(d)}function ph(a,d,b){yd||cd||0===he||(zd(he,!1),he=0);var h=yd;yd=!0;try{return Ib.unstable_runWithPriority(Ib.unstable_UserBlockingPriority,
function(){return a(d,b)})}finally{(yd=h)||cd||zd(1073741823,!1)}}function og(a,d,b,h,m){var g=d.current;a:if(b){b=b._reactInternalFiber;b:{2===mb(b)&&1===b.tag?void 0:p("170");var l=b;do{switch(l.tag){case 3:l=l.stateNode.context;break b;case 1:if(yb(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break b}}l=l.return}while(null!==l);p("171");l=void 0}if(1===b.tag){var w=b.type;if(yb(w)){b=Fd(b,w,l);break a}}b=l}else b=Df;null===d.context?d.context=b:d.pendingContext=b;d=m;m=ad(h);
m.payload={element:a};d=void 0===d?null:d;null!==d&&(m.callback=d);Kc();Nd(g,m);Ld(g,h);return h}function qh(a,d,b,h){var m=d.current,g=ce();m=vd(g,m);return og(a,d,b,m,h)}function Jg(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function ie(a,d,b){var h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Me,key:null==h?null:""+h,children:a,containerInfo:d,implementation:b}}function hb(a){var d=
1073741822-25*(((1073741822-ce()+500)/25|0)+1);d>=Ni&&(d=Ni-1);this._expirationTime=Ni=d;this._root=a;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}function $e(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}function Qf(a,d,b){d=Vc(3,null,null,d?3:0);a={current:d,containerInfo:a,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,
didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:b,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null};this._internalRoot=d.stateNode=a}function He(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Kg(a,d){d||(d=a?9===a.nodeType?a.documentElement:a.firstChild:null,d=!(!d||1!==d.nodeType||!d.hasAttribute("data-reactroot")));
if(!d)for(var b;b=a.lastChild;)a.removeChild(b);return new Qf(a,!1,d)}function sf(a,d,b,h,m){var g=b._reactRootContainer;if(g){if("function"===typeof m){var l=m;m=function(){var a=Jg(g._internalRoot);l.call(a)}}null!=a?g.legacy_renderSubtreeIntoContainer(a,d,m):g.render(d,m)}else{g=b._reactRootContainer=Kg(b,h);if("function"===typeof m){var w=m;m=function(){var a=Jg(g._internalRoot);w.call(a)}}oh(function(){null!=a?g.legacy_renderSubtreeIntoContainer(a,d,m):g.render(d,m)})}return Jg(g._internalRoot)}
function qb(a,d){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;He(d)?void 0:p("200");return ie(a,d,null,b)}var Ne=c(5),gd=c(0),Ib=c(14);Ne?void 0:p("227");var Tf=!1,sg=null,xf=!1,Sg=null,Uf={onError:function(a){Tf=!0;sg=a}},bf=null,yf={},Td=[],Je={},se={},te={},Ug=null,Xf=null,Tg=null,Vf=null,tf={injectEventPluginOrder:function(a){bf?p("101"):void 0;bf=Array.prototype.slice.call(a);k()},injectEventPluginsByName:function(a){var d=!1,b;for(b in a)if(a.hasOwnProperty(b)){var h=a[b];
yf.hasOwnProperty(b)&&yf[b]===h||(yf[b]?p("102",b):void 0,yf[b]=h,d=!0)}d&&k()}},Rf=Math.random().toString(36).slice(2),je="__reactInternalInstance$"+Rf,zf="__reactEventHandlers$"+Rf,ef=!("undefined"===typeof window||!window.document||!window.document.createElement),Wf={animationend:E("Animation","AnimationEnd"),animationiteration:E("Animation","AnimationIteration"),animationstart:E("Animation","AnimationStart"),transitionend:E("Transition","TransitionEnd")},Af={},Ud={};ef&&(Ud=document.createElement("div").style,
"AnimationEvent"in window||(delete Wf.animationend.animation,delete Wf.animationiteration.animation,delete Wf.animationstart.animation),"TransitionEvent"in window||delete Wf.transitionend.transition);var Lg=q("animationend"),re=q("animationiteration"),rh=q("animationstart"),Lh=q("transitionend"),dg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
cf=null,ue=null,Bf=null;gd(na.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=G)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=G)},persist:function(){this.isPersistent=G},isPersistent:X,destructor:function(){var a=this.constructor.Interface,
d;for(d in a)this[d]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=X;this._dispatchInstances=this._dispatchListeners=null}});na.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};na.extend=function(a){function d(){}function b(){return h.apply(this,arguments)}var h=this;d.prototype=
h.prototype;var m=new d;gd(m,b.prototype);b.prototype=m;b.prototype.constructor=b;b.Interface=gd({},h.Interface,a);b.extend=h.extend;ta(b);return b};ta(na);var uf=na.extend({data:null}),Mh=na.extend({data:null}),Qh=[9,13,27,32],Vg=ef&&"CompositionEvent"in window,Mg=null;ef&&"documentMode"in document&&(Mg=document.documentMode);var Ie=ef&&"TextEvent"in window&&!Mg,tg=ef&&(!Vg||Mg&&8<Mg&&11>=Mg),wh=String.fromCharCode(32),Zb={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},
dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",
captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ke=!1,ve=!1,ki={eventTypes:Zb,extractEvents:function(a,d,b,h){var m=void 0,g=void 0;if(Vg)a:{switch(a){case "compositionstart":m=Zb.compositionStart;break a;case "compositionend":m=Zb.compositionEnd;break a;case "compositionupdate":m=Zb.compositionUpdate;break a}m=void 0}else ve?ja(a,b)&&(m=Zb.compositionEnd):"keydown"===a&&229===b.keyCode&&(m=Zb.compositionStart);m?(tg&&"ko"!==
b.locale&&(ve||m!==Zb.compositionStart?m===Zb.compositionEnd&&ve&&(g=U()):(cf=h,ue="value"in cf?cf.value:cf.textContent,ve=!0)),m=uf.getPooled(m,d,b,h),g?m.data=g:(g=qa(b),null!==g&&(m.data=g)),L(m),g=m):g=null;(a=Ie?Oa(a,b):La(a,b))?(d=Mh.getPooled(Zb.beforeInput,d,b,h),d.data=a,L(d)):d=null;return null===g?d:null===d?g:[g,d]}},Yf=null,Le=null,df=null,Cf=!1,eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,
week:!0},af=Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;af.hasOwnProperty("ReactCurrentDispatcher")||(af.ReactCurrentDispatcher={current:null});var le=/^(.*)[\\\/]/,Sd="function"===typeof Symbol&&Symbol.for,ze=Sd?Symbol.for("react.element"):60103,Me=Sd?Symbol.for("react.portal"):60106,ke=Sd?Symbol.for("react.fragment"):60107,Zf=Sd?Symbol.for("react.strict_mode"):60108,ff=Sd?Symbol.for("react.profiler"):60114,xh=Sd?Symbol.for("react.provider"):60109,Xg=Sd?Symbol.for("react.context"):60110,
Wg=Sd?Symbol.for("react.concurrent_mode"):60111,Yg=Sd?Symbol.for("react.forward_ref"):60112,ug=Sd?Symbol.for("react.suspense"):60113,Zg=Sd?Symbol.for("react.memo"):60115,$f=Sd?Symbol.for("react.lazy"):60116,Rh="function"===typeof Symbol&&Symbol.iterator,wi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
yh=Object.prototype.hasOwnProperty,h={},a={},d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){d[a]=new rb(a,0,!1,a,null)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];d[b]=new rb(b,1,!1,a[1],null)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){d[a]=new rb(a,2,
!1,a.toLowerCase(),null)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){d[a]=new rb(a,2,!1,a,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){d[a]=new rb(a,3,!1,a.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(a){d[a]=new rb(a,3,!0,a,null)});
["capture","download"].forEach(function(a){d[a]=new rb(a,4,!1,a,null)});["cols","rows","size","span"].forEach(function(a){d[a]=new rb(a,6,!1,a,null)});["rowSpan","start"].forEach(function(a){d[a]=new rb(a,5,!1,a.toLowerCase(),null)});var m=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=
a.replace(m,ac);d[b]=new rb(b,1,!1,a,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(m,ac);d[b]=new rb(b,1,!1,a,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(m,ac);d[b]=new rb(b,1,!1,a,"http://www.w3.org/XML/1998/namespace")});["tabIndex","crossOrigin"].forEach(function(a){d[a]=new rb(a,1,!1,a.toLowerCase(),null)});var B={change:{phasedRegistrationNames:{bubbled:"onChange",
captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},ea=null,Vd=null,Oi=!1;ef&&(Oi=wa("input")&&(!document.documentMode||9<document.documentMode));var gj={eventTypes:B,_isInputEventSupported:Oi,extractEvents:function(a,d,b,h){var m=d?K(d):window,g=void 0,l=void 0,w=m.nodeName&&m.nodeName.toLowerCase();"select"===w||"input"===w&&"file"===m.type?g=gb:Bb(m)?Oi?g=Nb:(g=Xb,l=Db):(w=m.nodeName)&&"input"===w.toLowerCase()&&("checkbox"===m.type||
"radio"===m.type)&&(g=bc);if(g&&(g=g(a,d)))return Ia(g,b,h);l&&l(a,m,d);"blur"===a&&(a=m._wrapperState)&&a.controlled&&"number"===m.type&&Ca(m,"number",m.value)}},pg=na.extend({view:null,detail:null}),Zi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},sh=0,vf=0,Ng=!1,Pi=!1,th=pg.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:lc,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||
(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if("movementX"in a)return a.movementX;var d=sh;sh=a.screenX;return Ng?"mousemove"===a.type?a.screenX-d:0:(Ng=!0,0)},movementY:function(a){if("movementY"in a)return a.movementY;var d=vf;vf=a.screenY;return Pi?"mousemove"===a.type?a.screenY-d:0:(Pi=!0,0)}}),hj=th.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),uh={mouseEnter:{registrationName:"onMouseEnter",
dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ij={eventTypes:uh,extractEvents:function(a,d,b,h){var m="mouseover"===a||"pointerover"===a,g="mouseout"===a||"pointerout"===a;if(m&&(b.relatedTarget||b.fromElement)||!g&&!m)return null;m=h.window===
h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window;g?(g=d,d=(d=b.relatedTarget||b.toElement)?W(d):null):g=null;if(g===d)return null;var l=void 0,w=void 0,B=void 0,t=void 0;if("mouseout"===a||"mouseover"===a)l=th,w=uh.mouseLeave,B=uh.mouseEnter,t="mouse";else if("pointerout"===a||"pointerover"===a)l=hj,w=uh.pointerLeave,B=uh.pointerEnter,t="pointer";var e=null==g?m:K(g);m=null==d?m:K(d);a=l.getPooled(w,g,b,h);a.type=t+"leave";a.target=e;a.relatedTarget=m;b=l.getPooled(B,d,b,h);b.type=t+"enter";
b.target=m;b.relatedTarget=e;h=d;if(g&&h)a:{d=g;m=h;t=0;for(l=d;l;l=ba(l))t++;l=0;for(B=m;B;B=ba(B))l++;for(;0<t-l;)d=ba(d),t--;for(;0<l-t;)m=ba(m),l--;for(;t--;){if(d===m||d===m.alternate)break a;d=ba(d);m=ba(m)}d=null}else d=null;m=d;for(d=[];g&&g!==m;){t=g.alternate;if(null!==t&&t===m)break;d.push(g);g=ba(g)}for(g=[];h&&h!==m;){t=h.alternate;if(null!==t&&t===m)break;g.push(h);h=ba(h)}for(h=0;h<d.length;h++)xa(d[h],"bubbled",a);for(h=g.length;0<h--;)xa(g[h],"captured",b);return[a,b]}},zh=Object.prototype.hasOwnProperty,
li=na.extend({animationName:null,elapsedTime:null,pseudoElement:null}),jj=na.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Fj=pg.extend({relatedTarget:null}),Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",
19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kj=pg.extend({key:function(a){if(a.key){var d=Qi[a.key]||a.key;if("Unidentified"!==d)return d}return"keypress"===a.type?(a=od(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===
a.type||"keyup"===a.type?Ri[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:lc,charCode:function(a){return"keypress"===a.type?od(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?od(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),Gj=th.extend({dataTransfer:null}),Hj=pg.extend({touches:null,targetTouches:null,changedTouches:null,
altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:lc}),Ij=na.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),lj=th.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),Nh=[["abort","abort"],[Lg,"animationEnd"],[re,"animationIteration"],[rh,"animationStart"],["canplay","canPlay"],["canplaythrough",
"canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover",
"mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[Lh,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],ag={},bg={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut",
"cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit",
"submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(a){Gc(a,!0)});Nh.forEach(function(a){Gc(a,!1)});var mj={eventTypes:ag,isInteractiveTopLevelEventType:function(a){a=bg[a];return void 0!==a&&!0===a.isInteractive},extractEvents:function(a,d,b,h){var m=bg[a];if(!m)return null;switch(a){case "keypress":if(0===od(b))return null;case "keydown":case "keyup":a=kj;break;case "blur":case "focus":a=Fj;break;case "click":if(2===
b.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":a=th;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":a=Gj;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":a=Hj;break;case Lg:case re:case rh:a=li;break;case Lh:a=Ij;break;case "scroll":a=pg;break;case "wheel":a=lj;break;case "copy":case "cut":case "paste":a=
jj;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":a=hj;break;default:a=na}d=a.getPooled(m,d,b,h);L(d);return d}},vg=mj.isInteractiveTopLevelEventType,Sh=[],$g=!0,$i={},Bj=0,Th="_reactListenersID"+(""+Math.random()).slice(2),mi=ef&&"documentMode"in document&&11>=document.documentMode,Vh={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},
cg=null,Wh=null,ch=null,bh=!1,Jj={eventTypes:Vh,extractEvents:function(a,d,b,h){var m=h.window===h?h.document:9===h.nodeType?h:h.ownerDocument,g;if(!(g=!m)){a:{m=mc(m);g=te.onSelect;for(var l=0;l<g.length;l++){var w=g[l];if(!m.hasOwnProperty(w)||!m[w]){m=!1;break a}}m=!0}g=!m}if(g)return null;m=d?K(d):window;switch(a){case "focus":if(Bb(m)||"true"===m.contentEditable)cg=m,Wh=d,ch=null;break;case "blur":ch=Wh=cg=null;break;case "mousedown":bh=!0;break;case "contextmenu":case "mouseup":case "dragend":return bh=
!1,Qb(b,h);case "selectionchange":if(mi)break;case "keydown":case "keyup":return Qb(b,h)}return null}};tf.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));Ug=ia;Xf=N;Tg=K;tf.injectEventPluginsByName({SimpleEventPlugin:mj,EnterLeaveEventPlugin:ij,ChangeEventPlugin:gj,SelectEventPlugin:Jj,BeforeInputEventPlugin:ki});var Ji={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},ni=void 0,xi=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(d,b,h,m){MSApp.execUnsafeLocalFunction(function(){return a(d,b,h,m)})}:a}(function(a,d){if(a.namespaceURI!==Ji.svg||"innerHTML"in a)a.innerHTML=d;else{ni=ni||document.createElement("div");ni.innerHTML="\x3csvg\x3e"+d+"\x3c/svg\x3e";for(d=ni.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;d.firstChild;)a.appendChild(d.firstChild)}}),dh={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Si=["Webkit","ms","Moz","O"];Object.keys(dh).forEach(function(a){Si.forEach(function(d){d=d+a.charAt(0).toUpperCase()+a.substring(1);dh[d]=dh[a]})});var Cj=gd({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Gi=null,Hi=null,Mi="function"===typeof setTimeout?setTimeout:void 0,fj="function"===typeof clearTimeout?clearTimeout:
void 0,Gh=Ib.unstable_scheduleCallback,dj=Ib.unstable_cancelCallback;new Set;var Xh=[],wg=-1,Df={},qd={current:Df},me={current:!1},Oe=Df,Yh=null,yi=null,aj=(new Ne.Component).refs,Ah={isMounted:function(a){return(a=a._reactInternalFiber)?2===mb(a):!1},enqueueSetState:function(a,d,b){a=a._reactInternalFiber;var h=ce();h=vd(h,a);var m=ad(h);m.payload=d;void 0!==b&&null!==b&&(m.callback=b);Kc();Nd(a,m);Ld(a,h)},enqueueReplaceState:function(a,d,b){a=a._reactInternalFiber;var h=ce();h=vd(h,a);var m=ad(h);
m.tag=cj;m.payload=d;void 0!==b&&null!==b&&(m.callback=b);Kc();Nd(a,m);Ld(a,h)},enqueueForceUpdate:function(a,d){a=a._reactInternalFiber;var b=ce();b=vd(b,a);var h=ad(b);h.tag=bi;void 0!==d&&null!==d&&(h.callback=d);Kc();Nd(a,h);Ld(a,b)}},gf=Array.isArray,hh=Tb(!0),ai=Tb(!1),Bh={},Se={current:Bh},yg={current:Bh},xg={current:Bh},gh=0,Di=2,Dh=4,Bi=8,Ei=16,kh=32,Fi=64,ei=128,$h=af.ReactCurrentDispatcher,eg=0,fg=null,td=null,ae=null,Zc=null,sd=null,hf=null,Bg=0,Te=null,Ch=0,fh=!1,Ue=null,Ag=0,zi={readContext:Hc,
useCallback:t,useContext:t,useEffect:t,useImperativeHandle:t,useLayoutEffect:t,useMemo:t,useReducer:t,useRef:t,useState:t,useDebugValue:t},zg={readContext:Hc,useCallback:function(a,d){jd().memoizedState=[a,void 0===d?null:d];return a},useContext:Hc,useEffect:function(a,d){return oe(516,ei|Fi,a,d)},useImperativeHandle:function(a,d,b){b=null!==b&&void 0!==b?b.concat([a]):null;return oe(4,Dh|kh,Ea.bind(null,d,a),b)},useLayoutEffect:function(a,d){return oe(4,Dh|kh,a,d)},useMemo:function(a,d){var b=jd();
d=void 0===d?null:d;a=a();b.memoizedState=[a,d];return a},useReducer:function(a,d,b){var h=jd();d=void 0!==b?b(d):d;h.memoizedState=h.baseState=d;a=h.queue={last:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:d};a=a.dispatch=pe.bind(null,fg,a);return[h.memoizedState,a]},useRef:function(a){var d=jd();a={current:a};return d.memoizedState=a},useState:function(a){var d=jd();"function"===typeof a&&(a=a());d.memoizedState=d.baseState=a;a=d.queue={last:null,dispatch:null,lastRenderedReducer:ob,
lastRenderedState:a};a=a.dispatch=pe.bind(null,fg,a);return[d.memoizedState,a]},useDebugValue:Aa},eh={readContext:Hc,useCallback:function(a,d){var b=Ga();d=void 0===d?null:d;var h=b.memoizedState;if(null!==h&&null!==d&&Q(d,h[1]))return h[0];b.memoizedState=[a,d];return a},useContext:Hc,useEffect:function(a,d){return be(516,ei|Fi,a,d)},useImperativeHandle:function(a,d,b){b=null!==b&&void 0!==b?b.concat([a]):null;return be(4,Dh|kh,Ea.bind(null,d,a),b)},useLayoutEffect:function(a,d){return be(4,Dh|kh,
a,d)},useMemo:function(a,d){var b=Ga();d=void 0===d?null:d;var h=b.memoizedState;if(null!==h&&null!==d&&Q(d,h[1]))return h[0];a=a();b.memoizedState=[a,d];return a},useReducer:kd,useRef:function(){return Ga().memoizedState},useState:function(a){return kd(ob,a)},useDebugValue:Aa},Be=null,Hf=null,We=!1,Ai=af.ReactCurrentOwner,Ve=!1,ci={current:null},Ce=null,kf=null,Eg=null,hg=0,cj=1,bi=2,ih=3,Xe=!1,Ki=void 0,gi=void 0,Ii=void 0,Li=void 0;Ki=function(a,d){for(var b=d.child;null!==b;){if(5===b.tag||6===
b.tag)a.appendChild(b.stateNode);else if(4!==b.tag&&null!==b.child){b.child.return=b;b=b.child;continue}if(b===d)break;for(;null===b.sibling;){if(null===b.return||b.return===d)return;b=b.return}b.sibling.return=b.return;b=b.sibling}};gi=function(){};Ii=function(a,d,b,h,m){var g=a.memoizedProps;if(g!==h){var l=d.stateNode;Ic(Se.current);a=null;switch(b){case "input":g=ma(l,g);h=ma(l,h);a=[];break;case "option":g=Xd(l,g);h=Xd(l,h);a=[];break;case "select":g=gd({},g,{value:void 0});h=gd({},h,{value:void 0});
a=[];break;case "textarea":g=$b(l,g);h=$b(l,h);a=[];break;default:"function"!==typeof g.onClick&&"function"===typeof h.onClick&&(l.onclick=we)}cb(b,h);l=b=void 0;var w=null;for(b in g)if(!h.hasOwnProperty(b)&&g.hasOwnProperty(b)&&null!=g[b])if("style"===b){var B=g[b];for(l in B)B.hasOwnProperty(l)&&(w||(w={}),w[l]="")}else"dangerouslySetInnerHTML"!==b&&"children"!==b&&"suppressContentEditableWarning"!==b&&"suppressHydrationWarning"!==b&&"autoFocus"!==b&&(se.hasOwnProperty(b)?a||(a=[]):(a=a||[]).push(b,
null));for(b in h){var t=h[b];B=null!=g?g[b]:void 0;if(h.hasOwnProperty(b)&&t!==B&&(null!=t||null!=B))if("style"===b)if(B){for(l in B)!B.hasOwnProperty(l)||t&&t.hasOwnProperty(l)||(w||(w={}),w[l]="");for(l in t)t.hasOwnProperty(l)&&B[l]!==t[l]&&(w||(w={}),w[l]=t[l])}else w||(a||(a=[]),a.push(b,w)),w=t;else"dangerouslySetInnerHTML"===b?(t=t?t.__html:void 0,B=B?B.__html:void 0,null!=t&&B!==t&&(a=a||[]).push(b,""+t)):"children"===b?B===t||"string"!==typeof t&&"number"!==typeof t||(a=a||[]).push(b,""+
t):"suppressContentEditableWarning"!==b&&"suppressHydrationWarning"!==b&&(se.hasOwnProperty(b)?(null!=t&&ib(m,b),a||B===t||(a=[])):(a=a||[]).push(b,t))}w&&(a=a||[]).push("style",w);if(d.updateQueue=a)d.effectTag|=4}};Li=function(a,d,b,h){b!==h&&(d.effectTag|=4)};var ld="function"===typeof WeakSet?WeakSet:Set,Ej="function"===typeof WeakMap?WeakMap:Map,hi=af.ReactCurrentDispatcher,ej=af.ReactCurrentOwner,Ni=1073741822,lg=!1,hc=null,nf=null,xd=0,Mf=-1,Ci=!1,va=null,fi=!1,di=null,Fh=null,Eh=null,qe=null,
Dc=null,Rd=null,Ih=0,ii=void 0,cd=!1,rf=null,Cd=0,he=0,mh=!1,ji=null,yd=!1,ng=!1,Of=null,Hg=Ib.unstable_now(),qf=1073741822-(Hg/10|0),wb=qf,Hh=50,pf=0,Kh=null,Jh=!1;Yf=function(a,d,b){switch(d){case "input":kc(a,b);d=b.name;if("radio"===b.type&&null!=d){for(b=a;b.parentNode;)b=b.parentNode;b=b.querySelectorAll("input[name\x3d"+JSON.stringify(""+d)+'][type\x3d"radio"]');for(d=0;d<b.length;d++){var h=b[d];if(h!==a&&h.form===a.form){var m=ia(h);m?void 0:p("90");kb(h);kc(h,m)}}}break;case "textarea":fc(a,
b);break;case "select":d=b.value,null!=d&&vc(a,!!b.multiple,d,!1)}};hb.prototype.render=function(a){this._defer?void 0:p("250");this._hasChildren=!0;this._children=a;var d=this._root._internalRoot,b=this._expirationTime,h=new $e;og(a,d,null,b,h._onCommit);return h};hb.prototype.then=function(a){if(this._didComplete)a();else{var d=this._callbacks;null===d&&(d=this._callbacks=[]);d.push(a)}};hb.prototype.commit=function(){var a=this._root._internalRoot,d=a.firstBatch;this._defer&&null!==d?void 0:p("251");
if(this._hasChildren){var b=this._expirationTime;if(d!==this){this._hasChildren&&(b=this._expirationTime=d._expirationTime,this.render(this._children));for(var h=null,m=d;m!==this;)h=m,m=m._next;null===h?p("251"):void 0;h._next=m._next;this._next=d;a.firstBatch=this}this._defer=!1;Yb(a,b);d=this._next;this._next=null;d=a.firstBatch=d;null!==d&&d._hasChildren&&d.render(d._children)}else this._next=null,this._defer=!1};hb.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;
var a=this._callbacks;if(null!==a)for(var d=0;d<a.length;d++)(0,a[d])()}};$e.prototype.then=function(a){if(this._didCommit)a();else{var d=this._callbacks;null===d&&(d=this._callbacks=[]);d.push(a)}};$e.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var d=0;d<a.length;d++){var b=a[d];"function"!==typeof b?p("191",b):void 0;b()}}};Qf.prototype.render=function(a,d){var b=this._internalRoot,h=new $e;d=void 0===d?null:d;null!==d&&h.then(d);
qh(a,b,null,h._onCommit);return h};Qf.prototype.unmount=function(a){var d=this._internalRoot,b=new $e;a=void 0===a?null:a;null!==a&&b.then(a);qh(null,d,null,b._onCommit);return b};Qf.prototype.legacy_renderSubtreeIntoContainer=function(a,d,b){var h=this._internalRoot,m=new $e;b=void 0===b?null:b;null!==b&&m.then(b);qh(d,h,a,m._onCommit);return m};Qf.prototype.createBatch=function(){var a=new hb(this),d=a._expirationTime,b=this._internalRoot,h=b.firstBatch;if(null===h)b.firstBatch=a,a._next=null;else{for(b=
null;null!==h&&h._expirationTime>=d;)b=h,h=h._next;a._next=h;null!==b&&(b._next=a)}return a};db=nh;Jb=ph;Ab=function(){cd||0===he||(zd(he,!1),he=0)};var Oh={createPortal:qb,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var d=a._reactInternalFiber;void 0===d&&("function"===typeof a.render?p("188"):p("268",Object.keys(a)));a=hd(d);return a=null===a?null:a.stateNode},hydrate:function(a,d,b){He(d)?void 0:p("200");return sf(null,a,d,!0,b)},render:function(a,d,b){He(d)?void 0:
p("200");return sf(null,a,d,!1,b)},unstable_renderSubtreeIntoContainer:function(a,d,b,h){He(b)?void 0:p("200");null==a||void 0===a._reactInternalFiber?p("38"):void 0;return sf(a,d,b,!1,h)},unmountComponentAtNode:function(a){He(a)?void 0:p("40");return a._reactRootContainer?(oh(function(){sf(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return qb.apply(void 0,arguments)},unstable_batchedUpdates:nh,unstable_interactiveUpdates:ph,flushSync:function(a,
d){cd?p("187"):void 0;var b=yd;yd=!0;try{return w(a,d)}finally{yd=b,zd(1073741823,!1)}},unstable_createRoot:function(a,d){He(a)?void 0:p("299","unstable_createRoot");return new Qf(a,!0,null!=d&&!0===d.hydrate)},unstable_flushControlled:function(a){var d=yd;yd=!0;try{w(a)}finally{(yd=d)||cd||zd(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[N,K,ia,tf.injectEventPluginsByName,Je,L,function(a){za(a,Qa)},Ja,V,Wd,F]}};(function(a){var d=a.findFiberByHostInstance;return Uc(gd({},
a,{overrideProps:null,currentDispatcherRef:af.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=hd(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return d?d(a):null}}))})({findFiberByHostInstance:W,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var oi={default:Oh},pi=oi&&Oh||oi;r.exports=pi.default||pi};
shadow$provide[20]=function(n,y,c,r,f,z){function v(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v)}catch(p){console.error(p)}}v();r.exports=c(15)};
shadow$provide[21]=function(n,y,c,r,f,z){(function(c,p){"object"===typeof f&&"undefined"!==typeof r?p(f):"function"===typeof define&&define.amd?define(["exports"],p):p(c.WHATWGFetch={})})(this,function(c){function p(e){"string"!==typeof e&&(e=String(e));if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function x(e){"string"!==typeof e&&(e=String(e));return e}function v(e){var c={next:function(){var c=e.shift();return{done:void 0===
c,value:c}}};ha.iterable&&(c[Symbol.iterator]=function(){return c});return c}function f(e){this.map={};e instanceof f?e.forEach(function(e,c){this.append(c,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(c){this.append(c,e[c])},this)}function k(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function e(e){return new Promise(function(c,E){e.onload=function(){c(e.result)};e.onerror=function(){E(e.error)}})}
function n(c){var q=new FileReader,E=e(q);q.readAsArrayBuffer(c);return E}function r(e){e=new Uint8Array(e);for(var c=Array(e.length),E=0;E<e.length;E++)c[E]=String.fromCharCode(e[E]);return c.join("")}function y(e){if(e.slice)return e.slice(0);var c=new Uint8Array(e.byteLength);c.set(new Uint8Array(e));return c.buffer}function z(){this.bodyUsed=!1;this._initBody=function(e){(this._bodyInit=e)?"string"===typeof e?this._bodyText=e:ha.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:ha.formData&&
FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:ha.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():ha.arrayBuffer&&ha.blob&&e&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ha.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||xa(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="";this.headers.get("content-type")||("string"===typeof e?
this.headers.set("content-type","text/plain;charset\x3dUTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ha.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset\x3dUTF-8"))};ha.blob&&(this.blob=function(){var e=k(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");
return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(n)});this.text=function(){var c=k(this);if(c)return c;if(this._bodyBlob){c=this._bodyBlob;var q=new FileReader,U=e(q);q.readAsText(c);return U}if(this._bodyArrayBuffer)return Promise.resolve(r(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)};
ha.formData&&(this.formData=function(){return this.text().then(F)});this.json=function(){return this.text().then(JSON.parse)};return this}function O(e,c){c=c||{};var q=c.body;if(e instanceof O){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url;this.credentials=e.credentials;c.headers||(this.headers=new f(e.headers));this.method=e.method;this.mode=e.mode;this.signal=e.signal;q||null==e._bodyInit||(q=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);this.credentials=c.credentials||this.credentials||
"same-origin";if(c.headers||!this.headers)this.headers=new f(c.headers);e=c.method||this.method||"GET";var E=e.toUpperCase();this.method=-1<Qa.indexOf(E)?E:e;this.mode=c.mode||this.mode||null;this.signal=c.signal||this.signal;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(q)}function F(e){var c=new FormData;e.trim().split("\x26").forEach(function(e){if(e){var q=e.split("\x3d");e=q.shift().replace(/\+/g,
" ");q=q.join("\x3d").replace(/\+/g," ");c.append(decodeURIComponent(e),decodeURIComponent(q))}});return c}function W(e){var c=new f;e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var q=e.split(":");if(e=q.shift().trim())q=q.join(":").trim(),c.append(e,q)});return c}function N(e,c){c||(c={});this.type="default";this.status=void 0===c.status?200:c.status;this.ok=200<=this.status&&300>this.status;this.statusText="statusText"in c?c.statusText:"OK";this.headers=new f(c.headers);this.url=
c.url||"";this._initBody(e)}function K(e,q){return new Promise(function(E,G){function U(){L.abort()}var k=new O(e,q);if(k.signal&&k.signal.aborted)return G(new c.DOMException("Aborted","AbortError"));var L=new XMLHttpRequest;L.onload=function(){var e={status:L.status,statusText:L.statusText,headers:W(L.getAllResponseHeaders()||"")};e.url="responseURL"in L?L.responseURL:e.headers.get("X-Request-URL");E(new N("response"in L?L.response:L.responseText,e))};L.onerror=function(){G(new TypeError("Network request failed"))};
L.ontimeout=function(){G(new TypeError("Network request failed"))};L.onabort=function(){G(new c.DOMException("Aborted","AbortError"))};L.open(k.method,k.url,!0);"include"===k.credentials?L.withCredentials=!0:"omit"===k.credentials&&(L.withCredentials=!1);"responseType"in L&&ha.blob&&(L.responseType="blob");k.headers.forEach(function(e,c){L.setRequestHeader(c,e)});k.signal&&(k.signal.addEventListener("abort",U),L.onreadystatechange=function(){4===L.readyState&&k.signal.removeEventListener("abort",
U)});L.send("undefined"===typeof k._bodyInit?null:k._bodyInit)})}var ia="Symbol"in self&&"iterator"in Symbol,ba;if(ba="FileReader"in self&&"Blob"in self)try{new Blob,ba=!0}catch(E){ba=!1}var ha={searchParams:"URLSearchParams"in self,iterable:ia,blob:ba,formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(ha.arrayBuffer)var ka="[object Int8Array];[object Uint8Array];[object Uint8ClampedArray];[object Int16Array];[object Uint16Array];[object Int32Array];[object Uint32Array];[object Float32Array];[object Float64Array]".split(";"),
xa=ArrayBuffer.isView||function(e){return e&&-1<ka.indexOf(Object.prototype.toString.call(e))};f.prototype.append=function(e,c){e=p(e);c=x(c);var q=this.map[e];this.map[e]=q?q+", "+c:c};f.prototype["delete"]=function(e){delete this.map[p(e)]};f.prototype.get=function(e){e=p(e);return this.has(e)?this.map[e]:null};f.prototype.has=function(e){return this.map.hasOwnProperty(p(e))};f.prototype.set=function(e,c){this.map[p(e)]=x(c)};f.prototype.forEach=function(e,c){for(var q in this.map)this.map.hasOwnProperty(q)&&
e.call(c,this.map[q],q,this)};f.prototype.keys=function(){var e=[];this.forEach(function(c,E){e.push(E)});return v(e)};f.prototype.values=function(){var e=[];this.forEach(function(c){e.push(c)});return v(e)};f.prototype.entries=function(){var e=[];this.forEach(function(c,E){e.push([E,c])});return v(e)};ha.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var Qa="DELETE GET HEAD OPTIONS POST PUT".split(" ");O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};z.call(O.prototype);
z.call(N.prototype);N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})};N.error=function(){var e=new N(null,{status:0,statusText:""});e.type="error";return e};var L=[301,302,303,307,308];N.redirect=function(e,c){if(-1===L.indexOf(c))throw new RangeError("Invalid status code");return new N(null,{status:c,headers:{location:e}})};c.DOMException=self.DOMException;try{new c.DOMException}catch(E){c.DOMException=
function(e,c){this.message=e;this.name=c;this.stack=Error(e).stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}K.polyfill=!0;self.fetch||(self.fetch=K,self.Headers=f,self.Request=O,self.Response=N);c.Headers=f;c.Request=O;c.Response=N;c.fetch=K;Object.defineProperty(c,"__esModule",{value:!0})})};
shadow$provide[22]=function(n,y,c,r,f,z){function v(e){var c=this.constructor;return this.then(function(k){return c.resolve(e()).then(function(){return k})},function(k){return c.resolve(e()).then(function(){return c.reject(k)})})}function p(){}function x(e,c){return function(){e.apply(c,arguments)}}function I(e){if(!(this instanceof I))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=
void 0;this._deferreds=[];za(e,this)}function Y(c,p){for(;3===c._state;)c=c._value;0===c._state?c._deferreds.push(p):(c._handled=!0,I._immediateFn(function(){var x=1===c._state?p.onFulfilled:p.onRejected;if(null===x)(1===c._state?k:e)(p.promise,c._value);else{try{var v=x(c._value)}catch(K){e(p.promise,K);return}k(p.promise,v)}}))}function k(c,k){try{if(k===c)throw new TypeError("A promise cannot be resolved with itself.");if(k&&("object"===typeof k||"function"===typeof k)){var p=k.then;if(k instanceof
I){c._state=3;c._value=k;S(c);return}if("function"===typeof p){za(x(p,k),c);return}}c._state=1;c._value=k;S(c)}catch(N){e(c,N)}}function e(e,c){e._state=2;e._value=c;S(e)}function S(e){2===e._state&&0===e._deferreds.length&&I._immediateFn(function(){e._handled||I._unhandledRejectionFn(e._value)});for(var c=0,k=e._deferreds.length;c<k;c++)Y(e,e._deferreds[c]);e._deferreds=null}function Z(e,c,k){this.onFulfilled="function"===typeof e?e:null;this.onRejected="function"===typeof c?c:null;this.promise=
k}function za(c,p){var x=!1;try{c(function(e){x||(x=!0,k(p,e))},function(c){x||(x=!0,e(p,c))})}catch(N){x||(x=!0,e(p,N))}}var fa=setTimeout;I.prototype["catch"]=function(e){return this.then(null,e)};I.prototype.then=function(e,c){var k=new this.constructor(p);Y(this,new Z(e,c,k));return k};I.prototype["finally"]=v;I.all=function(e){return new I(function(c,k){function p(e,f){try{if(f&&("object"===typeof f||"function"===typeof f)){var n=f.then;if("function"===typeof n){n.call(f,function(c){p(e,c)},
k);return}}x[e]=f;0===--v&&c(x)}catch(Qa){k(Qa)}}if(!e||"undefined"===typeof e.length)throw new TypeError("Promise.all accepts an array");var x=Array.prototype.slice.call(e);if(0===x.length)return c([]);for(var v=x.length,f=0;f<x.length;f++)p(f,x[f])})};I.resolve=function(e){return e&&"object"===typeof e&&e.constructor===I?e:new I(function(c){c(e)})};I.reject=function(e){return new I(function(c,k){k(e)})};I.race=function(e){return new I(function(c,k){for(var p=0,x=e.length;p<x;p++)e[p].then(c,k)})};
I._immediateFn="function"===typeof setImmediate&&function(e){setImmediate(e)}||function(e){fa(e,0)};I._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};y=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n)return n;throw Error("unable to locate global object");}();"Promise"in y?y.Promise.prototype["finally"]||(y.Promise.prototype["finally"]=v):y.Promise=
I};
shadow$provide[23]=function(n,y,c,r,f,z){r.exports=function(c){if("function"!=typeof c)throw TypeError(String(c)+" is not a function");return c}};
shadow$provide[24]=function(n,y,c,r,f,z){var v=c(23);r.exports=function(c,x,f){v(c);if(void 0===x)return c;switch(f){case 0:return function(){return c.call(x)};case 1:return function(p){return c.call(x,p)};case 2:return function(p,k){return c.call(x,p,k)};case 3:return function(p,k,e){return c.call(x,p,k,e)}}return function(){return c.apply(x,arguments)}}};
shadow$provide[25]=function(n,y,c,r,f,z){r.exports=function(c){try{return!!c()}catch(p){return!0}}};
shadow$provide[26]=function(n,y,c,r,f,z){var v={}.toString;r.exports=function(c){return v.call(c).slice(8,-1)}};
shadow$provide[27]=function(n,y,c,r,f,z){n=c(25);var v=c(26),p="".split;r.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return"String"==v(c)?p.call(c,""):Object(c)}:Object};
shadow$provide[28]=function(n,y,c,r,f,z){r.exports=function(c){if(void 0==c)throw TypeError("Can't call method on "+c);return c}};
shadow$provide[29]=function(n,y,c,r,f,z){var v=c(28);r.exports=function(c){return Object(v(c))}};
shadow$provide[30]=function(n,y,c,r,f,z){var v=Math.ceil,p=Math.floor;r.exports=function(c){return isNaN(c=+c)?0:(0<c?p:v)(c)}};
shadow$provide[31]=function(n,y,c,r,f,z){var v=c(30),p=Math.min;r.exports=function(c){return 0<c?p(v(c),9007199254740991):0}};
shadow$provide[32]=function(n,y,c,r,f,z){r.exports=function(c){return"object"===typeof c?null!==c:"function"===typeof c}};
shadow$provide[33]=function(n,y,c,r,f,z){var v=c(26);r.exports=Array.isArray||function(c){return"Array"==v(c)}};
shadow$provide[34]=function(n,y,c,r,f,z){r.exports="object"==typeof window&&window&&Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()};
shadow$provide[35]=function(n,y,c,r,f,z){r.exports=!c(25)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})};
shadow$provide[36]=function(n,y,c,r,f,z){n=c(32);var v=c(34).document,p=n(v)&&n(v.createElement);r.exports=function(c){return p?v.createElement(c):{}}};
shadow$provide[37]=function(n,y,c,r,f,z){r.exports=!c(35)&&!c(25)(function(){return 7!=Object.defineProperty(c(36)("div"),"a",{get:function(){return 7}}).a})};
shadow$provide[38]=function(n,y,c,r,f,z){var v=c(32);r.exports=function(c){if(!v(c))throw TypeError(String(c)+" is not an object");return c}};
shadow$provide[39]=function(n,y,c,r,f,z){var v=c(32);r.exports=function(c,x){if(!v(c))return c;var p,f;if(x&&"function"==typeof(p=c.toString)&&!v(f=p.call(c))||"function"==typeof(p=c.valueOf)&&!v(f=p.call(c))||!x&&"function"==typeof(p=c.toString)&&!v(f=p.call(c)))return f;throw TypeError("Can't convert object to primitive value");}};
shadow$provide[40]=function(n,y,c,r,f,z){n=c(35);var v=c(37),p=c(38),x=c(39),I=Object.defineProperty;f.f=n?I:function(c,k,e){p(c);k=x(k,!0);p(e);if(v)try{return I(c,k,e)}catch(S){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");"value"in e&&(c[k]=e.value);return c}};
shadow$provide[41]=function(n,y,c,r,f,z){r.exports=function(c,p){return{enumerable:!(c&1),configurable:!(c&2),writable:!(c&4),value:p}}};
shadow$provide[42]=function(n,y,c,r,f,z){var v=c(40),p=c(41);r.exports=c(35)?function(c,f,n){return v.f(c,f,p(1,n))}:function(c,p,f){c[p]=f;return c}};
shadow$provide[43]=function(n,y,c,r,f,z){n=c(34);var v=c(42);r.exports=function(c,x){try{v(n,c,x)}catch(I){n[c]=x}return x}};
shadow$provide[44]=function(n,y,c,r,f,z){r.exports=!1};
shadow$provide[45]=function(n,y,c,r,f,z){n=c(34);y=c(43);var v=n["__core-js_shared__"]||y("__core-js_shared__",{});(r.exports=function(c,x){return v[c]||(v[c]=void 0!==x?x:{})})("versions",[]).push({version:"3.0.1",mode:c(44)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})};
shadow$provide[46]=function(n,y,c,r,f,z){var v=0,p=Math.random();r.exports=function(c){return"Symbol(".concat(void 0===c?"":c,")_",(++v+p).toString(36))}};
shadow$provide[47]=function(n,y,c,r,f,z){r.exports=!c(25)(function(){return!String(Symbol())})};
shadow$provide[48]=function(n,y,c,r,f,z){var v=c(45)("wks"),p=c(46),x=c(34).Symbol,I=c(47);r.exports=function(c){return v[c]||(v[c]=I&&x[c]||(I?x:p)("Symbol."+c))}};
shadow$provide[49]=function(n,y,c,r,f,z){var v=c(32),p=c(33),x=c(48)("species");r.exports=function(c,f){if(p(c)){var k=c.constructor;"function"!=typeof k||k!==Array&&!p(k.prototype)?v(k)&&(k=k[x],null===k&&(k=void 0)):k=void 0}return new (void 0===k?Array:k)(0===f?0:f)}};
shadow$provide[50]=function(n,y,c,r,f,z){var v=c(24),p=c(27),x=c(29),I=c(31),Y=c(49);r.exports=function(c,e){var k=1==c,f=2==c,n=3==c,r=4==c,y=6==c,F=5==c||y,W=e||Y;return function(e,Y,O){var N=x(e),K=p(N);Y=v(Y,O,3);O=I(K.length);var z=0;e=k?W(e,O):f?W(e,0):void 0;for(var S,Z;O>z;z++)if(F||z in K)if(S=K[z],Z=Y(S,z,N),c)if(k)e[z]=Z;else if(Z)switch(c){case 3:return!0;case 5:return S;case 6:return z;case 2:e.push(S)}else if(r)return!1;return y?-1:n||r?r:e}}};
shadow$provide[51]=function(n,y,c,r,f,z){n={}.propertyIsEnumerable;var v=Object.getOwnPropertyDescriptor;y=v&&!n.call({1:2},1);f.f=y?function(c){c=v(this,c);return!!c&&c.enumerable}:n};
shadow$provide[52]=function(n,y,c,r,f,z){var v=c(27),p=c(28);r.exports=function(c){return v(p(c))}};
shadow$provide[53]=function(n,y,c,r,f,z){var v={}.hasOwnProperty;r.exports=function(c,f){return v.call(c,f)}};
shadow$provide[54]=function(n,y,c,r,f,z){n=c(35);var v=c(51),p=c(41),x=c(52),I=c(39),Y=c(53),k=c(37),e=Object.getOwnPropertyDescriptor;f.f=n?e:function(c,f){c=x(c);f=I(f,!0);if(k)try{return e(c,f)}catch(za){}if(Y(c,f))return p(!v.f.call(c,f),c[f])}};
shadow$provide[55]=function(n,y,c,r,f,z){r.exports=c(45)("native-function-to-string",Function.toString)};
shadow$provide[56]=function(n,y,c,r,f,z){n=c(55);c=c(34).WeakMap;r.exports="function"===typeof c&&/native code/.test(n.call(c))};
shadow$provide[57]=function(n,y,c,r,f,z){var v=c(45)("keys"),p=c(46);r.exports=function(c){return v[c]||(v[c]=p(c))}};
shadow$provide[58]=function(n,y,c,r,f,z){r.exports={}};
shadow$provide[59]=function(n,y,c,r,f,z){n=c(56);var v=c(32),p=c(42),x=c(53);y=c(57);f=c(58);c=c(34).WeakMap;if(n){var I=new c,Y=I.get,k=I.has,e=I.set;var S=function(c,k){e.call(I,c,k);return k};var Z=function(e){return Y.call(I,e)||{}};var za=function(e){return k.call(I,e)}}else{var fa=y("state");f[fa]=!0;S=function(e,c){p(e,fa,c);return c};Z=function(e){return x(e,fa)?e[fa]:{}};za=function(e){return x(e,fa)}}r.exports={set:S,get:Z,has:za,enforce:function(e){return za(e)?Z(e):S(e,{})},getterFor:function(e){return function(c){var k;
if(!v(c)||(k=Z(c)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return k}}}};
shadow$provide[60]=function(n,y,c,r,f,z){n=c(34);var v=c(42),p=c(53),x=c(43),I=c(55);y=c(59);var Y=y.get,k=y.enforce,e=String(I).split("toString");c(45)("inspectSource",function(e){return I.call(e)});(r.exports=function(c,f,r,I){var y=I?!!I.unsafe:!1,F=I?!!I.enumerable:!1;I=I?!!I.noTargetGet:!1;"function"==typeof r&&("string"!=typeof f||p(r,"name")||v(r,"name",f),k(r).source=e.join("string"==typeof f?f:""));c===n?F?c[f]=r:x(f,r):(y?!I&&c[f]&&(F=!0):delete c[f],F?c[f]=r:v(c,f,r))})(Function.prototype,
"toString",function(){return"function"==typeof this&&Y(this).source||I.call(this)})};
shadow$provide[61]=function(n,y,c,r,f,z){var v=c(30),p=Math.max,x=Math.min;r.exports=function(c,f){c=v(c);return 0>c?p(c+f,0):x(c,f)}};
shadow$provide[62]=function(n,y,c,r,f,z){var v=c(52),p=c(31),x=c(61);r.exports=function(c){return function(f,k,e){f=v(f);var n=p(f.length);e=x(e,n);if(c&&k!=k)for(;n>e;){if(k=f[e++],k!=k)return!0}else for(;n>e;e++)if((c||e in f)&&f[e]===k)return c||e||0;return!c&&-1}}};
shadow$provide[63]=function(n,y,c,r,f,z){var v=c(53),p=c(52),x=c(62)(!1),I=c(58);r.exports=function(c,k){c=p(c);var e=0,f=[],n;for(n in c)!v(I,n)&&v(c,n)&&f.push(n);for(;k.length>e;)v(c,n=k[e++])&&(~x(f,n)||f.push(n));return f}};
shadow$provide[64]=function(n,y,c,r,f,z){r.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")};
shadow$provide[65]=function(n,y,c,r,f,z){var v=c(63),p=c(64).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(c){return v(c,p)}};
shadow$provide[66]=function(n,y,c,r,f,z){f.f=Object.getOwnPropertySymbols};
shadow$provide[67]=function(n,y,c,r,f,z){var v=c(65),p=c(66),x=c(38);n=c(34).Reflect;r.exports=n&&n.ownKeys||function(c){var f=v.f(x(c)),k=p.f;return k?f.concat(k(c)):f}};
shadow$provide[68]=function(n,y,c,r,f,z){var v=c(53),p=c(67),x=c(54),I=c(40);r.exports=function(c,k){for(var e=p(k),f=I.f,n=x.f,r=0;r<e.length;r++){var y=e[r];v(c,y)||f(c,y,n(k,y))}}};
shadow$provide[69]=function(n,y,c,r,f,z){var v=c(25),p=/#|\.prototype\./;n=function(e,c){e=I[x(e)];return e==k?!0:e==Y?!1:"function"==typeof c?v(c):!!c};var x=n.normalize=function(e){return String(e).replace(p,".").toLowerCase()},I=n.data={},Y=n.NATIVE="N",k=n.POLYFILL="P";r.exports=n};
shadow$provide[70]=function(n,y,c,r,f,z){n=c(34);var v=c(54).f,p=c(42),x=c(60),I=c(43),Y=c(68),k=c(69);r.exports=function(e,c){var f=e.target,r=e.global,y=e.stat,O,F,z;if(F=r?n:y?n[f]||I(f,{}):(n[f]||{}).prototype)for(z in c){var N=c[z];var K=e.noTargetGet?(O=v(F,z))&&O.value:F[z];O=k(r?z:f+(y?".":"#")+z,e.forced);if(!O&&void 0!==K){if(typeof N===typeof K)continue;Y(N,K)}(e.sham||K&&K.sham)&&p(N,"sham",!0);x(F,z,N,e)}}};
shadow$provide[71]=function(n,y,c,r,f,z){var v=c(63),p=c(64);r.exports=Object.keys||function(c){return v(c,p)}};
shadow$provide[72]=function(n,y,c,r,f,z){n=c(35);var v=c(40),p=c(38),x=c(71);r.exports=n?Object.defineProperties:function(c,f){p(c);for(var k=x(f),e=k.length,n=0,r;e>n;)v.f(c,r=k[n++],f[r]);return c}};
shadow$provide[73]=function(n,y,c,r,f,z){n=c(34).document;r.exports=n&&n.documentElement};
shadow$provide[74]=function(n,y,c,r,f,z){var v=c(38),p=c(72),x=c(64),I=c(73),Y=c(36),k=c(57)("IE_PROTO"),e=function(){},S=function(){var e=Y("iframe"),c=x.length;e.style.display="none";I.appendChild(e);e.src="javascript:";e=e.contentWindow.document;e.open();e.write("\x3cscript\x3edocument.F\x3dObject\x3c/script\x3e");e.close();for(S=e.F;c--;)delete S.prototype[x[c]];return S()};r.exports=Object.create||function(c,f){if(null!==c){e.prototype=v(c);var x=new e;e.prototype=null;x[k]=c}else x=S();return void 0===
f?x:p(x,f)};c(58)[k]=!0};
shadow$provide[75]=function(n,y,c,r,f,z){var v=c(48)("unscopables");n=c(74);c=c(42);var p=Array.prototype;void 0==p[v]&&c(p,v,n(null));r.exports=function(c){p[v][c]=!0}};
shadow$provide[76]=function(n,y,c,r,f,z){var v=c(50)(5),p=!0;"find"in[]&&Array(1).find(function(){p=!1});c(70)({target:"Array",proto:!0,forced:p},{find:function(c){return v(this,c,1<arguments.length?arguments[1]:void 0)}});c(75)("find")};
shadow$provide[77]=function(n,y,c,r,f,z){n=c(34);var v=c(24),p=Function.call;r.exports=function(c,f,r){return v(p,n[c].prototype[f],r)}};
shadow$provide[78]=function(n,y,c,r,f,z){c(76);r.exports=c(77)("Array","find")};
shadow$provide[79]=function(n,y,c,r,f,z){r.exports=c(78)};
shadow$provide[80]=function(n,y,c,r,f,z){var v=c(50)(6),p=!0;"findIndex"in[]&&Array(1).findIndex(function(){p=!1});c(70)({target:"Array",proto:!0,forced:p},{findIndex:function(c){return v(this,c,1<arguments.length?arguments[1]:void 0)}});c(75)("findIndex")};
shadow$provide[81]=function(n,y,c,r,f,z){c(80);r.exports=c(77)("Array","findIndex")};
shadow$provide[82]=function(n,y,c,r,f,z){r.exports=c(81)};
shadow$provide[83]=function(n,y,c,r,f,z){var v=c(71),p=c(66),x=c(51),I=c(29),Y=c(27),k=Object.assign;r.exports=!k||c(25)(function(){var e={},c={},f=Symbol();e[f]=7;"abcdefghijklmnopqrst".split("").forEach(function(e){c[e]=e});return 7!=k({},e)[f]||"abcdefghijklmnopqrst"!=v(k({},c)).join("")})?function(e,c){for(var k=I(e),f=arguments.length,n=1,r=p.f,F=x.f;f>n;)for(var y=Y(arguments[n++]),N=r?v(y).concat(r(y)):v(y),K=N.length,z=0,ba;K>z;)F.call(y,ba=N[z++])&&(k[ba]=y[ba]);return k}:k};
shadow$provide[84]=function(n,y,c,r,f,z){n=c(83);c(70)({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})};
shadow$provide[85]=function(n,y,c,r,f,z){r.exports=c(34)};
shadow$provide[86]=function(n,y,c,r,f,z){c(84);r.exports=c(85).Object.assign};
shadow$provide[87]=function(n,y,c,r,f,z){r.exports=c(86)};
shadow$provide[88]=function(n,y,c,r,f,z){var v=c(32),p=c(26),x=c(48)("match");r.exports=function(c){var f;return v(c)&&(void 0!==(f=c[x])?!!f:"RegExp"==p(c))}};
shadow$provide[89]=function(n,y,c,r,f,z){var v=c(88),p=c(28);r.exports=function(c,f,n){if(v(f))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(p(c))}};
shadow$provide[90]=function(n,y,c,r,f,z){var v=c(48)("match");r.exports=function(c){var f=/./;try{"/./"[c](f)}catch(I){try{return f[v]=!1,"/./"[c](f)}catch(Y){}}return!1}};
shadow$provide[91]=function(n,y,c,r,f,z){var v=c(31),p=c(89);n=c(90)("startsWith");var x="".startsWith;c(70)({target:"String",proto:!0,forced:!n},{startsWith:function(c){var f=p(this,c,"startsWith"),k=v(Math.min(1<arguments.length?arguments[1]:void 0,f.length)),e=String(c);return x?x.call(f,e,k):f.slice(k,k+e.length)===e}})};
shadow$provide[92]=function(n,y,c,r,f,z){c(91);r.exports=c(77)("String","startsWith")};
shadow$provide[93]=function(n,y,c,r,f,z){r.exports=c(92)};
shadow$provide[94]=function(n,y,c,r,f,z){var v=c(30),p=c(28);r.exports="".repeat||function(c){var f=String(p(this)),n="";c=v(c);if(0>c||Infinity==c)throw RangeError("Wrong number of repetitions");for(;0<c;(c>>>=1)&&(f+=f))c&1&&(n+=f);return n}};
shadow$provide[95]=function(n,y,c,r,f,z){c(70)({target:"String",proto:!0},{repeat:c(94)})};
shadow$provide[96]=function(n,y,c,r,f,z){c(95);r.exports=c(77)("String","repeat")};
shadow$provide[97]=function(n,y,c,r,f,z){r.exports=c(96)};
shadow$provide[98]=function(n,y,c,r,f,z){var v=c(39),p=c(40),x=c(41);r.exports=function(c,f,k){f=v(f);f in c?p.f(c,f,x(0,k)):c[f]=k}};
shadow$provide[99]=function(n,y,c,r,f,z){var v=c(25),p=c(48)("species");r.exports=function(c){return!v(function(){var f=[];(f.constructor={})[p]=function(){return{foo:1}};return 1!==f[c](Boolean).foo})}};
shadow$provide[100]=function(n,y,c,r,f,z){var v=c(33),p=c(32),x=c(29),I=c(31),Y=c(98),k=c(49),e=c(48)("isConcatSpreadable");n=!c(25)(function(){var c=[];c[e]=!1;return c.concat()[0]!==c});y=c(99)("concat");n=!n||!y;c(70)({target:"Array",proto:!0,forced:n},{concat:function(c){var f=x(this),n=k(f,0),r=0,y;var F=-1;for(y=arguments.length;F<y;F++){var z=-1===F?f:arguments[F];var N=z;if(p(N)){var K=N[e];N=void 0!==K?!!K:v(N)}else N=!1;if(N){K=I(z.length);if(9007199254740991<r+K)throw TypeError("Maximum allowed index exceeded");
for(N=0;N<K;N++,r++)N in z&&Y(n,r,z[N])}else{if(9007199254740991<=r)throw TypeError("Maximum allowed index exceeded");Y(n,r++,z)}}n.length=r;return n}})};
shadow$provide[101]=function(n,y,c,r,f,z){var v=c(26),p=c(48)("toStringTag"),x="Arguments"==v(function(){return arguments}());r.exports=function(c){var f;if(void 0===c)var k="Undefined";else{if(null===c)var e="Null";else{a:{var n=c=Object(c);try{e=n[p];break a}catch(Z){}e=void 0}e="string"==typeof(k=e)?k:x?v(c):"Object"==(f=v(c))&&"function"==typeof c.callee?"Arguments":f}k=e}return k}};
shadow$provide[102]=function(n,y,c,r,f,z){var v=c(101);n=c(48)("toStringTag");y={};y[n]="z";r.exports="[object z]"!==String(y)?function(){return"[object "+v(this)+"]"}:y.toString};
shadow$provide[103]=function(n,y,c,r,f,z){n=c(102);y=Object.prototype;n!==y.toString&&c(60)(y,"toString",n,{unsafe:!0})};
shadow$provide[104]=function(n,y,c,r,f,z){var v=c(40).f,p=c(53),x=c(48)("toStringTag");r.exports=function(c,f,k){c&&!p(c=k?c:c.prototype,x)&&v(c,x,{configurable:!0,value:f})}};
shadow$provide[105]=function(n,y,c,r,f,z){f.f=c(48)};
shadow$provide[106]=function(n,y,c,r,f,z){var v=c(85),p=c(53),x=c(105),I=c(40).f;r.exports=function(c){var k=v.Symbol||(v.Symbol={});p(k,c)||I(k,c,{value:x.f(c)})}};
shadow$provide[107]=function(n,y,c,r,f,z){var v=c(71),p=c(66),x=c(51);r.exports=function(c){var f=v(c),k=p.f;if(k){k=k(c);for(var e=x.f,n=0,r;k.length>n;)e.call(c,r=k[n++])&&f.push(r)}return f}};
shadow$provide[108]=function(n,y,c,r,f,z){var v=c(52),p=c(65).f,x={}.toString,I="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(c){if(I&&"[object Window]"==x.call(c))try{var f=p(c)}catch(e){f=I.slice()}else f=p(v(c));return f}};
shadow$provide[109]=function(n,y,c,r,f,z){n=c(34);var v=c(53),p=c(35),x=c(44);y=c(70);var I=c(60),Y=c(58);r=c(25);var k=c(45);f=c(104);var e=c(46),S=c(48),Z=c(105);z=c(106);var za=c(107),fa=c(33),O=c(38),F=c(32),W=c(52),N=c(39),K=c(41),ia=c(74),ba=c(108),ha=c(54),ka=c(40),xa=c(51),Qa=c(42),L=c(71),E=c(57)("hidden"),q=c(59),U=q.set,G=q.getterFor("Symbol"),X=ha.f,na=ka.f,Ra=ba.f,ca=n.Symbol,ta=n.JSON,ja=ta&&ta.stringify;q=S("toPrimitive");var qa=xa.f,Oa=k("symbol-registry"),La=k("symbols"),Na=k("op-symbols");
k=k("wks");var Ja=Object.prototype,V=n.QObject;n=c(47);var db=!V||!V.prototype||!V.prototype.findChild,Jb=p&&r(function(){return 7!=ia(na({},"a",{get:function(){return na(this,"a",{value:7}).a}})).a})?function(e,c,q){var f=X(Ja,c);f&&delete Ja[c];na(e,c,q);f&&e!==Ja&&na(Ja,c,f)}:na,Ab=function(e,c){var q=La[e]=ia(ca.prototype);U(q,{type:"Symbol",tag:e,description:c});p||(q.description=c);return q},Kb=n&&"symbol"==typeof ca.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof
ca},Bb=function(e,c,q){e===Ja&&Bb(Na,c,q);O(e);c=N(c,!0);O(q);return v(La,c)?(q.enumerable?(v(e,E)&&e[E][c]&&(e[E][c]=!1),q=ia(q,{enumerable:K(0,!1)})):(v(e,E)||na(e,E,K(1,{})),e[E][c]=!0),Jb(e,c,q)):na(e,c,q)},Ba=function(e,c){O(e);for(var q=za(c=W(c)),f=0,k=q.length,G;k>f;)Bb(e,G=q[f++],c[G]);return e},wa=function(e){var c=qa.call(this,e=N(e,!0));return this===Ja&&v(La,e)&&!v(Na,e)?!1:c||!v(this,e)||!v(La,e)||v(this,E)&&this[E][e]?c:!0};V=function(e,c){e=W(e);c=N(c,!0);if(e!==Ja||!v(La,c)||v(Na,
c)){var q=X(e,c);!q||!v(La,c)||v(e,E)&&e[E][c]||(q.enumerable=!0);return q}};var Ta=function(e){e=Ra(W(e));for(var c=[],q=0,f;e.length>q;)v(La,f=e[q++])||v(Y,f)||c.push(f);return c},la=function(e){var c=e===Ja;e=Ra(c?Na:W(e));for(var q=[],f=0,k;e.length>f;)v(La,k=e[f++])&&(c?v(Ja,k):1)&&q.push(La[k]);return q};n||(ca=function(c){if(this instanceof ca)throw TypeError("Symbol is not a constructor");c=void 0===c?void 0:String(c);var q=e(c),f=function(e){this===Ja&&f.call(Na,e);v(this,E)&&v(this[E],q)&&
(this[E][q]=!1);Jb(this,q,K(1,e))};p&&db&&Jb(Ja,q,{configurable:!0,set:f});return Ab(q,c)},I(ca.prototype,"toString",function(){return G(this).tag}),xa.f=wa,ka.f=Bb,ha.f=V,c(65).f=ba.f=Ta,c(66).f=la,p&&(na(ca.prototype,"description",{configurable:!0,get:function(){return G(this).description}}),x||I(Ja,"propertyIsEnumerable",wa,{unsafe:!0})),Z.f=function(e){return Ab(S(e),e)});y({global:!0,wrap:!0,forced:!n,sham:!n},{Symbol:ca});c=L(k);for(x=0;c.length>x;)z(c[x++]);y({target:"Symbol",stat:!0,forced:!n},
{"for":function(e){return v(Oa,e+="")?Oa[e]:Oa[e]=ca(e)},keyFor:function(e){if(!Kb(e))throw TypeError(e+" is not a symbol");for(var c in Oa)if(Oa[c]===e)return c},useSetter:function(){db=!0},useSimple:function(){db=!1}});y({target:"Object",stat:!0,forced:!n,sham:!p},{create:function(e,c){return void 0===c?ia(e):Ba(ia(e),c)},defineProperty:Bb,defineProperties:Ba,getOwnPropertyDescriptor:V});y({target:"Object",stat:!0,forced:!n},{getOwnPropertyNames:Ta,getOwnPropertySymbols:la});ta&&y({target:"JSON",
stat:!0,forced:!n||r(function(){var e=ca();return"[null]"!=ja([e])||"{}"!=ja({a:e})||"{}"!=ja(Object(e))})},{stringify:function(e){for(var c=[e],q=1,f;arguments.length>q;)c.push(arguments[q++]);f=q=c[1];if((F(q)||void 0!==e)&&!Kb(e))return fa(q)||(q=function(e,c){"function"==typeof f&&(c=f.call(this,e,c));if(!Kb(c))return c}),c[1]=q,ja.apply(ta,c)}});ca.prototype[q]||Qa(ca.prototype,q,ca.prototype.valueOf);f(ca,"Symbol");Y[E]=!0};
shadow$provide[110]=function(n,y,c,r,f,z){c(106)("asyncIterator")};
shadow$provide[111]=function(n,y,c,r,f,z){y=c(35);var v=c(53),p=c(32);n=c(40).f;r=c(68);var x=c(34).Symbol;if(y&&"function"==typeof x&&!("description"in x.prototype&&void 0===x().description)){var I={},Y=function(){var e=1>arguments.length||void 0===arguments[0]?void 0:String(arguments[0]),c=this instanceof Y?new x(e):void 0===e?x():x(e);""===e&&(I[c]=!0);return c};r(Y,x);y=Y.prototype=x.prototype;y.constructor=Y;var k=y.toString,e="Symbol(test)"==String(x("test")),S=/^Symbol\((.*)\)[^)]+$/;n(y,"description",
{configurable:!0,get:function(){var c=p(this)?this.valueOf():this,f=k.call(c);if(v(I,c))return"";c=e?f.slice(7,-1):f.replace(S,"$1");return""===c?void 0:c}});c(70)({global:!0,forced:!0},{Symbol:Y})}};
shadow$provide[112]=function(n,y,c,r,f,z){c(106)("hasInstance")};
shadow$provide[113]=function(n,y,c,r,f,z){c(106)("isConcatSpreadable")};
shadow$provide[114]=function(n,y,c,r,f,z){c(106)("iterator")};
shadow$provide[115]=function(n,y,c,r,f,z){c(106)("match")};
shadow$provide[116]=function(n,y,c,r,f,z){c(106)("replace")};
shadow$provide[117]=function(n,y,c,r,f,z){c(106)("search")};
shadow$provide[118]=function(n,y,c,r,f,z){c(106)("species")};
shadow$provide[119]=function(n,y,c,r,f,z){c(106)("split")};
shadow$provide[120]=function(n,y,c,r,f,z){c(106)("toPrimitive")};
shadow$provide[121]=function(n,y,c,r,f,z){c(106)("toStringTag")};
shadow$provide[122]=function(n,y,c,r,f,z){c(106)("unscopables")};
shadow$provide[123]=function(n,y,c,r,f,z){c(104)(Math,"Math",!0)};
shadow$provide[124]=function(n,y,c,r,f,z){c(104)(c(34).JSON,"JSON",!0)};
shadow$provide[125]=function(n,y,c,r,f,z){c(100);c(103);c(109);c(110);c(111);c(112);c(113);c(114);c(115);c(116);c(117);c(118);c(119);c(120);c(121);c(122);c(123);c(124);r.exports=c(85).Symbol};
shadow$provide[126]=function(n,y,c,r,f,z){c(106)("dispose")};
shadow$provide[127]=function(n,y,c,r,f,z){c(106)("observable")};
shadow$provide[128]=function(n,y,c,r,f,z){c(106)("patternMatch")};
shadow$provide[129]=function(n,y,c,r,f,z){r.exports=c(125);c(126);c(127);c(128)};
shadow$provide[130]=function(n,y,c,r,f,z){var v=c(30),p=c(28);r.exports=function(c,f,n){c=String(p(c));f=v(f);var k=c.length,e;if(0>f||f>=k)return n?"":void 0;var x=c.charCodeAt(f);return 55296>x||56319<x||f+1===k||56320>(e=c.charCodeAt(f+1))||57343<e?n?c.charAt(f):x:n?c.slice(f,f+2):(x-55296<<10)+(e-56320)+65536}};
shadow$provide[131]=function(n,y,c,r,f,z){r.exports=!c(25)(function(){function c(){}c.prototype.constructor=null;return Object.getPrototypeOf(new c)!==c.prototype})};
shadow$provide[132]=function(n,y,c,r,f,z){var v=c(53),p=c(29),x=c(57)("IE_PROTO");n=c(131);var I=Object.prototype;r.exports=n?Object.getPrototypeOf:function(c){c=p(c);return v(c,x)?c[x]:"function"==typeof c.constructor&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?I:null}};
shadow$provide[133]=function(n,y,c,r,f,z){z=c(132);n=c(42);y=c(53);f=c(44);c=c(48)("iterator");var v=!1,p=function(){return this},x;if([].keys){var I=[].keys();"next"in I?(z=z(z(I)),z!==Object.prototype&&(x=z)):v=!0}void 0==x&&(x={});f||y(x,c)||n(x,c,p);r.exports={IteratorPrototype:x,BUGGY_SAFARI_ITERATORS:v}};
shadow$provide[134]=function(n,y,c,r,f,z){r.exports={}};
shadow$provide[135]=function(n,y,c,r,f,z){var v=c(133).IteratorPrototype,p=c(74),x=c(41),I=c(104),Y=c(134),k=function(){return this};r.exports=function(e,c,f){c+=" Iterator";e.prototype=p(v,{next:x(1,f)});I(e,c,!1,!0);Y[c]=k;return e}};
shadow$provide[136]=function(n,y,c,r,f,z){var v=c(32),p=c(38);r.exports=function(c,f){p(c);if(!v(f)&&null!==f)throw TypeError("Can't set "+String(f)+" as a prototype");}};
shadow$provide[137]=function(n,y,c,r,f,z){var v=c(136);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,f={};try{var n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;n.call(f,[]);c=f instanceof Array}catch(Y){}return function(f,k){v(f,k);c?n.call(f,k):f.__proto__=k;return f}}():void 0)};
shadow$provide[138]=function(n,y,c,r,f,z){var v=c(70),p=c(135),x=c(132),I=c(137),Y=c(104),k=c(42),e=c(60),S=c(44),Z=c(48)("iterator"),za=c(134);n=c(133);var fa=n.IteratorPrototype,O=n.BUGGY_SAFARI_ITERATORS,F=function(){return this};r.exports=function(c,f,n,r,y,z,ka){p(n,f,r);r=function(e){if(e===y&&q)return q;if(!O&&e in L)return L[e];switch(e){case "keys":return function(){return new n(this,e)};case "values":return function(){return new n(this,e)};case "entries":return function(){return new n(this,
e)}}return function(){return new n(this)}};var N=f+" Iterator",K=!1,L=c.prototype,E=L[Z]||L["@@iterator"]||y&&L[y],q=!O&&E||r(y),U="Array"==f?L.entries||E:E,G;U&&(c=x(U.call(new c)),fa!==Object.prototype&&c.next&&(S||x(c)===fa||(I?I(c,fa):"function"!=typeof c[Z]&&k(c,Z,F)),Y(c,N,!0,!0),S&&(za[N]=F)));"values"==y&&E&&"values"!==E.name&&(K=!0,q=function(){return E.call(this)});S&&!ka||L[Z]===q||k(L,Z,q);za[f]=q;if(y){var X={values:r("values"),keys:z?q:r("keys"),entries:r("entries")};if(ka)for(G in X)!O&&
!K&&G in L||e(L,G,X[G]);else v({target:f,proto:!0,forced:O||K},X)}return X}};
shadow$provide[139]=function(n,y,c,r,f,z){var v=c(130);n=c(59);c=c(138);var p=n.set,x=n.getterFor("String Iterator");c(String,"String",function(c){p(this,{type:"String Iterator",string:String(c),index:0})},function(){var c=x(this),f=c.string,k=c.index;if(k>=f.length)return{value:void 0,done:!0};f=v(f,k,!0);c.index+=f.length;return{value:f,done:!1}})};
shadow$provide[140]=function(n,y,c,r,f,z){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,
TextTrackCueList:0,TextTrackList:0,TouchList:0}};
shadow$provide[141]=function(n,y,c,r,f,z){var v=c(52);n=c(75);y=c(134);f=c(59);c=c(138);var p=f.set,x=f.getterFor("Array Iterator");r.exports=c(Array,"Array",function(c,f){p(this,{type:"Array Iterator",target:v(c),index:0,kind:f})},function(){var c=x(this),f=c.target,k=c.kind,e=c.index++;return!f||e>=f.length?(c.target=void 0,{value:void 0,done:!0}):"keys"==k?{value:e,done:!1}:"values"==k?{value:f[e],done:!1}:{value:[e,f[e]],done:!1}},"values");y.Arguments=y.Array;n("keys");n("values");n("entries")};
shadow$provide[142]=function(n,y,c,r,f,z){y=c(140);r=c(141);n=c(34);f=c(42);z=c(48);c=z("iterator");z=z("toStringTag");var v=r.values,p;for(p in y){var x=n[p];if(x=x&&x.prototype){if(x[c]!==v)try{f(x,c,v)}catch(Y){x[c]=v}x[z]||f(x,z,p);if(y[p])for(var I in r)if(x[I]!==r[I])try{f(x,I,r[I])}catch(Y){x[I]=r[I]}}}};
shadow$provide[143]=function(n,y,c,r,f,z){c(114);c(139);c(142);r.exports=c(105).f("iterator")};
shadow$provide[144]=function(n,y,c,r,f,z){r.exports=c(143)};
shadow$provide[145]=function(n,y,c,r,f,z){c(21);c(22);c(79);c(82);c(87);c(93);c(97);c(129);c(144)};
shadow$provide[146]=function(n,y,c,r,f,z){var v,p,x,I,Y,k,e,S,Z,za,fa,O,F,W,N,K,ia,ba,ha;(function(e){function c(e,c){e!==f&&("function"===typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0);return function(q,f){return e[q]=c?c(q,f):f}}var f="object"===typeof n?n:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(k){e(c(f,c(k)))}):"object"===typeof r&&"object"===typeof r.exports?e(c(f,
c(r.exports))):e(c(f))})(function(c){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c}||function(e,c){for(var f in c)c.hasOwnProperty(f)&&(e[f]=c[f])};v=function(e,c){function k(){this.constructor=e}f(e,c);e.prototype=null===c?Object.create(c):(k.prototype=c.prototype,new k)};p=Object.assign||function(e){for(var c,f=1,q=arguments.length;f<q;f++){c=arguments[f];for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(e[k]=c[k])}return e};x=function(e,c){var f=
{},q;for(q in e)Object.prototype.hasOwnProperty.call(e,q)&&0>c.indexOf(q)&&(f[q]=e[q]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var k=0;for(q=Object.getOwnPropertySymbols(e);k<q.length;k++)0>c.indexOf(q[k])&&(f[q[k]]=e[q[k]])}return f};I=function(e,c,f,q){var k=arguments.length,G=3>k?c:null===q?q=Object.getOwnPropertyDescriptor(c,f):q,E;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)G=Reflect.decorate(e,c,f,q);else for(var L=e.length-1;0<=L;L--)if(E=e[L])G=
(3>k?E(G):3<k?E(c,f,G):E(c,f))||G;return 3<k&&G&&Object.defineProperty(c,f,G),G};Y=function(e,c){return function(f,q){c(f,q,e)}};k=function(e,c){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,c)};e=function(e,c,f,q){return new (f||(f=Promise))(function(k,G){function E(e){try{L(q.next(e))}catch(ta){G(ta)}}function U(e){try{L(q["throw"](e))}catch(ta){G(ta)}}function L(e){e.done?k(e.value):(new f(function(c){c(e.value)})).then(E,U)}L((q=q.apply(e,c||[])).next())})};
S=function(e,c){function f(e){return function(c){return q([e,c])}}function q(q){if(G)throw new TypeError("Generator is already executing.");for(;k;)try{if(G=1,L&&(n=q[0]&2?L["return"]:q[0]?L["throw"]||((n=L["return"])&&n.call(L),0):L.next)&&!(n=n.call(L,q[1])).done)return n;if(L=0,n)q=[q[0]&2,n.value];switch(q[0]){case 0:case 1:n=q;break;case 4:return k.label++,{value:q[1],done:!1};case 5:k.label++;L=q[1];q=[0];continue;case 7:q=k.ops.pop();k.trys.pop();continue;default:if(!(n=k.trys,n=0<n.length&&
n[n.length-1])&&(6===q[0]||2===q[0])){k=0;continue}if(3===q[0]&&(!n||q[1]>n[0]&&q[1]<n[3]))k.label=q[1];else if(6===q[0]&&k.label<n[1])k.label=n[1],n=q;else if(n&&k.label<n[2])k.label=n[2],k.ops.push(q);else{n[2]&&k.ops.pop();k.trys.pop();continue}}q=c.call(e,k)}catch(ta){q=[6,ta],L=0}finally{G=n=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}var k={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},G,L,n,p;return p={next:f(0),"throw":f(1),"return":f(2)},"function"===
typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p};Z=function(e,c){for(var f in e)c.hasOwnProperty(f)||(c[f]=e[f])};za=function(e){var c="function"===typeof Symbol&&e[Symbol.iterator],f=0;return c?c.call(e):{next:function(){e&&f>=e.length&&(e=void 0);return{value:e&&e[f++],done:!e}}}};fa=function(e,c){var f="function"===typeof Symbol&&e[Symbol.iterator];if(!f)return e;e=f.call(e);var q,k=[];try{for(;(void 0===c||0<c--)&&!(q=e.next()).done;)k.push(q.value)}catch(X){var G={error:X}}finally{try{q&&
!q.done&&(f=e["return"])&&f.call(e)}finally{if(G)throw G.error;}}return k};O=function(){for(var e=[],c=0;c<arguments.length;c++)e=e.concat(fa(arguments[c]));return e};F=function(e){return this instanceof F?(this.v=e,this):new F(e)};W=function(e,c,f){function q(e){L[e]&&(p[e]=function(c){return new Promise(function(q,f){1<v.push([e,c,q,f])||k(e,c)})})}function k(e,c){try{var q=L[e](c);q.value instanceof F?Promise.resolve(q.value.v).then(G,E):n(v[0][2],q)}catch(La){n(v[0][3],La)}}function G(e){k("next",
e)}function E(e){k("throw",e)}function n(e,c){(e(c),v.shift(),v.length)&&k(v[0][0],v[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L=f.apply(e,c||[]),p,v=[];return p={},q("next"),q("throw"),q("return"),p[Symbol.asyncIterator]=function(){return this},p};N=function(e){function c(c,k){f[c]=e[c]?function(f){return(q=!q)?{value:F(e[c](f)),done:"return"===c}:k?k(f):f}:k}var f,q;return f={},c("next"),c("throw",function(e){throw e;}),c("return"),f[Symbol.iterator]=
function(){return this},f};K=function(e){function c(c){k[c]=e[c]&&function(q){return new Promise(function(k,G){q=e[c](q);f(k,G,q.done,q.value)})}}function f(e,c,q,f){Promise.resolve(f).then(function(c){e({value:c,done:q})},c)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=e[Symbol.asyncIterator],k;return q?q.call(e):(e="function"===typeof za?za(e):e[Symbol.iterator](),k={},c("next"),c("throw"),c("return"),k[Symbol.asyncIterator]=function(){return this},
k)};ia=function(e,c){Object.defineProperty?Object.defineProperty(e,"raw",{value:c}):e.raw=c;return e};ba=function(e){if(e&&e.__esModule)return e;var c={};if(null!=e)for(var f in e)Object.hasOwnProperty.call(e,f)&&(c[f]=e[f]);c["default"]=e;return c};ha=function(e){return e&&e.__esModule?e:{"default":e}};c("__extends",v);c("__assign",p);c("__rest",x);c("__decorate",I);c("__param",Y);c("__metadata",k);c("__awaiter",e);c("__generator",S);c("__exportStar",Z);c("__values",za);c("__read",fa);c("__spread",
O);c("__await",F);c("__asyncGenerator",W);c("__asyncDelegator",N);c("__asyncValues",K);c("__makeTemplateObject",ia);c("__importStar",ba);c("__importDefault",ha)})};
shadow$provide[147]=function(n,y,c,r,f,z){function v(e,c){if(!(c instanceof Object))return c;switch(c.constructor){case Date:return new Date(c.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return c}for(var q in c)c.hasOwnProperty(q)&&(e[q]=v(e[q],c[q]));return e}function p(e,c){return e.replace(ia,function(e,f){e=c[f];return null!=e?e.toString():"\x3c"+f+"?\x3e"})}function x(e){return JSON.parse(e)}function I(e,c){if("object"!==typeof e||null===e)return!1;for(var q=
0;q<c.length;q++){var f=c[q];if(f in e&&"function"===typeof e[f])return!0}return!1}function Y(){}function k(e,c,q){switch(c){case 1:c=q?"first":"First";break;case 2:c=q?"second":"Second";break;case 3:c=q?"third":"Third";break;case 4:c=q?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber \x3e 4.  Need to update it?");}return e+" failed: "+(c+" argument ")}Object.defineProperty(f,"__esModule",{value:!0});var e=c(146),S={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},
Z=function(e,c){if(!e)throw za(c);},za=function(e){return Error("Firebase Database ("+S.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},fa=function(e){for(var c=[],q=0,f=0;f<e.length;f++){var k=e.charCodeAt(f);128>k?c[q++]=k:(2048>k?c[q++]=k>>6|192:(55296==(k&64512)&&f+1<e.length&&56320==(e.charCodeAt(f+1)&64512)?(k=65536+((k&1023)<<10)+(e.charCodeAt(++f)&1023),c[q++]=k>>18|240,c[q++]=k>>12&63|128):c[q++]=k>>12|224,c[q++]=k>>6&63|128),c[q++]=k&63|128)}return c},O={byteToCharMap_:null,charToByteMap_:null,
byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/\x3d"},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,c){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();c=c?this.byteToCharMapWebSafe_:this.byteToCharMap_;for(var q=[],f=0;f<e.length;f+=
3){var k=e[f],n=f+1<e.length,p=n?e[f+1]:0,E=f+2<e.length,v=E?e[f+2]:0,r=k>>2;k=(k&3)<<4|p>>4;p=(p&15)<<2|v>>6;v&=63;E||(v=64,n||(p=64));q.push(c[r],c[k],c[p],c[v])}return q.join("")},encodeString:function(e,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(e):this.encodeByteArray(fa(e),c)},decodeString:function(e,c){if(this.HAS_NATIVE_SUPPORT&&!c)return atob(e);e=this.decodeStringToByteArray(e,c);c=[];for(var f=0,k=0;f<e.length;){var G=e[f++];if(128>G)c[k++]=String.fromCharCode(G);else if(191<G&&224>G){var n=
e[f++];c[k++]=String.fromCharCode((G&31)<<6|n&63)}else if(239<G&&365>G){n=e[f++];var p=e[f++],v=e[f++];G=((G&7)<<18|(n&63)<<12|(p&63)<<6|v&63)-65536;c[k++]=String.fromCharCode(55296+(G>>10));c[k++]=String.fromCharCode(56320+(G&1023))}else n=e[f++],p=e[f++],c[k++]=String.fromCharCode((G&15)<<12|(n&63)<<6|p&63)}return c.join("")},decodeStringToByteArray:function(e,c){this.init_();c=c?this.charToByteMapWebSafe_:this.charToByteMap_;for(var f=[],k=0;k<e.length;){var G=c[e.charAt(k++)],n=k<e.length?c[e.charAt(k)]:
0;++k;var p=k<e.length?c[e.charAt(k)]:64;++k;var v=k<e.length?c[e.charAt(k)]:64;++k;if(null==G||null==n||null==p||null==v)throw Error();f.push(G<<2|n>>4);64!=p&&(f.push(n<<4&240|p>>2),64!=v&&f.push(p<<6&192|v))}return f},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=
e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},F=function(e){try{return O.decodeString(e,!0)}catch(E){console.error("base64Decode failed: ",E)}return null};n=function(){function e(){var e=this;this.promise=new Promise(function(c,f){e.resolve=c;e.reject=f})}e.prototype.wrapCallback=
function(e){var c=this;return function(f,q){f?c.reject(f):c.resolve(q);"function"===typeof e&&(c.promise.catch(function(){}),1===e.length?e(f):e(f,q))}};return e}();var W=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""},N=function(c){function f(e,k){k=c.call(this,k)||this;k.code=e;k.name="FirebaseError";Object.setPrototypeOf(k,f.prototype);Error.captureStackTrace&&Error.captureStackTrace(k,K.prototype.create);return k}e.__extends(f,c);
return f}(Error),K=function(){function e(e,c,f){this.service=e;this.serviceName=c;this.errors=f}e.prototype.create=function(e,c){void 0===c&&(c={});var f=this.service+"/"+e;e=(e=this.errors[e])?p(e,c):"Error";f=new N(f,this.serviceName+": "+e+" ("+f+").");e=0;for(var q=Object.keys(c);e<q.length;e++){var k=q[e];"_"!==k.slice(-1)&&(k in f&&console.warn('Overwriting FirebaseError base field "'+k+'" can cause unexpected behavior.'),f[k]=c[k])}return f};return e}(),ia=/\{\$([^}]+)}/g,ba=function(e){var c=
{},f={},k={},G="";try{var n=e.split(".");c=x(F(n[0])||"");f=x(F(n[1])||"");G=n[2];k=f.d||{};delete f.d}catch(na){}return{header:c,claims:f,data:k,signature:G}},ha=function(e,c){for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&c(f,e[f])},ka=function(e,c){ha(c,function(c,f){e[c]=f});return e},xa=function(e,c,f){for(var q in e)if(c.call(f,e[q],q,e))return q};y=function(){function e(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.total_=this.inbuf_=0;this.blockSize=64;this.pad_[0]=
128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.total_=this.inbuf_=0};e.prototype.compress_=function(e,c){c||(c=0);var f=this.W_;if("string"===typeof e)for(var k=0;16>k;k++)f[k]=e.charCodeAt(c)<<24|e.charCodeAt(c+1)<<16|e.charCodeAt(c+2)<<8|e.charCodeAt(c+3),c+=4;else for(k=0;16>k;k++)f[k]=e[c]<<24|e[c+1]<<16|e[c+2]<<8|
e[c+3],c+=4;for(k=16;80>k;k++){var q=f[k-3]^f[k-8]^f[k-14]^f[k-16];f[k]=(q<<1|q>>>31)&4294967295}e=this.chain_[0];c=this.chain_[1];var n=this.chain_[2],p=this.chain_[3],v=this.chain_[4];for(k=0;80>k;k++){if(40>k)if(20>k){q=p^c&(n^p);var r=1518500249}else q=c^n^p,r=1859775393;else 60>k?(q=c&n|p&(c|n),r=2400959708):(q=c^n^p,r=3395469782);q=(e<<5|e>>>27)+q+v+r+f[k]&4294967295;v=p;p=n;n=(c<<30|c>>>2)&4294967295;c=e;e=q}this.chain_[0]=this.chain_[0]+e&4294967295;this.chain_[1]=this.chain_[1]+c&4294967295;
this.chain_[2]=this.chain_[2]+n&4294967295;this.chain_[3]=this.chain_[3]+p&4294967295;this.chain_[4]=this.chain_[4]+v&4294967295};e.prototype.update=function(e,c){if(null!=e){void 0===c&&(c=e.length);for(var f=c-this.blockSize,k=0,q=this.buf_,n=this.inbuf_;k<c;){if(0==n)for(;k<=f;)this.compress_(e,k),k+=this.blockSize;if("string"===typeof e)for(;k<c;){if(q[n]=e.charCodeAt(k),++n,++k,n==this.blockSize){this.compress_(q);n=0;break}}else for(;k<c;)if(q[n]=e[k],++n,++k,n==this.blockSize){this.compress_(q);
n=0;break}}this.inbuf_=n;this.total_+=c}};e.prototype.digest=function(){var e=[],c=8*this.total_;56>this.inbuf_?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var f=this.blockSize-1;56<=f;f--)this.buf_[f]=c&255,c/=256;this.compress_(this.buf_);for(f=c=0;5>f;f++)for(var k=24;0<=k;k-=8)e[c]=this.chain_[f]>>k&255,++c;return e};return e}();var Qa=function(){function e(e,c){var f=this;this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=
Promise.resolve();this.finalized=!1;this.onNoObservers=c;this.task.then(function(){e(f)}).catch(function(e){f.error(e)})}e.prototype.next=function(e){this.forEachObserver(function(c){c.next(e)})};e.prototype.error=function(e){this.forEachObserver(function(c){c.error(e)});this.close(e)};e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()});this.close()};e.prototype.subscribe=function(e,c,f){var k=this;if(void 0===e&&void 0===c&&void 0===f)throw Error("Missing Observer.");
var q=I(e,["next","error","complete"])?e:{next:e,error:c,complete:f};void 0===q.next&&(q.next=Y);void 0===q.error&&(q.error=Y);void 0===q.complete&&(q.complete=Y);e=this.unsubscribeOne.bind(this,this.observers.length);this.finalized&&this.task.then(function(){try{k.finalError?q.error(k.finalError):q.complete()}catch(na){}});this.observers.push(q);return e};e.prototype.unsubscribeOne=function(e){if(void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,
0===this.observerCount&&void 0!==this.onNoObservers))this.onNoObservers(this)};e.prototype.forEachObserver=function(e){if(!this.finalized)for(var c=0;c<this.observers.length;c++)this.sendOne(c,e)};e.prototype.sendOne=function(e,c){var f=this;this.task.then(function(){if(void 0!==f.observers&&void 0!==f.observers[e])try{c(f.observers[e])}catch(G){"undefined"!==typeof console&&console.error&&console.error(G)}})};e.prototype.close=function(e){var c=this;this.finalized||(this.finalized=!0,void 0!==e&&
(this.finalError=e),this.task.then(function(){c.observers=void 0;c.onNoObservers=void 0}))};return e}();f.CONSTANTS=S;f.Deferred=n;f.ErrorFactory=K;f.FirebaseError=N;f.Sha1=y;f.assert=Z;f.assertionError=za;f.async=function(e,c){return function(){for(var f=[],k=0;k<arguments.length;k++)f[k]=arguments[k];Promise.resolve(!0).then(function(){e.apply(void 0,f)}).catch(function(e){c&&c(e)})}};f.base64=O;f.base64Decode=F;f.base64Encode=function(e){e=fa(e);return O.encodeByteArray(e,!0)};f.clone=function(e){return ka({},
e)};f.contains=function(e,c){return Object.prototype.hasOwnProperty.call(e,c)};f.createSubscribe=function(e,c){e=new Qa(e,c);return e.subscribe.bind(e)};f.decode=ba;f.deepCopy=function(e){return v(void 0,e)};f.deepExtend=v;f.errorPrefix=k;f.every=function(e,c){for(var f in e)if(Object.prototype.hasOwnProperty.call(e,f)&&!c(f,e[f]))return!1;return!0};f.extend=ka;f.findKey=xa;f.findValue=function(e,c,f){return(c=xa(e,c,f))&&e[c]};f.forEach=ha;f.getAnyKey=function(e){for(var c in e)return c};f.getCount=
function(e){var c=0,f;for(f in e)c++;return c};f.getUA=W;f.getValues=function(e){var c=[],f=0,k;for(k in e)c[f++]=e[k];return c};f.isAdmin=function(e){e=ba(e).claims;return"object"===typeof e&&!0===e.admin};f.isEmpty=function(e){for(var c in e)return!1;return!0};f.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())};f.isNodeSdk=function(){return!0===S.NODE_CLIENT||!0===S.NODE_ADMIN};
f.isNonNullObject=function(e){return"object"===typeof e&&null!==e};f.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product};f.isValidFormat=function(e){e=ba(e).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")};f.isValidTimestamp=function(e){e=ba(e).claims;var c=Math.floor((new Date).getTime()/1E3),f;if("object"===typeof e){e.hasOwnProperty("nbf")?f=e.nbf:e.hasOwnProperty("iat")&&(f=e.iat);var k=e.hasOwnProperty("exp")?e.exp:f+86400}return c&&f&&
k&&c>=f&&c<=k};f.issuedAtTime=function(e){e=ba(e).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null};f.jsonEval=x;f.map=function(e,c,f){var k={},q;for(q in e)k[q]=c.call(f,e[q],q,e);return k};f.patchProperty=function(e,c,f){e[c]=f};f.querystring=function(e){var c=[];ha(e,function(e,f){Array.isArray(f)?f.forEach(function(f){c.push(encodeURIComponent(e)+"\x3d"+encodeURIComponent(f))}):c.push(encodeURIComponent(e)+"\x3d"+encodeURIComponent(f))});return c.length?"\x26"+c.join("\x26"):
""};f.querystringDecode=function(e){var c={};e.replace(/^\?/,"").split("\x26").forEach(function(e){e&&(e=e.split("\x3d"),c[e[0]]=e[1])});return c};f.safeGet=function(e,c){if(Object.prototype.hasOwnProperty.call(e,c))return e[c]};f.stringLength=function(e){for(var c=0,f=0;f<e.length;f++){var k=e.charCodeAt(f);128>k?c++:2048>k?c+=2:55296<=k&&56319>=k?(c+=4,f++):c+=3}return c};f.stringToByteArray=function(e){for(var c=[],f=0,k=0;k<e.length;k++){var n=e.charCodeAt(k);if(55296<=n&&56319>=n){n-=55296;k++;
Z(k<e.length,"Surrogate pair missing trail surrogate.");var p=e.charCodeAt(k)-56320;n=65536+(n<<10)+p}128>n?c[f++]=n:(2048>n?c[f++]=n>>6|192:(65536>n?c[f++]=n>>12|224:(c[f++]=n>>18|240,c[f++]=n>>12&63|128),c[f++]=n>>6&63|128),c[f++]=n&63|128)}return c};f.stringify=function(e){return JSON.stringify(e)};f.validateArgCount=function(e,c,f,k){var q;k<c?q="at least "+c:k>f&&(q=0===f?"none":"no more than "+f);if(q)throw Error(e+" failed: Was called with "+k+(1===k?" argument.":" arguments.")+" Expects "+
q+".");};f.validateCallback=function(e,c,f,n){if((!n||f)&&"function"!==typeof f)throw Error(k(e,c,n)+"must be a valid function.");};f.validateContextObject=function(e,c,f,n){if(!n||f)if("object"!==typeof f||null===f)throw Error(k(e,c,n)+"must be a valid context object.");};f.validateNamespace=function(e,c,f,n){if((!n||f)&&"string"!==typeof f)throw Error(k(e,c,n)+"must be a valid firebase namespace.");}};
shadow$provide[148]=function(n,y,c,r,f,z){function v(c,f){throw e.create(c,f);}function p(e){function c(e){e=e||"[DEFAULT]";Object.prototype.hasOwnProperty.call(p,e)||v("no-app",{name:e});return p[e]}function f(){return Object.keys(p).map(function(e){return p[e]})}function k(e,c){for(var f=0,k=Object.keys(r);f<k.length;f++){var p=n(e,k[f]);if(null===p)break;if(x[p])x[p](c,e)}}function n(e,c){return"serverAuth"===c?null:c}var p={},r={},x={},y={__esModule:!0,initializeApp:function(c,f){void 0===f&&
(f={});if("object"!==typeof f||null===f)f={name:f};var n=f;void 0===n.name&&(n.name="[DEFAULT]");f=n.name;"string"===typeof f&&f||v("bad-app-name",{name:String(f)});Object.prototype.hasOwnProperty.call(p,f)&&v("duplicate-app",{name:f});c=new e(c,n,y);p[f]=c;k(c,"create");return c},app:c,apps:null,Promise:Promise,SDK_VERSION:"5.11.0",INTERNAL:{registerService:function(k,n,p,F,N){function z(e){void 0===e&&(e=c());"function"!==typeof e[k]&&v("invalid-app-argument",{name:k});return e[k]()}void 0===N&&
(N=!1);r[k]&&v("duplicate-service",{name:k});r[k]=n;F&&(x[k]=F,f().forEach(function(e){F("create",e)}));void 0!==p&&Y.deepExtend(z,p);y[k]=z;e.prototype[k]=function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];return this._getService.bind(this,k).apply(this,N?e:[])};return z},removeApp:function(e){k(p[e],"delete");delete p[e]},factories:r,useAsService:n}};Y.patchProperty(y,"default",y);Object.defineProperty(y,"apps",{get:f});Y.patchProperty(c,"App",e);return y}function x(){var e=p(Z);
e.INTERNAL=I.__assign({},e.INTERNAL,{createFirebaseNamespace:x,extendNamespace:function(c){Y.deepExtend(e,c)},createSubscribe:Y.createSubscribe,ErrorFactory:Y.ErrorFactory,deepExtend:Y.deepExtend});return e}Object.defineProperty(f,"__esModule",{value:!0});var I=c(146),Y=c(147),k;y=(k={},k["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",k["bad-app-name"]="Illegal App name: '{$name}",k["duplicate-app"]="Firebase App named '{$name}' already exists",k["app-deleted"]=
"Firebase App named '{$name}' already deleted",k["duplicate-service"]="Firebase service named '{$name}' already registered",k["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",k);var e=new Y.ErrorFactory("app","Firebase",y),S=[],Z=function(){function e(e,c,f){this.firebase_=f;this.isDeleted_=!1;this.services_={};this.name_=c.name;this.automaticDataCollectionEnabled_=c.automaticDataCollectionEnabled||!1;this.options_=Y.deepCopy(e);this.INTERNAL={getUid:function(){return null},
getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){S.push(e);setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){S=S.filter(function(c){return c!==e})}}}Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){this.checkDestroyed_();return this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_();this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,
"name",{get:function(){this.checkDestroyed_();return this.name_},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"options",{get:function(){this.checkDestroyed_();return this.options_},enumerable:!0,configurable:!0});e.prototype.delete=function(){var e=this;return(new Promise(function(c){e.checkDestroyed_();c()})).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var c=[],f=0,k=Object.keys(e.services_);f<k.length;f++)for(var n=k[f],p=0,v=Object.keys(e.services_[n]);p<v.length;p++)c.push(e.services_[n][v[p]]);
return Promise.all(c.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0;e.services_={}})};e.prototype._getService=function(e,c){void 0===c&&(c="[DEFAULT]");this.checkDestroyed_();this.services_[e]||(this.services_[e]={});if(!this.services_[e][c]){var f="[DEFAULT]"!==c?c:void 0;f=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),f);this.services_[e][c]=f}return this.services_[e][c]};e.prototype.extendApp=function(e){var c=this;Y.deepExtend(this,e);e.INTERNAL&&
e.INTERNAL.addAuthTokenListener&&(S.forEach(function(e){c.INTERNAL.addAuthTokenListener(e)}),S=[])};e.prototype.checkDestroyed_=function(){this.isDeleted_&&v("app-deleted",{name:this.name_})};return e}();Z.prototype.name&&Z.prototype.options||Z.prototype.delete||console.log("dc");k=!1;try{k="[object process]"===Object.prototype.toString.call(n.process)}catch(za){}k&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');
self&&"firebase"in self&&(console.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(n=self.firebase.SDK_VERSION)&&0<=n.indexOf("LITE")&&console.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));n=x();f.default=n;f.firebase=n};
shadow$provide[149]=function(n,y,c,r,f,z){(function(){function f(a){return"string"==typeof a}function n(a){return"boolean"==typeof a}function r(){}function y(a){var d=typeof a;if("object"==d)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return d;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==d&&"undefined"==typeof a.call)return"object";return d}function z(a){return null===a}function k(a){return"array"==y(a)}function e(a){var d=y(a);return"array"==d||"object"==d&&"number"==typeof a.length}function S(a){return"function"==y(a)}function Z(a){var d=typeof a;return"object"==d&&null!=a||"function"==d}function za(a,
d,b){return a.call.apply(a.bind,arguments)}function fa(a,d,b){if(!a)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,A);return a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function O(a,d,b){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?O=za:O=fa;return O.apply(null,arguments)}function F(a,d){var b=Array.prototype.slice.call(arguments,
1);return function(){var d=b.slice();d.push.apply(d,arguments);return a.apply(this,d)}}function W(a,d){function b(){}b.prototype=d.prototype;a.pb=d.prototype;a.prototype=new b;a.prototype.constructor=a;a.gd=function(a,b,A){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return d.prototype[b].apply(a,h)}}function N(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(nd){return!1}}function K(a){if(Error.captureStackTrace)Error.captureStackTrace(this,K);else{var d=
Error().stack;d&&(this.stack=d)}a&&(this.message=String(a))}function ia(a,d){a=a.split("%s");for(var b="",A=a.length-1,h=0;h<A;h++)b+=a[h]+(h<d.length?d[h]:"%s");K.call(this,b+a[A])}function ba(a,d){throw new ia("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));}function ha(a,d){this.c=a;this.f=d;this.b=0;this.a=null}function ka(a,d){a.f(d);100>a.b&&(a.b++,d.next=a.a,a.a=d)}function xa(){this.b=this.a=null}function Qa(){var a=wk,d=null;a.a&&(d=a.a,a.a=a.a.next,a.a||(a.b=null),d.next=
null);return d}function L(){this.next=this.b=this.a=null}function E(a,d){for(var b=f(a)?a.split(""):a,A=a.length-1;0<=A;--A)A in b&&d.call(void 0,b[A],A,a)}function q(a){a:{for(var d=gd,b=a.length,A=f(a)?a.split(""):a,h=0;h<b;h++)if(h in A&&d.call(void 0,A[h],h,a)){d=h;break a}d=-1}return 0>d?null:f(a)?a.charAt(d):a[d]}function U(a,d){return 0<=xk(a,d)}function G(a,d){d=xk(a,d);var b;(b=0<=d)&&Array.prototype.splice.call(a,d,1);return b}function X(a,d){var b=0;E(a,function(A,h){d.call(void 0,A,h,
a)&&1==Array.prototype.splice.call(a,h,1).length&&b++})}function na(a){return Array.prototype.concat.apply([],arguments)}function Ra(a){var d=a.length;if(0<d){for(var b=Array(d),A=0;A<d;A++)b[A]=a[A];return b}return[]}function ca(a,d){return-1!=a.indexOf(d)}function ta(a,d){return a<d?-1:a>d?1:0}function ja(a){return ca(Ui,a)}function qa(a,d){for(var b in a)d.call(void 0,a[b],b,a)}function Oa(a){for(var d in a)return!1;return!0}function La(a){var d={},b;for(b in a)d[b]=a[b];return d}function Na(a,
d){for(var b,A,h=1;h<arguments.length;h++){A=arguments[h];for(b in A)a[b]=A[b];for(var m=0;m<yk.length;m++)b=yk[m],Object.prototype.hasOwnProperty.call(A,b)&&(a[b]=A[b])}}function Ja(a,d){for(var b=a.split("%s"),A="",h=Array.prototype.slice.call(arguments,1);h.length&&1<b.length;)A+=b.shift()+h.shift();return A+b.join("%s")}function V(a){Bl.test(a)&&(-1!=a.indexOf("\x26")&&(a=a.replace(Cl,"\x26amp;")),-1!=a.indexOf("\x3c")&&(a=a.replace(Dl,"\x26lt;")),-1!=a.indexOf("\x3e")&&(a=a.replace(El,"\x26gt;")),
-1!=a.indexOf('"')&&(a=a.replace(Fl,"\x26quot;")),-1!=a.indexOf("'")&&(a=a.replace(Gl,"\x26#39;")),-1!=a.indexOf("\x00")&&(a=a.replace(Hl,"\x26#0;")));return a}function db(a){T.setTimeout(function(){throw a;},0)}function Jb(){var a=T.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!ja("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var d=a.contentWindow;
a=d.document;a.open();a.write("");a.close();var b="callImmediate"+Math.random(),A="file:"==d.location.protocol?"*":d.location.protocol+"//"+d.location.host;a=O(function(a){if(("*"==A||a.origin==A)&&a.data==b)this.port1.onmessage()},this);d.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){d.postMessage(b,A)}}});if("undefined"!==typeof a&&!ja("Trident")&&!ja("MSIE")){var d=new a,b={},h=b;d.port1.onmessage=function(){if(void 0!==b.next){b=b.next;var a=b.xb;b.xb=null;
a()}};return function(a){h.next={xb:a};h=h.next;d.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var d=document.createElement("SCRIPT");d.onreadystatechange=function(){d.onreadystatechange=null;d.parentNode.removeChild(d);d=null;a();a=null};document.documentElement.appendChild(d)}:function(a){T.setTimeout(a,0)}}function Ab(a,d){oj||Kb();Kj||(oj(),Kj=!0);wk.add(a,d)}function Kb(){if(T.Promise&&T.Promise.resolve){var a=
T.Promise.resolve(void 0);oj=function(){a.then(Bb)}}else oj=function(){var a=Bb;!S(T.setImmediate)||T.Window&&T.Window.prototype&&!ja("Edge")&&T.Window.prototype.setImmediate==T.setImmediate?(Lj||(Lj=Jb()),Lj(a)):T.setImmediate(a)}}function Bb(){for(var a;a=Qa();){try{a.a.call(a.b)}catch(nd){db(nd)}ka(zk,a)}Kj=!1}function Ba(a,d){this.a=Ph;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(a!=r)try{var b=this;a.call(d,function(a){fb(b,Wi,a)},function(a){if(!(a instanceof Mb))try{if(a instanceof
Error)throw a;throw Error("Promise rejected.");}catch(qi){}fb(b,Pg,a)})}catch(qg){fb(this,Pg,qg)}}function wa(){this.next=this.f=this.b=this.g=this.a=null;this.c=!1}function Ta(a,d,b){var A=Ak.get();A.g=a;A.b=d;A.f=b;return A}function la(a){if(a instanceof Ba)return a;var d=new Ba(r);fb(d,Wi,a);return d}function ra(a){return new Ba(function(d,b){b(a)})}function kb(a,d,b){rb(a,d,b,null)||Ab(F(d,a))}function Lb(a){return new Ba(function(d,b){var A=a.length,h=[];if(A)for(var m=function(a,b){A--;h[a]=
b;0==A&&d(h)},g=function(a){b(a)},e=0,nd;e<a.length;e++)nd=a[e],kb(nd,F(m,e),g);else d(h)})}function sc(a){return new Ba(function(d){var b=a.length,A=[];if(b)for(var h=function(a,h,m){b--;A[a]=h?{Eb:!0,value:m}:{Eb:!1,reason:m};0==b&&d(A)},m=0,g;m<a.length;m++)g=a[m],kb(g,F(h,m,!0),F(h,m,!1));else d(A)})}function Dd(a,d){if(a.a==Ph)if(a.c){var b=a.c;if(b.b){for(var A=0,h=null,m=null,g=b.b;g&&(g.c||(A++,g.a==a&&(h=g),!(h&&1<A)));g=g.next)h||(m=g);h&&(b.a==Ph&&1==A?Dd(b,d):(m?(A=m,A.next==b.f&&(b.f=
A),A.next=A.next.next):tc(b),Wa(b,h,Pg,d)))}a.c=null}else fb(a,Pg,d)}function jc(a,d){a.b||a.a!=Wi&&a.a!=Pg||a.h||(a.h=!0,Ab(a.Yb,a));a.f?a.f.next=d:a.b=d;a.f=d}function Nc(a,d,b,h){var A=Ta(null,null,null);A.a=new Ba(function(a,m){A.g=d?function(b){try{var A=d.call(h,b);a(A)}catch(pj){m(pj)}}:a;A.b=b?function(d){try{var A=b.call(h,d);void 0===A&&d instanceof Mb?m(d):a(A)}catch(pj){m(pj)}}:m});A.a.c=a;jc(a,A);return A.a}function fb(a,d,b){a.a==Ph&&(a===b&&(d=Pg,b=new TypeError("Promise cannot resolve to itself")),
a.a=1,rb(b,a.Pc,a.Qc,a)||(a.i=b,a.a=d,a.c=null,a.h||(a.h=!0,Ab(a.Yb,a)),d!=Pg||b instanceof Mb||Ua(a,b)))}function rb(a,d,b,h){if(a instanceof Ba)return jc(a,Ta(d||r,b||null,h)),!0;if(N(a))return a.then(d,b,h),!0;if(Z(a))try{var A=a.then;if(S(A))return ac(a,A,d,b,h),!0}catch(nj){return b.call(h,nj),!0}return!1}function ac(a,d,b,h,m){function A(a){e||(e=!0,h.call(m,a))}function g(a){e||(e=!0,b.call(m,a))}var e=!1;try{d.call(a,g,A)}catch(Vi){A(Vi)}}function tc(a){var d=null;a.b&&(d=a.b,a.b=d.next,d.next=
null);a.b||(a.f=null);return d}function Wa(a,d,b,h){if(b==Pg&&d.b&&!d.c)for(;a&&a.g;a=a.c)a.g=!1;if(d.a)d.a.c=null,ma(d,b,h);else try{d.c?d.g.call(d.f):ma(d,b,h)}catch(qi){Bk.call(null,qi)}ka(Ak,d)}function ma(a,d,b){d==Wi?a.g.call(a.f,b):a.b&&a.b.call(a.f,b)}function Ua(a,d){a.g=!0;Ab(function(){a.g&&Bk.call(null,d)})}function Mb(a){K.call(this,a)}function kc(){0!=Mj&&(Ck[this[qj]||(this[qj]=++Dk)]=this);this.qa=this.qa;this.ja=this.ja}function Wb(a){if(!a.qa&&(a.qa=!0,a.va(),0!=Mj)){var d=a[qj]||
(a[qj]=++Dk);if(0!=Mj&&a.ja&&0<a.ja.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ck[d]}}function Ca(a){Ca[" "](a);return a}function Ia(a,d){var b=Il;return Object.prototype.hasOwnProperty.call(b,a)?b[a]:b[a]=d(a)}function Oc(){var a=T.document;return a?a.documentMode:void 0}function Pc(a){return Ia(a,function(){for(var d=0,b=Ek(String(Nj)).split("."),A=Ek(String(a)).split("."),
h=Math.max(b.length,A.length),m=0;0==d&&m<h;m++){var g=b[m]||"",e=A[m]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""];if(0==g[0].length&&0==e[0].length)break;d=ta(0==g[1].length?0:parseInt(g[1],10),0==e[1].length?0:parseInt(e[1],10))||ta(0==g[2].length,0==e[2].length)||ta(g[2],e[2]);g=g[3];e=e[3]}while(0==d)}return 0<=d})}function gb(a,d){this.type=a;this.b=this.target=d;this.Kb=!0}function Fa(a,d){gb.call(this,a?a.type:"");this.relatedTarget=this.b=this.target=
null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.a=null;if(a){var b=this.type=a.type,A=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.b=d;if(d=a.relatedTarget){if(Fk){a:{try{Ca(d.nodeName);b=!0;break a}catch(qi){}b=!1}b||(d=null)}}else"mouseover"==b?d=a.fromElement:"mouseout"==b&&(d=a.toElement);this.relatedTarget=
d;A?(this.clientX=void 0!==A.clientX?A.clientX:A.pageX,this.clientY=void 0!==A.clientY?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=f(a.pointerType)?
a.pointerType:Jl[a.pointerType]||"";this.a=a;a.defaultPrevented&&this.preventDefault()}}function lb(a,d,b,h,m){this.listener=a;this.proxy=null;this.src=d;this.type=b;this.capture=!!h;this.Ma=m;this.key=++Kl;this.oa=this.Ia=!1}function Db(a){a.oa=!0;a.listener=null;a.proxy=null;a.src=null;a.Ma=null}function Xb(a){this.src=a;this.a={};this.b=0}function bc(a,d){var b=d.type;b in a.a&&G(a.a[b],d)&&(Db(d),0==a.a[b].length&&(delete a.a[b],a.b--))}function Nb(a,d,b,h){for(var A=0;A<a.length;++A){var m=a[A];
if(!m.oa&&m.listener==d&&m.capture==!!b&&m.Ma==h)return A}return-1}function Eb(a,d,b,h,m){if(h&&h.once)Ob(a,d,b,h,m);else if(k(d))for(var A=0;A<d.length;A++)Eb(a,d[A],b,h,m);else b=Sa(b),a&&a[Xi]?H(a,d,b,Z(h)?!!h.capture:!!h,m):lc(a,d,b,!1,h,m)}function lc(a,d,b,h,m,g){if(!d)throw Error("Invalid event type");var A=Z(m)?!!m.capture:!!m,e=Qc(a);e||(a[Oj]=e=new Xb(a));b=e.add(d,b,h,A,g);if(!b.proxy){h=Fc();b.proxy=h;h.src=a;h.listener=b;if(a.addEventListener)Ll||(m=A),void 0===m&&(m=!1),a.addEventListener(d.toString(),
h,m);else if(a.attachEvent)a.attachEvent(sa(d.toString()),h);else if(a.addListener&&a.removeListener)a.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");Gk++}}function Fc(){var a=Gc,d=Hk?function(b){return a.call(d.src,d.listener,b)}:function(b){b=a.call(d.src,d.listener,b);if(!b)return b};return d}function Ob(a,d,b,h,m){if(k(d))for(var A=0;A<d.length;A++)Ob(a,d[A],b,h,m);else b=Sa(b),a&&a[Xi]?Wd(a,d,b,Z(h)?!!h.capture:!!h,m):lc(a,d,b,!0,h,m)}function mb(a,d,b,h,
m){if(k(d))for(var A=0;A<d.length;A++)mb(a,d[A],b,h,m);else(h=Z(h)?!!h.capture:!!h,b=Sa(b),a&&a[Xi])?(a=a.o,d=String(d).toString(),d in a.a&&(A=a.a[d],b=Nb(A,b,h,m),-1<b&&(Db(A[b]),Array.prototype.splice.call(A,b,1),0==A.length&&(delete a.a[d],a.b--)))):a&&(a=Qc(a))&&(d=a.a[d.toString()],a=-1,d&&(a=Nb(d,b,h,m)),(b=-1<a?d[a]:null)&&uc(b))}function uc(a){if("number"!=typeof a&&a&&!a.oa){var d=a.src;if(d&&d[Xi])bc(d.o,a);else{var b=a.type,A=a.proxy;d.removeEventListener?d.removeEventListener(b,A,a.capture):
d.detachEvent?d.detachEvent(sa(b),A):d.addListener&&d.removeListener&&d.removeListener(A);Gk--;(b=Qc(d))?(bc(b,a),0==b.b&&(b.src=null,d[Oj]=null)):Db(a)}}}function sa(a){return a in Pj?Pj[a]:Pj[a]="on"+a}function hd(a,d,b,h){var A=!0;if(a=Qc(a))if(d=a.a[d.toString()])for(d=d.concat(),a=0;a<d.length;a++){var m=d[a];m&&m.capture==b&&!m.oa&&(m=od(m,h),A=A&&!1!==m)}return A}function od(a,d){var b=a.listener,A=a.Ma||a.src;a.Ia&&uc(a);return b.call(A,d)}function Gc(a,d){if(a.oa)return!0;if(!Hk){if(!d)a:{d=
["window","event"];for(var b=T,A=0;A<d.length;A++)if(b=b[d[A]],null==b){d=null;break a}d=b}A=d;d=new Fa(A,this);b=!0;if(!(0>A.keyCode||void 0!=A.returnValue)){a:{var h=!1;if(0==A.keyCode)try{A.keyCode=-1;break a}catch(Og){h=!0}if(h||void 0==A.returnValue)A.returnValue=!0}A=[];for(h=d.b;h;h=h.parentNode)A.push(h);a=a.type;for(h=A.length-1;0<=h;h--){d.b=A[h];var m=hd(A[h],a,!0,d);b=b&&m}for(h=0;h<A.length;h++)d.b=A[h],m=hd(A[h],a,!1,d),b=b&&m}return b}return od(a,new Fa(d,this))}function Qc(a){a=a[Oj];
return a instanceof Xb?a:null}function Sa(a){if(S(a))return a;a[Qj]||(a[Qj]=function(d){return a.handleEvent(d)});return a[Qj]}function u(){kc.call(this);this.o=new Xb(this);this.Rb=this;this.Wa=null}function H(a,d,b,h,m){a.o.add(String(d),b,!1,h,m)}function Wd(a,d,b,h,m){a.o.add(String(d),b,!0,h,m)}function mc(a,d,b,h){d=a.o.a[String(d)];if(!d)return!0;d=d.concat();for(var A=!0,m=0;m<d.length;++m){var g=d[m];if(g&&!g.oa&&g.capture==b){var e=g.listener,c=g.Ma||g.src;g.Ia&&bc(a.o,g);A=!1!==e.call(c,
h)&&A}}return A&&0!=h.Kb}function Pb(a,d,b){if(S(a))b&&(a=O(a,b));else if(a&&"function"==typeof a.handleEvent)a=O(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:T.setTimeout(a,d||0)}function Ya(a){var d=null;return(new Ba(function(b,h){d=Pb(function(){b(void 0)},a);-1==d&&h(Error("Failed to schedule timer."))})).s(function(a){T.clearTimeout(d);throw a;})}function cc(a){if(a.S&&"function"==typeof a.S)return a.S();if(f(a))return a.split("");if(e(a)){for(var d=
[],b=a.length,h=0;h<b;h++)d.push(a[h]);return d}d=[];b=0;for(h in a)d[b++]=a[h];return d}function D(a){if(a.U&&"function"==typeof a.U)return a.U();if(!a.S||"function"!=typeof a.S){if(e(a)||f(a)){var d=[];a=a.length;for(var b=0;b<a;b++)d.push(b);return d}d=[];b=0;for(var h in a)d[b++]=h;return d}}function P(a,d){if(a.forEach&&"function"==typeof a.forEach)a.forEach(d,void 0);else if(e(a)||f(a))fd(a,d,void 0);else for(var b=D(a),h=cc(a),A=h.length,m=0;m<A;m++)d.call(void 0,h[m],b&&b[m],a)}function dc(a,
d){this.b={};this.a=[];this.c=0;var b=arguments.length;if(1<b){if(b%2)throw Error("Uneven number of arguments");for(var h=0;h<b;h+=2)this.set(arguments[h],arguments[h+1])}else if(a)if(a instanceof dc)for(b=a.U(),h=0;h<b.length;h++)this.set(b[h],a.get(b[h]));else for(h in a)this.set(h,a[h])}function Rc(a){if(a.c!=a.a.length){for(var d=0,b=0;d<a.a.length;){var h=a.a[d];ec(a.b,h)&&(a.a[b++]=h);d++}a.a.length=b}if(a.c!=a.a.length){var A={};for(b=d=0;d<a.a.length;)h=a.a[d],ec(A,h)||(a.a[b++]=h,A[h]=1),
d++;a.a.length=b}}function ec(a,d){return Object.prototype.hasOwnProperty.call(a,d)}function Qb(a,d){if(a){a=a.split("\x26");for(var b=0;b<a.length;b++){var h=a[b].indexOf("\x3d"),A=null;if(0<=h){var m=a[b].substring(0,h);A=a[b].substring(h+1)}else m=a[b];d(m,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Da(a,d){this.b=this.o=this.c="";this.i=null;this.h=this.g="";this.f=!1;if(a instanceof Da){this.f=void 0!==d?d:a.f;Xd(this,a.c);this.o=a.o;this.b=a.b;vc(this,a.i);this.g=a.g;d=a.a;var b=
new Sc;b.c=d.c;d.a&&(b.a=new dc(d.a),b.b=d.b);$b(this,b);this.h=a.h}else a&&(b=String(a).match(Ik))?(this.f=!!d,Xd(this,b[1]||"",!0),this.o=wc(b[2]||""),this.b=wc(b[3]||"",!0),vc(this,b[4]),this.g=wc(b[5]||"",!0),$b(this,b[6]||"",!0),this.h=wc(b[7]||"")):(this.f=!!d,this.a=new Sc(null,this.f))}function Xd(a,d,b){a.c=b?wc(d,!0):d;a.c&&(a.c=a.c.replace(/:$/,""))}function vc(a,d){if(d){d=Number(d);if(isNaN(d)||0>d)throw Error("Bad port number "+d);a.i=d}else a.i=null}function $b(a,d,b){d instanceof Sc?
(a.a=d,xe(a.a,a.f)):(b||(d=da(d,Ml)),a.a=new Sc(d,a.f))}function Ma(a,d,b){a.a.set(d,b)}function fc(a,d){return a.a.get(d)}function Va(a){return a instanceof Da?new Da(a):new Da(a,void 0)}function pa(a,d){var b=new Da(null,void 0);Xd(b,"https");a&&(b.b=a);d&&(b.g=d);return b}function wc(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function da(a,d,b){return f(a)?(a=encodeURI(a).replace(d,xb),b&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function xb(a){a=a.charCodeAt(0);
return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}function Sc(a,d){this.b=this.a=null;this.c=a||null;this.f=!!d}function cb(a){a.a||(a.a=new dc,a.b=0,a.c&&Qb(a.c,function(d,b){a.add(decodeURIComponent(d.replace(/\+/g," ")),b)}))}function pd(a){var d=D(a);if("undefined"==typeof d)throw Error("Keys are undefined");var b=new Sc(null,void 0);a=cc(a);for(var h=0;h<d.length;h++){var A=d[h],m=a[h];k(m)?Rb(b,A,m):b.add(A,m)}return b}function ib(a,d){cb(a);d=nc(a,d);ec(a.a.b,d)&&(a.c=null,a.b-=a.a.get(d).length,
a=a.a,ec(a.b,d)&&(delete a.b[d],a.c--,a.a.length>2*a.c&&Rc(a)))}function we(a,d){cb(a);d=nc(a,d);return ec(a.a.b,d)}function Rb(a,d,b){ib(a,d);0<b.length&&(a.c=null,a.a.set(nc(a,d),Ra(b)),a.b+=b.length)}function nc(a,d){d=String(d);a.f&&(d=d.toLowerCase());return d}function xe(a,d){d&&!a.f&&(cb(a),a.c=null,a.a.forEach(function(a,d){var b=d.toLowerCase();d!=b&&(ib(this,d),Rb(this,b,a))},a));a.f=d}function ub(a,d){this.a=a===rj&&d||"";this.b=Jk}function Yd(a){if(a instanceof ub&&a.constructor===ub&&
a.b===Jk)return a.a;ba("expected object of type Const, got '"+a+"'");return"type_error:Const"}function sb(){this.a="";this.b=Kk}function Fb(a){if(a instanceof sb&&a.constructor===sb&&a.b===Kk)return a.a;ba("expected object of type TrustedResourceUrl, got '"+a+"' of type "+y(a));return"type_error:TrustedResourceUrl"}function xc(a,d){var b=Yd(a);if(!Nl.test(b))throw Error("Invalid TrustedResourceUrl format: "+b);a=b.replace(Ol,function(a,h){if(!Object.prototype.hasOwnProperty.call(d,h))throw Error('Found marker, "'+
h+'", in format string, "'+b+'", but no valid label mapping found in args: '+JSON.stringify(d));a=d[h];return a instanceof ub?Yd(a):encodeURIComponent(String(a))});return yb(a)}function yb(a){var d=new sb;d.a=a;return d}function gc(){this.a="";this.b=Lk}function Tc(a){if(a instanceof gc&&a.constructor===gc&&a.b===Lk)return a.a;ba("expected object of type SafeUrl, got '"+a+"' of type "+y(a));return"type_error:SafeUrl"}function Ed(a){if(a instanceof gc)return a;a="object"==typeof a&&a.na?a.ma():String(a);
Mk.test(a)||(a="about:invalid#zClosurez");return Fd(a)}function Fd(a){var d=new gc;d.a=a;return d}function Gb(){this.a="";this.b=Nk}function Pe(a){if(a instanceof Gb&&a.constructor===Gb&&a.b===Nk)return a.a;ba("expected object of type SafeHtml, got '"+a+"' of type "+y(a));return"type_error:SafeHtml"}function yc(a){var d=new Gb;d.a=a;return d}function Uc(a,d){a.src=Fb(d);null===Rj&&(d=T.document,Rj=(d=d.querySelector&&d.querySelector("script[nonce]"))&&(d=d.nonce||d.getAttribute("nonce"))&&Pl.test(d)?
d:"");(d=Rj)&&a.setAttribute("nonce",d)}function ne(a){var d=document;return f(a)?d.getElementById(a):a}function Vc(a,d){qa(d,function(d,b){d&&"object"==typeof d&&d.na&&(d=d.ma());"style"==b?a.style.cssText=d:"class"==b?a.className=d:"for"==b?a.htmlFor=d:Ok.hasOwnProperty(b)?a.setAttribute(Ok[b],d):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?a.setAttribute(b,d):a[b]=d})}function Ef(a,d,b){var h=arguments,A=document,m=String(h[0]),g=h[1];if(!Ql&&g&&(g.name||g.type)){m=["\x3c",m];g.name&&
m.push(' name\x3d"',V(g.name),'"');if(g.type){m.push(' type\x3d"',V(g.type),'"');var e={};Na(e,g);delete e.type;g=e}m.push("\x3e");m=m.join("")}m=A.createElement(m);g&&(f(g)?m.className=g:k(g)?m.className=g.join(" "):Vc(m,g));2<h.length&&ye(A,m,h);return m}function ye(a,d,b){function h(b){b&&d.appendChild(f(b)?a.createTextNode(b):b)}for(var A=2;A<b.length;A++){var m=b[A];!e(m)||Z(m)&&0<m.nodeType?h(m):fd(Za(m)?Ra(m):m,h)}}function Za(a){if(a&&"number"==typeof a.length){if(Z(a))return"function"==typeof a.item||
"string"==typeof a.item;if(S(a))return"function"==typeof a.item}return!1}function Wc(a){var d=[];Xc(new Pa,a,d);return d.join("")}function Pa(){}function Xc(a,d,b){if(null==d)b.push("null");else{if("object"==typeof d){if(k(d)){var h=d;d=h.length;b.push("[");for(var A="",m=0;m<d;m++)b.push(A),Xc(a,h[m],b),A=",";b.push("]");return}if(d instanceof String||d instanceof Number||d instanceof Boolean)d=d.valueOf();else{b.push("{");A="";for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&(m=d[h],"function"!=
typeof m&&(b.push(A),Zd(h,b),b.push(":"),Xc(a,m,b),A=","));b.push("}");return}}switch(typeof d){case "string":Zd(d,b);break;case "number":b.push(isFinite(d)&&!isNaN(d)?String(d):"null");break;case "boolean":b.push(String(d));break;case "function":b.push("null");break;default:throw Error("Unknown type: "+typeof d);}}}function Zd(a,d){d.push('"',a.replace(Rl,function(a){var d=Pk[a];d||(d="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Pk[a]=d);return d}),'"')}function Gd(){var a=b();return Sf&&
!!vh&&11==vh||/Edge\/\d+/.test(a)}function $a(){return T.window&&T.window.location.href||self&&self.location&&self.location.href||""}function Re(a,d){d=d||T.window;var b="about:blank";a&&(b=Tc(Ed(a)).toString());d.location.href=b}function ab(a,d){var b=[],h;for(h in a)h in d?typeof a[h]!=typeof d[h]?b.push(h):"object"==typeof a[h]&&null!=a[h]&&null!=d[h]?0<ab(a[h],d[h]).length&&b.push(h):a[h]!==d[h]&&b.push(h):b.push(h);for(h in d)h in a||b.push(h);return b}function Hd(){var a=b();return(a=Jc(a)!=
Qk?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a?!1:!Sf||!vh||9<vh}function Qe(a){a=(a||b()).toLowerCase();return a.match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/)?!0:!1}function Ka(a){a=a||T.window;try{a.close()}catch(nd){}}function vb(a,d,h){var A=Math.floor(1E9*Math.random()).toString();d=d||500;h=h||600;var m=(window.screen.availHeight-h)/2,g=(window.screen.availWidth-d)/2;d=
{width:d,height:h,top:0<m?m:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1};h=b().toLowerCase();A&&(d.target=A,ca(h,"crios/")&&(d.target="_blank"));Jc(b())==Sj&&(a=a||"http://localhost",d.scrollbars=!0);h=a||"";(a=d)||(a={});A=window;d=h instanceof gc?h:Ed("undefined"!=typeof h.href?h.href:String(h));h=a.target||h.target;m=[];for(e in a)switch(e){case "width":case "height":case "top":case "left":m.push(e+"\x3d"+a[e]);break;case "target":case "noopener":case "noreferrer":break;default:m.push(e+
"\x3d"+(a[e]?1:0))}var e=m.join(",");(ja("iPhone")&&!ja("iPod")&&!ja("iPad")||ja("iPad")||ja("iPod"))&&A.navigator&&A.navigator.standalone&&h&&"_self"!=h?(e=A.document.createElement("A"),d instanceof gc||d instanceof gc||(d="object"==typeof d&&d.na?d.ma():String(d),Mk.test(d)||(d="about:invalid#zClosurez"),d=Fd(d)),e.href=Tc(d),e.setAttribute("target",h),a.noreferrer&&e.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,A,1),e.dispatchEvent(a),e={}):
a.noreferrer?(e=A.open("",h,e),a=Tc(d).toString(),e&&(Sl&&ca(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),e.opener=null,a=yc('\x3cmeta name\x3d"referrer" content\x3d"no-referrer"\x3e\x3cmeta http-equiv\x3d"refresh" content\x3d"0; url\x3d'+V(a)+'"\x3e'),e.document.write(Pe(a)),e.document.close())):(e=A.open(Tc(d).toString(),h,e))&&a.noopener&&(e.opener=null);if(e)try{e.focus()}catch(ri){}return e}function rd(a){return new Ba(function(d){function b(){Ya(2E3).then(function(){if(!a||a.closed)d();else return b()})}
return b()})}function nb(){var a=null;return(new Ba(function(d){"complete"==T.document.readyState?d():(a=function(){d()},Ob(window,"load",a))})).s(function(d){mb(window,"load",a);throw d;})}function tb(){return zc(void 0)?nb().then(function(){return new Ba(function(a,d){var b=T.document,h=setTimeout(function(){d(Error("Cordova framework is not ready."))},1E3);b.addEventListener("deviceready",function(){clearTimeout(h);a()},!1)})}):ra(Error("Cordova must run in an Android or iOS file scheme."))}function zc(a){a=
a||b();return!("file:"!==ud()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function id(){var a=T.window;try{return!(!a||a==a.top)}catch(nd){return!1}}function Sb(){return"undefined"!==typeof T.WorkerGlobalScope&&"function"===typeof T.importScripts}function zb(){return Xa.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Xa.INTERNAL.hasOwnProperty("node")?"Node":Sb()?"Worker":"Browser"}function Tb(){var a=zb();return"ReactNative"===a||"Node"===a}function Ic(){for(var a=50,d=[];0<a;)d.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*
Math.random()))),a--;return d.join("")}function Jc(a){var d=a.toLowerCase();if(ca(d,"opera/")||ca(d,"opr/")||ca(d,"opios/"))return"Opera";if(ca(d,"iemobile"))return"IEMobile";if(ca(d,"msie")||ca(d,"trident/"))return"IE";if(ca(d,"edge/"))return"Edge";if(ca(d,"firefox/"))return Sj;if(ca(d,"silk/"))return"Silk";if(ca(d,"blackberry"))return"Blackberry";if(ca(d,"webos"))return"Webos";if(!ca(d,"safari/")||ca(d,"chrome/")||ca(d,"crios/")||ca(d,"android"))if(!ca(d,"chrome/")&&!ca(d,"crios/")||ca(d,"edge/")){if(ca(d,
"android"))return"Android";if((a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length)return a[1]}else return Qk;else return"Safari";return"Other"}function l(a,d){d=d||[];var h=[],A={},m;for(m in Rk)A[Rk[m]]=!0;for(m=0;m<d.length;m++)"undefined"!==typeof A[d[m]]&&(delete A[d[m]],h.push(d[m]));h.sort();d=h;d.length||(d=["FirebaseCore-web"]);h=zb();"Browser"===h?(A=b(),h=Jc(A)):"Worker"===h&&(A=b(),h=Jc(A)+"-"+h);return h+"/JsCore/"+a+"/"+d.join(",")}function b(){return T.navigator&&T.navigator.userAgent||
""}function g(a,d){a=a.split(".");d=d||T;for(var b=0;b<a.length&&"object"==typeof d&&null!=d;b++)d=d[a[b]];b!=a.length&&(d=void 0);return d}function t(){try{var a=T.localStorage,d=Kd();if(a)return a.setItem(d,"1"),a.removeItem(d),Gd()?!!T.indexedDB:!0}catch(Ti){return Sb()&&!!T.indexedDB}return!1}function Q(){return(oc()||"chrome-extension:"===ud()||zc())&&!Tb()&&t()&&!Sb()}function oc(){return"http:"===ud()||"https:"===ud()}function ud(){return T.location&&T.location.protocol||null}function jd(a){a=
a||b();return Qe(a)||Jc(a)==Sj?!1:!0}function Ga(a){return"undefined"===typeof a?null:Wc(a)}function ob(a){var d={},b;for(b in a)a.hasOwnProperty(b)&&null!==a[b]&&void 0!==a[b]&&(d[b]=a[b]);return d}function kd(a){if(null!==a)return JSON.parse(a)}function Kd(a){return a?a:Math.floor(1E9*Math.random()).toString()}function oe(a){a=a||b();return"Safari"==Jc(a)||a.toLowerCase().match(/iphone|ipad|ipod/)?!1:!0}function be(){var a=T.___jsl;if(a&&a.H)for(var d in a.H)if(a.H[d].r=a.H[d].r||[],a.H[d].L=a.H[d].L||
[],a.H[d].r=a.H[d].L.concat(),a.CP)for(var b=0;b<a.CP.length;b++)a.CP[b]=null}function Ea(a,d){if(a>d)throw Error("Short delay should be less than long delay!");this.a=a;this.c=d;a=b();d=zb();this.b=Qe(a)||"ReactNative"===d}function Aa(){var a=T.document;return a&&"undefined"!==typeof a.visibilityState?"visible"==a.visibilityState:!0}function pe(){var a=T.document,d=null;return Aa()||!a?la():(new Ba(function(b){d=function(){Aa()&&(a.removeEventListener("visibilitychange",d,!1),b())};a.addEventListener("visibilitychange",
d,!1)})).s(function(b){a.removeEventListener("visibilitychange",d,!1);throw b;})}function pc(a){try{var d=new Date(parseInt(a,10));if(!isNaN(d.getTime())&&!/[^0-9]/.test(a))return d.toUTCString()}catch(Ti){}return null}function Ae(){return!(!g("fireauth.oauthhelper",T)&&!g("fireauth.iframe",T))}function Gf(){var a=T.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}function If(){var a=T.navigator;return a&&a.serviceWorker?la().then(function(){return a.serviceWorker.ready}).then(function(a){return a.active||
null}).s(function(){return null}):la(null)}function qc(a){Sk[a]||(Sk[a]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(a))}function oa(a,d,b){Tk?Object.defineProperty(a,d,{configurable:!0,enumerable:!0,value:b}):a[d]=b}function bb(a,d){if(d)for(var b in d)d.hasOwnProperty(b)&&oa(a,b,d[b])}function $c(a){var d={};bb(d,a);return d}function Ac(a){var d={},b;for(b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);return d}function Cg(a,d){if(!d||!d.length)return!0;if(!a)return!1;
for(var b=0;b<d.length;b++){var h=a[d[b]];if(void 0===h||null===h||""===h)return!1}return!0}function Jf(a){var d=a;if("object"==typeof a&&null!=a){d="length"in a?[]:{};for(var b in a)oa(d,b,Jf(a[b]))}return d}function de(a){var d={},b=a[Tl],h=a[Ul];a=a[Vl];if(!a||a!=Wl&&!b)throw Error("Invalid provider user info!");d[Xl]=h||null;d[Yl]=b||null;oa(this,Zl,a);oa(this,$l,Jf(d))}function J(a,d){this.code=Yi+a;this.message=d||am[a]||""}function jf(a){var d=a&&a.code;return d?new J(d.substring(Yi.length),
a.message):null}function Kf(a){var d=a[bm];if("undefined"===typeof d)throw new J("missing-continue-uri");if("string"!==typeof d||"string"===typeof d&&!d.length)throw new J("invalid-continue-uri");this.h=d;this.b=this.a=null;this.g=!1;var b=a[Uk];if(b&&"object"===typeof b){d=b[Vk];var h=b[Wk];b=b[Xk];if("string"===typeof d&&d.length){this.a=d;if("undefined"!==typeof h&&"boolean"!==typeof h)throw new J("argument-error",Wk+" property must be a boolean when specified.");this.g=!!h;if("undefined"!==typeof b&&
("string"!==typeof b||"string"===typeof b&&!b.length))throw new J("argument-error",Xk+" property must be a non empty string when specified.");this.b=b||null}else{if("undefined"!==typeof d)throw new J("argument-error",Vk+" property must be a non empty string when specified.");if("undefined"!==typeof h||"undefined"!==typeof b)throw new J("missing-android-pkg-name");}}else if("undefined"!==typeof b)throw new J("argument-error",Uk+" property must be a non null object when specified.");this.f=null;if((d=
a[Yk])&&"object"===typeof d)if(d=d[Zk],"string"===typeof d&&d.length)this.f=d;else{if("undefined"!==typeof d)throw new J("argument-error",Zk+" property must be a non empty string when specified.");}else if("undefined"!==typeof d)throw new J("argument-error",Yk+" property must be a non null object when specified.");d=a[Tj];if("undefined"!==typeof d&&"boolean"!==typeof d)throw new J("argument-error",Tj+" property must be a boolean when specified.");this.c=!!d;a=a[$k];if("undefined"!==typeof a&&("string"!==
typeof a||"string"===typeof a&&!a.length))throw new J("argument-error",$k+" property must be a non empty string when specified.");this.i=a||null}function Md(a){var d={};d.continueUrl=a.h;d.canHandleCodeInApp=a.c;if(d.androidPackageName=a.a)d.androidMinimumVersion=a.b,d.androidInstallApp=a.g;d.iOSBundleId=a.f;d.dynamicLinkDomain=a.i;for(var b in d)null===d[b]&&delete d[b];return d}function Dg(a){return Uj(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")}function gg(a){var d="";Lf(a,
function(a){d+=String.fromCharCode(a)});return d}function Lf(a,d){function b(d){for(;h<a.length;){var b=a.charAt(h++),A=sj[b];if(null!=A)return A;if(!/^[\s\xa0]*$/.test(b))throw Error("Unknown base64 encoding at char: "+b);}return d}rc();for(var h=0;;){var A=b(-1),m=b(0),g=b(64),e=b(64);if(64===e&&-1===A)break;d(A<<2|m>>4);64!=g&&(d(m<<4&240|g>>2),64!=e&&d(g<<6&192|e))}}function rc(){if(!tj){tj={};sj={};for(var a=0;65>a;a++)tj[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(a),
sj[tj[a]]=a,62<=a&&(sj["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}}function Hc(a){this.c=a.sub;rg();this.a=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null;this.b=!!a.is_anonymous||"anonymous"==this.a}function Bc(a){return(a=lf(a))&&a.sub&&a.iss&&a.aud&&a.exp?new Hc(a):null}function lf(a){if(!a)return null;a=a.split(".");if(3!=a.length)return null;a=a[1];for(var d=(4-a.length%4)%4,b=0;b<d;b++)a+=".";try{return JSON.parse(gg(a))}catch(qg){}return null}
function ad(a){for(var d in Vj)if(Vj[d].id===a)return a=Vj[d],{firebaseEndpoint:a.bb,secureTokenEndpoint:a.jb};return null}function De(a){for(var d in Wj)if(Wj[d].Oa==a)return Wj[d];return null}function Nd(a){var d={};d["facebook.com"]=mf;d["google.com"]=ee;d["github.com"]=$d;d["twitter.com"]=ig;var b=a&&a[al];try{if(b)return d[b]?new d[b](a):new Lc(a);if("undefined"!==typeof a[Xj])return new R(a)}catch(qg){}return null}function R(a){var d=a[al];if(!d&&a[Xj]){var b=Bc(a[Xj]);b&&b.a&&(d=b.a)}if(!d)throw Error("Invalid additional user info!");
if("anonymous"==d||"custom"==d)d=null;b=!1;"undefined"!==typeof a.isNewUser?b=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(b=!0);oa(this,"providerId",d);oa(this,"isNewUser",b)}function Lc(a){R.call(this,a);a=kd(a.rawUserInfo||"{}");oa(this,"profile",Jf(a||{}))}function mf(a){Lc.call(this,a);if("facebook.com"!=this.providerId)throw Error("Invalid provider ID!");}function $d(a){Lc.call(this,a);if("github.com"!=this.providerId)throw Error("Invalid provider ID!");oa(this,"username",
this.profile&&this.profile.login||null)}function ee(a){Lc.call(this,a);if("google.com"!=this.providerId)throw Error("Invalid provider ID!");}function ig(a){Lc.call(this,a);if("twitter.com"!=this.providerId)throw Error("Invalid provider ID!");oa(this,"username",a.screenName||null)}function Ye(a){this.a=Va(a)}function aa(a){var d=Va(a),b=fc(d,"link"),h=fc(Va(b),"link");d=fc(d,"deep_link_id");return fc(Va(d),"link")||d||h||b||a}function jg(){}function bd(a,d){return a.then(function(a){if(a[wf]){var b=
Bc(a[wf]);if(!b||d!=b.c)throw new J("user-mismatch");return a}throw new J("user-mismatch");}).s(function(a){throw a&&a.code&&a.code==Yi+"user-not-found"?new J("user-mismatch"):a;})}function wd(a,d){if(d)this.a=d;else throw new J("internal-error","failed to construct a credential");oa(this,"providerId",a);oa(this,"signInMethod",a)}function Ee(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function kg(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new wd(a.providerId,
a.pendingToken)}catch(nd){}return null}function Pd(a,d,b){this.a=null;if(d.idToken||d.accessToken)d.idToken&&oa(this,"idToken",d.idToken),d.accessToken&&oa(this,"accessToken",d.accessToken),d.nonce&&!d.pendingToken&&oa(this,"nonce",d.nonce),d.pendingToken&&(this.a=d.pendingToken);else if(d.oauthToken&&d.oauthTokenSecret)oa(this,"accessToken",d.oauthToken),oa(this,"secret",d.oauthTokenSecret);else throw new J("internal-error","failed to construct a credential");oa(this,"providerId",a);oa(this,"signInMethod",
b)}function Od(a){var d={};a.idToken&&(d.id_token=a.idToken);a.accessToken&&(d.access_token=a.accessToken);a.secret&&(d.oauth_token_secret=a.secret);d.providerId=a.providerId;a.nonce&&!a.a&&(d.nonce=a.nonce);d={postBody:pd(d).toString(),requestUri:"http://localhost"};a.a&&(delete d.postBody,d.pendingToken=a.a);return d}function Fe(a){if(a&&a.providerId&&a.signInMethod){var d={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&
a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new Pd(a.providerId,d,a.signInMethod)}catch(Ti){}}return null}function ge(a,d){this.Fc=d||[];bb(this,{providerId:a,isOAuthProvider:!0});this.zb={};this.eb=(De(a)||{}).Na||null;this.ab=null}function Ze(a){if("string"!==typeof a||0!=a.indexOf("saml."))throw new J("argument-error",'SAML provider IDs must be prefixed with "saml."');ge.call(this,a,[])}function pb(a){ge.call(this,a,uj);this.a=[]}function Cc(){pb.call(this,"facebook.com")}
function Hb(a){if(!a)throw new J("argument-error","credential failed: expected 1 argument (the OAuth access token).");var d=a;Z(a)&&(d=a.accessToken);return(new Cc).credential({accessToken:d})}function Ub(){pb.call(this,"github.com")}function Fg(a){if(!a)throw new J("argument-error","credential failed: expected 1 argument (the OAuth access token).");var d=a;Z(a)&&(d=a.accessToken);return(new Ub).credential({accessToken:d})}function Ge(){pb.call(this,"google.com");this.ua("profile")}function Kc(a,
d){var b=a;Z(a)&&(b=a.idToken,d=a.accessToken);return(new Ge).credential({idToken:b,accessToken:d})}function dd(){ge.call(this,"twitter.com",bl)}function Qd(a,d){var b=a;Z(b)||(b={oauthToken:a,oauthTokenSecret:d});if(!b.oauthToken||!b.oauthTokenSecret)throw new J("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Pd("twitter.com",b,"twitter.com")}function Vb(a,d,b){this.a=a;this.c=d;oa(this,"providerId","password");oa(this,"signInMethod",b===
Cb.EMAIL_LINK_SIGN_IN_METHOD?Cb.EMAIL_LINK_SIGN_IN_METHOD:Cb.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Mc(a){return a&&a.email&&a.password?new Vb(a.email,a.password,a.signInMethod):null}function Cb(){bb(this,{providerId:"password",isOAuthProvider:!1})}function vd(a,d){d=Bd(d);if(!d)throw new J("argument-error","Invalid email link!");return new Vb(a,d,Cb.EMAIL_LINK_SIGN_IN_METHOD)}function Bd(a){a=aa(a);a=new Ye(a);var d=fc(a.a,"oobCode")||null;return"signIn"===(fc(a.a,"mode")||null)&&d?d:null}function fe(a){if(!(a.Ua&&
a.Ta||a.Fa&&a.$))throw new J("internal-error");this.a=a;oa(this,"providerId","phone");oa(this,"signInMethod","phone")}function lh(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var d={};fd(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(b){a[b]&&(d[b]=a[b])});return new fe(d)}return null}function Ld(a){return a.a.Fa&&a.a.$?{temporaryProof:a.a.Fa,phoneNumber:a.a.$}:{sessionInfo:a.a.Ua,code:a.a.Ta}}function w(a){try{this.a=
a||Xa.auth()}catch(nd){throw new J("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().");}bb(this,{providerId:"phone",isOAuthProvider:!1})}function Ha(a,d){if(!a)throw new J("missing-verification-id");if(!d)throw new J("missing-verification-code");return new fe({Ua:a,Ta:d})}function md(a){if(a.temporaryProof&&a.phoneNumber)return new fe({Fa:a.temporaryProof,
$:a.phoneNumber});var d=a&&a.providerId;if(!d||"password"===d)return null;var b=a&&a.oauthAccessToken,h=a&&a.oauthTokenSecret,m=a&&a.nonce,A=a&&a.oauthIdToken,g=a&&a.pendingToken;try{switch(d){case "google.com":return Kc(A,b);case "facebook.com":return Hb(b);case "github.com":return Fg(b);case "twitter.com":return Qd(b,h);default:return b||h||A||g?g?0==d.indexOf("saml.")?new wd(d,g):new Pd(d,{pendingToken:g,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},d):(new pb(d)).credential({idToken:A,
accessToken:b,rawNonce:m}):null}}catch(ri){return null}}function Gg(a){if(!a.isOAuthProvider)throw new J("invalid-oauth-provider");}function ed(a,d,b,h,m,g){this.c=a;this.b=d||null;this.g=b||null;this.f=h||null;this.h=g||null;this.a=m||null;if(this.g||this.a){if(this.g&&this.a)throw new J("invalid-auth-event");if(this.g&&!this.f)throw new J("invalid-auth-event");}else throw new J("invalid-auth-event");}function Ad(a){a=a||{};return a.type?new ed(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&
jf(a.error),a.postBody):null}function ce(){this.b=null;this.a=[]}function of(a){var d="unauthorized-domain",b=void 0,h=Va(a);a=h.b;h=h.c;"chrome-extension"==h?b=Ja("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -\x3e Auth section -\x3e Sign in method tab.",a):"http"==h||"https"==h?b=Ja("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -\x3e Auth section -\x3e Sign in method tab.",
a):d="operation-not-supported-in-this-environment";J.call(this,d,b)}function jb(a,d,b){J.call(this,a,b);a=d||{};a.Ab&&oa(this,"email",a.Ab);a.$&&oa(this,"phoneNumber",a.$);a.credential&&oa(this,"credential",a.credential)}function Nf(a){if(a.code){var d=a.code||"";0==d.indexOf(Yi)&&(d=d.substring(Yi.length));var b={credential:md(a)};if(a.email)b.Ab=a.email;else if(a.phoneNumber)b.$=a.phoneNumber;else if(!b.credential)return new J(d,a.message||void 0);return new jb(d,b,a.message)}return null}function mg(){}
function zd(a){return a.c||(a.c=a.b())}function Yb(){}function Ig(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var d=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<d.length;b++){var h=d[b];try{return new ActiveXObject(h),a.f=h}catch(qi){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.f}function Pf(){}function jh(){this.a=new XDomainRequest;this.readyState=
0;this.onreadystatechange=null;this.responseType=this.responseText=this.response="";this.status=-1;this.statusText="";this.a.onload=O(this.fc,this);this.a.onerror=O(this.Gb,this);this.a.onprogress=O(this.gc,this);this.a.ontimeout=O(this.kc,this)}function nh(a,d){a.readyState=d;if(a.onreadystatechange)a.onreadystatechange()}function oh(a,d,b){this.reset(a,d,b,void 0,void 0)}function ph(a){this.f=a;this.b=this.c=this.a=null}function og(a,d){this.name=a;this.value=d}function qh(a){if(a.c)return a.c;
if(a.a)return qh(a.a);ba("Root logger has no level set.");return null}function Jg(a){vj||(vj=new ph(""),Yj[""]=vj,vj.c=cm);var d;if(!(d=Yj[a])){d=new ph(a);var b=a.lastIndexOf("."),h=a.substr(b+1);b=Jg(a.substr(0,b));b.b||(b.b={});b.b[h]=d;d.a=b;Yj[a]=d}return d}function ie(a,d){a&&a.log(dm,d,void 0)}function hb(a){this.f=a}function $e(a){u.call(this);this.u=a;this.readyState=Zj;this.status=0;this.responseType=this.responseText=this.response=this.statusText="";this.onreadystatechange=null;this.i=
new Headers;this.b=null;this.m="GET";this.g="";this.a=!1;this.h=Jg("goog.net.FetchXmlHttp");this.l=this.c=this.f=null}function Qf(a){a.c.read().then(a.ec.bind(a)).catch(a.La.bind(a))}function He(a,d){d&&a.f&&(a.status=a.f.status,a.statusText=a.f.statusText);a.readyState=4;a.f=null;a.c=null;a.l=null;Kg(a)}function Kg(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function sf(a){u.call(this);this.headers=new dc;this.D=a||null;this.c=!1;this.A=this.a=null;this.h=this.N=this.l="";this.f=this.I=
this.i=this.G=!1;this.g=0;this.u=null;this.m=cl;this.v=this.O=!1}function qb(a,d,b,h,m){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+a.l+"; newUri\x3d"+d);b=b?b.toUpperCase():"GET";a.l=d;a.h="";a.N=b;a.G=!1;a.c=!0;a.a=a.D?a.D.a():dl.a();a.A=a.D?zd(a.D):zd(dl);a.a.onreadystatechange=O(a.Jb,a);try{ie(a.b,Td(a,"Opening Xhr")),a.I=!0,a.a.open(b,String(d),!0),a.I=!1}catch(Og){ie(a.b,Td(a,"Error opening Xhr: "+Og.message));Ib(a,Og);return}d=h||"";var A=new dc(a.headers);
m&&P(m,function(a,d){A.set(d,a)});m=q(A.U());h=T.FormData&&d instanceof T.FormData;!U(em,b)||m||h||A.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");A.forEach(function(a,d){this.a.setRequestHeader(d,a)},a);a.m&&(a.a.responseType=a.m);"withCredentials"in a.a&&a.a.withCredentials!==a.O&&(a.a.withCredentials=a.O);try{Sg(a),0<a.g&&(a.v=Ne(a.a),ie(a.b,Td(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.v)),a.v?(a.a.timeout=a.g,a.a.ontimeout=O(a.Ga,a)):a.u=Pb(a.Ga,a.g,a)),
ie(a.b,Td(a,"Sending request")),a.i=!0,a.a.send(d),a.i=!1}catch(Og){ie(a.b,Td(a,"Send error: "+Og.message)),Ib(a,Og)}}function Ne(a){return Sf&&Pc(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}function gd(a){return"content-type"==a.toLowerCase()}function Ib(a,d){a.c=!1;a.a&&(a.f=!0,a.a.abort(),a.f=!1);a.h=d;Tf(a);xf(a)}function Tf(a){a.G||(a.G=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function sg(a){if(a.c&&"undefined"!=typeof Dj)if(a.A[1]&&4==Uf(a)&&2==bf(a))ie(a.b,Td(a,"Local request error detected and ignored"));
else if(a.i&&4==Uf(a))Pb(a.Jb,0,a);else if(a.dispatchEvent("readystatechange"),4==Uf(a)){ie(a.b,Td(a,"Request complete"));a.c=!1;try{var d=bf(a);a:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break a;default:b=!1}var h;if(!(h=b)){var m;if(m=0===d){var A=String(a.l).match(Ik)[1]||null;if(!A&&T.self&&T.self.location){var g=T.self.location.protocol;A=g.substr(0,g.length-1)}m=!fm.test(A?A.toLowerCase():"")}h=m}if(h)a.dispatchEvent("complete"),a.dispatchEvent("success");
else{try{var e=2<Uf(a)?a.a.statusText:""}catch(Vi){ie(a.b,"Can not get status: "+Vi.message),e=""}a.h=e+" ["+bf(a)+"]";Tf(a)}}finally{xf(a)}}}function xf(a,d){if(a.a){Sg(a);var b=a.a,h=a.A[0]?r:null;a.a=null;a.A=null;d||a.dispatchEvent("ready");try{b.onreadystatechange=h}catch(qi){(a=a.b)&&a.log(el,"Problem encountered resetting onreadystatechange: "+qi.message,void 0)}}}function Sg(a){a.a&&a.v&&(a.a.ontimeout=null);a.u&&(T.clearTimeout(a.u),a.u=null)}function Uf(a){return a.a?a.a.readyState:0}function bf(a){try{return 2<
Uf(a)?a.a.status:-1}catch(nd){return-1}}function yf(a){try{return a.a?a.a.responseText:""}catch(nd){return ie(a.b,"Can not get responseText: "+nd.message),""}}function Td(a,d){return d+" ["+a.N+" "+a.l+" "+bf(a)+"]"}function Je(a){var d=Wf;this.g=[];this.v=d;this.u=a||null;this.f=this.a=!1;this.c=void 0;this.l=this.A=this.i=!1;this.h=0;this.b=null;this.o=0}function se(a,d,b){a.a=!0;a.c=b;a.f=!d;Vf(a)}function te(a){if(a.a){if(!a.l)throw new tf(a);a.l=!1}}function Ug(a,d){Xf(a,null,d,void 0)}function Xf(a,
d,b,h){a.g.push([d,b,h]);a.a&&Vf(a)}function Tg(a){return gm(a.g,function(a){return S(a[1])})}function Vf(a){if(a.h&&a.a&&Tg(a)){var d=a.h,b=wj[d];b&&(T.clearTimeout(b.a),delete wj[d]);a.h=0}a.b&&(a.b.o--,delete a.b);d=a.c;for(var h=b=!1;a.g.length&&!a.i;){var m=a.g.shift(),A=m[0],g=m[1];m=m[2];if(A=a.f?g:A)try{var e=A.call(m||a.u,d);void 0!==e&&(a.f=a.f&&(e==d||e instanceof Error),a.c=d=e);if(N(d)||"function"===typeof T.Promise&&d instanceof T.Promise)h=!0,a.i=!0}catch(Vi){d=Vi,a.f=!0,Tg(a)||(b=
!0)}}a.c=d;h&&(e=O(a.m,a,!0),h=O(a.m,a,!1),d instanceof Je?(Xf(d,e,h),d.A=!0):d.then(e,h));b&&(d=new je(d),wj[d.a]=d,a.h=d.a)}function tf(){K.call(this)}function Rf(){K.call(this)}function je(a){this.a=T.setTimeout(O(this.c,this),0);this.b=a}function zf(a){var d={},b=d.document||document,h=Fb(a).toString(),m=document.createElement("SCRIPT"),g={Lb:m,Ga:void 0},A=new Je(g),e=null,c=null!=d.timeout?d.timeout:5E3;0<c&&(e=window.setTimeout(function(){Af(m,!0);var a=new Ud(hm,"Timeout reached for loading script "+
h);te(A);se(A,!1,a)},c),g.Ga=e);m.onload=m.onreadystatechange=function(){m.readyState&&"loaded"!=m.readyState&&"complete"!=m.readyState||(Af(m,d.hd||!1,e),te(A),se(A,!0,null))};m.onerror=function(){Af(m,!0,e);var a=new Ud(im,"Error while loading script "+h);te(A);se(A,!1,a)};g=d.attributes||{};Na(g,{type:"text/javascript",charset:"UTF-8"});Vc(m,g);Uc(m,a);ef(b).appendChild(m);return A}function ef(a){var d;return(d=(a||document).getElementsByTagName("HEAD"))&&0!=d.length?d[0]:a.documentElement}function Wf(){if(this&&
this.Lb){var a=this.Lb;a&&"SCRIPT"==a.tagName&&Af(a,!0,this.Ga)}}function Af(a,d,b){null!=b&&T.clearTimeout(b);a.onload=r;a.onerror=r;a.onreadystatechange=r;d&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)}function Ud(a,d){var b="Jsloader error (code #"+a+")";d&&(b+=": "+d);K.call(this,b);this.code=a}function Lg(a){this.f=a}function re(a,d,b){this.b=a;a=d||{};this.i=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token";this.o=a.secureTokenTimeout||jm;
this.f=La(a.secureTokenHeaders||km);this.g=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/";this.h=a.firebaseTimeout||lm;this.a=La(a.firebaseHeaders||mm);b&&(this.a["X-Client-Version"]=b,this.f["X-Client-Version"]=b);b="Node"==zb();b=T.XMLHttpRequest||b&&Xa.INTERNAL.node&&Xa.INTERNAL.node.XMLHttpRequest;if(!b&&!Sb())throw new J("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0;Sb()?this.c=new hb(self):Tb()?this.c=new Lg(b):this.c=
new Pf}function rh(a,d){d?a.a["X-Firebase-Locale"]=d:delete a.a["X-Firebase-Locale"]}function Lh(a,d){d?(a.a["X-Client-Version"]=d,a.f["X-Client-Version"]=d):(delete a.a["X-Client-Version"],delete a.f["X-Client-Version"])}function dg(a,d,b,h,m,g,e){Hd()||Sb()?a=O(a.m,a):(ak||(ak=new Ba(function(a,d){cf(a,d)})),a=O(a.l,a));a(d,b,h,m,g,e)}function cf(a,d){if(((window.gapi||{}).client||{}).request)a();else{T[fl]=function(){((window.gapi||{}).client||{}).request?a():d(Error("CORS_UNSUPPORTED"))};var b=
xc(nm,{onload:fl});Ug(zf(b),function(){d(Error("CORS_UNSUPPORTED"))})}}function ue(a,d){return new Ba(function(b,h){"refresh_token"==d.grant_type&&d.refresh_token||"authorization_code"==d.grant_type&&d.code?dg(a,a.i+"?key\x3d"+encodeURIComponent(a.b),function(a){a?a.error?h(le(a)):a.access_token&&a.refresh_token?b(a):h(new J("internal-error")):h(new J("network-request-failed"))},"POST",pd(d).toString(),a.f,a.o.get()):h(new J("internal-error"))})}function Bf(a,d,b,h,m,g){var A=Va(a.g+d);Ma(A,"key",
a.b);g&&Ma(A,"cb",rg().toString());var e="GET"==b;if(e)for(var c in h)h.hasOwnProperty(c)&&Ma(A,c,h[c]);return new Ba(function(d,g){dg(a,A.toString(),function(a){a?a.error?g(le(a,m||{})):d(a):g(new J("network-request-failed"))},b,e?void 0:Wc(ob(h)),a.a,a.h.get())})}function uf(a){a=a.email;if(!f(a)||!om.test(a))throw new J("invalid-email");}function Mh(a){"email"in a&&uf(a)}function Qh(a,d){return eb(a,gl,{identifier:d,continueUri:oc()?$a():"http://localhost"}).then(function(a){return a.allProviders||
[]})}function Vg(a,d){return eb(a,gl,{identifier:d,continueUri:oc()?$a():"http://localhost"}).then(function(a){return a.signinMethods||[]})}function Mg(a){return eb(a,pm,{}).then(function(a){return a.authorizedDomains||[]})}function Ie(a){if(!a[wf])throw new J("internal-error");}function tg(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new J("internal-error");}else{if(!a.sessionInfo)throw new J("missing-verification-id");if(!a.code)throw new J("missing-verification-code");
}}function wh(a,d){return eb(a,qm,d)}function Zb(a,d,b){return eb(a,rm,{idToken:d,deleteProvider:b})}function Ke(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new J("internal-error");}function ve(a,d){d.oauthIdToken&&d.providerId&&0==d.providerId.indexOf("oidc.")&&!d.pendingToken&&(a.sessionId?d.nonce=a.sessionId:a.postBody&&(a=new Sc(a.postBody),we(a,"nonce")&&(d.nonce=a.get("nonce"))));return d}function ki(a){var d=null;a.needConfirmation?(a.code="account-exists-with-different-credential",
d=Nf(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",d=Nf(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",d=Nf(a)):a.errorMessage&&(d=af(a.errorMessage));if(d)throw d;if(!a[wf])throw new J("internal-error");}function Yf(a,d){d.returnIdpCredential=!0;return eb(a,sm,d)}function Le(a,d){d.returnIdpCredential=!0;return eb(a,tm,d)}function df(a,d){d.returnIdpCredential=!0;d.autoCreate=!1;return eb(a,um,d)}function Cf(a){if(!a.oobCode)throw new J("invalid-action-code");
}function eb(a,d,b){if(!Cg(b,d.T))return ra(new J("internal-error"));var h=d.Ib||"POST",m;return la(b).then(d.C).then(function(){d.R&&(b.returnSecureToken=!0);return Bf(a,d.endpoint,h,b,d.Xb,d.vb||!1)}).then(function(a){m=a;return d.Pa?d.Pa(b,m):m}).then(d.J).then(function(){if(!d.da)return m;if(!(d.da in m))throw new J("internal-error");return m[d.da]})}function af(a){return le({error:{errors:[{message:a}],code:400,message:a}})}function le(a,d){var b=(a.error&&a.error.errors&&a.error.errors[0]||
{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(b=h[b]?new J(h[b]):null)return b;b=a.error&&a.error.message||"";h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",
PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",
MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",
CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",
REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"};Na(h,d||{});d=(d=b.match(/^[^\s]+\s*:\s*(.*)$/))&&1<d.length?d[1]:void 0;
for(var m in h)if(0===b.indexOf(m))return new J(h[m],d);!d&&a&&(d=Ga(a));return new J("internal-error",d)}function Sd(a){this.b=a;this.a=null;this.gb=ze(this)}function ze(a){return Zf().then(function(){return new Ba(function(d,b){g("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:g("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function m(){clearTimeout(g);d()}
a.a=h;a.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){b(Error("Network Error"))},vm.get());h.ping(m).then(m,function(){b(Error("Network Error"))})})})})}function Me(a,d){return a.gb.then(function(){return new Ba(function(b){a.a.send(d.type,d,b,g("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function ke(a,d){a.gb.then(function(){a.a.register("authEvent",d,g("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function Zf(){return xj?xj:xj=(new Ba(function(a,d){function b(){be();g("gapi.load")("gapi.iframes",
{callback:a,ontimeout:function(){be();d(Error("Network Error"))},timeout:wm.get()})}if(g("gapi.iframes.Iframe"))a();else if(g("gapi.load"))b();else{var h="__iframefcb"+Math.floor(1E6*Math.random()).toString();T[h]=function(){g("gapi.load")?b():d(Error("Network Error"))};h=xc(xm,{onload:h});la(zf(h)).s(function(){d(Error("Network Error"))})}})).s(function(a){xj=null;throw a;})}function ff(a,d,b){this.i=a;this.g=d;this.h=b;this.f=null;this.a=pa(this.i,"/__/auth/iframe");Ma(this.a,"apiKey",this.g);Ma(this.a,
"appName",this.h);this.b=null;this.c=[]}function xh(a,d,b,h,m){this.m=a;this.l=d;this.c=b;this.o=h;this.h=this.g=this.i=null;this.a=m;this.f=null}function Xg(a){try{return Xa.app(a).auth().ya()}catch(nd){return[]}}function Wg(a,d,b,h,m){this.l=a;this.f=d;this.b=b;this.c=h||null;this.h=m||null;this.m=this.u=this.v=null;this.g=[];this.o=this.a=null}function Yg(a){var d=$a();return Mg(a).then(function(a){a:{var b=Va(d),h=b.c;b=b.b;for(var m=0;m<a.length;m++){var g=a[m],A=b,e=h;0==g.indexOf("chrome-extension://")?
A=Va(g).b==A&&"chrome-extension"==e:"http"!=e&&"https"!=e?A=!1:ym.test(g)?A=A==g:(g=g.split(".").join("\\."),A=(new RegExp("^(.+\\."+g+"|"+g+")$","i")).test(A));if(A){a=!0;break a}}a=!1}if(!a)throw new of($a());})}function ug(a){if(a.o)return a.o;a.o=nb().then(function(){if(!a.u){var d=a.c,b=a.h,h=Xg(a.b),m=new ff(a.l,a.f,a.b);m.f=d;m.b=b;m.c=Ra(h||[]);a.u=m.toString()}a.i=new Sd(a.u);Rh(a)});return a.o}function Zg(a){a.m||(a.v=a.c?l(a.c,Xg(a.b)):null,a.m=new re(a.f,ad(a.h),a.v));return a.m}function $f(a,
d,b,h,m,g,e,c,l,w){a=new xh(a,d,b,h,m);a.i=g;a.g=e;a.h=c;a.b=La(l||null);a.f=w;return a.toString()}function Rh(a){if(!a.i)throw Error("IfcHandler must be initialized!");ke(a.i,function(d){var b={};if(d&&d.authEvent){var h=!1;d=Ad(d.authEvent);for(b=0;b<a.g.length;b++)h=a.g[b](d)||h;b={};b.status=h?"ACK":"ERROR";return la(b)}b.status="ERROR";return la(b)})}function wi(a){var d={type:"webStorageSupport"};return ug(a).then(function(){return Me(a.i,d)}).then(function(a){if(a&&a.length&&"undefined"!==
typeof a[0].webStorageSupport)return a[0].webStorageSupport;throw Error();})}function yh(a){this.a=a||Xa.INTERNAL.reactNative&&Xa.INTERNAL.reactNative.AsyncStorage;if(!this.a)throw new J("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function h(a){this.b=a;this.a={};this.c=O(this.f,this)}function a(){var a=Sb()?self:null;fd(hl,function(b){b.b==a&&(d=b)});if(!d){var d=new h(a);hl.push(d)}return d}function d(a){this.a=a}function m(a){this.c=a;this.b=
!1;this.a=[]}function B(a,d,b,h){var m,g=b||{},e,A,c,l=null;if(a.b)return ra(Error("connection_unavailable"));var w=h?800:50,B="undefined"!==typeof MessageChannel?new MessageChannel:null;return(new Ba(function(b,h){B?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),B.port1.start(),A=setTimeout(function(){h(Error("unsupported_event"))},w),e=function(a){a.data.eventId===m&&("ack"===a.data.status?(clearTimeout(A),c=setTimeout(function(){h(Error("timeout"))},3E3)):"done"===a.data.status?(clearTimeout(c),
"undefined"!==typeof a.data.response?b(a.data.response):h(Error("unknown_error"))):(clearTimeout(A),clearTimeout(c),h(Error("invalid_response"))))},l={messageChannel:B,onMessage:e},a.a.push(l),B.port1.addEventListener("message",e),a.c.postMessage({eventType:d,eventId:m,data:g},[B.port2])):h(Error("connection_unavailable"))})).then(function(d){ea(a,l);return d}).s(function(d){ea(a,l);throw d;})}function ea(a,d){if(d){var b=d.messageChannel,h=d.onMessage;b&&(b.port1.removeEventListener("message",h),
b.port1.close());X(a.a,function(a){return a==d})}}function Vd(){if(!Zi())throw new J("web-storage-unsupported");this.c={};this.a=[];this.b=0;this.l=T.indexedDB;this.type="indexedDB";this.g=this.o=this.f=this.i=null;this.u=!1;this.h=null;var b=this;Sb()&&self?(this.o=a(),this.o.subscribe("keyChanged",function(a,d){return th(b).then(function(a){0<a.length&&fd(b.a,function(d){d(a)});return{keyProcessed:U(a,d.key)}})}),this.o.subscribe("ping",function(){return la(["keyChanged"])})):If().then(function(a){if(b.h=
a)b.g=new m(new d(a)),B(b.g,"ping",null,!0).then(function(a){a[0].fulfilled&&U(a[0].value,"keyChanged")&&(b.u=!0)}).s(function(){})})}function Oi(a){return new Ba(function(d,b){var h=a.l.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){d()};h.onerror=function(a){b(Error(a.target.error))}})}function gj(a){return new Ba(function(d,b){var h=a.l.open("firebaseLocalStorageDb",1);h.onerror=function(a){try{a.preventDefault()}catch(nj){}b(Error(a.target.error))};h.onupgradeneeded=function(a){a=
a.target.result;try{a.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(nj){b(nj)}};h.onsuccess=function(h){h=h.target.result;h.objectStoreNames.contains("firebaseLocalStorage")?d(h):Oi(a).then(function(){return gj(a)}).then(function(a){d(a)}).s(function(a){b(a)})}})}function pg(a){a.m||(a.m=gj(a));return a.m}function Zi(){try{return!!T.indexedDB}catch(A){return!1}}function sh(a){return a.objectStore("firebaseLocalStorage")}function vf(a,d){return a.transaction(["firebaseLocalStorage"],
d?"readwrite":"readonly")}function Ng(a){return new Ba(function(d,b){a.onsuccess=function(a){a&&a.target?d(a.target.result):d()};a.onerror=function(a){b(a.target.error)}})}function Pi(a,d){return a.g&&a.h&&Gf()===a.h?B(a.g,"keyChanged",{key:d},a.u).then(function(){}).s(function(){}):la()}function th(a){return pg(a).then(function(a){var d=sh(vf(a,!1));return d.getAll?Ng(d.getAll()):new Ba(function(a,b){var h=[],m=d.openCursor();m.onsuccess=function(d){(d=d.target.result)?(h.push(d.value),d["continue"]()):
a(h)};m.onerror=function(a){b(a.target.error)}})}).then(function(d){var b={},h=[];if(0==a.b){for(h=0;h<d.length;h++)b[d[h].fbase_key]=d[h].value;h=ab(a.c,b);a.c=b}return h})}function hj(a){function d(){a.f=setTimeout(function(){a.i=th(a).then(function(d){0<d.length&&fd(a.a,function(a){a(d)})}).then(function(){d()}).s(function(a){"STOP_EVENT"!=a.message&&d()})},800)}uh(a);d()}function uh(a){a.i&&a.i.cancel("STOP_EVENT");a.f&&(clearTimeout(a.f),a.f=null)}function ij(a){var d=this,b=null;this.a=[];this.type=
"indexedDB";this.c=a;this.b=la().then(function(){if(Zi()){var a=Kd(),h="__sak"+a;bk||(bk=new Vd);b=bk;return b.set(h,a).then(function(){return b.get(h)}).then(function(d){if(d!==a)throw Error("indexedDB not supported!");return b.P(h)}).then(function(){return b}).s(function(){return d.c})}return d.c}).then(function(a){d.type=a.type;a.Y(function(a){fd(d.a,function(d){d(a)})});return a})}function zh(){this.a={};this.type="inMemory"}function li(){if(!Fj()){if("Node"==zb())throw new J("internal-error",
"The LocalStorage compatibility library was not found.");throw new J("web-storage-unsupported");}this.a=jj()||Xa.INTERNAL.node.localStorage;this.type="localStorage"}function jj(){try{var a=T.localStorage,d=Kd();a&&(a.setItem(d,"1"),a.removeItem(d));return a}catch(Ti){return null}}function Fj(){var a="Node"==zb();a=jj()||a&&Xa.INTERNAL.node&&Xa.INTERNAL.node.localStorage;if(!a)return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(nd){return!1}}function Qi(){this.type="nullStorage"}
function Ri(){if(!Gj()){if("Node"==zb())throw new J("internal-error","The SessionStorage compatibility library was not found.");throw new J("web-storage-unsupported");}this.a=kj()||Xa.INTERNAL.node.sessionStorage;this.type="sessionStorage"}function kj(){try{var a=T.sessionStorage,d=Kd();a&&(a.setItem(d,"1"),a.removeItem(d));return a}catch(Ti){return null}}function Gj(){var a="Node"==zb();a=kj()||a&&Xa.INTERNAL.node&&Xa.INTERNAL.node.sessionStorage;if(!a)return!1;try{return a.setItem("__sak","1"),
a.removeItem("__sak"),!0}catch(nd){return!1}}function Hj(){var a={};a.Browser=zm;a.Node=Am;a.ReactNative=Bm;a.Worker=Cm;this.a=a[zb()]}function Ij(a){var d=new J("invalid-persistence-type"),b=new J("unsupported-persistence-type");a:{for(h in si)if(si[h]==a){var h=!0;break a}h=!1}if(!h||"string"!==typeof a)throw d;switch(zb()){case "ReactNative":if("session"===a)throw b;break;case "Node":if("none"!==a)throw b;break;default:if(!t()&&"none"!==a)throw b;}}function lj(){var a=!oe(b())&&id()?!0:!1,d=jd(),
h=t();this.m=a;this.h=d;this.o=h;this.a={};ck||(ck=new Hj);a=ck;try{this.g=!Gd()&&Ae()||!T.indexedDB?new a.a.B:new ij(Sb()?new zh:new a.a.B)}catch(qg){this.g=new zh,this.h=!0}try{this.i=new a.a.Sa}catch(qg){this.i=new zh}this.l=new zh;this.f=O(this.Pb,this);this.b={}}function Nh(){dk||(dk=new lj);return dk}function ag(a,d){switch(d){case "session":return a.i;case "none":return a.l;default:return a.g}}function bg(a,d){return"firebase:"+a.name+(d?":"+d:"")}function mj(a,d,b){var h=bg(d,b),m=ag(a,d.B);
return a.get(d,b).then(function(g){var e=null;try{e=kd(T.localStorage.getItem(h))}catch(ri){}if(e&&!g)return T.localStorage.removeItem(h),a.set(d,e,b);e&&g&&"localStorage"!=m.type&&T.localStorage.removeItem(h)})}function vg(a,d,b){b=bg(d,b);"local"==d.B&&(a.b[b]=null);return ag(a,d.B).P(b)}function Sh(a){$g(a);a.c=setInterval(function(){for(var d in a.a){var b=T.localStorage.getItem(d),h=a.b[d];b!=h&&(a.b[d]=b,b=new Fa({type:"storage",key:d,target:window,oldValue:h,newValue:b,a:!0}),a.Pb(b))}},1E3)}
function $g(a){a.c&&(clearInterval(a.c),a.c=null)}function $i(a){this.a=a;this.b=Nh()}function Bj(a){return a.b.get(ek,a.a).then(function(a){return Ad(a)})}function Th(){this.a=Nh()}function mi(a,d){this.b=il;this.f=T.Uint8Array?new Uint8Array(this.b):Array(this.b);this.g=this.c=0;this.a=[];this.i=a;this.h=d;this.o=T.Int32Array?new Int32Array(64):Array(64);void 0!==yj||(T.Int32Array?yj=new Int32Array(jl):yj=jl);this.reset()}function Vh(a){for(var d=a.f,b=a.o,h=0,m=0;m<d.length;)b[h++]=d[m]<<24|d[m+
1]<<16|d[m+2]<<8|d[m+3],m=4*h;for(d=16;64>d;d++){m=b[d-15]|0;h=b[d-2]|0;var g=(b[d-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,e=(b[d-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;b[d]=g+e|0}h=a.a[0]|0;m=a.a[1]|0;var A=a.a[2]|0,c=a.a[3]|0,l=a.a[4]|0,w=a.a[5]|0,B=a.a[6]|0;g=a.a[7]|0;for(d=0;64>d;d++){var t=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&m^h&A^m&A)|0;e=l&w^~l&B;g=g+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0;e=e+(yj[d]|0)|0;e=g+(e+(b[d]|0)|0)|0;g=B;B=w;w=l;l=c+e|0;c=A;A=m;m=
h;h=e+t|0}a.a[0]=a.a[0]+h|0;a.a[1]=a.a[1]+m|0;a.a[2]=a.a[2]+A|0;a.a[3]=a.a[3]+c|0;a.a[4]=a.a[4]+l|0;a.a[5]=a.a[5]+w|0;a.a[6]=a.a[6]+B|0;a.a[7]=a.a[7]+g|0}function cg(a,d,b){void 0===b&&(b=d.length);var h=0,m=a.c;if(f(d))for(;h<b;)a.f[m++]=d.charCodeAt(h++),m==a.b&&(Vh(a),m=0);else if(e(d))for(;h<b;){var g=d[h++];if(!("number"==typeof g&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");a.f[m++]=g;m==a.b&&(Vh(a),m=0)}else throw Error("message must be string or array");a.c=m;a.g+=
b}function Wh(){mi.call(this,8,Dm)}function ch(a,d,b,h,m){this.l=a;this.i=d;this.o=b;this.m=h||null;this.u=m||null;this.h=d+":"+b;this.v=new Th;this.g=new $i(this.h);this.f=null;this.b=[];this.a=this.c=null}function bh(a){return new J("invalid-cordova-configuration",a)}function Jj(){for(var a=20,d=[];0<a;)d.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return d.join("")}function Ji(a){var d=new Wh;cg(d,a);a=[];var b=8*d.g;56>d.c?cg(d,
kl,56-d.c):cg(d,kl,d.b-(d.c-56));for(var h=63;56<=h;h--)d.f[h]=b&255,b/=256;Vh(d);for(h=b=0;h<d.i;h++)for(var m=24;0<=m;m-=8)a[b++]=d.a[h]>>m&255;return Dg(a)}function ni(a,d,h,m){var e=Jj(),A=new ed(d,m,null,e,new J("no-auth-event")),c=g("BuildInfo.packageName",T);if("string"!==typeof c)throw new J("invalid-cordova-configuration");var l=g("BuildInfo.displayName",T),w={};if(b().toLowerCase().match(/iphone|ipad|ipod/))w.ibi=c;else if(b().toLowerCase().match(/android/))w.apn=c;else return ra(new J("operation-not-supported-in-this-environment"));
l&&(w.appDisplayName=l);e=Ji(e);w.sessionId=e;var B=$f(a.l,a.i,a.o,d,h,null,m,a.m,w,a.u);return a.ga().then(function(){var d=a.h;return a.v.a.set(ek,A.w(),d)}).then(function(){var d=g("cordova.plugins.browsertab.isAvailable",T);if("function"!==typeof d)throw new J("invalid-cordova-configuration");var h=null;d(function(d){if(d){h=g("cordova.plugins.browsertab.openUrl",T);if("function"!==typeof h)throw new J("invalid-cordova-configuration");h(B)}else{h=g("cordova.InAppBrowser.open",T);if("function"!==
typeof h)throw new J("invalid-cordova-configuration");d=b();a.a=h(B,d.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||d.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location\x3dyes")}})})}function xi(a,d){for(var b=0;b<a.b.length;b++)try{a.b[b](d)}catch(qg){}}function dh(a){a.f||(a.f=a.ga().then(function(){return new Ba(function(d){function b(h){d(h);a.Ka(b);return!1}a.wa(b);Cj(a)})}));return a.f}function Si(a){var d=null;return Bj(a.g).then(function(b){d=b;b=a.g;return vg(b.b,ek,b.a)}).then(function(){return d})}
function Cj(a){function d(d){h=!0;m&&m.cancel();Si(a).then(function(h){var m=b;if(h&&d&&d.url){var g=null;m=aa(d.url);-1!=m.indexOf("/__/auth/callback")&&(g=Va(m),g=kd(fc(g,"firebaseError")||null),g=(g="object"===typeof g?jf(g):null)?new ed(h.c,h.b,null,null,g):new ed(h.c,h.b,m,h.f));m=g||b}xi(a,m)})}var b=new ed("unknown",null,null,null,new J("no-auth-event")),h=!1,m=Ya(500).then(function(){return Si(a).then(function(){h||xi(a,b)})}),e=T.handleOpenURL;T.handleOpenURL=function(a){0==a.toLowerCase().indexOf(g("BuildInfo.packageName",
T).toLowerCase()+"://")&&d({url:a});if("function"===typeof e)try{e(a)}catch(ri){console.error(ri)}};fk||(fk=new ce);fk.subscribe(d)}function Gi(a){this.a=a;this.b=Nh()}function Hi(a){return a.b.set(gk,"pending",a.a)}function Mi(a){return vg(a.b,gk,a.a)}function fj(a){return a.b.get(gk,a.a).then(function(a){return"pending"==a})}function Gh(a,d,b){this.i={};this.u=0;this.A=a;this.l=d;this.m=b;this.h=[];this.f=!1;this.o=O(this.cb,this);this.b=new Oe;this.v=new ai;this.g=new Gi(this.l+":"+this.m);this.c=
{};this.c.unknown=this.b;this.c.signInViaRedirect=this.b;this.c.linkViaRedirect=this.b;this.c.reauthViaRedirect=this.b;this.c.signInViaPopup=this.v;this.c.linkViaPopup=this.v;this.c.reauthViaPopup=this.v;this.a=dj(this.A,this.l,this.m,zj)}function dj(a,d,b,h){var m=Xa.SDK_VERSION||null;return zc()?new ch(a,d,b,m,h):new Wg(a,d,b,m,h)}function Xh(a){a.f||(a.f=!0,a.a.wa(a.o));var d=a.a;return a.a.ga().s(function(b){a.a==d&&a.reset();throw b;})}function wg(a){a.a.Mb()&&Xh(a).s(function(d){var b=new ed("unknown",
null,null,null,new J("operation-not-supported-in-this-environment"));qd(d)&&a.cb(b)});a.a.Hb()||Yh(a.b)}function Df(a,d,b,h,m,g){return a.a.Db(d,b,h,function(){a.f||(a.f=!0,a.a.wa(a.o))},function(){a.reset()},m,g)}function qd(a){return a&&"auth/cordova-not-ready"==a.code?!0:!1}function me(a,d,b){var h=d+":"+b;hk[h]||(hk[h]=new Gh(a,d,b));return hk[h]}function Oe(){this.b=null;this.f=[];this.c=[];this.a=null;this.i=this.g=!1}function Yh(a){a.g||(a.g=!0,gf(a,!1,null,null))}function yi(a,d,b){b=b.xa(d.c,
d.b);var h=d.g,m=d.f,g=d.h,e=!!d.c.match(/Redirect$/);b(h,m,g).then(function(d){gf(a,e,d,null)}).s(function(d){gf(a,e,null,d)})}function aj(a,d){a.b=function(){return ra(d)};if(a.c.length)for(var b=0;b<a.c.length;b++)a.c[b](d)}function Ah(a,d){a.b=function(){return la(d)};if(a.f.length)for(var b=0;b<a.f.length;b++)a.f[b](d)}function gf(a,d,b,h){d?h?aj(a,h):Ah(a,b):Ah(a,{user:null});a.f=[];a.c=[]}function hh(a){var d=new J("timeout");a.a&&a.a.cancel();a.a=Ya(Em.get()).then(function(){a.b||(a.g=!0,
gf(a,!0,null,d))})}function ai(){}function Bh(a,d){var b=a.b,h=a.c;d.xa(h,b)(a.g,a.f,a.h).then(function(a){d.ha(h,a,null,b)}).s(function(a){d.ha(h,null,a,b)})}function Se(){this.tb=!1;Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.tb},set:function(a){this.tb=a},enumerable:!1})}function yg(a,d){this.a=d;oa(this,"verificationId",a)}function xg(a,d,b,h){return(new w(a)).Va(d,b).then(function(a){return new yg(a,h)})}function gh(a){var d=lf(a);if(!(d&&d.exp&&d.auth_time&&
d.iat))throw new J("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");bb(this,{token:a,expirationTime:pc(1E3*d.exp),authTime:pc(1E3*d.auth_time),issuedAtTime:pc(1E3*d.iat),signInProvider:d.firebase&&d.firebase.sign_in_provider?d.firebase.sign_in_provider:null,claims:d})}function Di(a,d,b){this.h=a;this.i=d;this.g=b;this.c=3E4;this.f=96E4;this.b=null;this.a=this.c;if(this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!");
}function Dh(a,d){if(d)return a.a=a.c,a.g();d=a.a;a.a*=2;a.a>a.f&&(a.a=a.f);return d}function Bi(a,d){a.stop();a.b=Ya(Dh(a,d)).then(function(){return pe()}).then(function(){return a.h()}).then(function(){Bi(a,!0)}).s(function(d){a.i(d)&&Bi(a,!1)})}function Ei(a){this.f=a;this.b=this.a=null;this.c=0}function kh(a,d){var b=d[wf],h=d.refreshToken;d=ei(d.expiresIn);a.b=b;a.c=d;a.a=h}function Fi(a,d){a.b=d.b;a.a=d.a;a.c=d.c}function ei(a){return rg()+1E3*parseInt(a,10)}function $h(a,d){return ue(a.f,d).then(function(d){a.b=
d.access_token;a.c=ei(d.expires_in);a.a=d.refresh_token;return{accessToken:a.b,expirationTime:a.c,refreshToken:a.a}}).s(function(d){"auth/user-token-expired"==d.code&&(a.a=null);throw d;})}function eg(a,d){this.a=a||null;this.b=d||null;bb(this,{lastSignInTime:pc(d||null),creationTime:pc(a||null)})}function fg(a){return new eg(a.a,a.b)}function td(a,d,b,h,m,g){bb(this,{uid:a,displayName:h||null,photoURL:m||null,email:b||null,phoneNumber:g||null,providerId:d})}function ae(a,d){gb.call(this,a);for(var b in d)this[b]=
d[b]}function Zc(a,d,b){this.G=[];this.l=a.apiKey;this.m=a.appName;this.u=a.authDomain||null;a=Xa.SDK_VERSION?l(Xa.SDK_VERSION):null;this.b=new re(this.l,ad(zj),a);this.h=new Ei(this.b);Ag(this,d[wf]);kh(this.h,d);oa(this,"refreshToken",this.h.a);Be(this,b||{});u.call(this);this.I=!1;this.u&&Q()&&(this.a=me(this.u,this.l,this.m));this.N=[];this.i=null;this.A=Ch(this);this.V=O(this.Ha,this);var h=this;this.ka=null;this.ta=function(a){h.pa(a.g)};this.X=null;this.O=[];this.sa=function(a){hf(h,a.c)};
this.W=null}function sd(a,d){a.X&&mb(a.X,"languageCodeChanged",a.ta);(a.X=d)&&Eb(d,"languageCodeChanged",a.ta)}function hf(a,d){a.O=d;Lh(a.b,Xa.SDK_VERSION?l(Xa.SDK_VERSION,a.O):null)}function Bg(a,d){a.W&&mb(a.W,"frameworkChanged",a.sa);(a.W=d)&&Eb(d,"frameworkChanged",a.sa)}function Te(a){try{return Xa.app(a.m).auth()}catch(nd){throw new J("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!");}}function Ch(a){return new Di(function(){return a.F(!0)},function(a){return a&&
"auth/network-request-failed"==a.code?!0:!1},function(){var d=a.h.c-rg()-3E5;return 0<d?d:0})}function fh(a){a.D||a.A.b||(a.A.start(),mb(a,"tokenChanged",a.V),Eb(a,"tokenChanged",a.V))}function Ue(a){mb(a,"tokenChanged",a.V);a.A.stop()}function Ag(a,d){a.ra=d;oa(a,"_lat",d)}function zi(a,d){X(a.N,function(a){return a==d})}function zg(a){for(var d=[],b=0;b<a.N.length;b++)d.push(a.N[b](a));return sc(d).then(function(){return a})}function eh(a){a.a&&!a.I&&(a.I=!0,a.a.subscribe(a))}function Be(a,d){bb(a,
{uid:d.uid,displayName:d.displayName||null,photoURL:d.photoURL||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,isAnonymous:d.isAnonymous||!1,metadata:new eg(d.createdAt,d.lastLoginAt),providerData:[]})}function Hf(){}function We(a){return la().then(function(){if(a.D)throw new J("app-deleted");})}function Ai(a){return Uj(a.providerData,function(a){return a.providerId})}function Ve(a,d){d&&(ci(a,d.providerId),a.providerData.push(d))}function ci(a,d){X(a.providerData,
function(a){return a.providerId==d})}function Ce(a,d,b){("uid"!=d||b)&&a.hasOwnProperty(d)&&oa(a,d,b)}function kf(a,d){a!=d&&(bb(a,{uid:d.uid,displayName:d.displayName,photoURL:d.photoURL,email:d.email,emailVerified:d.emailVerified,phoneNumber:d.phoneNumber,isAnonymous:d.isAnonymous,providerData:[]}),d.metadata?oa(a,"metadata",fg(d.metadata)):oa(a,"metadata",new eg),fd(d.providerData,function(d){Ve(a,d)}),Fi(a.h,d.h),oa(a,"refreshToken",a.h.a))}function Eg(a){return a.F().then(function(d){var b=a.isAnonymous;
return cj(a,d).then(function(){b||Ce(a,"isAnonymous",!1);return d})})}function hg(a,d){d[wf]&&a.ra!=d[wf]&&(kh(a.h,d),a.dispatchEvent(new ae("tokenChanged")),Ag(a,d[wf]),Ce(a,"refreshToken",a.h.a))}function cj(a,d){return eb(a.b,Fm,{idToken:d}).then(O(a.zc,a))}function bi(a){return(a=a.providerUserInfo)&&a.length?Uj(a,function(a){return new td(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}function ih(a,d){return Eg(a).then(function(){if(U(Ai(a),d))return zg(a).then(function(){throw new J("provider-already-linked");
})})}function Xe(a,d,b){var h=md(d);d=Nd(d);return $c({user:a,credential:h,additionalUserInfo:d,operationType:b})}function Ki(a,d){hg(a,d);return a.reload().then(function(){return a})}function gi(a,d,b,h,m){if(!Q())return ra(new J("operation-not-supported-in-this-environment"));if(a.i&&!m)return ra(a.i);var g=De(b.providerId),e=Kd(a.uid+":::"),c=null;(!jd()||id())&&a.u&&b.isOAuthProvider&&(c=$f(a.u,a.l,a.m,d,b,null,e,Xa.SDK_VERSION||null));var l=vb(c,g&&g.Ba,g&&g.Aa);h=h().then(function(){Li(a);if(!m)return a.F().then(function(){})}).then(function(){return Df(a.a,
l,d,b,e,!!c)}).then(function(){return new Ba(function(b,h){a.ha(d,null,new J("cancelled-popup-request"),a.g||null);a.f=b;a.v=h;a.g=e;a.c=a.a.Ea(a,d,l,e)})}).then(function(a){l&&Ka(l);return a?$c(a):null}).s(function(a){l&&Ka(l);throw a;});return ld(a,h,m)}function Ii(a,d,b,h,m){if(!Q())return ra(new J("operation-not-supported-in-this-environment"));if(a.i&&!m)return ra(a.i);var g=null,e=Kd(a.uid+":::");h=h().then(function(){Li(a);if(!m)return a.F().then(function(){})}).then(function(){a.aa=e;return zg(a)}).then(function(d){a.ba&&
(d=a.ba,d=d.b.set(ik,a.w(),d.a));return d}).then(function(){return a.a.Ca(d,b,e)}).s(function(d){g=d;if(a.ba)return hc(a.ba);throw g;}).then(function(){if(g)throw g;});return ld(a,h,m)}function Li(a){if(!a.a||!a.I){if(a.a&&!a.I)throw new J("internal-error");throw new J("auth-domain-config-required");}}function ld(a,d,b){var h=Ej(a,d,b);a.G.push(h);h.ia(function(){G(a.G,h)});return h}function Ej(a,d,b){return a.i&&!b?(d.cancel(),ra(a.i)):d.s(function(d){!d||"auth/user-disabled"!=d.code&&"auth/user-token-expired"!=
d.code||(a.i||a.dispatchEvent(new ae("userInvalidated")),a.i=d);throw d;})}function hi(a){if(!a.apiKey)return null;var d={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},b={};if(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime)b[wf]=a.stsTokenManager.accessToken,b.refreshToken=a.stsTokenManager.refreshToken||null,b.expiresIn=(a.stsTokenManager.expirationTime-rg())/1E3;else return null;var h=new Zc(d,b,a);a.providerData&&fd(a.providerData,function(a){a&&
Ve(h,$c(a))});a.redirectEventId&&(h.aa=a.redirectEventId);return h}function ej(a,d,b,h){var m=new Zc(a,d);b&&(m.ba=b);h&&hf(m,h);return m.reload().then(function(){return m})}function Ni(a,d,b,h){d=d||{apiKey:a.l,authDomain:a.u,appName:a.m};var m=a.h,g={};g[wf]=m.b;g.refreshToken=m.a;g.expiresIn=(m.c-rg())/1E3;d=new Zc(d,g);b&&(d.ba=b);h&&hf(d,h);kf(d,a);return d}function lg(a){this.a=a;this.b=Nh()}function hc(a){return vg(a.b,ik,a.a)}function nf(a,d){return a.b.get(ik,a.a).then(function(a){a&&d&&
(a.authDomain=d);return hi(a||{})})}function xd(a){this.a=a;this.b=Nh();this.c=null;this.f=Ci(this);this.b.addListener(va("local"),this.a,O(this.g,this))}function Mf(a,d){var b=[],h;for(h in si)si[h]!==d&&b.push(vg(a.b,va(si[h]),a.a));b.push(vg(a.b,jk,a.a));return Lb(b)}function Ci(a){var d=va("local"),b=va("session"),h=va("none");return mj(a.b,d,a.a).then(function(){return a.b.get(b,a.a)}).then(function(m){return m?b:a.b.get(h,a.a).then(function(b){return b?h:a.b.get(d,a.a).then(function(b){return b?
d:a.b.get(jk,a.a).then(function(a){return a?va(a):d})})})}).then(function(d){a.c=d;return Mf(a,d.B)}).s(function(){a.c||(a.c=d)})}function va(a){return{name:"authUser",B:a}}function fi(a){return qe(a,function(){return a.b.set(jk,a.c.B,a.a)})}function di(a,d){return qe(a,function(){return a.b.set(a.c,d.w(),a.a)})}function Fh(a){return qe(a,function(){return vg(a.b,a.c,a.a)})}function Eh(a,d){return qe(a,function(){return a.b.get(a.c,a.a).then(function(a){a&&d&&(a.authDomain=d);return hi(a||{})})})}
function qe(a,d){a.f=a.f.then(d,d);return a.f}function Dc(a){this.l=!1;oa(this,"settings",new Se);oa(this,"app",a);if(this.app.options&&this.app.options.apiKey)a=Xa.SDK_VERSION?l(Xa.SDK_VERSION):null,this.b=new re(this.app.options&&this.app.options.apiKey,ad(zj),a);else throw new J("invalid-api-key");this.N=[];this.m=[];this.I=[];this.Tb=Xa.INTERNAL.createSubscribe(O(this.oc,this));this.O=void 0;this.Ub=Xa.INTERNAL.createSubscribe(O(this.pc,this));he(this,null);this.h=new xd(this.app.options.apiKey+
":"+this.app.name);this.A=new lg(this.app.options.apiKey+":"+this.app.name);this.V=wb(this,ji(this));this.i=wb(this,yd(this));this.X=!1;this.ka=O(this.Oc,this);this.Ha=O(this.Z,this);this.ra=O(this.bc,this);this.sa=O(this.mc,this);this.ta=O(this.nc,this);rf(this);this.INTERNAL={};this.INTERNAL["delete"]=O(this.delete,this);this.INTERNAL.logFramework=O(this.vc,this);this.u=0;u.call(this);ii(this);this.G=[]}function Rd(a){gb.call(this,"languageCodeChanged");this.g=a}function Ih(a){gb.call(this,"frameworkChanged");
this.c=a}function ii(a){Object.defineProperty(a,"lc",{get:function(){return this.ea()},set:function(a){this.pa(a)},enumerable:!1});a.W=null}function cd(a){return a.Sb||ra(new J("auth-domain-config-required"))}function rf(a){var d=a.app.options.authDomain,b=a.app.options.apiKey;d&&Q()&&(a.Sb=a.V.then(function(){if(!a.l){a.a=me(d,b,a.app.name);a.a.subscribe(a);a.currentUser&&eh(a.currentUser);if(a.D){eh(a.D);var h=a.D;h.pa(a.ea());sd(h,a);h=a.D;hf(h,a.G);Bg(h,a);a.D=null}return a.a}}))}function Cd(a,
d){var b={};b.apiKey=a.app.options.apiKey;b.authDomain=a.app.options.authDomain;b.appName=a.app.name;return a.V.then(function(){return ej(b,d,a.A,a.ya())}).then(function(d){if(a.currentUser&&d.uid==a.currentUser.uid)return kf(a.currentUser,d),a.Z(d);he(a,d);eh(d);return a.Z(d)}).then(function(){Hg(a)})}function he(a,d){a.currentUser&&(zi(a.currentUser,a.Ha),mb(a.currentUser,"tokenChanged",a.ra),mb(a.currentUser,"userDeleted",a.sa),mb(a.currentUser,"userInvalidated",a.ta),Ue(a.currentUser));d&&(d.N.push(a.Ha),
Eb(d,"tokenChanged",a.ra),Eb(d,"userDeleted",a.sa),Eb(d,"userInvalidated",a.ta),0<a.u&&fh(d));oa(a,"currentUser",d);d&&(d.pa(a.ea()),sd(d,a),hf(d,a.G),Bg(d,a))}function mh(a){var d=nf(a.A,a.app.options.authDomain).then(function(d){if(a.D=d)d.ba=a.A;return hc(a.A)});return wb(a,d)}function ji(a){var d=a.app.options.authDomain,b=mh(a).then(function(){return Eh(a.h,d)}).then(function(d){return d?(d.ba=a.A,a.D&&(a.D.aa||null)==(d.aa||null)?d:d.reload().then(function(){return di(a.h,d).then(function(){return d})}).s(function(b){return"auth/network-request-failed"==
b.code?d:Fh(a.h)})):null}).then(function(d){he(a,d||null)});return wb(a,b)}function yd(a){return a.V.then(function(){return a.fa()}).s(function(){}).then(function(){if(!a.l)return a.ka()}).s(function(){}).then(function(){if(!a.l){a.X=!0;var d=a.h;d.b.addListener(va("local"),d.a,a.ka)}})}function ng(a,d){var b=null,h=null;return wb(a,d.then(function(d){b=md(d);h=Nd(d);return Cd(a,d)}).then(function(){return $c({user:a.currentUser,credential:b,additionalUserInfo:h,operationType:"signIn"})}))}function Of(a){return a.currentUser&&
a.currentUser._lat||null}function Hg(a){if(a.X){for(var d=0;d<a.m.length;d++)if(a.m[d])a.m[d](Of(a));if(a.O!==a.getUid()&&a.I.length)for(a.O=a.getUid(),d=0;d<a.I.length;d++)if(a.I[d])a.I[d](Of(a))}}function qf(a,d){a.I.push(d);wb(a,a.i.then(function(){!a.l&&U(a.I,d)&&a.O!==a.getUid()&&(a.O=a.getUid(),d(Of(a)))}))}function wb(a,d){a.N.push(d);d.ia(function(){G(a.N,d)});return d}function Hh(){}function pf(){this.a={};this.b=1E12}function Kh(a,d){return(d=Jh(d))?a.a[d]||null:null}function Jh(a){return(a=
"undefined"===typeof a?1E12:a)?a.toString():null}function Oh(a,d){this.g=!1;this.c=d;this.a=this.b=null;this.h="invisible"!==this.c.size;this.f=ne(a);var b=this;this.i=function(){b.execute()};this.h?this.execute():Eb(this.f,"click",this.i)}function oi(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!");}function pi(){}function M(){this.b=T.grecaptcha?Infinity:0;this.f=null;this.a="__rcb"+Math.floor(1E6*Math.random()).toString()}function ya(a,d,b,h,m,e,c){oa(this,"type","recaptcha");this.c=
this.f=null;this.D=!1;this.l=d;this.g=null;c?(kk||(kk=new pi),c=kk):(lk||(lk=new M),c=lk);this.m=c;this.a=b||{theme:"light",type:"image"};this.h=[];if(this.a[ll])throw new J("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");this.i="invisible"===this.a[Gm];if(!T.document)throw new J("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ne(d)||
!this.i&&ne(d).hasChildNodes())throw new J("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new re(a,e||null,m||null);this.v=h||function(){return null};var l=this;this.o=[];var w=this.a[ml];this.a[ml]=function(a){ic(l,a);if("function"===typeof w)w(a);else if("string"===typeof w){var d=g(w,T);"function"===typeof d&&d(a)}};var B=this.a[nl];this.a[nl]=function(){ic(l,null);if("function"===typeof B)B();else if("string"===typeof B){var a=g(B,T);"function"===
typeof a&&a()}}}function ic(a,d){for(var b=0;b<a.o.length;b++)try{a.o[b](d)}catch(qg){}}function ti(a,d){X(a.o,function(a){return a==d})}function ui(a,d){a.h.push(d);d.ia(function(){G(a.h,d)});return d}function Qg(a){if(a.D)throw new J("internal-error","RecaptchaVerifier instance has been destroyed.");}function vi(a,d,b){var h=!1;try{this.b=b||Xa.app()}catch(Og){throw new J("argument-error","No firebase.app.App instance is currently initialized.");}if(this.b.options&&this.b.options.apiKey)b=this.b.options.apiKey;
else throw new J("invalid-api-key");var m=this,g=null;try{g=this.b.auth().ya()}catch(Og){}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch(Og){}g=Xa.SDK_VERSION?l(Xa.SDK_VERSION,g):null;ya.call(this,b,a,d,function(){try{var a=m.b.auth().ea()}catch(ri){a=null}return a},g,ad(zj),h)}function Rg(a,d,b,h){a:{b=Array.prototype.slice.call(b);for(var m=0,g=!1,e=0;e<d.length;e++)if(d[e].optional)g=!0;else{if(g)throw new J("internal-error","Argument validator encountered a required argument after an optional argument.");
m++}g=d.length;if(b.length<m||g<b.length)h="Expected "+(m==g?1==m?"1 argument":m+" arguments":m+"-"+g+" arguments")+" but got "+b.length+".";else{for(m=0;m<b.length;m++)if(g=d[m].optional&&void 0===b[m],!d[m].M(b[m])&&!g){d=d[m];if(0>m||m>=ol.length)throw new J("internal-error","Argument validator received an unsupported number of arguments.");b=ol[m];h=(h?"":b+" argument ")+(d.name?'"'+d.name+'" ':"")+"must be "+d.K+".";break a}h=null}}if(h)throw new J("argument-error",a+" failed: "+h);}function ua(a,
d){return{name:a||"",K:"a valid string",optional:!!d,M:f}}function Aj(a,d){return{name:a||"",K:"a boolean",optional:!!d,M:n}}function Ec(a,d){return{name:a||"",K:"a valid object",optional:!!d,M:Z}}function Uh(a,d){return{name:a||"",K:"a function",optional:!!d,M:S}}function ah(a,d){return{name:a||"",K:"null",optional:!!d,M:z}}function tk(){return{name:"",K:"an HTML element",optional:!1,M:function(a){return!!(a&&a instanceof Element)}}}function yl(){return{name:"auth",K:"an instance of Firebase Auth",
optional:!0,M:function(a){return!!(a&&a instanceof Dc)}}}function Al(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(a){return!!(a&&a instanceof Xa.app.App)}}}function Ff(a){return{name:a?a+"Credential":"credential",K:a?"a valid "+a+" credential":"a valid credential",optional:!1,M:function(d){if(!d)return!1;var b=!a||d.providerId===a;return!(!d.la||!b)}}}function Zh(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&
a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}}function bj(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!!(a&&f(a.type)&&S(a.verify))}}}function Id(a,d,b,h){return{name:b||"",K:a.K+" or "+d.K,optional:!!h,M:function(b){return a.M(b)||d.M(b)}}}function Yc(a,d){for(var b in d){var h=d[b].name;a[h]=vk(h,a[b],d[b].j)}}function uk(a,d){for(var b in d){var h=d[b].name;h!==b&&Object.defineProperty(a,h,{get:F(function(a){return this[a]},
b),set:F(function(a,d,b,h){Rg(a,[b],[h],!0);this[d]=h},h,b,d[b].ub),enumerable:!0})}}function Jd(a,d,b,h){a[d]=vk(d,b,h)}function vk(a,d,b){function h(){var a=Array.prototype.slice.call(arguments);Rg(m,b,a);return d.apply(this,a)}if(!b)return d;var m=zl(a),g;for(g in d)h[g]=d[g];for(g in d.prototype)h.prototype[g]=d.prototype[g];return h}function zl(a){a=a.split(".");return a[a.length-1]}var Xa=c(148).default,Dj=Dj||{},T=this,Pl=/^[\w+/_-]+[=]{0,2}$/,Rj=null,qj="closure_uid_"+(1E9*Math.random()>>>
0),Dk=0,rg=Date.now||function(){return+new Date};W(K,Error);K.prototype.name="CustomError";W(ia,K);ia.prototype.name="AssertionError";ha.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next;a.next=null}else a=this.c();return a};var zk=new ha(function(){return new L},function(a){a.reset()});xa.prototype.add=function(a,d){var b=zk.get();b.set(a,d);this.b?this.b.next=b:this.a=b;this.b=b};L.prototype.set=function(a,d){this.a=a;this.b=d;this.next=null};L.prototype.reset=function(){this.next=
this.b=this.a=null};var xk=Array.prototype.indexOf?function(a,d){return Array.prototype.indexOf.call(a,d,void 0)}:function(a,d){if(f(a))return f(d)&&1==d.length?a.indexOf(d,0):-1;for(var b=0;b<a.length;b++)if(b in a&&a[b]===d)return b;return-1},fd=Array.prototype.forEach?function(a,d,b){Array.prototype.forEach.call(a,d,b)}:function(a,d,b){for(var h=a.length,m=f(a)?a.split(""):a,g=0;g<h;g++)g in m&&d.call(b,m[g],g,a)},Uj=Array.prototype.map?function(a,d){return Array.prototype.map.call(a,d,void 0)}:
function(a,d){for(var b=a.length,h=Array(b),m=f(a)?a.split(""):a,g=0;g<b;g++)g in m&&(h[g]=d.call(void 0,m[g],g,a));return h},gm=Array.prototype.some?function(a,d){return Array.prototype.some.call(a,d,void 0)}:function(a,d){for(var b=a.length,h=f(a)?a.split(""):a,m=0;m<b;m++)if(m in h&&d.call(void 0,h[m],m,a))return!0;return!1},Ek=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Cl=/&/g,Dl=/</g,El=/>/g,Fl=/"/g,Gl=/'/g,Hl=/\x00/g,Bl=
/[\x00&<>"']/;a:{var pl=T.navigator;if(pl){var ql=pl.userAgent;if(ql){var Ui=ql;break a}}Ui=""}var yk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Lj,oj,Kj=!1,wk=new xa,Ph=0,Wi=2,Pg=3;wa.prototype.reset=function(){this.f=this.b=this.g=this.a=null;this.c=!1};var Ak=new ha(function(){return new wa},function(a){a.reset()});Ba.prototype.then=function(a,d,b){return Nc(this,S(a)?a:null,S(d)?d:null,b)};Ba.prototype.$goog_Thenable=!0;var C=Ba.prototype;
C.ia=function(a,d){a=Ta(a,a,d);a.c=!0;jc(this,a);return this};C.s=function(a,d){return Nc(this,null,a,d)};C.cancel=function(a){this.a==Ph&&Ab(function(){var d=new Mb(a);Dd(this,d)},this)};C.Pc=function(a){this.a=Ph;fb(this,Wi,a)};C.Qc=function(a){this.a=Ph;fb(this,Pg,a)};C.Yb=function(){for(var a;a=tc(this);)Wa(this,a,this.a,this.i);this.h=!1};var Bk=db;W(Mb,K);Mb.prototype.name="cancel";var Mj=0,Ck={};kc.prototype.qa=!1;kc.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()};
Ca[" "]=r;var Hm=ja("Opera"),Sf=ja("Trident")||ja("MSIE"),rl=ja("Edge"),Sl=rl||Sf,Fk=ja("Gecko")&&!(ca(Ui.toLowerCase(),"webkit")&&!ja("Edge"))&&!(ja("Trident")||ja("MSIE"))&&!ja("Edge"),Im=ca(Ui.toLowerCase(),"webkit")&&!ja("Edge");a:{var mk="",nk=function(){var a=Ui;if(Fk)return/rv:([^\);]+)(\)|;)/.exec(a);if(rl)return/Edge\/([\d\.]+)/.exec(a);if(Sf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Im)return/WebKit\/(\S+)/.exec(a);if(Hm)return/(?:Version)[ \/]?(\S+)/.exec(a)}();nk&&(mk=nk?nk[1]:
"");if(Sf){var ok=Oc();if(null!=ok&&ok>parseFloat(mk)){var Nj=String(ok);break a}}Nj=mk}var Il={},sl=T.document;var vh=sl&&Sf?Oc()||("CSS1Compat"==sl.compatMode?parseInt(Nj,10):5):void 0;var Jm=Object.freeze||function(a){return a},Hk=!Sf||9<=Number(vh),Km=Sf&&!Pc("9"),Ll=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{T.addEventListener("test",r,d),T.removeEventListener("test",r,d)}catch(Ti){}return a}();
gb.prototype.preventDefault=function(){this.Kb=!1};W(Fa,gb);var Jl=Jm({2:"touch",3:"pen",4:"mouse"});Fa.prototype.preventDefault=function(){Fa.pb.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Km)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(nd){}};Fa.prototype.f=function(){return this.a};var Xi="closure_listenable_"+(1E6*Math.random()|0),Kl=0;Xb.prototype.add=function(a,d,b,h,m){var g=a.toString();(a=this.a[g])||(a=this.a[g]=
[],this.b++);var e=Nb(a,d,h,m);-1<e?(d=a[e],b||(d.Ia=!1)):(d=new lb(d,this.src,g,!!h,m),d.Ia=b,a.push(d));return d};var Oj="closure_lm_"+(1E6*Math.random()|0),Pj={},Gk=0,Qj="__closure_events_fn_"+(1E9*Math.random()>>>0);W(u,kc);u.prototype[Xi]=!0;u.prototype.addEventListener=function(a,d,b,h){Eb(this,a,d,b,h)};u.prototype.removeEventListener=function(a,d,b,h){mb(this,a,d,b,h)};u.prototype.dispatchEvent=function(a){var d,b=this.Wa;if(b)for(d=[];b;b=b.Wa)d.push(b);b=this.Rb;var h=a.type||a;if(f(a))a=
new gb(a,b);else if(a instanceof gb)a.target=a.target||b;else{var m=a;a=new gb(h,b);Na(a,m)}m=!0;if(d)for(var g=d.length-1;0<=g;g--){var e=a.b=d[g];m=mc(e,h,!0,a)&&m}e=a.b=b;m=mc(e,h,!0,a)&&m;m=mc(e,h,!1,a)&&m;if(d)for(g=0;g<d.length;g++)e=a.b=d[g],m=mc(e,h,!1,a)&&m;return m};u.prototype.va=function(){u.pb.va.call(this);if(this.o){var a=this.o,d=0,b;for(b in a.a){for(var h=a.a[b],m=0;m<h.length;m++)++d,Db(h[m]);delete a.a[b];a.b--}}this.Wa=null};C=dc.prototype;C.S=function(){Rc(this);for(var a=[],
d=0;d<this.a.length;d++)a.push(this.b[this.a[d]]);return a};C.U=function(){Rc(this);return this.a.concat()};C.clear=function(){this.b={};this.c=this.a.length=0};C.get=function(a,d){return ec(this.b,a)?this.b[a]:d};C.set=function(a,d){ec(this.b,a)||(this.c++,this.a.push(a));this.b[a]=d};C.forEach=function(a,d){for(var b=this.U(),h=0;h<b.length;h++){var m=b[h],g=this.get(m);a.call(d,g,m,this)}};var Ik=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;
Da.prototype.toString=function(){var a=[],d=this.c;d&&a.push(da(d,tl,!0),":");var b=this.b;if(b||"file"==d)a.push("//"),(d=this.o)&&a.push(da(d,tl,!0),"@"),a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.i,null!=b&&a.push(":",String(b));if(b=this.g)this.b&&"/"!=b.charAt(0)&&a.push("/"),a.push(da(b,"/"==b.charAt(0)?Lm:Mm,!0));(b=this.a.toString())&&a.push("?",b);(b=this.h)&&a.push("#",da(b,Nm));return a.join("")};var tl=/[#\/\?@]/g,Mm=/[#\?:]/g,Lm=/[#\?]/g,Ml=/[#\?@]/g,
Nm=/#/g;C=Sc.prototype;C.add=function(a,d){cb(this);this.c=null;a=nc(this,a);var b=this.a.get(a);b||this.a.set(a,b=[]);b.push(d);this.b+=1;return this};C.clear=function(){this.a=this.c=null;this.b=0};C.forEach=function(a,d){cb(this);this.a.forEach(function(b,h){fd(b,function(b){a.call(d,b,h,this)},this)},this)};C.U=function(){cb(this);for(var a=this.a.S(),d=this.a.U(),b=[],h=0;h<d.length;h++)for(var m=a[h],g=0;g<m.length;g++)b.push(d[h]);return b};C.S=function(a){cb(this);var d=[];if(f(a))we(this,
a)&&(d=na(d,this.a.get(nc(this,a))));else{a=this.a.S();for(var b=0;b<a.length;b++)d=na(d,a[b])}return d};C.set=function(a,d){cb(this);this.c=null;a=nc(this,a);we(this,a)&&(this.b-=this.a.get(a).length);this.a.set(a,[d]);this.b+=1;return this};C.get=function(a,d){if(!a)return d;a=this.S(a);return 0<a.length?String(a[0]):d};C.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],d=this.a.U(),b=0;b<d.length;b++){var h=d[b],m=encodeURIComponent(String(h));h=this.S(h);for(var g=
0;g<h.length;g++){var e=m;""!==h[g]&&(e+="\x3d"+encodeURIComponent(String(h[g])));a.push(e)}}return this.c=a.join("\x26")};var Ql=!Sf||9<=Number(vh);ub.prototype.na=!0;ub.prototype.ma=function(){return this.a};ub.prototype.toString=function(){return"Const{"+this.a+"}"};var Jk={},rj={};sb.prototype.na=!0;sb.prototype.ma=function(){return this.a.toString()};sb.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ol=/%{(\w+)}/g,Nl=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,
Kk={};gc.prototype.na=!0;gc.prototype.ma=function(){return this.a.toString()};gc.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Mk=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Lk={};Fd("about:blank");Gb.prototype.na=!0;Gb.prototype.ma=function(){return this.a.toString()};Gb.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Nk={};yc("\x3c!DOCTYPE html\x3e");yc("");yc("\x3cbr\x3e");var Ok={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",
height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Pk={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Rl=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,ym=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,om=/^[^@]+@[^@]+$/,Sj="Firefox",Qk="Chrome",Rk={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};Ea.prototype.get=function(){var a=T.navigator;
return(a&&"boolean"===typeof a.onLine&&(oc()||"chrome-extension:"===ud()||"undefined"!==typeof a.connection)?a.onLine:1)?this.b?this.c:this.a:Math.min(5E3,this.a)};var Sk={};try{var pk={};Object.defineProperty(pk,"abcd",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(pk,"abcd",{configurable:!0,enumerable:!0,value:2});var Tk=2==pk.abcd}catch(A){Tk=!1}var Wl="EMAIL_SIGNIN",Tl="email",Ul="newEmail",Vl="requestType",Yl="email",Xl="fromEmail",$l="data",Zl="operation";W(J,Error);J.prototype.w=
function(){return{code:this.code,message:this.message}};J.prototype.toJSON=function(){return this.w()};var Yi="auth/",am={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",
"captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.",
"requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.",
"internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.",
"invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",
"invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.",
"invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",
"invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",
"invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.",
"auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.",
"missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",
"network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",
"operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.",
"quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.",
"unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.",
"user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Uk="android",$k="dynamicLinkDomain",Tj="handleCodeInApp",Yk="iOS",bm="url",Wk="installApp",Xk="minimumVersion",Vk="packageName",Zk="bundleId",tj=null,sj=null;Hc.prototype.f=function(){return this.b};var Vj={bd:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",
jb:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};var zj=ad("__EID__")?"__EID__":void 0;var bl="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),
uj=["client_id","response_type","scope","redirect_uri","state"],Wj={Xc:{Na:"locale",Ba:500,Aa:600,Oa:"facebook.com",ib:uj},Zc:{Na:null,Ba:500,Aa:620,Oa:"github.com",ib:uj},$c:{Na:"hl",Ba:515,Aa:680,Oa:"google.com",ib:uj},fd:{Na:"lang",Ba:485,Aa:705,Oa:"twitter.com",ib:bl}},Xj="idToken",al="providerId";W(Lc,R);W(mf,Lc);W($d,Lc);W(ee,Lc);W(ig,Lc);wd.prototype.la=function(a){return Yf(a,Ee(this))};wd.prototype.b=function(a,d){var b=Ee(this);b.idToken=d;return Le(a,b)};wd.prototype.f=function(a,d){return bd(df(a,
Ee(this)),d)};wd.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};Pd.prototype.la=function(a){return Yf(a,Od(this))};Pd.prototype.b=function(a,d){var b=Od(this);b.idToken=d;return Le(a,b)};Pd.prototype.f=function(a,d){var b=Od(this);return bd(df(a,b),d)};Pd.prototype.w=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};this.idToken&&(a.oauthIdToken=this.idToken);this.accessToken&&(a.oauthAccessToken=this.accessToken);
this.secret&&(a.oauthTokenSecret=this.secret);this.nonce&&(a.nonce=this.nonce);this.a&&(a.pendingToken=this.a);return a};ge.prototype.Da=function(a){this.zb=La(a);return this};W(Ze,ge);W(pb,ge);pb.prototype.ua=function(a){U(this.a,a)||this.a.push(a);return this};pb.prototype.Fb=function(){return Ra(this.a)};pb.prototype.credential=function(a,d){var b;Z(a)?b={idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:b={idToken:a||null,accessToken:d||null};if(!b.idToken&&!b.accessToken)throw new J("argument-error",
"credential failed: must provide the ID token and/or the access token.");return new Pd(this.providerId,b,this.providerId)};W(Cc,pb);oa(Cc,"PROVIDER_ID","facebook.com");oa(Cc,"FACEBOOK_SIGN_IN_METHOD","facebook.com");W(Ub,pb);oa(Ub,"PROVIDER_ID","github.com");oa(Ub,"GITHUB_SIGN_IN_METHOD","github.com");W(Ge,pb);oa(Ge,"PROVIDER_ID","google.com");oa(Ge,"GOOGLE_SIGN_IN_METHOD","google.com");W(dd,ge);oa(dd,"PROVIDER_ID","twitter.com");oa(dd,"TWITTER_SIGN_IN_METHOD","twitter.com");Vb.prototype.la=function(a){return this.signInMethod==
Cb.EMAIL_LINK_SIGN_IN_METHOD?eb(a,Om,{email:this.a,oobCode:this.c}):eb(a,ul,{email:this.a,password:this.c})};Vb.prototype.b=function(a,d){return this.signInMethod==Cb.EMAIL_LINK_SIGN_IN_METHOD?eb(a,Pm,{idToken:d,email:this.a,oobCode:this.c}):eb(a,vl,{idToken:d,email:this.a,password:this.c})};Vb.prototype.f=function(a,d){return bd(this.la(a),d)};Vb.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}};bb(Cb,{PROVIDER_ID:"password"});bb(Cb,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"});
bb(Cb,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});fe.prototype.la=function(a){return a.Va(Ld(this))};fe.prototype.b=function(a,d){var b=Ld(this);b.idToken=d;return eb(a,Qm,b)};fe.prototype.f=function(a,d){var b=Ld(this);b.operation="REAUTH";a=eb(a,Rm,b);return bd(a,d)};fe.prototype.w=function(){var a={providerId:"phone"};this.a.Ua&&(a.verificationId=this.a.Ua);this.a.Ta&&(a.verificationCode=this.a.Ta);this.a.Fa&&(a.temporaryProof=this.a.Fa);this.a.$&&(a.phoneNumber=this.a.$);return a};w.prototype.Va=
function(a,d){var b=this.a.b;return la(d.verify()).then(function(h){if(!f(h))throw new J("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(d.type){case "recaptcha":return wh(b,{phoneNumber:a,recaptchaToken:h}).then(function(a){"function"===typeof d.reset&&d.reset();return a},function(a){"function"===typeof d.reset&&d.reset();throw a;});default:throw new J("argument-error",'Only firebase.auth.ApplicationVerifiers with type\x3d"recaptcha" are currently supported.');
}})};bb(w,{PROVIDER_ID:"phone"});bb(w,{PHONE_SIGN_IN_METHOD:"phone"});ed.prototype.getUid=function(){var a=[];a.push(this.c);this.b&&a.push(this.b);this.f&&a.push(this.f);this.i&&a.push(this.i);return a.join("-")};ed.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var fk=null;ce.prototype.subscribe=function(a){var d=this;this.a.push(a);this.b||(this.b=function(a){for(var b=0;b<d.a.length;b++)d.a[b](a)},a=g("universalLinks.subscribe",
T),"function"===typeof a&&a(null,this.b))};ce.prototype.unsubscribe=function(a){X(this.a,function(d){return d==a})};W(of,J);W(jb,J);jb.prototype.w=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email);this.phoneNumber&&(a.phoneNumber=this.phoneNumber);var d=this.credential&&this.credential.w();d&&Na(a,d);return a};jb.prototype.toJSON=function(){return this.w()};mg.prototype.c=null;W(Yb,mg);Yb.prototype.a=function(){var a=Ig(this);return a?new ActiveXObject(a):new XMLHttpRequest};
Yb.prototype.b=function(){var a={};Ig(this)&&(a[0]=!0,a[1]=!0);return a};var dl=new Yb;W(Pf,mg);Pf.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new jh;throw Error("Unsupported browser");};Pf.prototype.b=function(){return{}};C=jh.prototype;C.open=function(a,d,b){if(null!=b&&!b)throw Error("Only async requests are supported.");this.a.open(a,d)};C.send=function(a){if(a)if("string"==typeof a)this.a.send(a);else throw Error("Only string data is supported");
else this.a.send()};C.abort=function(){this.a.abort()};C.setRequestHeader=function(){};C.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""};C.fc=function(){this.status=200;this.response=this.responseText=this.a.responseText;nh(this,4)};C.Gb=function(){this.status=500;this.response=this.responseText="";nh(this,4)};C.kc=function(){this.Gb()};C.gc=function(){this.status=200;nh(this,1)};C.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};
oh.prototype.a=null;var Sm=0;oh.prototype.reset=function(a,d,b,h,m){"number"==typeof m||Sm++;h||rg();delete this.a};og.prototype.toString=function(){return this.name};var el=new og("SEVERE",1E3),qk=new og("WARNING",900),cm=new og("CONFIG",700),dm=new og("FINE",500);ph.prototype.log=function(a,d,b){if(a.value>=qh(this).value)for(S(d)&&(d=d()),a=new oh(a,String(d),this.f),b&&(a.a=b),b=this;b;)b=b.a};var Yj={},vj=null;W(hb,mg);hb.prototype.a=function(){return new $e(this.f)};hb.prototype.b=function(a){return function(){return a}}({});
W($e,u);var Zj=0;C=$e.prototype;C.open=function(a,d){if(this.readyState!=Zj)throw this.abort(),Error("Error reopening a connection");this.m=a;this.g=d;this.readyState=1;Kg(this)};C.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var d={headers:this.i,method:this.m,credentials:void 0,cache:void 0};a&&(d.body=a);this.u.fetch(new Request(this.g,d)).then(this.jc.bind(this),this.La.bind(this))};C.abort=function(){this.response=this.responseText=
"";this.i=new Headers;this.status=0;this.c&&this.c.cancel("Request was aborted.");1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,He(this,!1));this.readyState=Zj};C.jc=function(a){this.a&&(this.f=a,this.b||(this.b=a.headers,this.readyState=2,Kg(this)),this.a&&(this.readyState=3,Kg(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.hc.bind(this),this.La.bind(this)):"undefined"!==typeof T.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),
this.l=new TextDecoder,Qf(this)):a.text().then(this.ic.bind(this),this.La.bind(this)))))};C.ec=function(a){if(this.a){var d=this.l.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});d&&(this.response=this.responseText+=d);a.done?He(this,!0):Kg(this);3==this.readyState&&Qf(this)}};C.ic=function(a){this.a&&(this.response=this.responseText=a,He(this,!0))};C.hc=function(a){this.a&&(this.response=a,He(this,!0))};C.La=function(a){var d=this.h;d&&d.log(qk,"Failed to fetch url "+this.g,a instanceof
Error?a:Error(a));this.a&&He(this,!0)};C.setRequestHeader=function(a,d){this.i.append(a,d)};C.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.h)&&a.log(qk,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")};C.getAllResponseHeaders=function(){if(!this.b){var a=this.h;a&&a.log(qk,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0);return""}a=[];for(var d=this.b.entries(),
b=d.next();!b.done;)b=b.value,a.push(b[0]+": "+b[1]),b=d.next();return a.join("\r\n")};W(sf,u);var cl="";sf.prototype.b=Jg("goog.net.XhrIo");var fm=/^https?$/i,em=["POST","PUT"];C=sf.prototype;C.Ga=function(){"undefined"!=typeof Dj&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ie(this.b,Td(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};C.abort=function(){this.a&&this.c&&(ie(this.b,Td(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),
this.dispatchEvent("abort"),xf(this))};C.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),xf(this,!0));sf.pb.va.call(this)};C.Jb=function(){this.qa||(this.I||this.i||this.f?sg(this):this.yc())};C.yc=function(){sg(this)};C.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case cl:case "text":return this.a.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=
this.b;a&&a.log(el,"Response type "+this.m+" is not supported on this browser",void 0);return null}catch(nd){return ie(this.b,"Can not get response: "+nd.message),null}};Je.prototype.cancel=function(a){if(this.a)this.c instanceof Je&&this.c.cancel();else{if(this.b){var d=this.b;delete this.b;a?d.cancel(a):(d.o--,0>=d.o&&d.cancel())}this.v?this.v.call(this.u,this):this.l=!0;this.a||(a=new Rf(this),te(this),se(this,!1,a))}};Je.prototype.m=function(a,d){this.i=!1;se(this,a,d)};Je.prototype.then=function(a,
d,b){var h,m,g=new Ba(function(a,d){h=a;m=d});Xf(this,h,function(a){a instanceof Rf?g.cancel():m(a)});return g.then(a,d,b)};Je.prototype.$goog_Thenable=!0;W(tf,K);tf.prototype.message="Deferred has already fired";tf.prototype.name="AlreadyCalledError";W(Rf,K);Rf.prototype.message="Deferred was canceled";Rf.prototype.name="CanceledError";je.prototype.c=function(){delete wj[this.a];throw this.b;};var wj={},im=0,hm=1;W(Ud,K);W(Lg,mg);Lg.prototype.a=function(){return new this.f};Lg.prototype.b=function(){return{}};
var ak,wf="idToken",jm=new Ea(3E4,6E4),km={"Content-Type":"application/x-www-form-urlencoded"},lm=new Ea(3E4,6E4),mm={"Content-Type":"application/json"};re.prototype.m=function(a,d,b,h,m,g){if(Sb()&&("undefined"===typeof T.fetch||"undefined"===typeof T.Headers||"undefined"===typeof T.Request))throw new J("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var e=new sf(this.c);
if(g){e.g=Math.max(0,g);var c=setTimeout(function(){e.dispatchEvent("timeout")},g)}H(e,"complete",function(){c&&clearTimeout(c);var a=null;try{a=JSON.parse(yf(this))||null}catch(pj){a=null}d&&d(a)});Wd(e,"ready",function(){c&&clearTimeout(c);Wb(this)});Wd(e,"timeout",function(){c&&clearTimeout(c);Wb(this);d&&d(null)});qb(e,a,b,h,m)};var nm=new ub(rj,"https://apis.google.com/js/client.js?onload\x3d%{onload}"),fl="__fcb"+Math.floor(1E6*Math.random()).toString();re.prototype.l=function(a,d,b,h,m){var g=
this;ak.then(function(){window.gapi.client.setApiKey(g.b);var e=window.gapi.auth.getToken();window.gapi.auth.setToken(null);window.gapi.client.request({path:a,method:b,body:h,headers:m,authType:"none",callback:function(a){window.gapi.auth.setToken(e);d&&d(a)}})}).s(function(a){d&&d({error:{message:a&&a.message||"CORS_UNSUPPORTED"}})})};re.prototype.Ra=function(){return eb(this,Tm,{})};re.prototype.qb=function(a,d){return eb(this,wl,{idToken:a,email:d})};re.prototype.rb=function(a,d){return eb(this,
vl,{idToken:a,password:d})};var Um={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};C=re.prototype;C.sb=function(a,d){var b={idToken:a},h=[];qa(Um,function(a,m){var g=d[m];null===g?h.push(a):m in d&&(b[m]=g)});h.length&&(b.deleteAttribute=h);return eb(this,wl,b)};C.lb=function(a,d){a={requestType:"PASSWORD_RESET",email:a};Na(a,d);return eb(this,Vm,a)};C.mb=function(a,d){a={requestType:"EMAIL_SIGNIN",email:a};Na(a,d);return eb(this,Wm,a)};C.kb=function(a,d){a={requestType:"VERIFY_EMAIL",idToken:a};
Na(a,d);return eb(this,Xm,a)};C.Va=function(a){return eb(this,Ym,a)};C.$a=function(a,d){return eb(this,Zm,{oobCode:a,newPassword:d})};C.Ja=function(a){return eb(this,$m,{oobCode:a})};C.Xa=function(a){return eb(this,an,{oobCode:a})};var an={endpoint:"setAccountInfo",C:Cf,da:"email"},$m={endpoint:"resetPassword",C:Cf,J:function(a){var d=a.requestType;if(!d||!a.email&&"EMAIL_SIGNIN"!=d)throw new J("internal-error");}},bn={endpoint:"signupNewUser",C:function(a){uf(a);if(!a.password)throw new J("weak-password");
},J:Ie,R:!0},gl={endpoint:"createAuthUri"},cn={endpoint:"deleteAccount",T:["idToken"]},rm={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(a){if(!k(a.deleteProvider))throw new J("internal-error");}},Om={endpoint:"emailLinkSignin",T:["email","oobCode"],C:uf,J:Ie,R:!0},Pm={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:uf,J:Ie,R:!0},Fm={endpoint:"getAccountInfo"},Wm={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new J("internal-error");
uf(a)},da:"email"},Xm={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new J("internal-error");},da:"email"},Vm={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(a){if("PASSWORD_RESET"!=a.requestType)throw new J("internal-error");uf(a)},da:"email"},pm={vb:!0,endpoint:"getProjectConfig",Ib:"GET"},dn={vb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(a){if(!a.recaptchaSiteKey)throw new J("internal-error");}},Zm={endpoint:"resetPassword",
C:Cf,da:"email"},qm={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},wl={endpoint:"setAccountInfo",T:["idToken"],C:Mh,R:!0},vl={endpoint:"setAccountInfo",T:["idToken"],C:function(a){Mh(a);if(!a.password)throw new J("weak-password");},J:Ie,R:!0},Tm={endpoint:"signupNewUser",J:Ie,R:!0},sm={endpoint:"verifyAssertion",C:Ke,Pa:ve,J:ki,R:!0},um={endpoint:"verifyAssertion",C:Ke,Pa:ve,J:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new J("user-not-found");
if(a.errorMessage)throw af(a.errorMessage);if(!a[wf])throw new J("internal-error");},R:!0},tm={endpoint:"verifyAssertion",C:function(a){Ke(a);if(!a.idToken)throw new J("internal-error");},Pa:ve,J:ki,R:!0},en={endpoint:"verifyCustomToken",C:function(a){if(!a.token)throw new J("invalid-custom-token");},J:Ie,R:!0},ul={endpoint:"verifyPassword",C:function(a){uf(a);if(!a.password)throw new J("wrong-password");},J:Ie,R:!0},Ym={endpoint:"verifyPhoneNumber",C:tg,J:Ie},Qm={endpoint:"verifyPhoneNumber",C:function(a){if(!a.idToken)throw new J("internal-error");
tg(a)},J:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",Nf(a);Ie(a)}},Rm={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:tg,J:Ie},xm=new ub(rj,"https://apis.google.com/js/api.js?onload\x3d%{onload}"),wm=new Ea(3E4,6E4),vm=new Ea(5E3,15E3),xj=null;ff.prototype.toString=function(){this.f?Ma(this.a,"v",this.f):ib(this.a.a,"v");this.b?Ma(this.a,"eid",this.b):ib(this.a.a,"eid");this.c.length?Ma(this.a,"fw",this.c.join(",")):ib(this.a.a,"fw");return this.a.toString()};
xh.prototype.toString=function(){var a=pa(this.m,"/__/auth/handler");Ma(a,"apiKey",this.l);Ma(a,"appName",this.c);Ma(a,"authType",this.o);if(this.a.isOAuthProvider){var d=this.a;try{var b=Xa.app(this.c).auth().ea()}catch(ri){b=null}d.ab=b;Ma(a,"providerId",this.a.providerId);d=this.a;b=ob(d.zb);for(var h in b)b[h]=b[h].toString();h=d.Fc;b=La(b);for(var m=0;m<h.length;m++){var g=h[m];g in b&&delete b[g]}d.eb&&d.ab&&!b[d.eb]&&(b[d.eb]=d.ab);Oa(b)||Ma(a,"customParameters",Ga(b))}"function"===typeof this.a.Fb&&
(d=this.a.Fb(),d.length&&Ma(a,"scopes",d.join(",")));this.i?Ma(a,"redirectUrl",this.i):ib(a.a,"redirectUrl");this.g?Ma(a,"eventId",this.g):ib(a.a,"eventId");this.h?Ma(a,"v",this.h):ib(a.a,"v");if(this.b)for(var e in this.b)this.b.hasOwnProperty(e)&&!fc(a,e)&&Ma(a,e,this.b[e]);this.f?Ma(a,"eid",this.f):ib(a.a,"eid");e=Xg(this.c);e.length&&Ma(a,"fw",e.join(","));return a.toString()};C=Wg.prototype;C.Ea=function(a,d,b){var h=new J("popup-closed-by-user"),m=new J("web-storage-unsupported"),g=this,e=!1;
return this.ga().then(function(){wi(g).then(function(b){b||(a&&Ka(a),d(m),e=!0)})}).s(function(){}).then(function(){if(!e)return rd(a)}).then(function(){if(!e)return Ya(b).then(function(){d(h)})})};C.Mb=function(){var a=b();return!jd(a)&&!oe(a)};C.Hb=function(){return!1};C.Db=function(a,d,b,h,m,g,e){if(!a)return ra(new J("popup-blocked"));if(e&&!jd())return this.ga().s(function(d){Ka(a);m(d)}),h(),la();this.a||(this.a=Yg(Zg(this)));var c=this;return this.a.then(function(){var d=c.ga().s(function(d){Ka(a);
m(d);throw d;});h();return d}).then(function(){Gg(b);if(!e){var h=$f(c.l,c.f,c.b,d,b,null,g,c.c,void 0,c.h);Re(h,a)}}).s(function(a){"auth/network-request-failed"==a.code&&(c.a=null);throw a;})};C.Ca=function(a,d,b){this.a||(this.a=Yg(Zg(this)));var h=this;return this.a.then(function(){Gg(d);var m=$f(h.l,h.f,h.b,a,d,$a(),b,h.c,void 0,h.h);Re(m)}).s(function(a){"auth/network-request-failed"==a.code&&(h.a=null);throw a;})};C.ga=function(){var a=this;return ug(this).then(function(){return a.i.gb}).s(function(){a.a=
null;throw new J("network-request-failed");})};C.Qb=function(){return!0};C.wa=function(a){this.g.push(a)};C.Ka=function(a){X(this.g,function(d){return d==a})};C=yh.prototype;C.get=function(a){return la(this.a.getItem(a)).then(function(a){return a&&kd(a)})};C.set=function(a,d){return la(this.a.setItem(a,Ga(d)))};C.P=function(a){return la(this.a.removeItem(a))};C.Y=function(){};C.ca=function(){};var hl=[];h.prototype.f=function(a){var d=a.data.eventType,b=a.data.eventId,h=this.a[d];if(h&&0<h.length){a.ports[0].postMessage({status:"ack",
eventId:b,eventType:d,response:null});var m=[];fd(h,function(d){m.push(la().then(function(){return d(a.origin,a.data.data)}))});sc(m).then(function(h){var m=[];fd(h,function(a){m.push({fulfilled:a.Eb,value:a.value,reason:a.reason?a.reason.message:void 0})});fd(m,function(a){for(var d in a)"undefined"===typeof a[d]&&delete a[d]});a.ports[0].postMessage({status:"done",eventId:b,eventType:d,response:m})})}};h.prototype.subscribe=function(a,d){Oa(this.a)&&this.b.addEventListener("message",this.c);"undefined"===
typeof this.a[a]&&(this.a[a]=[]);this.a[a].push(d)};h.prototype.unsubscribe=function(a,d){"undefined"!==typeof this.a[a]&&d?(X(this.a[a],function(a){return a==d}),0==this.a[a].length&&delete this.a[a]):d||delete this.a[a];Oa(this.a)&&this.b.removeEventListener("message",this.c)};d.prototype.postMessage=function(a,d){this.a.postMessage(a,d)};m.prototype.close=function(){for(;0<this.a.length;)ea(this,this.a[0]);this.b=!0};var bk;C=Vd.prototype;C.set=function(a,d){var b=!1,h,m=this;return pg(this).then(function(d){h=
d;d=sh(vf(h,!0));return Ng(d.get(a))}).then(function(g){var e=sh(vf(h,!0));if(g)return g.value=d,Ng(e.put(g));m.b++;b=!0;g={};g.fbase_key=a;g.value=d;return Ng(e.add(g))}).then(function(){m.c[a]=d;return Pi(m,a)}).ia(function(){b&&m.b--})};C.get=function(a){return pg(this).then(function(d){return Ng(sh(vf(d,!1)).get(a))}).then(function(a){return a&&a.value})};C.P=function(a){var d=!1,b=this;return pg(this).then(function(h){d=!0;b.b++;return Ng(sh(vf(h,!0))["delete"](a))}).then(function(){delete b.c[a];
return Pi(b,a)}).ia(function(){d&&b.b--})};C.Y=function(a){0==this.a.length&&hj(this);this.a.push(a)};C.ca=function(a){X(this.a,function(d){return d==a});0==this.a.length&&uh(this)};C=ij.prototype;C.get=function(a){return this.b.then(function(d){return d.get(a)})};C.set=function(a,d){return this.b.then(function(b){return b.set(a,d)})};C.P=function(a){return this.b.then(function(d){return d.P(a)})};C.Y=function(a){this.a.push(a)};C.ca=function(a){X(this.a,function(d){return d==a})};C=zh.prototype;
C.get=function(a){return la(this.a[a])};C.set=function(a,d){this.a[a]=d;return la()};C.P=function(a){delete this.a[a];return la()};C.Y=function(){};C.ca=function(){};C=li.prototype;C.get=function(a){var d=this;return la().then(function(){var b=d.a.getItem(a);return kd(b)})};C.set=function(a,d){var b=this;return la().then(function(){var h=Ga(d);null===h?b.P(a):b.a.setItem(a,h)})};C.P=function(a){var d=this;return la().then(function(){d.a.removeItem(a)})};C.Y=function(a){T.window&&Eb(T.window,"storage",
a)};C.ca=function(a){T.window&&mb(T.window,"storage",a)};C=Qi.prototype;C.get=function(){return la(null)};C.set=function(){return la()};C.P=function(){return la()};C.Y=function(){};C.ca=function(){};C=Ri.prototype;C.get=function(a){var d=this;return la().then(function(){var b=d.a.getItem(a);return kd(b)})};C.set=function(a,d){var b=this;return la().then(function(){var h=Ga(d);null===h?b.P(a):b.a.setItem(a,h)})};C.P=function(a){var d=this;return la().then(function(){d.a.removeItem(a)})};C.Y=function(){};
C.ca=function(){};var ck,zm={B:li,Sa:Ri},Am={B:li,Sa:Ri},Bm={B:yh,Sa:Qi},Cm={B:li,Sa:Qi},si={ad:"local",NONE:"none",cd:"session"},dk;C=lj.prototype;C.get=function(a,d){return ag(this,a.B).get(bg(a,d))};C.set=function(a,d,b){var h=bg(a,b),m=this,g=ag(this,a.B);return g.set(h,d).then(function(){return g.get(h)}).then(function(d){"local"==a.B&&(m.b[h]=d)})};C.addListener=function(a,d,b){a=bg(a,d);this.o&&(this.b[a]=T.localStorage.getItem(a));Oa(this.a)&&(ag(this,"local").Y(this.f),this.h||(Gd()||!Ae())&&
T.indexedDB||!this.o||Sh(this));this.a[a]||(this.a[a]=[]);this.a[a].push(b)};C.removeListener=function(a,d,b){a=bg(a,d);this.a[a]&&(X(this.a[a],function(a){return a==b}),0==this.a[a].length&&delete this.a[a]);Oa(this.a)&&(ag(this,"local").ca(this.f),$g(this))};C.Pb=function(a){if(a&&a.f){var d=a.a.key;if(null==d)for(var b in this.a){var h=this.b[b];"undefined"===typeof h&&(h=null);var m=T.localStorage.getItem(b);m!==h&&(this.b[b]=m,this.Ya(b))}else if(0==d.indexOf("firebase:")&&this.a[d]){"undefined"!==
typeof a.a.a?ag(this,"local").ca(this.f):$g(this);if(this.m)if(b=T.localStorage.getItem(d),h=a.a.newValue,h!==b)null!==h?T.localStorage.setItem(d,h):T.localStorage.removeItem(d);else if(this.b[d]===h&&"undefined"===typeof a.a.a)return;var g=this;b=function(){if("undefined"!==typeof a.a.a||g.b[d]!==T.localStorage.getItem(d))g.b[d]=T.localStorage.getItem(d),g.Ya(d)};Sf&&vh&&10==vh&&T.localStorage.getItem(d)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(b,10):b()}}else fd(a,O(this.Ya,this))};
C.Ya=function(a){this.a[a]&&fd(this.a[a],function(a){a()})};var ek={name:"authEvent",B:"local"},yj;W(mi,function(){this.b=-1});for(var il=64,fn=il-1,xl=[],rk=0;rk<fn;rk++)xl[rk]=0;var kl=na(128,xl);mi.prototype.reset=function(){this.g=this.c=0;this.a=T.Int32Array?new Int32Array(this.h):Ra(this.h)};var jl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,
264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];W(Wh,mi);
var Dm=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];C=ch.prototype;C.ga=function(){return this.za?this.za:this.za=tb().then(function(){if("function"!==typeof g("universalLinks.subscribe",T))throw bh("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof g("BuildInfo.packageName",T))throw bh("cordova-plugin-buildinfo is not installed");if("function"!==typeof g("cordova.plugins.browsertab.openUrl",T))throw bh("cordova-plugin-browsertab is not installed");
if("function"!==typeof g("cordova.InAppBrowser.open",T))throw bh("cordova-plugin-inappbrowser is not installed");},function(){throw new J("cordova-not-ready");})};C.Ea=function(a,d){d(new J("operation-not-supported-in-this-environment"));return la()};C.Db=function(){return ra(new J("operation-not-supported-in-this-environment"))};C.Qb=function(){return!1};C.Mb=function(){return!0};C.Hb=function(){return!0};C.Ca=function(a,d,h){if(this.c)return ra(new J("redirect-operation-pending"));var m=this,e=
T.document,c=null,l=null,w=null,B=null;return this.c=la().then(function(){Gg(d);return dh(m)}).then(function(){return ni(m,a,d,h)}).then(function(){return(new Ba(function(a,d){l=function(){var d=g("cordova.plugins.browsertab.close",T);a();"function"===typeof d&&d();m.a&&"function"===typeof m.a.close&&(m.a.close(),m.a=null);return!1};m.wa(l);w=function(){c||(c=Ya(2E3).then(function(){d(new J("redirect-cancelled-by-user"))}))};B=function(){Aa()&&w()};e.addEventListener("resume",w,!1);b().toLowerCase().match(/android/)||
e.addEventListener("visibilitychange",B,!1)})).s(function(a){return Si(m).then(function(){throw a;})})}).ia(function(){w&&e.removeEventListener("resume",w,!1);B&&e.removeEventListener("visibilitychange",B,!1);c&&c.cancel();l&&m.Ka(l);m.c=null})};C.wa=function(a){this.b.push(a);dh(this).s(function(d){"auth/invalid-cordova-configuration"===d.code&&(d=new ed("unknown",null,null,null,new J("no-auth-event")),a(d))})};C.Ka=function(a){X(this.b,function(d){return d==a})};var gk={name:"pendingRedirect",B:"session"};
C=Gh.prototype;C.reset=function(){this.f=!1;this.a.Ka(this.o);this.a=dj(this.A,this.l,this.m);this.i={}};C.Za=function(){this.b.Za()};C.subscribe=function(a){U(this.h,a)||this.h.push(a);if(!this.f){var d=this;fj(this.g).then(function(a){a?Mi(d.g).then(function(){Xh(d).s(function(a){var b=new ed("unknown",null,null,null,new J("operation-not-supported-in-this-environment"));qd(a)&&d.cb(b)})}):wg(d)}).s(function(){wg(d)})}};C.unsubscribe=function(a){X(this.h,function(d){return d==a})};C.cb=function(a){if(!a)throw new J("invalid-auth-event");
6E5<=rg()-this.u&&(this.i={},this.u=0);if(a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var d=!1,b=0;b<this.h.length;b++){var h=this.h[b];if(h.wb(a.c,a.b)){if(d=this.c[a.c])d.h(a,h),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.u=rg());d=!0;break}}Yh(this.b);return d};var gn=new Ea(2E3,1E4),Em=new Ea(3E4,6E4);Gh.prototype.fa=function(){return this.b.fa()};Gh.prototype.Ca=function(a,d,b){var h=this,m;return Hi(this.g).then(function(){return h.a.Ca(a,d,b).s(function(a){if(qd(a))throw new J("operation-not-supported-in-this-environment");
m=a;return Mi(h.g).then(function(){throw m;})}).then(function(){return h.a.Qb()?new Ba(function(){}):Mi(h.g).then(function(){return h.fa()}).then(function(){}).s(function(){})})})};Gh.prototype.Ea=function(a,d,b,h){return this.a.Ea(b,function(b){a.ha(d,null,b,h)},gn.get())};var hk={};Oe.prototype.reset=function(){this.b=null;this.a&&(this.a.cancel(),this.a=null)};Oe.prototype.h=function(a,d){if(a){this.reset();this.g=!0;var b=a.c,h=a.b,m=a.a&&"auth/web-storage-unsupported"==a.a.code,g=a.a&&"auth/operation-not-supported-in-this-environment"==
a.a.code;this.i=!(!m&&!g);"unknown"!=b||m||g?a.a?(gf(this,!0,null,a.a),la()):d.xa(b,h)?yi(this,a,d):ra(new J("invalid-auth-event")):(gf(this,!1,null,null),la())}else ra(new J("invalid-auth-event"))};Oe.prototype.Za=function(){this.g&&!this.i&&gf(this,!1,null,null)};Oe.prototype.fa=function(){var a=this;return new Ba(function(d,b){a.b?a.b().then(d,b):(a.f.push(d),a.c.push(b),hh(a))})};ai.prototype.h=function(a,d){if(a){var b=a.c,h=a.b;a.a?(d.ha(a.c,null,a.a,a.b),la()):d.xa(b,h)?Bh(a,d):ra(new J("invalid-auth-event"))}else ra(new J("invalid-auth-event"))};
yg.prototype.confirm=function(a){a=Ha(this.verificationId,a);return this.a(a)};Di.prototype.start=function(){this.a=this.c;Bi(this,!0)};Di.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};Ei.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}};Ei.prototype.getToken=function(a){a=!!a;return this.b&&!this.a?ra(new J("user-token-expired")):a||!this.b||rg()>this.c-3E4?this.a?$h(this,{grant_type:"refresh_token",refresh_token:this.a}):
la(null):la({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})};eg.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};W(ae,gb);W(Zc,u);Zc.prototype.pa=function(a){this.ka=a;rh(this.b,a)};Zc.prototype.ea=function(){return this.ka};Zc.prototype.ya=function(){return Ra(this.O)};Zc.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())};oa(Zc.prototype,"providerId","firebase");C=Zc.prototype;C.reload=function(){var a=this;return ld(this,We(this).then(function(){return Eg(a).then(function(){return zg(a)}).then(Hf)}))};
C.dc=function(a){return this.F(a).then(function(a){return new gh(a)})};C.F=function(a){var d=this;return ld(this,We(this).then(function(){return d.h.getToken(a)}).then(function(a){if(!a)throw new J("internal-error");a.accessToken!=d.ra&&(Ag(d,a.accessToken),d.dispatchEvent(new ae("tokenChanged")));Ce(d,"refreshToken",a.refreshToken);return a.accessToken}))};C.zc=function(a){a=a.users;if(!a||!a.length)throw new J("internal-error");a=a[0];Be(this,{uid:a.localId,displayName:a.displayName,photoURL:a.photoUrl,
email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt});for(var d=bi(a),b=0;b<d.length;b++)Ve(this,d[b]);Ce(this,"isAnonymous",!(this.email&&a.passwordHash)&&!(this.providerData&&this.providerData.length))};C.hb=function(a){var d=this,b=null;return ld(this,a.f(this.b,this.uid).then(function(a){hg(d,a);b=Xe(d,a,"reauthenticate");d.i=null;return d.reload()}).then(function(){return b}),!0)};C.Ac=function(a){qc("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead.");
return this.hb(a).then(function(){})};C.fb=function(a){var d=this,b=null;return ld(this,ih(this,a.providerId).then(function(){return d.F()}).then(function(b){return a.b(d.b,b)}).then(function(a){b=Xe(d,a,"link");return Ki(d,a)}).then(function(){return b}))};C.rc=function(a){qc("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead.");return this.fb(a).then(function(a){return a.user})};C.sc=function(a,d){var b=this;return ld(this,
ih(this,"phone").then(function(){return xg(Te(b),a,d,O(b.fb,b))}))};C.Bc=function(a,d){var b=this;return ld(this,la().then(function(){return xg(Te(b),a,d,O(b.hb,b))}),!0)};C.qb=function(a){var d=this;return ld(this,this.F().then(function(b){return d.b.qb(b,a)}).then(function(a){hg(d,a);return d.reload()}))};C.Tc=function(a){var d=this;return ld(this,this.F().then(function(b){return a.b(d.b,b)}).then(function(a){hg(d,a);return d.reload()}))};C.rb=function(a){var d=this;return ld(this,this.F().then(function(b){return d.b.rb(b,
a)}).then(function(a){hg(d,a);return d.reload()}))};C.sb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return We(this);var d=this;return ld(this,this.F().then(function(b){return d.b.sb(b,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){hg(d,a);Ce(d,"displayName",a.displayName||null);Ce(d,"photoURL",a.photoUrl||null);fd(d.providerData,function(a){"password"===a.providerId&&(oa(a,"displayName",d.displayName),oa(a,"photoURL",d.photoURL))});return zg(d)}).then(Hf))};C.Rc=
function(a){var d=this;return ld(this,Eg(this).then(function(b){return U(Ai(d),a)?Zb(d.b,b,[a]).then(function(a){var b={};fd(a.providerUserInfo||[],function(a){b[a.providerId]=!0});fd(Ai(d),function(a){b[a]||ci(d,a)});b[w.PROVIDER_ID]||oa(d,"phoneNumber",null);return zg(d)}):zg(d).then(function(){throw new J("no-such-provider");})}))};C.delete=function(){var a=this;return ld(this,this.F().then(function(d){return eb(a.b,cn,{idToken:d})}).then(function(){a.dispatchEvent(new ae("userDeleted"))})).then(function(){for(var d=
0;d<a.G.length;d++)a.G[d].cancel("app-deleted");sd(a,null);Bg(a,null);a.G=[];a.D=!0;Ue(a);oa(a,"refreshToken",null);a.a&&a.a.unsubscribe(a)})};C.wb=function(a,d){return"linkViaPopup"==a&&(this.g||null)==d&&this.f||"reauthViaPopup"==a&&(this.g||null)==d&&this.f||"linkViaRedirect"==a&&(this.aa||null)==d||"reauthViaRedirect"==a&&(this.aa||null)==d?!0:!1};C.ha=function(a,d,b,h){"linkViaPopup"!=a&&"reauthViaPopup"!=a||h!=(this.g||null)||(b&&this.v?this.v(b):d&&!b&&this.f&&this.f(d),this.c&&(this.c.cancel(),
this.c=null),delete this.f,delete this.v)};C.xa=function(a,d){return"linkViaPopup"==a&&d==(this.g||null)?O(this.Bb,this):"reauthViaPopup"==a&&d==(this.g||null)?O(this.Cb,this):"linkViaRedirect"==a&&(this.aa||null)==d?O(this.Bb,this):"reauthViaRedirect"==a&&(this.aa||null)==d?O(this.Cb,this):null};C.tc=function(a){var d=this;return gi(this,"linkViaPopup",a,function(){return ih(d,a.providerId).then(function(){return zg(d)})},!1)};C.Cc=function(a){return gi(this,"reauthViaPopup",a,function(){return la()},
!0)};C.uc=function(a){var d=this;return Ii(this,"linkViaRedirect",a,function(){return ih(d,a.providerId)},!1)};C.Dc=function(a){return Ii(this,"reauthViaRedirect",a,function(){return la()},!0)};C.Bb=function(a,d,b){var h=this;this.c&&(this.c.cancel(),this.c=null);var m=null,g=this.F().then(function(m){return Le(h.b,{requestUri:a,postBody:b,sessionId:d,idToken:m})}).then(function(a){m=Xe(h,a,"link");return Ki(h,a)}).then(function(){return m});return ld(this,g)};C.Cb=function(a,d,b){var h=this;this.c&&
(this.c.cancel(),this.c=null);var m=null,g=la().then(function(){return bd(df(h.b,{requestUri:a,sessionId:d,postBody:b}),h.uid)}).then(function(a){m=Xe(h,a,"reauthenticate");hg(h,a);h.i=null;return h.reload()}).then(function(){return m});return ld(this,g,!0)};C.kb=function(a){var d=this,b=null;return ld(this,this.F().then(function(d){b=d;return"undefined"===typeof a||Oa(a)?{}:Md(new Kf(a))}).then(function(a){return d.b.kb(b,a)}).then(function(a){if(d.email!=a)return d.reload()}).then(function(){}))};
C.toJSON=function(){return this.w()};C.w=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};this.metadata&&Na(a,this.metadata.w());fd(this.providerData,function(d){a.providerData.push(Ac(d))});return a};var ik={name:"redirectUser",B:"session"};
xd.prototype.g=function(){var a=this,d=va("local");qe(this,function(){return la().then(function(){return a.c&&"local"!=a.c.B?a.b.get(d,a.a):null}).then(function(b){if(b)return Mf(a,"local").then(function(){a.c=d})})})};var jk={name:"persistence",B:"session"};xd.prototype.nb=function(a){var d=null,b=this;Ij(a);return qe(this,function(){return a!=b.c.B?b.b.get(b.c,b.a).then(function(h){d=h;return Mf(b,a)}).then(function(){b.c=va(a);if(d)return b.b.set(b.c,d,b.a)}):la()})};W(Dc,u);W(Rd,gb);W(Ih,gb);
C=Dc.prototype;C.nb=function(a){a=this.h.nb(a);return wb(this,a)};C.pa=function(a){this.W===a||this.l||(this.W=a,rh(this.b,this.W),this.dispatchEvent(new Rd(this.ea())))};C.ea=function(){return this.W};C.Uc=function(){var a=T.navigator;this.pa(a?a.languages&&a.languages[0]||a.language||a.userLanguage||null:null)};C.vc=function(a){this.G.push(a);Lh(this.b,Xa.SDK_VERSION?l(Xa.SDK_VERSION,this.G):null);this.dispatchEvent(new Ih(this.G))};C.ya=function(){return Ra(this.G)};C.toJSON=function(){return{apiKey:this.app.options.apiKey,
authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:this.currentUser&&this.currentUser.w()}};C.wb=function(a,d){switch(a){case "unknown":case "signInViaRedirect":return!0;case "signInViaPopup":return this.g==d&&!!this.f;default:return!1}};C.ha=function(a,d,b,h){"signInViaPopup"==a&&this.g==h&&(b&&this.v?this.v(b):d&&!b&&this.f&&this.f(d),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)};C.xa=function(a,d){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==
d&&this.f?O(this.ac,this):null};C.ac=function(a,d,b){var h=this;a={requestUri:a,postBody:b,sessionId:d};this.c&&(this.c.cancel(),this.c=null);var m=null,g=null,e=Yf(h.b,a).then(function(a){m=md(a);g=Nd(a);return a});a=h.V.then(function(){return e}).then(function(a){return Cd(h,a)}).then(function(){return $c({user:h.currentUser,credential:m,additionalUserInfo:g,operationType:"signIn"})});return wb(this,a)};C.Mc=function(a){if(!Q())return ra(new J("operation-not-supported-in-this-environment"));var d=
this,b=De(a.providerId),h=Kd(),m=null;(!jd()||id())&&this.app.options.authDomain&&a.isOAuthProvider&&(m=$f(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",a,null,h,Xa.SDK_VERSION||null));var g=vb(m,b&&b.Ba,b&&b.Aa);b=cd(this).then(function(d){return Df(d,g,"signInViaPopup",a,h,!!m)}).then(function(){return new Ba(function(a,b){d.ha("signInViaPopup",null,new J("cancelled-popup-request"),d.g);d.f=a;d.v=b;d.g=h;d.c=d.a.Ea(d,"signInViaPopup",g,h)})}).then(function(a){g&&
Ka(g);return a?$c(a):null}).s(function(a){g&&Ka(g);throw a;});return wb(this,b)};C.Nc=function(a){if(!Q())return ra(new J("operation-not-supported-in-this-environment"));var d=this,b=cd(this).then(function(){return fi(d.h)}).then(function(){return d.a.Ca("signInViaRedirect",a)});return wb(this,b)};C.fa=function(){if(!Q())return ra(new J("operation-not-supported-in-this-environment"));var a=this,d=cd(this).then(function(){return a.a.fa()}).then(function(a){return a?$c(a):null});return wb(this,d)};
C.Sc=function(a){if(!a)return ra(new J("null-user"));var d=this,b={};b.apiKey=this.app.options.apiKey;b.authDomain=this.app.options.authDomain;b.appName=this.app.name;var h=Ni(a,b,d.A,d.ya());return wb(this,this.i.then(function(){if(d.app.options.apiKey!=a.l)return h.reload()}).then(function(){if(d.currentUser&&a.uid==d.currentUser.uid)return kf(d.currentUser,a),d.Z(a);he(d,h);eh(h);return d.Z(h)}).then(function(){Hg(d)}))};C.ob=function(){var a=this,d=this.i.then(function(){if(!a.currentUser)return la();
he(a,null);return Fh(a.h).then(function(){Hg(a)})});return wb(this,d)};C.Oc=function(){var a=this;return Eh(this.h,this.app.options.authDomain).then(function(d){if(!a.l){var b;if(b=a.currentUser&&d){b=a.currentUser.uid;var h=d.uid;b=void 0===b||null===b||""===b||void 0===h||null===h||""===h?!1:b==h}if(b)return kf(a.currentUser,d),a.currentUser.F();if(a.currentUser||d)he(a,d),d&&(eh(d),d.ba=a.A),a.a&&a.a.subscribe(a),Hg(a)}})};C.Z=function(a){return di(this.h,a)};C.bc=function(){Hg(this);this.Z(this.currentUser)};
C.mc=function(){this.ob()};C.nc=function(){this.ob()};C.oc=function(a){var d=this;this.addAuthTokenListener(function(){a.next(d.currentUser)})};C.pc=function(a){var d=this;qf(this,function(){a.next(d.currentUser)})};C.xc=function(a,d,b){var h=this;this.X&&Xa.Promise.resolve().then(function(){S(a)?a(h.currentUser):S(a.next)&&a.next(h.currentUser)});return this.Tb(a,d,b)};C.wc=function(a,d,b){var h=this;this.X&&Xa.Promise.resolve().then(function(){h.O=h.getUid();S(a)?a(h.currentUser):S(a.next)&&a.next(h.currentUser)});
return this.Ub(a,d,b)};C.cc=function(a){var d=this,b=this.i.then(function(){return d.currentUser?d.currentUser.F(a).then(function(a){return{accessToken:a}}):null});return wb(this,b)};C.Nb=function(a){var d=this;return this.i.then(function(){return ng(d,eb(d.b,en,{token:a}))}).then(function(a){var b=a.user;Ce(b,"isAnonymous",!1);d.Z(b);return a})};C.Gc=function(a){qc("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead.");
return this.Nb(a)};C.Hc=function(a,d){qc("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead.");return this.Ob(a,d)};C.Ob=function(a,d){var b=this;return this.i.then(function(){return ng(b,eb(b.b,ul,{email:a,password:d}))})};C.yb=function(a,d){var b=this;return this.i.then(function(){return ng(b,eb(b.b,bn,{email:a,password:d}))})};C.Wb=function(a,d){qc("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead.");
return this.yb(a,d)};C.Jc=function(a){qc("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead.");return this.Qa(a).then(function(a){return a.user})};C.Qa=function(a){var d=this;return this.i.then(function(){return ng(d,a.la(d.b))})};C.Ra=function(){var a=this;return this.i.then(function(){var d=a.currentUser;if(d&&d.isAnonymous){var b=$c({providerId:null,isNewUser:!1});return $c({user:d,credential:null,
additionalUserInfo:b,operationType:"signIn"})}return ng(a,a.b.Ra()).then(function(d){var b=d.user;Ce(b,"isAnonymous",!0);a.Z(b);return d})})};C.Ic=function(){qc("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead.");return this.Ra()};C.getUid=function(){return this.currentUser&&this.currentUser.uid||null};C.Vb=function(a){this.addAuthTokenListener(a);this.u++;0<this.u&&this.currentUser&&fh(this.currentUser)};
C.Ec=function(a){var d=this;fd(this.m,function(b){b==a&&d.u--});0>this.u&&(this.u=0);0==this.u&&this.currentUser&&Ue(this.currentUser);this.removeAuthTokenListener(a)};C.addAuthTokenListener=function(a){var d=this;this.m.push(a);wb(this,this.i.then(function(){d.l||U(d.m,a)&&a(Of(d))}))};C.removeAuthTokenListener=function(a){X(this.m,function(d){return d==a})};C.delete=function(){this.l=!0;for(var a=0;a<this.N.length;a++)this.N[a].cancel("app-deleted");this.N=[];this.h&&(a=this.h,a.b.removeListener(va("local"),
a.a,this.ka));this.a&&(this.a.unsubscribe(this),this.a.Za());return Xa.Promise.resolve()};C.Zb=function(a){qc("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead.");return wb(this,Qh(this.b,a))};C.$b=function(a){return wb(this,Vg(this.b,a))};C.qc=function(a){return!!Bd(a)};C.mb=function(a,d){var b=this;return wb(this,la().then(function(){var a=new Kf(d);if(!a.c)throw new J("argument-error",Tj+" must be true when sending sign in link to email");
return Md(a)}).then(function(d){return b.b.mb(a,d)}).then(function(){}))};C.Vc=function(a){return this.Ja(a).then(function(a){return a.data.email})};C.$a=function(a,d){return wb(this,this.b.$a(a,d).then(function(){}))};C.Ja=function(a){return wb(this,this.b.Ja(a).then(function(a){return new de(a)}))};C.Xa=function(a){return wb(this,this.b.Xa(a).then(function(){}))};C.lb=function(a,d){var b=this;return wb(this,la().then(function(){return"undefined"===typeof d||Oa(d)?{}:Md(new Kf(d))}).then(function(d){return b.b.lb(a,
d)}).then(function(){}))};C.Lc=function(a,d){return wb(this,xg(this,a,d,O(this.Qa,this)))};C.Kc=function(a,d){var b=this;return wb(this,la().then(function(){var h=vd(a,d||$a());return b.Qa(h)}))};Hh.prototype.render=function(){};Hh.prototype.reset=function(){};Hh.prototype.getResponse=function(){};Hh.prototype.execute=function(){};var sk=null;pf.prototype.render=function(a,d){this.a[this.b.toString()]=new Oh(a,d);return this.b++};pf.prototype.reset=function(a){var d=Kh(this,a);a=Jh(a);d&&a&&(d.delete(),
delete this.a[a])};pf.prototype.getResponse=function(a){return(a=Kh(this,a))?a.getResponse():null};pf.prototype.execute=function(a){(a=Kh(this,a))&&a.execute()};Oh.prototype.getResponse=function(){oi(this);return this.b};Oh.prototype.execute=function(){oi(this);var a=this;this.a||(this.a=setTimeout(function(){a.b=Ic();var d=a.c.callback,b=a.c["expired-callback"];if(d)try{d(a.b)}catch(qg){}a.a=setTimeout(function(){a.a=null;a.b=null;if(b)try{b()}catch(qg){}a.h&&a.execute()},6E4)},500))};Oh.prototype.delete=
function(){oi(this);this.g=!0;clearTimeout(this.a);this.a=null;mb(this.f,"click",this.i)};pi.prototype.g=function(){sk||(sk=new pf);return la(sk)};pi.prototype.c=function(){};var kk=null,hn=new ub(rj,"https://www.google.com/recaptcha/api.js?onload\x3d%{onload}\x26render\x3dexplicit\x26hl\x3d%{hl}"),jn=new Ea(3E4,6E4);M.prototype.g=function(a){var d=this;return new Ba(function(b,h){var m=setTimeout(function(){h(new J("network-request-failed"))},jn.get());if(!T.grecaptcha||a!==d.f&&!d.b){T[d.a]=function(){if(T.grecaptcha){d.f=
a;var g=T.grecaptcha.render;T.grecaptcha.render=function(a,b){a=g(a,b);d.b++;return a};clearTimeout(m);b(T.grecaptcha)}else clearTimeout(m),h(new J("internal-error"));delete T[d.a]};var g=xc(hn,{onload:d.a,hl:a||""});la(zf(g)).s(function(){clearTimeout(m);h(new J("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),b(T.grecaptcha)})};M.prototype.c=function(){this.b--};var lk=null,ml="callback",nl="expired-callback",ll="sitekey",Gm="size";C=ya.prototype;C.za=
function(){var a=this;return this.f?this.f:this.f=ui(this,la().then(function(){if(oc()&&!Sb())return nb();throw new J("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.");}).then(function(){return a.m.g(a.v())}).then(function(d){a.g=d;return eb(a.u,dn,{})}).then(function(d){a.a[ll]=d.recaptchaSiteKey}).s(function(d){a.f=null;throw d;}))};C.render=function(){Qg(this);var a=this;return ui(this,this.za().then(function(){if(null===a.c){var d=
a.l;if(!a.i){var b=ne(d);d=Ef("DIV");b.appendChild(d)}a.c=a.g.render(d,a.a)}return a.c}))};C.verify=function(){Qg(this);var a=this;return ui(this,this.render().then(function(d){return new Ba(function(b){var h=a.g.getResponse(d);if(h)b(h);else{var m=function(d){d&&(ti(a,m),b(d))};a.o.push(m);a.i&&a.g.execute(a.c)}})}))};C.reset=function(){Qg(this);null!==this.c&&this.g.reset(this.c)};C.clear=function(){Qg(this);this.D=!0;this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");
if(!this.i){a=ne(this.l);for(var d;d=a.firstChild;)a.removeChild(d)}};W(vi,ya);var ol="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");Yc(Dc.prototype,{Xa:{name:"applyActionCode",j:[ua("code")]},Ja:{name:"checkActionCode",j:[ua("code")]},$a:{name:"confirmPasswordReset",j:[ua("code"),ua("newPassword")]},yb:{name:"createUserWithEmailAndPassword",j:[ua("email"),ua("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[ua("email"),ua("password")]},Zb:{name:"fetchProvidersForEmail",
j:[ua("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[ua("email")]},fa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[ua("emailLink")]},wc:{name:"onAuthStateChanged",j:[Id(Ec(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Id(Ec(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[ua("email"),Id(Ec("opt_actionCodeSettings",!0),ah(null,!0),"opt_actionCodeSettings",!0)]},
mb:{name:"sendSignInLinkToEmail",j:[ua("email"),Ec("actionCodeSettings")]},nb:{name:"setPersistence",j:[ua("persistence")]},Qa:{name:"signInAndRetrieveDataWithCredential",j:[Ff()]},Ra:{name:"signInAnonymously",j:[]},Ic:{name:"signInAnonymouslyAndRetrieveData",j:[]},Jc:{name:"signInWithCredential",j:[Ff()]},Nb:{name:"signInWithCustomToken",j:[ua("token")]},Gc:{name:"signInAndRetrieveDataWithCustomToken",j:[ua("token")]},Ob:{name:"signInWithEmailAndPassword",j:[ua("email"),ua("password")]},Kc:{name:"signInWithEmailLink",
j:[ua("email"),ua("emailLink",!0)]},Hc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[ua("email"),ua("password")]},Lc:{name:"signInWithPhoneNumber",j:[ua("phoneNumber"),bj()]},Mc:{name:"signInWithPopup",j:[Zh()]},Nc:{name:"signInWithRedirect",j:[Zh()]},Sc:{name:"updateCurrentUser",j:[Id(function(a){return{name:"user",K:"an instance of Firebase User",optional:!!a,M:function(a){return!!(a&&a instanceof Zc)}}}(),ah(),"user")]},ob:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ua(null,!0)]},Uc:{name:"useDeviceLanguage",
j:[]},Vc:{name:"verifyPasswordResetCode",j:[ua("code")]}});uk(Dc.prototype,{lc:{name:"languageCode",ub:Id(ua(),ah(),"languageCode")}});Dc.Persistence=si;Dc.Persistence.LOCAL="local";Dc.Persistence.SESSION="session";Dc.Persistence.NONE="none";Yc(Zc.prototype,{"delete":{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Aj("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Aj("opt_forceRefresh",!0)]},fb:{name:"linkAndRetrieveDataWithCredential",j:[Ff()]},rc:{name:"linkWithCredential",j:[Ff()]},sc:{name:"linkWithPhoneNumber",
j:[ua("phoneNumber"),bj()]},tc:{name:"linkWithPopup",j:[Zh()]},uc:{name:"linkWithRedirect",j:[Zh()]},hb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ff()]},Ac:{name:"reauthenticateWithCredential",j:[Ff()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[ua("phoneNumber"),bj()]},Cc:{name:"reauthenticateWithPopup",j:[Zh()]},Dc:{name:"reauthenticateWithRedirect",j:[Zh()]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Id(Ec("opt_actionCodeSettings",!0),ah(null,!0),"opt_actionCodeSettings",
!0)]},toJSON:{name:"toJSON",j:[ua(null,!0)]},Rc:{name:"unlink",j:[ua("provider")]},qb:{name:"updateEmail",j:[ua("email")]},rb:{name:"updatePassword",j:[ua("password")]},Tc:{name:"updatePhoneNumber",j:[Ff("phone")]},sb:{name:"updateProfile",j:[Ec("profile")]}});Yc(pf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}});Yc(Hh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}});
Yc(Ba.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}});uk(Se.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",ub:Aj("appVerificationDisabledForTesting")}});Yc(yg.prototype,{confirm:{name:"confirm",j:[ua("verificationCode")]}});Jd(jg,"fromJSON",function(a){a=f(a)?JSON.parse(a):a;for(var d,b=[Fe,Mc,lh,kg],h=0;h<b.length;h++)if(d=b[h](a))return d;return null},[Id(ua(),Ec(),"json")]);Jd(Cb,"credential",function(a,d){return new Vb(a,d)},[ua("email"),ua("password")]);
Yc(Vb.prototype,{w:{name:"toJSON",j:[ua(null,!0)]}});Yc(Cc.prototype,{ua:{name:"addScope",j:[ua("scope")]},Da:{name:"setCustomParameters",j:[Ec("customOAuthParameters")]}});Jd(Cc,"credential",Hb,[Id(ua(),Ec(),"token")]);Jd(Cb,"credentialWithLink",vd,[ua("email"),ua("emailLink")]);Yc(Ub.prototype,{ua:{name:"addScope",j:[ua("scope")]},Da:{name:"setCustomParameters",j:[Ec("customOAuthParameters")]}});Jd(Ub,"credential",Fg,[Id(ua(),Ec(),"token")]);Yc(Ge.prototype,{ua:{name:"addScope",j:[ua("scope")]},
Da:{name:"setCustomParameters",j:[Ec("customOAuthParameters")]}});Jd(Ge,"credential",Kc,[Id(ua(),Id(Ec(),ah()),"idToken"),Id(ua(),ah(),"accessToken",!0)]);Yc(dd.prototype,{Da:{name:"setCustomParameters",j:[Ec("customOAuthParameters")]}});Jd(dd,"credential",Qd,[Id(ua(),Ec(),"token"),ua("secret",!0)]);Yc(pb.prototype,{ua:{name:"addScope",j:[ua("scope")]},credential:{name:"credential",j:[Id(ua(),Id(Ec(),ah()),"optionsOrIdToken"),Id(ua(),ah(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Ec("customOAuthParameters")]}});
Yc(Pd.prototype,{w:{name:"toJSON",j:[ua(null,!0)]}});Yc(wd.prototype,{w:{name:"toJSON",j:[ua(null,!0)]}});Jd(w,"credential",Ha,[ua("verificationId"),ua("verificationCode")]);Yc(w.prototype,{Va:{name:"verifyPhoneNumber",j:[ua("phoneNumber"),bj()]}});Yc(fe.prototype,{w:{name:"toJSON",j:[ua(null,!0)]}});Yc(J.prototype,{toJSON:{name:"toJSON",j:[ua(null,!0)]}});Yc(jb.prototype,{toJSON:{name:"toJSON",j:[ua(null,!0)]}});Yc(of.prototype,{toJSON:{name:"toJSON",j:[ua(null,!0)]}});Yc(vi.prototype,{clear:{name:"clear",
j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}});(function(){if("undefined"!==typeof Xa&&Xa.INTERNAL&&Xa.INTERNAL.registerService){var a={Auth:Dc,AuthCredential:jg,Error:J};Jd(a,"EmailAuthProvider",Cb,[]);Jd(a,"FacebookAuthProvider",Cc,[]);Jd(a,"GithubAuthProvider",Ub,[]);Jd(a,"GoogleAuthProvider",Ge,[]);Jd(a,"TwitterAuthProvider",dd,[]);Jd(a,"OAuthProvider",pb,[ua("providerId")]);Jd(a,"SAMLAuthProvider",Ze,[ua("providerId")]);Jd(a,"PhoneAuthProvider",w,[yl()]);Jd(a,"RecaptchaVerifier",
vi,[Id(ua(),tk(),"recaptchaContainer"),Ec("recaptchaParameters",!0),Al()]);Xa.INTERNAL.registerService("auth",function(a,d){a=new Dc(a);d({INTERNAL:{getUid:O(a.getUid,a),getToken:O(a.cc,a),addAuthTokenListener:O(a.Vb,a),removeAuthTokenListener:O(a.Ec,a)}});return a},a,function(a,d){if("create"===a)try{d.auth()}catch(qg){}});Xa.INTERNAL.extendNamespace({User:Zc})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");})()}).apply("undefined"!==
typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})};
shadow$provide[150]=function(n,y,c,r,f,z){Object.defineProperty(f,"__esModule",{value:!0});var v=[];(function(c){c[c.DEBUG=0]="DEBUG";c[c.VERBOSE=1]="VERBOSE";c[c.INFO=2]="INFO";c[c.WARN=3]="WARN";c[c.ERROR=4]="ERROR";c[c.SILENT=5]="SILENT"})(f.LogLevel||(f.LogLevel={}));var p=f.LogLevel.INFO,x=function(c,n){for(var k=[],e=2;e<arguments.length;e++)k[e-2]=arguments[e];if(!(n<c.logLevel))switch(e=(new Date).toISOString(),n){case f.LogLevel.DEBUG:console.log.apply(console,["["+e+"]  "+c.name+":"].concat(k));
break;case f.LogLevel.VERBOSE:console.log.apply(console,["["+e+"]  "+c.name+":"].concat(k));break;case f.LogLevel.INFO:console.info.apply(console,["["+e+"]  "+c.name+":"].concat(k));break;case f.LogLevel.WARN:console.warn.apply(console,["["+e+"]  "+c.name+":"].concat(k));break;case f.LogLevel.ERROR:console.error.apply(console,["["+e+"]  "+c.name+":"].concat(k));break;default:throw Error("Attempted to log a message with an invalid logType (value: "+n+")");}};n=function(){function c(c){this.name=c;
this._logLevel=p;this._logHandler=x;v.push(this)}Object.defineProperty(c.prototype,"logLevel",{get:function(){return this._logLevel},set:function(c){if(!(c in f.LogLevel))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=c},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"logHandler",{get:function(){return this._logHandler},set:function(c){if("function"!==typeof c)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=c},
enumerable:!0,configurable:!0});c.prototype.debug=function(){for(var c=[],k=0;k<arguments.length;k++)c[k]=arguments[k];this._logHandler.apply(this,[this,f.LogLevel.DEBUG].concat(c))};c.prototype.log=function(){for(var c=[],k=0;k<arguments.length;k++)c[k]=arguments[k];this._logHandler.apply(this,[this,f.LogLevel.VERBOSE].concat(c))};c.prototype.info=function(){for(var c=[],k=0;k<arguments.length;k++)c[k]=arguments[k];this._logHandler.apply(this,[this,f.LogLevel.INFO].concat(c))};c.prototype.warn=function(){for(var c=
[],k=0;k<arguments.length;k++)c[k]=arguments[k];this._logHandler.apply(this,[this,f.LogLevel.WARN].concat(c))};c.prototype.error=function(){for(var c=[],k=0;k<arguments.length;k++)c[k]=arguments[k];this._logHandler.apply(this,[this,f.LogLevel.ERROR].concat(c))};return c}();f.Logger=n;f.setLogLevel=function(c){v.forEach(function(f){f.logLevel=c})}};
shadow$provide[151]=function(n,y,c,r,f,z){function v(e,b){return X(e.name,b.name)}function p(e,b){return X(e,b)}function x(c,b){void 0===b&&(b=null);if(null===c)return sa.EMPTY_NODE;"object"===typeof c&&".priority"in c&&(b=c[".priority"]);e.assert(null===b||"string"===typeof b||"number"===typeof b||"object"===typeof b&&".sv"in b,"Invalid priority type found: "+typeof b);"object"===typeof c&&".value"in c&&null!==c[".value"]&&(c=c[".value"]);if("object"!==typeof c||".sv"in c)return new gb(c,x(b));if(c instanceof
Array){var g=sa.EMPTY_NODE,l=c;e.forEach(l,function(b,c){e.contains(l,b)&&"."!==b.substring(0,1)&&(c=x(c),c.isLeafNode()||!c.isEmpty())&&(g=g.updateImmediateChild(b,c))});return g.updatePriority(x(b))}var Q=[],f=!1,k=c;e.forEach(k,function(b,g){if("string"!==typeof b||"."!==b.substring(0,1))g=x(k[b]),g.isEmpty()||(f=f||!g.getPriority().isEmpty(),Q.push(new ma(b,g)))});if(0==Q.length)return sa.EMPTY_NODE;c=lc(Q,v,function(b){return b.name},p);if(f){var u=lc(Q,Fa.getCompare());return new sa(c,x(b),
new mb({".priority":u},{".priority":Fa}))}return new sa(c,x(b),mb.Default)}function I(c){c=c.INTERNAL.registerService("database",function(b,g,e){return id.getInstance().databaseFromApp(b,e)},{Reference:vb,Query:cc,Database:Sb,DataSnapshot:u,enableLogging:ka,INTERNAL:Tb,ServerValue:Jc,TEST_ACCESS:Ic},null,!0);e.isNodeSdk()&&(r.exports=c)}Object.defineProperty(f,"__esModule",{value:!0});var Y=function(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}(c(148)),k=c(146),e=c(147),S=c(150),
Z=function(){function c(b){this.domStorage_=b;this.prefix_="firebase:"}c.prototype.set=function(b,g){null==g?this.domStorage_.removeItem(this.prefixedName_(b)):this.domStorage_.setItem(this.prefixedName_(b),e.stringify(g))};c.prototype.get=function(b){b=this.domStorage_.getItem(this.prefixedName_(b));return null==b?null:e.jsonEval(b)};c.prototype.remove=function(b){this.domStorage_.removeItem(this.prefixedName_(b))};c.prototype.prefixedName_=function(b){return this.prefix_+b};c.prototype.toString=
function(){return this.domStorage_.toString()};return c}(),za=function(){function c(){this.cache_={};this.isInMemoryStorage=!0}c.prototype.set=function(b,g){null==g?delete this.cache_[b]:this.cache_[b]=g};c.prototype.get=function(b){return e.contains(this.cache_,b)?this.cache_[b]:null};c.prototype.remove=function(b){delete this.cache_[b]};return c}(),fa=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var b=window[e];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");
return new Z(b)}}catch(g){}return new za},O=fa("localStorage"),F=fa("sessionStorage"),W=new S.Logger("@firebase/database"),N=function(){var e=1;return function(){return e++}}(),K=function(c){c=e.stringToByteArray(c);var b=new e.Sha1;b.update(c);c=b.digest();return e.base64.encodeByteArray(c)},ia=function(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];b="";for(var g=0;g<c.length;g++)b=Array.isArray(c[g])||c[g]&&"object"===typeof c[g]&&"number"===typeof c[g].length?b+ia.apply(null,c[g]):
"object"===typeof c[g]?b+e.stringify(c[g]):b+c[g],b+=" ";return b},ba=null,ha=!0,ka=function(c,b){e.assert(!b||!0===c||!1===c,"Can't turn on custom loggers persistently.");!0===c?(W.logLevel=S.LogLevel.VERBOSE,ba=W.log.bind(W),b&&F.set("logging_enabled",!0)):"function"===typeof c?ba=c:(ba=null,F.remove("logging_enabled"))},xa=function(){for(var e=[],b=0;b<arguments.length;b++)e[b]=arguments[b];!0===ha&&(ha=!1,null===ba&&!0===F.get("logging_enabled")&&ka(!0));ba&&(e=ia.apply(null,e),ba(e))},Qa=function(e){return function(){for(var b=
[],g=0;g<arguments.length;g++)b[g]=arguments[g];xa.apply(void 0,[e].concat(b))}},L=function(){for(var e=[],b=0;b<arguments.length;b++)e[b]=arguments[b];e="FIREBASE INTERNAL ERROR: "+ia.apply(void 0,e);W.error(e)},E=function(){for(var e=[],b=0;b<arguments.length;b++)e[b]=arguments[b];e="FIREBASE FATAL ERROR: "+ia.apply(void 0,e);W.error(e);throw Error(e);},q=function(){for(var e=[],b=0;b<arguments.length;b++)e[b]=arguments[b];e="FIREBASE WARNING: "+ia.apply(void 0,e);W.warn(e)},U=function(e){return"number"===
typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},G=function(c){if(e.isNodeSdk()||"complete"===document.readyState)c();else{var b=!1,g=function(){document.body?b||(b=!0,c()):setTimeout(g,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",g,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&g()}),window.attachEvent("onload",g))}},X=function(e,b){if(e===
b)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===e)return 1;var g=La(e),c=La(b);return null!==g?null!==c?0==g-c?e.length-b.length:g-c:-1:null!==c?1:e<b?-1:1},na=function(e,b){return e===b?0:e<b?-1:1},Ra=function(c,b){if(b&&c in b)return b[c];throw Error("Missing required key ("+c+") in object: "+e.stringify(b));},ca=function(c){if("object"!==typeof c||null===c)return e.stringify(c);var b=[];for(g in c)b.push(g);b.sort();var g="{";for(var l=0;l<b.length;l++)0!==
l&&(g+=","),g+=e.stringify(b[l]),g+=":",g+=ca(c[b[l]]);return g+"}"},ta=function(e,b){var g=e.length;if(g<=b)return[e];for(var c=[],l=0;l<g;l+=b)l+b>g?c.push(e.substring(l,g)):c.push(e.substring(l,l+b));return c},ja=function(c,b){if(Array.isArray(c))for(var g=0;g<c.length;++g)b(g,c[g]);else e.forEach(c,function(g,e){return b(e,g)})},qa=function(c){e.assert(!U(c),"Invalid JSON number");var b;if(0===c){var g=b=0;var l=-Infinity===1/c?1:0}else l=0>c,c=Math.abs(c),c>=Math.pow(2,-1022)?(g=Math.min(Math.floor(Math.log(c)/
Math.LN2),1023),b=g+1023,g=Math.round(c*Math.pow(2,52-g)-Math.pow(2,52))):(b=0,g=Math.round(c/Math.pow(2,-1074)));var Q=[];for(c=52;c;--c)Q.push(g%2?1:0),g=Math.floor(g/2);for(c=11;c;--c)Q.push(b%2?1:0),b=Math.floor(b/2);Q.push(l?1:0);Q.reverse();l=Q.join("");b="";for(c=0;64>c;c+=8)g=parseInt(l.substr(c,8),2).toString(16),1===g.length&&(g="0"+g),b+=g;return b.toLowerCase()},Oa=/^-?\d{1,10}$/,La=function(e){return Oa.test(e)&&(e=Number(e),-2147483648<=e&&2147483647>=e)?e:null},Na=function(e){try{e()}catch(b){setTimeout(function(){q("Exception was thrown by user callback.",
b.stack||"");throw b;},0)}},Ja=function(e,b){e=setTimeout(e,b);"object"===typeof e&&e.unref&&e.unref();return e},V=function(){function e(b,g){if(void 0===g){this.pieces_=b.split("/");for(g=b=0;g<this.pieces_.length;g++)0<this.pieces_[g].length&&(this.pieces_[b]=this.pieces_[g],b++);this.pieces_.length=b;this.pieceNum_=0}else this.pieces_=b,this.pieceNum_=g}Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0});e.prototype.getFront=function(){return this.pieceNum_>=
this.pieces_.length?null:this.pieces_[this.pieceNum_]};e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_};e.prototype.popFront=function(){var b=this.pieceNum_;b<this.pieces_.length&&b++;return new e(this.pieces_,b)};e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null};e.prototype.toString=function(){for(var b="",g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(b+="/"+this.pieces_[g]);return b||
"/"};e.prototype.toUrlEncodedString=function(){for(var b="",g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(b+="/"+encodeURIComponent(String(this.pieces_[g])));return b||"/"};e.prototype.slice=function(b){void 0===b&&(b=0);return this.pieces_.slice(this.pieceNum_+b)};e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var b=[],g=this.pieceNum_;g<this.pieces_.length-1;g++)b.push(this.pieces_[g]);return new e(b,0)};e.prototype.child=function(b){for(var g=
[],c=this.pieceNum_;c<this.pieces_.length;c++)g.push(this.pieces_[c]);if(b instanceof e)for(c=b.pieceNum_;c<b.pieces_.length;c++)g.push(b.pieces_[c]);else for(b=b.split("/"),c=0;c<b.length;c++)0<b[c].length&&g.push(b[c]);return new e(g,0)};e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length};e.relativePath=function(b,g){var c=b.getFront(),l=g.getFront();if(null===c)return g;if(c===l)return e.relativePath(b.popFront(),g.popFront());throw Error("INTERNAL ERROR: innerPath ("+g+
") is not within outerPath ("+b+")");};e.comparePaths=function(b,g){b=b.slice();g=g.slice();for(var e=0;e<b.length&&e<g.length;e++){var c=X(b[e],g[e]);if(0!==c)return c}return b.length===g.length?0:b.length<g.length?-1:1};e.prototype.equals=function(b){if(this.getLength()!==b.getLength())return!1;for(var g=this.pieceNum_,e=b.pieceNum_;g<=this.pieces_.length;g++,e++)if(this.pieces_[g]!==b.pieces_[e])return!1;return!0};e.prototype.contains=function(b){var g=this.pieceNum_,e=b.pieceNum_;if(this.getLength()>
b.getLength())return!1;for(;g<this.pieces_.length;){if(this.pieces_[g]!==b.pieces_[e])return!1;++g;++e}return!0};return e}(),db=function(){function c(b,g){this.errorPrefix_=g;this.parts_=b.slice();this.byteLength_=Math.max(1,this.parts_.length);for(b=0;b<this.parts_.length;b++)this.byteLength_+=e.stringLength(this.parts_[b]);this.checkValid_()}Object.defineProperty(c,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0});Object.defineProperty(c,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},
enumerable:!0,configurable:!0});c.prototype.push=function(b){0<this.parts_.length&&(this.byteLength_+=1);this.parts_.push(b);this.byteLength_+=e.stringLength(b);this.checkValid_()};c.prototype.pop=function(){var b=this.parts_.pop();this.byteLength_-=e.stringLength(b);0<this.parts_.length&&--this.byteLength_};c.prototype.checkValid_=function(){if(this.byteLength_>c.MAX_PATH_LENGTH_BYTES)throw Error(this.errorPrefix_+"has a key path longer than "+c.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+
").");if(this.parts_.length>c.MAX_PATH_DEPTH)throw Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+c.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString());};c.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"};return c}(),Jb=function(){function c(b,g,e,c,l){void 0===l&&(l="");this.secure=g;this.namespace=e;this.webSocketOnly=c;this.persistenceKey=l;this.host=b.toLowerCase();this.domain=
this.host.substr(this.host.indexOf(".")+1);this.internalHost=O.get("host:"+b)||this.host}c.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()};c.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)};c.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain};c.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain};c.prototype.updateHost=function(b){b!==this.internalHost&&
(this.internalHost=b,this.isCacheableHost()&&O.set("host:"+this.host,this.internalHost))};c.prototype.connectionURL=function(b,g){e.assert("string"===typeof b,"typeof type must \x3d\x3d string");e.assert("object"===typeof g,"typeof params must \x3d\x3d object");if("websocket"===b)b=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if("long_polling"===b)b=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw Error("Unknown connection type: "+b);this.needsQueryParam()&&
(g.ns=this.namespace);var c=[];e.forEach(g,function(b,g){c.push(b+"\x3d"+g)});return b+c.join("\x26")};c.prototype.toString=function(){var b=this.toURLString();this.persistenceKey&&(b+="\x3c"+this.persistenceKey+"\x3e");return b};c.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host};return c}(),Ab=function(e){var b,g,c,l=e;var f=c=g=b="";var k=!0;e="https";if("string"===typeof l){var u=l.indexOf("//");0<=u&&(e=l.substring(0,u-1),l=l.substring(u+2));u=l.indexOf("/");
-1===u&&(u=l.length);var H=l.indexOf("?");-1===H&&(H=l.length);b=l.substring(0,Math.min(u,H));if(u<H){f="";u=l.substring(u,H).split("/");for(var n=0;n<u.length;n++)if(0<u[n].length){var p=u[n];try{p=decodeURIComponent(p.replace(/\+/g," "))}catch(be){}f+="/"+p}}u=l.substring(Math.min(l.length,H));H={};"?"===u.charAt(0)&&(u=u.substring(1));n=0;for(p=u.split("\x26");n<p.length;n++){var r=p[n];if(0!==r.length){var G=r.split("\x3d");2===G.length?H[decodeURIComponent(G[0])]=decodeURIComponent(G[1]):q("Invalid query segment '"+
r+"' in query '"+u+"'")}}u=b.indexOf(":");0<=u?(k="https"===e||"wss"===e,parseInt(b.substring(u+1),10)):u=l.length;l=b.split(".");3===l.length?(g=l[1],c=l[0].toLowerCase()):2===l.length?g=l[0]:"localhost"===l[0].slice(0,u).toLowerCase()&&(g="localhost");""===c&&"ns"in H&&(c=H.ns)}"firebase"===g&&E(b+" is no longer supported. Please use \x3cYOUR FIREBASE\x3e.firebaseio.com instead");c&&"undefined"!=c||"localhost"===g||E("Cannot parse Firebase url. Please use https://\x3cYOUR FIREBASE\x3e.firebaseio.com");
k||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");return{repoInfo:new Jb(b,k,c,"ws"===e||"wss"===e),path:new V(f)}},Kb=/[\[\].#$\/\u0000-\u001F\u007F]/,Bb=/[\[\].#$\u0000-\u001F\u007F]/,Ba=function(e){return"string"===typeof e&&0!==e.length&&!Kb.test(e)},wa=function(e){return"string"===typeof e&&0!==e.length&&!Bb.test(e)},Ta=function(c){return null===
c||"string"===typeof c||"number"===typeof c&&!U(c)||c&&"object"===typeof c&&e.contains(c,".sv")},la=function(c,b,g,t,f){f&&void 0===g||ra(e.errorPrefix(c,b,f),g,t)},ra=function(c,b,g){var l=g instanceof V?new db(g,c):g;if(void 0===b)throw Error(c+"contains undefined "+l.toErrorString());if("function"===typeof b)throw Error(c+"contains a function "+l.toErrorString()+" with contents \x3d "+b.toString());if(U(b))throw Error(c+"contains "+b.toString()+" "+l.toErrorString());if("string"===typeof b&&b.length>
10485760/3&&10485760<e.stringLength(b))throw Error(c+"contains a string greater than 10485760 utf8 bytes "+l.toErrorString()+" ('"+b.substring(0,50)+"...')");if(b&&"object"===typeof b){var f=!1,k=!1;e.forEach(b,function(b,g){if(".value"===b)f=!0;else if(".priority"!==b&&".sv"!==b&&(k=!0,!Ba(b)))throw Error(c+" contains an invalid key ("+b+") "+l.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');l.push(b);ra(c,g,l);l.pop()});if(f&&k)throw Error(c+
' contains ".value" child '+l.toErrorString()+" in addition to actual children.");}},kb=function(e,b){var g;for(g=0;g<b.length;g++){var c=b[g];for(var l=c.slice(),f=0;f<l.length;f++)if((".priority"!==l[f]||f!==l.length-1)&&!Ba(l[f]))throw Error(e+"contains an invalid key ("+l[f]+") in path "+c.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');}b.sort(V.comparePaths);l=null;for(g=0;g<b.length;g++){c=b[g];if(null!==l&&l.contains(c))throw Error(e+"contains a path "+
l.toString()+" that is ancestor of another path "+c.toString());l=c}},Lb=function(c,b,g,t,f){if(!f||void 0!==g){var l=e.errorPrefix(c,b,f);if(!g||"object"!==typeof g||Array.isArray(g))throw Error(l+" must be an object containing the children to replace.");var Q=[];e.forEach(g,function(b,g){b=new V(b);ra(l,g,t.child(b));if(".priority"===b.getBack()&&!Ta(g))throw Error(l+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");
Q.push(b)});kb(l,Q)}},sc=function(c,b,g,t){if(!t||void 0!==g){if(U(g))throw Error(e.errorPrefix(c,b,t)+"is "+g.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ta(g))throw Error(e.errorPrefix(c,b,t)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}},Dd=function(c,b,g,t){if(!t||void 0!==g)switch(g){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(e.errorPrefix(c,
b,t)+'must be a valid event type \x3d "value", "child_added", "child_removed", "child_changed", or "child_moved".');}},jc=function(c,b,g,t){if(!(t&&void 0===g||Ba(g)))throw Error(e.errorPrefix(c,b,t)+'was an invalid key \x3d "'+g+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');},Nc=function(c,b,g,t){if(!(t&&void 0===g||wa(g)))throw Error(e.errorPrefix(c,b,t)+'was an invalid path \x3d "'+g+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');
},fb=function(e,b){if(".info"===b.getFront())throw Error(e+" failed \x3d Can't modify data under /.info/");},rb=function(c,b,g){var l=g.path.toString();!(g="string"!==typeof g.repoInfo.host||0===g.repoInfo.host.length||!Ba(g.repoInfo.namespace)&&"localhost"!==g.repoInfo.host.split(":")[0])&&(g=0!==l.length)&&(l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),g=!wa(l));if(g)throw Error(e.errorPrefix(c,b,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');},ac=function(){function c(b,
g){this.repo_=b;this.path_=g}c.prototype.cancel=function(b){e.validateArgCount("OnDisconnect.cancel",0,1,arguments.length);e.validateCallback("OnDisconnect.cancel",1,b,!0);var g=new e.Deferred;this.repo_.onDisconnectCancel(this.path_,g.wrapCallback(b));return g.promise};c.prototype.remove=function(b){e.validateArgCount("OnDisconnect.remove",0,1,arguments.length);fb("OnDisconnect.remove",this.path_);e.validateCallback("OnDisconnect.remove",1,b,!0);var g=new e.Deferred;this.repo_.onDisconnectSet(this.path_,
null,g.wrapCallback(b));return g.promise};c.prototype.set=function(b,g){e.validateArgCount("OnDisconnect.set",1,2,arguments.length);fb("OnDisconnect.set",this.path_);la("OnDisconnect.set",1,b,this.path_,!1);e.validateCallback("OnDisconnect.set",2,g,!0);var c=new e.Deferred;this.repo_.onDisconnectSet(this.path_,b,c.wrapCallback(g));return c.promise};c.prototype.setWithPriority=function(b,g,c){e.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length);fb("OnDisconnect.setWithPriority",
this.path_);la("OnDisconnect.setWithPriority",1,b,this.path_,!1);sc("OnDisconnect.setWithPriority",2,g,!1);e.validateCallback("OnDisconnect.setWithPriority",3,c,!0);var l=new e.Deferred;this.repo_.onDisconnectSetWithPriority(this.path_,b,g,l.wrapCallback(c));return l.promise};c.prototype.update=function(b,g){e.validateArgCount("OnDisconnect.update",1,2,arguments.length);fb("OnDisconnect.update",this.path_);if(Array.isArray(b)){for(var c={},l=0;l<b.length;++l)c[""+l]=b[l];b=c;q("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lb("OnDisconnect.update",
1,b,this.path_,!1);e.validateCallback("OnDisconnect.update",2,g,!0);c=new e.Deferred;this.repo_.onDisconnectUpdate(this.path_,b,c.wrapCallback(g));return c.promise};return c}(),tc=function(){function c(b,g){this.committed=b;this.snapshot=g}c.prototype.toJSON=function(){e.validateArgCount("TransactionResult.toJSON",0,1,arguments.length);return{committed:this.committed,snapshot:this.snapshot.toJSON()}};return c}(),Wa=function(){var c=0,b=[];return function(g){var l=g===c;c=g;var f,k=Array(8);for(f=
7;0<=f;f--)k[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(g%64),g=Math.floor(g/64);e.assert(0===g,"Cannot push at time \x3d\x3d 0");g=k.join("");if(l){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)g+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);e.assert(20===g.length,"nextPushId: Length should be 20.");return g}}(),ma=function(){function e(b,g){this.name=b;this.node=
g}e.Wrap=function(b,g){return new e(b,g)};return e}(),Ua=function(){function e(){}e.prototype.getCompare=function(){return this.compare.bind(this)};e.prototype.indexedValueChanged=function(b,g){b=new ma("[MIN_NAME]",b);g=new ma("[MIN_NAME]",g);return 0!==this.compare(b,g)};e.prototype.minPost=function(){return ma.MIN};return e}(),Mb,kc=function(c){function b(){return null!==c&&c.apply(this,arguments)||this}k.__extends(b,c);Object.defineProperty(b,"__EMPTY_NODE",{get:function(){return Mb},set:function(b){Mb=
b},enumerable:!0,configurable:!0});b.prototype.compare=function(b,e){return X(b.name,e.name)};b.prototype.isDefinedOn=function(b){throw e.assertionError("KeyIndex.isDefinedOn not expected to be called.");};b.prototype.indexedValueChanged=function(b,e){return!1};b.prototype.minPost=function(){return ma.MIN};b.prototype.maxPost=function(){return new ma("[MAX_NAME]",Mb)};b.prototype.makePost=function(b,c){e.assert("string"===typeof b,"KeyIndex indexValue must always be a string.");return new ma(b,Mb)};
b.prototype.toString=function(){return".key"};return b}(Ua),Wb=new kc,Ca,Ia=function(e){return"number"===typeof e?"number:"+qa(e):"string:"+e},Oc=function(c){if(c.isLeafNode()){var b=c.val();e.assert("string"===typeof b||"number"===typeof b||"object"===typeof b&&e.contains(b,".sv"),"Priority must be a string or number.")}else e.assert(c===Ca||c.isEmpty(),"priority of unexpected type.");e.assert(c===Ca||c.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Pc,gb=function(){function c(b,
g){void 0===g&&(g=c.__childrenNodeConstructor.EMPTY_NODE);this.value_=b;this.priorityNode_=g;this.lazyHash_=null;e.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value.");Oc(this.priorityNode_)}Object.defineProperty(c,"__childrenNodeConstructor",{get:function(){return Pc},set:function(b){Pc=b},enumerable:!0,configurable:!0});c.prototype.isLeafNode=function(){return!0};c.prototype.getPriority=function(){return this.priorityNode_};c.prototype.updatePriority=
function(b){return new c(this.value_,b)};c.prototype.getImmediateChild=function(b){return".priority"===b?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE};c.prototype.getChild=function(b){return b.isEmpty()?this:".priority"===b.getFront()?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE};c.prototype.hasChild=function(){return!1};c.prototype.getPredecessorChildName=function(b,g){return null};c.prototype.updateImmediateChild=function(b,g){return".priority"===b?this.updatePriority(g):
g.isEmpty()&&".priority"!==b?this:c.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(b,g).updatePriority(this.priorityNode_)};c.prototype.updateChild=function(b,g){var l=b.getFront();if(null===l)return g;if(g.isEmpty()&&".priority"!==l)return this;e.assert(".priority"!==l||1===b.getLength(),".priority must be the last token in a path");return this.updateImmediateChild(l,c.__childrenNodeConstructor.EMPTY_NODE.updateChild(b.popFront(),g))};c.prototype.isEmpty=function(){return!1};c.prototype.numChildren=
function(){return 0};c.prototype.forEachChild=function(b,g){return!1};c.prototype.val=function(b){return b&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()};c.prototype.hash=function(){if(null===this.lazyHash_){var b="";this.priorityNode_.isEmpty()||(b+="priority:"+Ia(this.priorityNode_.val())+":");var g=typeof this.value_;b+=g+":";b="number"===g?b+qa(this.value_):b+this.value_;this.lazyHash_=K(b)}return this.lazyHash_};c.prototype.getValue=
function(){return this.value_};c.prototype.compareTo=function(b){if(b===c.__childrenNodeConstructor.EMPTY_NODE)return 1;if(b instanceof c.__childrenNodeConstructor)return-1;e.assert(b.isLeafNode(),"Unknown node type");return this.compareToLeafNode_(b)};c.prototype.compareToLeafNode_=function(b){var g=typeof b.value_,l=typeof this.value_,f=c.VALUE_TYPE_ORDER.indexOf(g),k=c.VALUE_TYPE_ORDER.indexOf(l);e.assert(0<=f,"Unknown leaf type: "+g);e.assert(0<=k,"Unknown leaf type: "+l);return f===k?"object"===
l?0:this.value_<b.value_?-1:this.value_===b.value_?0:1:k-f};c.prototype.withIndex=function(){return this};c.prototype.isIndexed=function(){return!0};c.prototype.equals=function(b){return b===this?!0:b.isLeafNode()?this.value_===b.value_&&this.priorityNode_.equals(b.priorityNode_):!1};c.VALUE_TYPE_ORDER=["object","boolean","number","string"];return c}(),Fa=new (function(e){function b(){return null!==e&&e.apply(this,arguments)||this}k.__extends(b,e);b.prototype.compare=function(b,e){var g=b.node.getPriority(),
c=e.node.getPriority();g=g.compareTo(c);return 0===g?X(b.name,e.name):g};b.prototype.isDefinedOn=function(b){return!b.getPriority().isEmpty()};b.prototype.indexedValueChanged=function(b,e){return!b.getPriority().equals(e.getPriority())};b.prototype.minPost=function(){return ma.MIN};b.prototype.maxPost=function(){return new ma("[MAX_NAME]",new gb("[PRIORITY-POST]",od))};b.prototype.makePost=function(b,e){b=Gc(b);return new ma(e,new gb("[PRIORITY-POST]",b))};b.prototype.toString=function(){return".priority"};
return b}(Ua)),lb=function(){function e(b,g,e,c,l){void 0===l&&(l=null);this.isReverse_=c;this.resultGenerator_=l;for(this.nodeStack_=[];!b.isEmpty();)if(l=g?e(b.key,g):1,c&&(l*=-1),0>l)b=this.isReverse_?b.left:b.right;else if(0===l){this.nodeStack_.push(b);break}else this.nodeStack_.push(b),b=this.isReverse_?b.right:b.left}e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var b=this.nodeStack_.pop();var g=this.resultGenerator_?this.resultGenerator_(b.key,b.value):{key:b.key,
value:b.value};if(this.isReverse_)for(b=b.left;!b.isEmpty();)this.nodeStack_.push(b),b=b.right;else for(b=b.right;!b.isEmpty();)this.nodeStack_.push(b),b=b.left;return g};e.prototype.hasNext=function(){return 0<this.nodeStack_.length};e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var b=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(b.key,b.value):{key:b.key,value:b.value}};return e}(),Db=function(){function e(b,g,c,l,f){this.key=
b;this.value=g;this.color=null!=c?c:e.RED;this.left=null!=l?l:bc.EMPTY_NODE;this.right=null!=f?f:bc.EMPTY_NODE}e.prototype.copy=function(b,g,c,l,f){return new e(null!=b?b:this.key,null!=g?g:this.value,null!=c?c:this.color,null!=l?l:this.left,null!=f?f:this.right)};e.prototype.count=function(){return this.left.count()+1+this.right.count()};e.prototype.isEmpty=function(){return!1};e.prototype.inorderTraversal=function(b){return this.left.inorderTraversal(b)||b(this.key,this.value)||this.right.inorderTraversal(b)};
e.prototype.reverseTraversal=function(b){return this.right.reverseTraversal(b)||b(this.key,this.value)||this.left.reverseTraversal(b)};e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()};e.prototype.minKey=function(){return this.min_().key};e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()};e.prototype.insert=function(b,g,e){var c=this;var l=e(b,c.key);c=0>l?c.copy(null,null,null,c.left.insert(b,g,e),null):0===l?c.copy(null,g,null,null,
null):c.copy(null,null,null,null,c.right.insert(b,g,e));return c.fixUp_()};e.prototype.removeMin_=function(){if(this.left.isEmpty())return bc.EMPTY_NODE;var b=this;b.left.isRed_()||b.left.left.isRed_()||(b=b.moveRedLeft_());b=b.copy(null,null,null,b.left.removeMin_(),null);return b.fixUp_()};e.prototype.remove=function(b,g){var e=this;if(0>g(b,e.key))e.left.isEmpty()||e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.remove(b,g),null);else{e.left.isRed_()&&
(e=e.rotateRight_());e.right.isEmpty()||e.right.isRed_()||e.right.left.isRed_()||(e=e.moveRedRight_());if(0===g(b,e.key)){if(e.right.isEmpty())return bc.EMPTY_NODE;var c=e.right.min_();e=e.copy(c.key,c.value,null,null,e.right.removeMin_())}e=e.copy(null,null,null,null,e.right.remove(b,g))}return e.fixUp_()};e.prototype.isRed_=function(){return this.color};e.prototype.fixUp_=function(){var b=this;b.right.isRed_()&&!b.left.isRed_()&&(b=b.rotateLeft_());b.left.isRed_()&&b.left.left.isRed_()&&(b=b.rotateRight_());
b.left.isRed_()&&b.right.isRed_()&&(b=b.colorFlip_());return b};e.prototype.moveRedLeft_=function(){var b=this.colorFlip_();b.right.left.isRed_()&&(b=b.copy(null,null,null,null,b.right.rotateRight_()),b=b.rotateLeft_(),b=b.colorFlip_());return b};e.prototype.moveRedRight_=function(){var b=this.colorFlip_();b.left.left.isRed_()&&(b=b.rotateRight_(),b=b.colorFlip_());return b};e.prototype.rotateLeft_=function(){var b=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,
b,null)};e.prototype.rotateRight_=function(){var b=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,b)};e.prototype.colorFlip_=function(){var b=this.left.copy(null,null,!this.left.color,null,null),g=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,b,g)};e.prototype.checkMaxDepth_=function(){var b=this.check_();return Math.pow(2,b)<=this.count()+1};e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+
this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");var b=this.left.check_();if(b!==this.right.check_())throw Error("Black depths differ");return b+(this.isRed_()?0:1)};e.RED=!0;e.BLACK=!1;return e}(),Xb=function(){function e(){}e.prototype.copy=function(b,g,e,c,l){return this};e.prototype.insert=function(b,g,e){return new Db(b,g,null)};e.prototype.remove=function(b,g){return this};e.prototype.count=function(){return 0};e.prototype.isEmpty=
function(){return!0};e.prototype.inorderTraversal=function(b){return!1};e.prototype.reverseTraversal=function(b){return!1};e.prototype.minKey=function(){return null};e.prototype.maxKey=function(){return null};e.prototype.check_=function(){return 0};e.prototype.isRed_=function(){return!1};return e}(),bc=function(){function e(b,g){void 0===g&&(g=e.EMPTY_NODE);this.comparator_=b;this.root_=g}e.prototype.insert=function(b,g){return new e(this.comparator_,this.root_.insert(b,g,this.comparator_).copy(null,
null,Db.BLACK,null,null))};e.prototype.remove=function(b){return new e(this.comparator_,this.root_.remove(b,this.comparator_).copy(null,null,Db.BLACK,null,null))};e.prototype.get=function(b){for(var e,c=this.root_;!c.isEmpty();){e=this.comparator_(b,c.key);if(0===e)return c.value;0>e?c=c.left:0<e&&(c=c.right)}return null};e.prototype.getPredecessorKey=function(b){for(var e,c=this.root_,l=null;!c.isEmpty();){e=this.comparator_(b,c.key);if(0===e){if(c.left.isEmpty())return l?l.key:null;for(c=c.left;!c.right.isEmpty();)c=
c.right;return c.key}0>e?c=c.left:0<e&&(l=c,c=c.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");};e.prototype.isEmpty=function(){return this.root_.isEmpty()};e.prototype.count=function(){return this.root_.count()};e.prototype.minKey=function(){return this.root_.minKey()};e.prototype.maxKey=function(){return this.root_.maxKey()};e.prototype.inorderTraversal=function(b){return this.root_.inorderTraversal(b)};e.prototype.reverseTraversal=function(b){return this.root_.reverseTraversal(b)};
e.prototype.getIterator=function(b){return new lb(this.root_,null,this.comparator_,!1,b)};e.prototype.getIteratorFrom=function(b,e){return new lb(this.root_,b,this.comparator_,!1,e)};e.prototype.getReverseIteratorFrom=function(b,e){return new lb(this.root_,b,this.comparator_,!0,e)};e.prototype.getReverseIterator=function(b){return new lb(this.root_,null,this.comparator_,!0,b)};e.EMPTY_NODE=new Xb;return e}(),Nb=Math.log(2),Eb=function(){function e(b){this.count=parseInt(Math.log(b+1)/Nb,10);this.current_=
this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=b+1&e}e.prototype.nextBitIsOne=function(){var b=!(this.bits_&1<<this.current_);this.current_--;return b};return e}(),lc=function(e,b,g,c){e.sort(b);var l=function(b,c){var t=c-b;if(0==t)return null;if(1==t){t=e[b];var f=g?g(t):t;return new Db(f,t.node,Db.BLACK,null,null)}t=parseInt(t/2,10)+b;b=l(b,t);c=l(t+1,c);t=e[t];f=g?g(t):t;return new Db(f,t.node,Db.BLACK,b,c)},t=function(b){for(var c=null,t=null,f=e.length,Q=function(b,
Q){var k=f-b,u=f;f-=b;b=l(k+1,u);k=e[k];u=g?g(k):k;Q=new Db(u,k.node,Q,null,b);c?c.left=Q:t=Q;c=Q},k=0;k<b.count;++k){var u=b.nextBitIsOne(),H=Math.pow(2,b.count-(k+1));u?Q(H,Db.BLACK):(Q(H,Db.BLACK),Q(H,Db.RED))}return t}(new Eb(e.length));return new bc(c||b,t)},Fc,Ob={},mb=function(){function c(b,e){this.indexes_=b;this.indexSet_=e}Object.defineProperty(c,"Default",{get:function(){e.assert(Ob&&Fa,"ChildrenNode.ts has not been loaded");return Fc=Fc||new c({".priority":Ob},{".priority":Fa})},enumerable:!0,
configurable:!0});c.prototype.get=function(b){var g=e.safeGet(this.indexes_,b);if(!g)throw Error("No index defined for "+b);return g===Ob?null:g};c.prototype.hasIndex=function(b){return e.contains(this.indexSet_,b.toString())};c.prototype.addIndex=function(b,g){e.assert(b!==Wb,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var l=[],f=!1;g=g.getIterator(ma.Wrap);for(var k=g.getNext();k;)f=f||b.isDefinedOn(k.node),l.push(k),k=g.getNext();l=f?lc(l,b.getCompare()):Ob;f=b.toString();
g=e.clone(this.indexSet_);g[f]=b;b=e.clone(this.indexes_);b[f]=l;return new c(b,g)};c.prototype.addToIndexes=function(b,g){var l=this,f=e.map(this.indexes_,function(c,t){var f=e.safeGet(l.indexSet_,t);e.assert(f,"Missing index implementation for "+t);if(c===Ob){if(f.isDefinedOn(b.node)){c=[];t=g.getIterator(ma.Wrap);for(var Q=t.getNext();Q;)Q.name!=b.name&&c.push(Q),Q=t.getNext();c.push(b);return lc(c,f.getCompare())}return Ob}(f=g.get(b.name))&&(c=c.remove(new ma(b.name,f)));return c.insert(b,b.node)});
return new c(f,this.indexSet_)};c.prototype.removeFromIndexes=function(b,g){var l=e.map(this.indexes_,function(e){if(e===Ob)return e;var c=g.get(b.name);return c?e.remove(new ma(b.name,c)):e});return new c(l,this.indexSet_)};return c}(),uc,sa=function(){function c(b,g,c){this.children_=b;this.priorityNode_=g;this.indexMap_=c;this.lazyHash_=null;this.priorityNode_&&Oc(this.priorityNode_);this.children_.isEmpty()&&e.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}
Object.defineProperty(c,"EMPTY_NODE",{get:function(){return uc||(uc=new c(new bc(p),null,mb.Default))},enumerable:!0,configurable:!0});c.prototype.isLeafNode=function(){return!1};c.prototype.getPriority=function(){return this.priorityNode_||uc};c.prototype.updatePriority=function(b){return this.children_.isEmpty()?this:new c(this.children_,b,this.indexMap_)};c.prototype.getImmediateChild=function(b){if(".priority"===b)return this.getPriority();b=this.children_.get(b);return null===b?uc:b};c.prototype.getChild=
function(b){var e=b.getFront();return null===e?this:this.getImmediateChild(e).getChild(b.popFront())};c.prototype.hasChild=function(b){return null!==this.children_.get(b)};c.prototype.updateImmediateChild=function(b,g){e.assert(g,"We should always be passing snapshot nodes");if(".priority"===b)return this.updatePriority(g);var l=new ma(b,g);g.isEmpty()?(b=this.children_.remove(b),l=this.indexMap_.removeFromIndexes(l,this.children_)):(b=this.children_.insert(b,g),l=this.indexMap_.addToIndexes(l,this.children_));
g=b.isEmpty()?uc:this.priorityNode_;return new c(b,g,l)};c.prototype.updateChild=function(b,g){var c=b.getFront();if(null===c)return g;e.assert(".priority"!==b.getFront()||1===b.getLength(),".priority must be the last token in a path");b=this.getImmediateChild(c).updateChild(b.popFront(),g);return this.updateImmediateChild(c,b)};c.prototype.isEmpty=function(){return this.children_.isEmpty()};c.prototype.numChildren=function(){return this.children_.count()};c.prototype.val=function(b){if(this.isEmpty())return null;
var e={},l=0,f=0,k=!0;this.forEachChild(Fa,function(g,t){e[g]=t.val(b);l++;k&&c.INTEGER_REGEXP_.test(g)?f=Math.max(f,Number(g)):k=!1});if(!b&&k&&f<2*l){var u=[],H;for(H in e)u[H]=e[H];return u}b&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val());return e};c.prototype.hash=function(){if(null===this.lazyHash_){var b="";this.getPriority().isEmpty()||(b+="priority:"+Ia(this.getPriority().val())+":");this.forEachChild(Fa,function(e,c){c=c.hash();""!==c&&(b+=":"+e+":"+c)});this.lazyHash_=
""===b?"":K(b)}return this.lazyHash_};c.prototype.getPredecessorChildName=function(b,e,c){return(c=this.resolveIndex_(c))?(b=c.getPredecessorKey(new ma(b,e)))?b.name:null:this.children_.getPredecessorKey(b)};c.prototype.getFirstChildName=function(b){return(b=this.resolveIndex_(b))?(b=b.minKey())&&b.name:this.children_.minKey()};c.prototype.getFirstChild=function(b){return(b=this.getFirstChildName(b))?new ma(b,this.children_.get(b)):null};c.prototype.getLastChildName=function(b){return(b=this.resolveIndex_(b))?
(b=b.maxKey())&&b.name:this.children_.maxKey()};c.prototype.getLastChild=function(b){return(b=this.getLastChildName(b))?new ma(b,this.children_.get(b)):null};c.prototype.forEachChild=function(b,e){return(b=this.resolveIndex_(b))?b.inorderTraversal(function(b){return e(b.name,b.node)}):this.children_.inorderTraversal(e)};c.prototype.getIterator=function(b){return this.getIteratorFrom(b.minPost(),b)};c.prototype.getIteratorFrom=function(b,e){var g=this.resolveIndex_(e);if(g)return g.getIteratorFrom(b,
function(b){return b});g=this.children_.getIteratorFrom(b.name,ma.Wrap);for(var c=g.peek();null!=c&&0>e.compare(c,b);)g.getNext(),c=g.peek();return g};c.prototype.getReverseIterator=function(b){return this.getReverseIteratorFrom(b.maxPost(),b)};c.prototype.getReverseIteratorFrom=function(b,e){var g=this.resolveIndex_(e);if(g)return g.getReverseIteratorFrom(b,function(b){return b});g=this.children_.getReverseIteratorFrom(b.name,ma.Wrap);for(var c=g.peek();null!=c&&0<e.compare(c,b);)g.getNext(),c=g.peek();
return g};c.prototype.compareTo=function(b){return this.isEmpty()?b.isEmpty()?0:-1:b.isLeafNode()||b.isEmpty()?1:b===hd?-1:0};c.prototype.withIndex=function(b){if(b===Wb||this.indexMap_.hasIndex(b))return this;b=this.indexMap_.addIndex(b,this.children_);return new c(this.children_,this.priorityNode_,b)};c.prototype.isIndexed=function(b){return b===Wb||this.indexMap_.hasIndex(b)};c.prototype.equals=function(b){if(b===this)return!0;if(b.isLeafNode())return!1;if(this.getPriority().equals(b.getPriority())&&
this.children_.count()===b.children_.count()){var e=this.getIterator(Fa);b=b.getIterator(Fa);for(var c=e.getNext(),l=b.getNext();c&&l;){if(c.name!==l.name||!c.node.equals(l.node))return!1;c=e.getNext();l=b.getNext()}return null===c&&null===l}return!1};c.prototype.resolveIndex_=function(b){return b===Wb?null:this.indexMap_.get(b.toString())};c.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;return c}(),hd=new (function(e){function b(){return e.call(this,new bc(p),sa.EMPTY_NODE,mb.Default)||this}k.__extends(b,e);
b.prototype.compareTo=function(b){return b===this?0:1};b.prototype.equals=function(b){return b===this};b.prototype.getPriority=function(){return this};b.prototype.getImmediateChild=function(b){return sa.EMPTY_NODE};b.prototype.isEmpty=function(){return!1};return b}(sa));Object.defineProperties(ma,{MIN:{value:new ma("[MIN_NAME]",sa.EMPTY_NODE)},MAX:{value:new ma("[MAX_NAME]",hd)}});kc.__EMPTY_NODE=sa.EMPTY_NODE;gb.__childrenNodeConstructor=sa;var od=Ca=hd;var Gc=x;var Qc=new (function(e){function b(){return null!==
e&&e.apply(this,arguments)||this}k.__extends(b,e);b.prototype.compare=function(b,e){var g=b.node.compareTo(e.node);return 0===g?X(b.name,e.name):g};b.prototype.isDefinedOn=function(b){return!0};b.prototype.indexedValueChanged=function(b,e){return!b.equals(e)};b.prototype.minPost=function(){return ma.MIN};b.prototype.maxPost=function(){return ma.MAX};b.prototype.makePost=function(b,e){b=x(b);return new ma(e,b)};b.prototype.toString=function(){return".value"};return b}(Ua)),Sa=function(c){function b(b){var g=
c.call(this)||this;g.indexPath_=b;e.assert(!b.isEmpty()&&".priority"!==b.getFront(),"Can't create PathIndex with empty path or .priority key");return g}k.__extends(b,c);b.prototype.extractChild=function(b){return b.getChild(this.indexPath_)};b.prototype.isDefinedOn=function(b){return!b.getChild(this.indexPath_).isEmpty()};b.prototype.compare=function(b,e){var g=this.extractChild(b.node),c=this.extractChild(e.node);g=g.compareTo(c);return 0===g?X(b.name,e.name):g};b.prototype.makePost=function(b,e){b=
x(b);b=sa.EMPTY_NODE.updateChild(this.indexPath_,b);return new ma(e,b)};b.prototype.maxPost=function(){var b=sa.EMPTY_NODE.updateChild(this.indexPath_,hd);return new ma("[MAX_NAME]",b)};b.prototype.toString=function(){return this.indexPath_.slice().join("/")};return b}(Ua),u=function(){function c(b,e,c){this.node_=b;this.ref_=e;this.index_=c}c.prototype.val=function(){e.validateArgCount("DataSnapshot.val",0,0,arguments.length);return this.node_.val()};c.prototype.exportVal=function(){e.validateArgCount("DataSnapshot.exportVal",
0,0,arguments.length);return this.node_.val(!0)};c.prototype.toJSON=function(){e.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length);return this.exportVal()};c.prototype.exists=function(){e.validateArgCount("DataSnapshot.exists",0,0,arguments.length);return!this.node_.isEmpty()};c.prototype.child=function(b){e.validateArgCount("DataSnapshot.child",0,1,arguments.length);b=String(b);Nc("DataSnapshot.child",1,b,!1);var g=new V(b),l=this.ref_.child(g);return new c(this.node_.getChild(g),l,Fa)};
c.prototype.hasChild=function(b){e.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length);Nc("DataSnapshot.hasChild",1,b,!1);var g=new V(b);return!this.node_.getChild(g).isEmpty()};c.prototype.getPriority=function(){e.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length);return this.node_.getPriority().val()};c.prototype.forEach=function(b){var g=this;e.validateArgCount("DataSnapshot.forEach",1,1,arguments.length);e.validateCallback("DataSnapshot.forEach",1,b,!1);return this.node_.isLeafNode()?
!1:!!this.node_.forEachChild(this.index_,function(e,l){return b(new c(l,g.ref_.child(e),Fa))})};c.prototype.hasChildren=function(){e.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length);return this.node_.isLeafNode()?!1:!this.node_.isEmpty()};Object.defineProperty(c.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0});c.prototype.numChildren=function(){e.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length);return this.node_.numChildren()};
c.prototype.getRef=function(){e.validateArgCount("DataSnapshot.ref",0,0,arguments.length);return this.ref_};Object.defineProperty(c.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0});return c}(),H=function(){function c(b,e,c,l){this.eventType=b;this.eventRegistration=e;this.snapshot=c;this.prevName=l}c.prototype.getPath=function(){var b=this.snapshot.getRef();return"value"===this.eventType?b.path:b.getParent().path};c.prototype.getEventType=function(){return this.eventType};
c.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)};c.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+e.stringify(this.snapshot.exportVal())};return c}(),Wd=function(){function e(b,e,c){this.eventRegistration=b;this.error=e;this.path=c}e.prototype.getPath=function(){return this.path};e.prototype.getEventType=function(){return"cancel"};e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)};
e.prototype.toString=function(){return this.path.toString()+":cancel"};return e}(),mc=function(){function c(b,e,c){this.callback_=b;this.cancelCallback_=e;this.context_=c}c.prototype.respondsTo=function(b){return"value"===b};c.prototype.createEvent=function(b,e){var c=e.getQueryParams().getIndex();return new H("value",this,new u(b.snapshotNode,e.getRef(),c))};c.prototype.getEventRunner=function(b){var c=this.context_;if("cancel"===b.getEventType()){e.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");
var l=this.cancelCallback_;return function(){l.call(c,b.error)}}var f=this.callback_;return function(){f.call(c,b.snapshot)}};c.prototype.createCancelEvent=function(b,e){return this.cancelCallback_?new Wd(this,b,e):null};c.prototype.matches=function(b){return b instanceof c?b.callback_&&this.callback_?b.callback_===this.callback_&&b.context_===this.context_:!0:!1};c.prototype.hasAnyCallback=function(){return null!==this.callback_};return c}(),Pb=function(){function c(b,e,c){this.callbacks_=b;this.cancelCallback_=
e;this.context_=c}c.prototype.respondsTo=function(b){b="children_added"===b?"child_added":b;return e.contains(this.callbacks_,"children_removed"===b?"child_removed":b)};c.prototype.createCancelEvent=function(b,e){return this.cancelCallback_?new Wd(this,b,e):null};c.prototype.createEvent=function(b,c){e.assert(null!=b.childName,"Child events should have a childName.");var g=c.getRef().child(b.childName);c=c.getQueryParams().getIndex();return new H(b.type,this,new u(b.snapshotNode,g,c),b.prevName)};
c.prototype.getEventRunner=function(b){var c=this.context_;if("cancel"===b.getEventType()){e.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var l=this.cancelCallback_;return function(){l.call(c,b.error)}}var f=this.callbacks_[b.eventType];return function(){f.call(c,b.snapshot,b.prevName)}};c.prototype.matches=function(b){if(b instanceof c){if(!this.callbacks_||!b.callbacks_)return!0;if(this.context_===b.context_){var g=e.getCount(b.callbacks_),l=e.getCount(this.callbacks_);
if(g===l)return 1===g?(g=e.getAnyKey(b.callbacks_),l=e.getAnyKey(this.callbacks_),l===g&&(!b.callbacks_[g]||!this.callbacks_[l]||b.callbacks_[g]===this.callbacks_[l])):e.every(this.callbacks_,function(e,c){return b.callbacks_[e]===c})}}return!1};c.prototype.hasAnyCallback=function(){return null!==this.callbacks_};return c}(),Ya,cc=function(){function c(b,e,c,l){this.repo=b;this.path=e;this.queryParams_=c;this.orderByCalled_=l}Object.defineProperty(c,"__referenceConstructor",{get:function(){e.assert(Ya,
"Reference.ts has not been loaded");return Ya},set:function(b){Ya=b},enumerable:!0,configurable:!0});c.validateQueryEndpoints_=function(b){var c=null,l=null;b.hasStart()&&(c=b.getIndexStartValue());b.hasEnd()&&(l=b.getIndexEndValue());if(b.getIndex()===Wb){if(b.hasStart()){if("[MIN_NAME]"!=b.getIndexStartName())throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");
}if(b.hasEnd()){if("[MAX_NAME]"!=b.getIndexEndName())throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof l)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(b.getIndex()===Fa){if(null!=c&&!Ta(c)||null!=l&&!Ta(l))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");
}else if(e.assert(b.getIndex()instanceof Sa||b.getIndex()===Qc,"unknown index type."),null!=c&&"object"===typeof c||null!=l&&"object"===typeof l)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");};c.validateLimit_=function(b){if(b.hasStart()&&b.hasEnd()&&b.hasLimit()&&!b.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");};c.prototype.validateNoPreviousOrderByCall_=
function(b){if(!0===this.orderByCalled_)throw Error(b+": You can't combine multiple orderBy calls.");};c.prototype.getQueryParams=function(){return this.queryParams_};c.prototype.getRef=function(){e.validateArgCount("Query.ref",0,0,arguments.length);return new c.__referenceConstructor(this.repo,this.path)};c.prototype.on=function(b,g,l,f){e.validateArgCount("Query.on",2,4,arguments.length);Dd("Query.on",1,b,!1);e.validateCallback("Query.on",2,g,!1);var t=c.getCancelAndContextArgs_("Query.on",l,f);
if("value"===b)this.onValueEvent(g,t.cancel,t.context);else{var k={};k[b]=g;this.onChildEvent(k,t.cancel,t.context)}return g};c.prototype.onValueEvent=function(b,e,c){b=new mc(b,e||null,c||null);this.repo.addEventCallbackForQuery(this,b)};c.prototype.onChildEvent=function(b,e,c){b=new Pb(b,e,c);this.repo.addEventCallbackForQuery(this,b)};c.prototype.off=function(b,c,l){e.validateArgCount("Query.off",0,3,arguments.length);Dd("Query.off",1,b,!0);e.validateCallback("Query.off",2,c,!0);e.validateContextObject("Query.off",
3,l,!0);var g=null,t=null;"value"===b?g=new mc(c||null,null,l||null):b&&(c&&(t={},t[b]=c),g=new Pb(t,null,l||null));this.repo.removeEventCallbackForQuery(this,g)};c.prototype.once=function(b,g,l,f){var t=this;e.validateArgCount("Query.once",1,4,arguments.length);Dd("Query.once",1,b,!1);e.validateCallback("Query.once",2,g,!0);var k=c.getCancelAndContextArgs_("Query.once",l,f),Q=!0,u=new e.Deferred;u.promise.catch(function(){});var H=function(e){Q&&(Q=!1,t.off(b,H),g&&g.bind(k.context)(e),u.resolve(e))};
this.on(b,H,function(e){t.off(b,H);k.cancel&&k.cancel.bind(k.context)(e);u.reject(e)});return u.promise};c.prototype.limitToFirst=function(b){e.validateArgCount("Query.limitToFirst",1,1,arguments.length);if("number"!==typeof b||Math.floor(b)!==b||0>=b)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new c(this.repo,this.path,
this.queryParams_.limitToFirst(b),this.orderByCalled_)};c.prototype.limitToLast=function(b){e.validateArgCount("Query.limitToLast",1,1,arguments.length);if("number"!==typeof b||Math.floor(b)!==b||0>=b)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new c(this.repo,this.path,this.queryParams_.limitToLast(b),this.orderByCalled_)};
c.prototype.orderByChild=function(b){e.validateArgCount("Query.orderByChild",1,1,arguments.length);if("$key"===b)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===b)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===b)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Nc("Query.orderByChild",1,b,!1);this.validateNoPreviousOrderByCall_("Query.orderByChild");
var g=new V(b);if(g.isEmpty())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");g=new Sa(g);g=this.queryParams_.orderBy(g);c.validateQueryEndpoints_(g);return new c(this.repo,this.path,g,!0)};c.prototype.orderByKey=function(){e.validateArgCount("Query.orderByKey",0,0,arguments.length);this.validateNoPreviousOrderByCall_("Query.orderByKey");var b=this.queryParams_.orderBy(Wb);c.validateQueryEndpoints_(b);return new c(this.repo,this.path,b,!0)};c.prototype.orderByPriority=
function(){e.validateArgCount("Query.orderByPriority",0,0,arguments.length);this.validateNoPreviousOrderByCall_("Query.orderByPriority");var b=this.queryParams_.orderBy(Fa);c.validateQueryEndpoints_(b);return new c(this.repo,this.path,b,!0)};c.prototype.orderByValue=function(){e.validateArgCount("Query.orderByValue",0,0,arguments.length);this.validateNoPreviousOrderByCall_("Query.orderByValue");var b=this.queryParams_.orderBy(Qc);c.validateQueryEndpoints_(b);return new c(this.repo,this.path,b,!0)};
c.prototype.startAt=function(b,g){void 0===b&&(b=null);e.validateArgCount("Query.startAt",0,2,arguments.length);la("Query.startAt",1,b,this.path,!0);jc("Query.startAt",2,g,!0);var l=this.queryParams_.startAt(b,g);c.validateLimit_(l);c.validateQueryEndpoints_(l);if(this.queryParams_.hasStart())throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");void 0===b&&(g=b=null);return new c(this.repo,this.path,l,this.orderByCalled_)};c.prototype.endAt=function(b,
g){void 0===b&&(b=null);e.validateArgCount("Query.endAt",0,2,arguments.length);la("Query.endAt",1,b,this.path,!0);jc("Query.endAt",2,g,!0);var l=this.queryParams_.endAt(b,g);c.validateLimit_(l);c.validateQueryEndpoints_(l);if(this.queryParams_.hasEnd())throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new c(this.repo,this.path,l,this.orderByCalled_)};c.prototype.equalTo=function(b,c){e.validateArgCount("Query.equalTo",1,2,arguments.length);la("Query.equalTo",
1,b,this.path,!1);jc("Query.equalTo",2,c,!0);if(this.queryParams_.hasStart())throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(b,c).endAt(b,c)};c.prototype.toString=function(){e.validateArgCount("Query.toString",0,0,arguments.length);return this.repo.toString()+this.path.toUrlEncodedString()};c.prototype.toJSON=
function(){e.validateArgCount("Query.toJSON",0,1,arguments.length);return this.toString()};c.prototype.queryObject=function(){return this.queryParams_.getQueryObject()};c.prototype.queryIdentifier=function(){var b=this.queryObject();b=ca(b);return"{}"===b?"default":b};c.prototype.isEqual=function(b){e.validateArgCount("Query.isEqual",1,1,arguments.length);if(!(b instanceof c))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var g=this.repo===b.repo,
l=this.path.equals(b.path),f=this.queryIdentifier()===b.queryIdentifier();return g&&l&&f};c.getCancelAndContextArgs_=function(b,c,l){var g={cancel:null,context:null};if(c&&l)g.cancel=c,e.validateCallback(b,3,g.cancel,!0),g.context=l,e.validateContextObject(b,4,g.context,!0);else if(c)if("object"===typeof c&&null!==c)g.context=c;else if("function"===typeof c)g.cancel=c;else throw Error(e.errorPrefix(b,3,!0)+" must either be a cancel callback or a context object.");return g};Object.defineProperty(c.prototype,
"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0});return c}(),D=function(){function c(){this.set={}}c.prototype.add=function(b,e){this.set[b]=null!==e?e:!0};c.prototype.contains=function(b){return e.contains(this.set,b)};c.prototype.get=function(b){return this.contains(b)?this.set[b]:void 0};c.prototype.remove=function(b){delete this.set[b]};c.prototype.clear=function(){this.set={}};c.prototype.isEmpty=function(){return e.isEmpty(this.set)};c.prototype.count=function(){return e.getCount(this.set)};
c.prototype.each=function(b){e.forEach(this.set,function(e,c){return b(e,c)})};c.prototype.keys=function(){var b=[];e.forEach(this.set,function(e){b.push(e)});return b};return c}(),P=function(){function e(){this.children_=this.value_=null}e.prototype.find=function(b){if(null!=this.value_)return this.value_.getChild(b);if(b.isEmpty()||null==this.children_)return null;var e=b.getFront();b=b.popFront();return this.children_.contains(e)?this.children_.get(e).find(b):null};e.prototype.remember=function(b,
c){if(b.isEmpty())this.value_=c,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(b,c);else{null==this.children_&&(this.children_=new D);var g=b.getFront();this.children_.contains(g)||this.children_.add(g,new e);g=this.children_.get(g);b=b.popFront();g.remember(b,c)}};e.prototype.forget=function(b){if(b.isEmpty())return this.children_=this.value_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var c=this;e.forEachChild(Fa,
function(b,e){c.remember(new V(b),e)});return this.forget(b)}return null!==this.children_?(e=b.getFront(),b=b.popFront(),this.children_.contains(e)&&this.children_.get(e).forget(b)&&this.children_.remove(e),this.children_.isEmpty()?(this.children_=null,!0):!1):!0};e.prototype.forEachTree=function(b,e){null!==this.value_?e(b,this.value_):this.forEachChild(function(c,g){c=new V(b.toString()+"/"+c);g.forEachTree(c,e)})};e.prototype.forEachChild=function(b){null!==this.children_&&this.children_.each(function(e,
c){b(e,c)})};return e}(),dc=function(c,b){return c&&"object"===typeof c?(e.assert(".sv"in c,"Unexpected leaf node or priority contents"),b[c[".sv"]]):c},Rc=function(e,b){var c=new P;e.forEachTree(new V(""),function(e,g){c.remember(e,ec(g,b))});return c},ec=function(e,b){var c=e.getPriority().val();c=dc(c,b);if(e.isLeafNode()){var l=dc(e.getValue(),b);return l!==e.getValue()||c!==e.getPriority().val()?new gb(l,x(c)):e}var f=e;c!==e.getPriority().val()&&(f=f.updatePriority(new gb(c)));e.forEachChild(Fa,
function(e,c){var g=ec(c,b);g!==c&&(f=f.updateImmediateChild(e,g))});return f},Qb;(function(e){e[e.OVERWRITE=0]="OVERWRITE";e[e.MERGE=1]="MERGE";e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE";e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qb||(Qb={}));var Da=function(){function c(b,c,l,f){this.fromUser=b;this.fromServer=c;this.queryId=l;this.tagged=f;e.assert(!f||c,"Tagged queries must be from server.")}c.User=new c(!0,!1,null,!1);c.Server=new c(!1,!0,null,!1);c.forServerTaggedQuery=function(b){return new c(!1,
!0,b,!0)};return c}(),Xd=function(){function c(b,e,c){this.path=b;this.affectedTree=e;this.revert=c;this.type=Qb.ACK_USER_WRITE;this.source=Da.User}c.prototype.operationForChild=function(b){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return e.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;b=this.affectedTree.subtree(new V(b));return new c(V.Empty,b,this.revert)}e.assert(this.path.getFront()===b,"operationForChild called for unrelated child.");
return new c(this.path.popFront(),this.affectedTree,this.revert)};return c}(),vc,$b=function(){function c(b,e){void 0===e&&(vc||(vc=new bc(na)),e=vc);this.value=b;this.children=e}c.fromObject=function(b){var g=c.Empty;e.forEach(b,function(b,e){g=g.set(new V(b),e)});return g};c.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()};c.prototype.findRootMostMatchingPathAndValue=function(b,e){if(null!=this.value&&e(this.value))return{path:V.Empty,value:this.value};if(b.isEmpty())return null;
var c=b.getFront(),g=this.children.get(c);return null!==g?(b=g.findRootMostMatchingPathAndValue(b.popFront(),e),null!=b?{path:(new V(c)).child(b.path),value:b.value}:null):null};c.prototype.findRootMostValueAndPath=function(b){return this.findRootMostMatchingPathAndValue(b,function(){return!0})};c.prototype.subtree=function(b){if(b.isEmpty())return this;var e=b.getFront();e=this.children.get(e);return null!==e?e.subtree(b.popFront()):c.Empty};c.prototype.set=function(b,e){if(b.isEmpty())return new c(e,
this.children);var g=b.getFront();b=(this.children.get(g)||c.Empty).set(b.popFront(),e);g=this.children.insert(g,b);return new c(this.value,g)};c.prototype.remove=function(b){if(b.isEmpty())return this.children.isEmpty()?c.Empty:new c(null,this.children);var e=b.getFront(),l=this.children.get(e);return l?(b=l.remove(b.popFront()),e=b.isEmpty()?this.children.remove(e):this.children.insert(e,b),null===this.value&&e.isEmpty()?c.Empty:new c(this.value,e)):this};c.prototype.get=function(b){if(b.isEmpty())return this.value;
var e=b.getFront();return(e=this.children.get(e))?e.get(b.popFront()):null};c.prototype.setTree=function(b,e){if(b.isEmpty())return e;var g=b.getFront();b=(this.children.get(g)||c.Empty).setTree(b.popFront(),e);g=b.isEmpty()?this.children.remove(g):this.children.insert(g,b);return new c(this.value,g)};c.prototype.fold=function(b){return this.fold_(V.Empty,b)};c.prototype.fold_=function(b,e){var c={};this.children.inorderTraversal(function(g,l){c[g]=l.fold_(b.child(g),e)});return e(b,this.value,c)};
c.prototype.findOnPath=function(b,e){return this.findOnPath_(b,V.Empty,e)};c.prototype.findOnPath_=function(b,e,c){var g=this.value?c(e,this.value):!1;if(g)return g;if(b.isEmpty())return null;g=b.getFront();var l=this.children.get(g);return l?l.findOnPath_(b.popFront(),e.child(g),c):null};c.prototype.foreachOnPath=function(b,e){return this.foreachOnPath_(b,V.Empty,e)};c.prototype.foreachOnPath_=function(b,e,l){if(b.isEmpty())return this;this.value&&l(e,this.value);var g=b.getFront(),t=this.children.get(g);
return t?t.foreachOnPath_(b.popFront(),e.child(g),l):c.Empty};c.prototype.foreach=function(b){this.foreach_(V.Empty,b)};c.prototype.foreach_=function(b,e){this.children.inorderTraversal(function(c,g){g.foreach_(b.child(c),e)});this.value&&e(b,this.value)};c.prototype.foreachChild=function(b){this.children.inorderTraversal(function(e,c){c.value&&b(e,c.value)})};c.Empty=new c(null);return c}(),Ma=function(){function e(b,e){this.source=b;this.path=e;this.type=Qb.LISTEN_COMPLETE}e.prototype.operationForChild=
function(b){return this.path.isEmpty()?new e(this.source,V.Empty):new e(this.source,this.path.popFront())};return e}(),fc=function(){function e(b,e,c){this.source=b;this.path=e;this.snap=c;this.type=Qb.OVERWRITE}e.prototype.operationForChild=function(b){return this.path.isEmpty()?new e(this.source,V.Empty,this.snap.getImmediateChild(b)):new e(this.source,this.path.popFront(),this.snap)};return e}(),Va=function(){function c(b,e,c){this.source=b;this.path=e;this.children=c;this.type=Qb.MERGE}c.prototype.operationForChild=
function(b){if(this.path.isEmpty())return b=this.children.subtree(new V(b)),b.isEmpty()?null:b.value?new fc(this.source,V.Empty,b.value):new c(this.source,V.Empty,b);e.assert(this.path.getFront()===b,"Can't get a merge for a child not on the path of the operation");return new c(this.source,this.path.popFront(),this.children)};c.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};return c}(),pa=function(){function e(b,e,c){this.node_=
b;this.fullyInitialized_=e;this.filtered_=c}e.prototype.isFullyInitialized=function(){return this.fullyInitialized_};e.prototype.isFiltered=function(){return this.filtered_};e.prototype.isCompleteForPath=function(b){if(b.isEmpty())return this.isFullyInitialized()&&!this.filtered_;b=b.getFront();return this.isCompleteForChild(b)};e.prototype.isCompleteForChild=function(b){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(b)};e.prototype.getNode=function(){return this.node_};return e}(),
wc=function(){function e(b,e){this.eventCache_=b;this.serverCache_=e}e.prototype.updateEventSnap=function(b,c,l){return new e(new pa(b,c,l),this.serverCache_)};e.prototype.updateServerSnap=function(b,c,l){return new e(this.eventCache_,new pa(b,c,l))};e.prototype.getEventCache=function(){return this.eventCache_};e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null};e.prototype.getServerCache=function(){return this.serverCache_};e.prototype.getCompleteServerSnap=
function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null};e.Empty=new e(new pa(sa.EMPTY_NODE,!1,!1),new pa(sa.EMPTY_NODE,!1,!1));return e}(),da=function(){function e(b,e,c,l,f){this.type=b;this.snapshotNode=e;this.childName=c;this.oldSnap=l;this.prevName=f}e.valueChange=function(b){return new e(e.VALUE,b)};e.childAddedChange=function(b,c){return new e(e.CHILD_ADDED,c,b)};e.childRemovedChange=function(b,c){return new e(e.CHILD_REMOVED,c,b)};e.childChangedChange=function(b,
c,l){return new e(e.CHILD_CHANGED,c,b,l)};e.childMovedChange=function(b,c){return new e(e.CHILD_MOVED,c,b)};e.CHILD_ADDED="child_added";e.CHILD_REMOVED="child_removed";e.CHILD_CHANGED="child_changed";e.CHILD_MOVED="child_moved";e.VALUE="value";return e}(),xb=function(){function c(b){this.index_=b}c.prototype.updateChild=function(b,c,l,f,k,u){e.assert(b.isIndexed(this.index_),"A node must be indexed if only a child is updated");k=b.getImmediateChild(c);if(k.getChild(f).equals(l.getChild(f))&&k.isEmpty()==
l.isEmpty())return b;null!=u&&(l.isEmpty()?b.hasChild(c)?u.trackChildChange(da.childRemovedChange(c,k)):e.assert(b.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):k.isEmpty()?u.trackChildChange(da.childAddedChange(c,l)):u.trackChildChange(da.childChangedChange(c,l,k)));return b.isLeafNode()&&l.isEmpty()?b:b.updateImmediateChild(c,l).withIndex(this.index_)};c.prototype.updateFullNode=function(b,e,c){null!=c&&(b.isLeafNode()||b.forEachChild(Fa,function(b,g){e.hasChild(b)||
c.trackChildChange(da.childRemovedChange(b,g))}),e.isLeafNode()||e.forEachChild(Fa,function(e,g){if(b.hasChild(e)){var l=b.getImmediateChild(e);l.equals(g)||c.trackChildChange(da.childChangedChange(e,g,l))}else c.trackChildChange(da.childAddedChange(e,g))}));return e.withIndex(this.index_)};c.prototype.updatePriority=function(b,e){return b.isEmpty()?sa.EMPTY_NODE:b.updatePriority(e)};c.prototype.filtersNodes=function(){return!1};c.prototype.getIndexedFilter=function(){return this};c.prototype.getIndex=
function(){return this.index_};return c}(),Sc=function(){function c(){this.changeMap_={}}c.prototype.trackChildChange=function(b){var c=b.type,l=b.childName;e.assert(c==da.CHILD_ADDED||c==da.CHILD_CHANGED||c==da.CHILD_REMOVED,"Only child changes supported for tracking");e.assert(".priority"!==l,"Only non-priority child changes can be tracked.");var f=e.safeGet(this.changeMap_,l);if(f){var k=f.type;if(c==da.CHILD_ADDED&&k==da.CHILD_REMOVED)this.changeMap_[l]=da.childChangedChange(l,b.snapshotNode,
f.snapshotNode);else if(c==da.CHILD_REMOVED&&k==da.CHILD_ADDED)delete this.changeMap_[l];else if(c==da.CHILD_REMOVED&&k==da.CHILD_CHANGED)this.changeMap_[l]=da.childRemovedChange(l,f.oldSnap);else if(c==da.CHILD_CHANGED&&k==da.CHILD_ADDED)this.changeMap_[l]=da.childAddedChange(l,b.snapshotNode);else if(c==da.CHILD_CHANGED&&k==da.CHILD_CHANGED)this.changeMap_[l]=da.childChangedChange(l,b.snapshotNode,f.oldSnap);else throw e.assertionError("Illegal combination of changes: "+b+" occurred after "+f);
}else this.changeMap_[l]=b};c.prototype.getChanges=function(){return e.getValues(this.changeMap_)};return c}(),cb=new (function(){function e(){}e.prototype.getCompleteChild=function(b){return null};e.prototype.getChildAfterChild=function(b,e,c){return null};return e}()),pd=function(){function e(b,e,c){void 0===c&&(c=null);this.writes_=b;this.viewCache_=e;this.optCompleteServerCache_=c}e.prototype.getCompleteChild=function(b){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(b))return e.getNode().getImmediateChild(b);
e=null!=this.optCompleteServerCache_?new pa(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(b,e)};e.prototype.getChildAfterChild=function(b,e,c){var g=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap();b=this.writes_.calcIndexedSlice(g,e,1,c,b);return 0===b.length?null:b[0]};return e}(),ib=function(){return function(e,b){this.viewCache=e;this.changes=b}}(),we=function(){function c(b){this.filter_=
b}c.prototype.assertIndexed=function(b){e.assert(b.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed");e.assert(b.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")};c.prototype.applyOperation=function(b,g,l,f){var t=new Sc;if(g.type===Qb.OVERWRITE)if(g.source.fromUser)g=this.applyUserOverwrite_(b,g.path,g.snap,l,f,t);else{e.assert(g.source.fromServer,"Unknown source.");var k=g.source.tagged||b.getServerCache().isFiltered()&&
!g.path.isEmpty();g=this.applyServerOverwrite_(b,g.path,g.snap,l,f,k,t)}else if(g.type===Qb.MERGE)g.source.fromUser?g=this.applyUserMerge_(b,g.path,g.children,l,f,t):(e.assert(g.source.fromServer,"Unknown source."),k=g.source.tagged||b.getServerCache().isFiltered(),g=this.applyServerMerge_(b,g.path,g.children,l,f,k,t));else if(g.type===Qb.ACK_USER_WRITE)g=g.revert?this.revertUserWrite_(b,g.path,l,f,t):this.ackUserWrite_(b,g.path,g.affectedTree,l,f,t);else if(g.type===Qb.LISTEN_COMPLETE)g=this.listenComplete_(b,
g.path,l,t);else throw e.assertionError("Unknown operation type: "+g.type);t=t.getChanges();c.maybeAddValueEvent_(b,g,t);return new ib(g,t)};c.maybeAddValueEvent_=function(b,e,c){var g=e.getEventCache();if(g.isFullyInitialized()){var l=g.getNode().isLeafNode()||g.getNode().isEmpty(),t=b.getCompleteEventSnap();(0<c.length||!b.getEventCache().isFullyInitialized()||l&&!g.getNode().equals(t)||!g.getNode().getPriority().equals(t.getPriority()))&&c.push(da.valueChange(e.getCompleteEventSnap()))}};c.prototype.generateEventCacheAfterServerEvent_=
function(b,c,l,f,k){var g=b.getEventCache();if(null!=l.shadowingWrite(c))return b;if(c.isEmpty())e.assert(b.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),b.getServerCache().isFiltered()?(f=b.getCompleteServerSnap(),l=l.calcCompleteEventChildren(f instanceof sa?f:sa.EMPTY_NODE),k=this.filter_.updateFullNode(b.getEventCache().getNode(),l,k)):(l=l.calcCompleteEventCache(b.getCompleteServerSnap()),k=this.filter_.updateFullNode(b.getEventCache().getNode(),
l,k));else{var t=c.getFront();if(".priority"==t){e.assert(1==c.getLength(),"Can't have a priority with additional path components");k=g.getNode();var u=b.getServerCache().getNode();l=l.calcEventCacheAfterServerOverwrite(c,k,u);k=null!=l?this.filter_.updatePriority(k,l):g.getNode()}else{var Q=c.popFront();g.isCompleteForChild(t)?(u=b.getServerCache().getNode(),l=l.calcEventCacheAfterServerOverwrite(c,g.getNode(),u),l=null!=l?g.getNode().getImmediateChild(t).updateChild(Q,l):g.getNode().getImmediateChild(t)):
l=l.calcCompleteChild(t,b.getServerCache());k=null!=l?this.filter_.updateChild(g.getNode(),t,l,Q,f,k):g.getNode()}}return b.updateEventSnap(k,g.isFullyInitialized()||c.isEmpty(),this.filter_.filtersNodes())};c.prototype.applyServerOverwrite_=function(b,e,c,l,f,k,u){var g=b.getServerCache();k=k?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())c=k.updateFullNode(g.getNode(),c,null);else if(k.filtersNodes()&&!g.isFiltered())c=g.getNode().updateChild(e,c),c=k.updateFullNode(g.getNode(),c,null);
else{var t=e.getFront();if(!g.isCompleteForPath(e)&&1<e.getLength())return b;var Q=e.popFront();c=g.getNode().getImmediateChild(t).updateChild(Q,c);c=".priority"==t?k.updatePriority(g.getNode(),c):k.updateChild(g.getNode(),t,c,Q,cb,null)}b=b.updateServerSnap(c,g.isFullyInitialized()||e.isEmpty(),k.filtersNodes());f=new pd(l,b,f);return this.generateEventCacheAfterServerEvent_(b,e,l,f,u)};c.prototype.applyUserOverwrite_=function(b,e,c,l,f,k){var g=b.getEventCache();l=new pd(l,b,f);if(e.isEmpty())k=
this.filter_.updateFullNode(b.getEventCache().getNode(),c,k),b=b.updateEventSnap(k,!0,this.filter_.filtersNodes());else if(f=e.getFront(),".priority"===f)k=this.filter_.updatePriority(b.getEventCache().getNode(),c),b=b.updateEventSnap(k,g.isFullyInitialized(),g.isFiltered());else{e=e.popFront();var t=g.getNode().getImmediateChild(f);if(!e.isEmpty()){var u=l.getCompleteChild(f);c=null!=u?".priority"===e.getBack()&&u.getChild(e.parent()).isEmpty()?u:u.updateChild(e,c):sa.EMPTY_NODE}t.equals(c)||(k=
this.filter_.updateChild(g.getNode(),f,c,e,l,k),b=b.updateEventSnap(k,g.isFullyInitialized(),this.filter_.filtersNodes()))}return b};c.cacheHasChild_=function(b,e){return b.getEventCache().isCompleteForChild(e)};c.prototype.applyUserMerge_=function(b,e,l,f,k,u){var g=this,t=b;l.foreach(function(l,Q){l=e.child(l);c.cacheHasChild_(b,l.getFront())&&(t=g.applyUserOverwrite_(t,l,Q,f,k,u))});l.foreach(function(l,Q){l=e.child(l);c.cacheHasChild_(b,l.getFront())||(t=g.applyUserOverwrite_(t,l,Q,f,k,u))});
return t};c.prototype.applyMerge_=function(b,e){e.foreach(function(e,c){b=b.updateChild(e,c)});return b};c.prototype.applyServerMerge_=function(b,e,c,l,f,k,u){var g=this;if(b.getServerCache().getNode().isEmpty()&&!b.getServerCache().isFullyInitialized())return b;var t=b;e=e.isEmpty()?c:$b.Empty.setTree(e,c);var Q=b.getServerCache().getNode();e.children.inorderTraversal(function(e,c){if(Q.hasChild(e)){var H=b.getServerCache().getNode().getImmediateChild(e);c=g.applyMerge_(H,c);t=g.applyServerOverwrite_(t,
new V(e),c,l,f,k,u)}});e.children.inorderTraversal(function(e,c){var H=!b.getServerCache().isCompleteForChild(e)&&null==c.value;Q.hasChild(e)||H||(H=b.getServerCache().getNode().getImmediateChild(e),c=g.applyMerge_(H,c),t=g.applyServerOverwrite_(t,new V(e),c,l,f,k,u))});return t};c.prototype.ackUserWrite_=function(b,e,c,l,f,k){if(null!=l.shadowingWrite(e))return b;var g=b.getServerCache().isFiltered(),t=b.getServerCache();if(null!=c.value){if(e.isEmpty()&&t.isFullyInitialized()||t.isCompleteForPath(e))return this.applyServerOverwrite_(b,
e,t.getNode().getChild(e),l,f,g,k);if(e.isEmpty()){var u=$b.Empty;t.getNode().forEachChild(Wb,function(b,e){u=u.set(new V(b),e)});return this.applyServerMerge_(b,e,u,l,f,g,k)}return b}var Q=$b.Empty;c.foreach(function(b,c){c=e.child(b);t.isCompleteForPath(c)&&(Q=Q.set(b,t.getNode().getChild(c)))});return this.applyServerMerge_(b,e,Q,l,f,g,k)};c.prototype.listenComplete_=function(b,e,c,l){var g=b.getServerCache();b=b.updateServerSnap(g.getNode(),g.isFullyInitialized()||e.isEmpty(),g.isFiltered());
return this.generateEventCacheAfterServerEvent_(b,e,c,cb,l)};c.prototype.revertUserWrite_=function(b,c,l,f,k){if(null!=l.shadowingWrite(c))return b;var g=new pd(l,b,f);f=b.getEventCache().getNode();if(c.isEmpty()||".priority"===c.getFront())b.getServerCache().isFullyInitialized()?c=l.calcCompleteEventCache(b.getCompleteServerSnap()):(c=b.getServerCache().getNode(),e.assert(c instanceof sa,"serverChildren would be complete if leaf node"),c=l.calcCompleteEventChildren(c)),c=this.filter_.updateFullNode(f,
c,k);else{var t=c.getFront(),u=l.calcCompleteChild(t,b.getServerCache());null==u&&b.getServerCache().isCompleteForChild(t)&&(u=f.getImmediateChild(t));c=null!=u?this.filter_.updateChild(f,t,u,c.popFront(),g,k):b.getEventCache().getNode().hasChild(t)?this.filter_.updateChild(f,t,sa.EMPTY_NODE,c.popFront(),g,k):f;c.isEmpty()&&b.getServerCache().isFullyInitialized()&&(f=l.calcCompleteEventCache(b.getCompleteServerSnap()),f.isLeafNode()&&(c=this.filter_.updateFullNode(c,f,k)))}f=b.getServerCache().isFullyInitialized()||
null!=l.shadowingWrite(V.Empty);return b.updateEventSnap(c,f,this.filter_.filtersNodes())};return c}(),Rb=function(){function c(b){this.query_=b;this.index_=this.query_.getQueryParams().getIndex()}c.prototype.generateEventsForChanges=function(b,e,c){var g=this,l=[],f=[];b.forEach(function(b){b.type===da.CHILD_CHANGED&&g.index_.indexedValueChanged(b.oldSnap,b.snapshotNode)&&f.push(da.childMovedChange(b.childName,b.snapshotNode))});this.generateEventsForType_(l,da.CHILD_REMOVED,b,c,e);this.generateEventsForType_(l,
da.CHILD_ADDED,b,c,e);this.generateEventsForType_(l,da.CHILD_MOVED,f,c,e);this.generateEventsForType_(l,da.CHILD_CHANGED,b,c,e);this.generateEventsForType_(l,da.VALUE,b,c,e);return l};c.prototype.generateEventsForType_=function(b,e,c,l,f){var g=this;c=c.filter(function(b){return b.type===e});c.sort(this.compareChanges_.bind(this));c.forEach(function(e){var c=g.materializeSingleChange_(e,f);l.forEach(function(l){l.respondsTo(e.type)&&b.push(l.createEvent(c,g.query_))})})};c.prototype.materializeSingleChange_=
function(b,e){"value"!==b.type&&"child_removed"!==b.type&&(b.prevName=e.getPredecessorChildName(b.childName,b.snapshotNode,this.index_));return b};c.prototype.compareChanges_=function(b,c){if(null==b.childName||null==c.childName)throw e.assertionError("Should only compare child_ events.");b=new ma(b.childName,b.snapshotNode);c=new ma(c.childName,c.snapshotNode);return this.index_.compare(b,c)};return c}(),nc=function(){function c(b,e){this.query_=b;this.eventRegistrations_=[];var c=this.query_.getQueryParams();
b=new xb(c.getIndex());c=c.getNodeFilter();this.processor_=new we(c);var g=e.getServerCache();e=e.getEventCache();var l=b.updateFullNode(sa.EMPTY_NODE,g.getNode(),null),f=c.updateFullNode(sa.EMPTY_NODE,e.getNode(),null);b=new pa(l,g.isFullyInitialized(),b.filtersNodes());c=new pa(f,e.isFullyInitialized(),c.filtersNodes());this.viewCache_=new wc(c,b);this.eventGenerator_=new Rb(this.query_)}c.prototype.getQuery=function(){return this.query_};c.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()};
c.prototype.getCompleteServerCache=function(b){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!b.isEmpty()&&!e.getImmediateChild(b.getFront()).isEmpty())?e.getChild(b):null};c.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length};c.prototype.addEventRegistration=function(b){this.eventRegistrations_.push(b)};c.prototype.removeEventRegistration=function(b,c){var g=[];if(c){e.assert(null==b,"A cancel should cancel all event registrations.");
var l=this.query_.path;this.eventRegistrations_.forEach(function(b){(b=b.createCancelEvent(c,l))&&g.push(b)})}if(b){for(var f=[],k=0;k<this.eventRegistrations_.length;++k){var u=this.eventRegistrations_[k];if(!u.matches(b))f.push(u);else if(b.hasAnyCallback()){f=f.concat(this.eventRegistrations_.slice(k+1));break}}this.eventRegistrations_=f}else this.eventRegistrations_=[];return g};c.prototype.applyOperation=function(b,c,l){b.type===Qb.MERGE&&null!==b.source.queryId&&(e.assert(this.viewCache_.getCompleteServerSnap(),
"We should always have a full cache before handling merges"),e.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var g=this.viewCache_;b=this.processor_.applyOperation(g,b,c,l);this.processor_.assertIndexed(b.viewCache);e.assert(b.viewCache.getServerCache().isFullyInitialized()||!g.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back");this.viewCache_=b.viewCache;return this.generateEventsForChanges_(b.changes,
b.viewCache.getEventCache().getNode(),null)};c.prototype.getInitialEvents=function(b){var e=this.viewCache_.getEventCache(),c=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Fa,function(b,e){c.push(da.childAddedChange(b,e))});e.isFullyInitialized()&&c.push(da.valueChange(e.getNode()));return this.generateEventsForChanges_(c,e.getNode(),b)};c.prototype.generateEventsForChanges_=function(b,e,c){return this.eventGenerator_.generateEventsForChanges(b,e,c?[c]:this.eventRegistrations_)};return c}(),
xe,ub=function(){function c(){this.views_={}}Object.defineProperty(c,"__referenceConstructor",{get:function(){e.assert(xe,"Reference.ts has not been loaded");return xe},set:function(b){e.assert(!xe,"__referenceConstructor has already been defined");xe=b},enumerable:!0,configurable:!0});c.prototype.isEmpty=function(){return e.isEmpty(this.views_)};c.prototype.applyOperation=function(b,c,l){var g=b.source.queryId;if(null!==g)return g=e.safeGet(this.views_,g),e.assert(null!=g,"SyncTree gave us an op for an invalid query."),
g.applyOperation(b,c,l);var f=[];e.forEach(this.views_,function(e,g){f=f.concat(g.applyOperation(b,c,l))});return f};c.prototype.addEventRegistration=function(b,c,l,f,k){var g=b.queryIdentifier(),t=e.safeGet(this.views_,g);t||((t=l.calcCompleteEventCache(k?f:null))?l=!0:(t=f instanceof sa?l.calcCompleteEventChildren(f):sa.EMPTY_NODE,l=!1),f=new wc(new pa(t,l,!1),new pa(f,k,!1)),t=new nc(b,f),this.views_[g]=t);t.addEventRegistration(c);return t.getInitialEvents(c)};c.prototype.removeEventRegistration=
function(b,g,l){var f=b.queryIdentifier(),t=[],k=[],u=this.hasCompleteView();if("default"===f){var H=this;e.forEach(this.views_,function(b,e){k=k.concat(e.removeEventRegistration(g,l));e.isEmpty()&&(delete H.views_[b],e.getQuery().getQueryParams().loadsAllData()||t.push(e.getQuery()))})}else{var q=e.safeGet(this.views_,f);q&&(k=k.concat(q.removeEventRegistration(g,l)),q.isEmpty()&&(delete this.views_[f],q.getQuery().getQueryParams().loadsAllData()||t.push(q.getQuery())))}u&&!this.hasCompleteView()&&
t.push(new c.__referenceConstructor(b.repo,b.path));return{removed:t,events:k}};c.prototype.getQueryViews=function(){var b=this;return Object.keys(this.views_).map(function(e){return b.views_[e]}).filter(function(b){return!b.getQuery().getQueryParams().loadsAllData()})};c.prototype.getCompleteServerCache=function(b){var c=null;e.forEach(this.views_,function(e,g){c=c||g.getCompleteServerCache(b)});return c};c.prototype.viewForQuery=function(b){if(b.getQueryParams().loadsAllData())return this.getCompleteView();
b=b.queryIdentifier();return e.safeGet(this.views_,b)};c.prototype.viewExistsForQuery=function(b){return null!=this.viewForQuery(b)};c.prototype.hasCompleteView=function(){return null!=this.getCompleteView()};c.prototype.getCompleteView=function(){return e.findValue(this.views_,function(b){return b.getQuery().getQueryParams().loadsAllData()})||null};return c}(),Yd=function(){function c(b){this.writeTree_=b}c.prototype.addWrite=function(b,e){if(b.isEmpty())return new c(new $b(e));var g=this.writeTree_.findRootMostValueAndPath(b);
if(null!=g){var l=g.path;g=g.value;b=V.relativePath(l,b);g=g.updateChild(b,e);return new c(this.writeTree_.set(l,g))}e=new $b(e);b=this.writeTree_.setTree(b,e);return new c(b)};c.prototype.addWrites=function(b,c){var g=this;e.forEach(c,function(e,c){g=g.addWrite(b.child(e),c)});return g};c.prototype.removeWrite=function(b){if(b.isEmpty())return c.Empty;b=this.writeTree_.setTree(b,$b.Empty);return new c(b)};c.prototype.hasCompleteWrite=function(b){return null!=this.getCompleteNode(b)};c.prototype.getCompleteNode=
function(b){var e=this.writeTree_.findRootMostValueAndPath(b);return null!=e?this.writeTree_.get(e.path).getChild(V.relativePath(e.path,b)):null};c.prototype.getCompleteChildren=function(){var b=[],e=this.writeTree_.value;null!=e?e.isLeafNode()||e.forEachChild(Fa,function(e,c){b.push(new ma(e,c))}):this.writeTree_.children.inorderTraversal(function(e,c){null!=c.value&&b.push(new ma(e,c.value))});return b};c.prototype.childCompoundWrite=function(b){if(b.isEmpty())return this;var e=this.getCompleteNode(b);
return null!=e?new c(new $b(e)):new c(this.writeTree_.subtree(b))};c.prototype.isEmpty=function(){return this.writeTree_.isEmpty()};c.prototype.apply=function(b){return c.applySubtreeWrite_(V.Empty,this.writeTree_,b)};c.Empty=new c(new $b(null));c.applySubtreeWrite_=function(b,g,l){if(null!=g.value)return l.updateChild(b,g.value);var f=null;g.children.inorderTraversal(function(g,t){".priority"===g?(e.assert(null!==t.value,"Priority writes must always be leaf nodes"),f=t.value):l=c.applySubtreeWrite_(b.child(g),
t,l)});l.getChild(b).isEmpty()||null===f||(l=l.updateChild(b.child(".priority"),f));return l};return c}(),sb=function(){function c(){this.visibleWrites_=Yd.Empty;this.allWrites_=[];this.lastWriteId_=-1}c.prototype.childWrites=function(b){return new Fb(b,this)};c.prototype.addOverwrite=function(b,c,l,f){e.assert(l>this.lastWriteId_,"Stacking an older write on top of newer ones");void 0===f&&(f=!0);this.allWrites_.push({path:b,snap:c,writeId:l,visible:f});f&&(this.visibleWrites_=this.visibleWrites_.addWrite(b,
c));this.lastWriteId_=l};c.prototype.addMerge=function(b,c,l){e.assert(l>this.lastWriteId_,"Stacking an older merge on top of newer ones");this.allWrites_.push({path:b,children:c,writeId:l,visible:!0});this.visibleWrites_=this.visibleWrites_.addWrites(b,c);this.lastWriteId_=l};c.prototype.getWrite=function(b){for(var c=0;c<this.allWrites_.length;c++){var e=this.allWrites_[c];if(e.writeId===b)return e}return null};c.prototype.removeWrite=function(b){var c=this,l=this.allWrites_.findIndex(function(c){return c.writeId===
b});e.assert(0<=l,"removeWrite called with nonexistent writeId.");var f=this.allWrites_[l];this.allWrites_.splice(l,1);for(var k=f.visible,u=!1,H=this.allWrites_.length-1;k&&0<=H;){var q=this.allWrites_[H];q.visible&&(H>=l&&this.recordContainsPath_(q,f.path)?k=!1:f.path.contains(q.path)&&(u=!0));H--}return k?(u?this.resetTree_():f.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(f.path):e.forEach(f.children,function(b){c.visibleWrites_=c.visibleWrites_.removeWrite(f.path.child(b))}),!0):!1};
c.prototype.getCompleteWriteData=function(b){return this.visibleWrites_.getCompleteNode(b)};c.prototype.calcCompleteEventCache=function(b,e,l,f){if(l||f){var g=this.visibleWrites_.childCompoundWrite(b);return!f&&g.isEmpty()?e:f||null!=e||g.hasCompleteWrite(V.Empty)?(g=c.layerTree_(this.allWrites_,function(c){return(c.visible||f)&&(!l||!~l.indexOf(c.writeId))&&(c.path.contains(b)||b.contains(c.path))},b),e=e||sa.EMPTY_NODE,g.apply(e)):null}g=this.visibleWrites_.getCompleteNode(b);if(null!=g)return g;
g=this.visibleWrites_.childCompoundWrite(b);return g.isEmpty()?e:null!=e||g.hasCompleteWrite(V.Empty)?(e=e||sa.EMPTY_NODE,g.apply(e)):null};c.prototype.calcCompleteEventChildren=function(b,c){var e=sa.EMPTY_NODE,g=this.visibleWrites_.getCompleteNode(b);if(g)g.isLeafNode()||g.forEachChild(Fa,function(b,c){e=e.updateImmediateChild(b,c)});else if(c){var l=this.visibleWrites_.childCompoundWrite(b);c.forEachChild(Fa,function(b,c){c=l.childCompoundWrite(new V(b)).apply(c);e=e.updateImmediateChild(b,c)});
l.getCompleteChildren().forEach(function(b){e=e.updateImmediateChild(b.name,b.node)})}else this.visibleWrites_.childCompoundWrite(b).getCompleteChildren().forEach(function(b){e=e.updateImmediateChild(b.name,b.node)});return e};c.prototype.calcEventCacheAfterServerOverwrite=function(b,c,l,f){e.assert(l||f,"Either existingEventSnap or existingServerSnap must exist");b=b.child(c);if(this.visibleWrites_.hasCompleteWrite(b))return null;b=this.visibleWrites_.childCompoundWrite(b);return b.isEmpty()?f.getChild(c):
b.apply(f.getChild(c))};c.prototype.calcCompleteChild=function(b,c,e){b=b.child(c);var g=this.visibleWrites_.getCompleteNode(b);return null!=g?g:e.isCompleteForChild(c)?this.visibleWrites_.childCompoundWrite(b).apply(e.getNode().getImmediateChild(c)):null};c.prototype.shadowingWrite=function(b){return this.visibleWrites_.getCompleteNode(b)};c.prototype.calcIndexedSlice=function(b,c,e,l,f,k){b=this.visibleWrites_.childCompoundWrite(b);var g=b.getCompleteNode(V.Empty);if(null==g)if(null!=c)g=b.apply(c);
else return[];g=g.withIndex(k);if(g.isEmpty()||g.isLeafNode())return[];c=[];b=k.getCompare();f=f?g.getReverseIteratorFrom(e,k):g.getIteratorFrom(e,k);for(k=f.getNext();k&&c.length<l;)0!==b(k,e)&&c.push(k),k=f.getNext();return c};c.prototype.recordContainsPath_=function(b,c){return b.snap?b.path.contains(c):!!e.findKey(b.children,function(e,g){return b.path.child(g).contains(c)})};c.prototype.resetTree_=function(){this.visibleWrites_=c.layerTree_(this.allWrites_,c.DefaultFilter_,V.Empty);this.lastWriteId_=
0<this.allWrites_.length?this.allWrites_[this.allWrites_.length-1].writeId:-1};c.DefaultFilter_=function(b){return b.visible};c.layerTree_=function(b,c,l){for(var g=Yd.Empty,f=0;f<b.length;++f){var t=b[f];if(c(t)){var k=t.path;if(t.snap)l.contains(k)?(k=V.relativePath(l,k),g=g.addWrite(k,t.snap)):k.contains(l)&&(k=V.relativePath(k,l),g=g.addWrite(V.Empty,t.snap.getChild(k)));else if(t.children)if(l.contains(k))k=V.relativePath(l,k),g=g.addWrites(k,t.children);else{if(k.contains(l))if(k=V.relativePath(k,
l),k.isEmpty())g=g.addWrites(V.Empty,t.children);else if(t=e.safeGet(t.children,k.getFront()))t=t.getChild(k.popFront()),g=g.addWrite(V.Empty,t)}else throw e.assertionError("WriteRecord should have .snap or .children");}}return g};return c}(),Fb=function(){function c(b,c){this.treePath_=b;this.writeTree_=c}c.prototype.calcCompleteEventCache=function(b,c,e){return this.writeTree_.calcCompleteEventCache(this.treePath_,b,c,e)};c.prototype.calcCompleteEventChildren=function(b){return this.writeTree_.calcCompleteEventChildren(this.treePath_,
b)};c.prototype.calcEventCacheAfterServerOverwrite=function(b,c,e){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,b,c,e)};c.prototype.shadowingWrite=function(b){return this.writeTree_.shadowingWrite(this.treePath_.child(b))};c.prototype.calcIndexedSlice=function(b,c,e,l,f){return this.writeTree_.calcIndexedSlice(this.treePath_,b,c,e,l,f)};c.prototype.calcCompleteChild=function(b,c){return this.writeTree_.calcCompleteChild(this.treePath_,b,c)};c.prototype.child=function(b){return new c(this.treePath_.child(b),
this.writeTree_)};return c}(),xc=function(){function c(b){this.listenProvider_=b;this.syncPointTree_=$b.Empty;this.pendingWriteTree_=new sb;this.tagToQueryMap_={};this.queryToTagMap_={}}c.prototype.applyUserOverwrite=function(b,c,e,l){this.pendingWriteTree_.addOverwrite(b,c,e,l);return l?this.applyOperationToSyncPoints_(new fc(Da.User,b,c)):[]};c.prototype.applyUserMerge=function(b,c,e){this.pendingWriteTree_.addMerge(b,c,e);c=$b.fromObject(c);return this.applyOperationToSyncPoints_(new Va(Da.User,
b,c))};c.prototype.ackUserWrite=function(b,c){void 0===c&&(c=!1);var g=this.pendingWriteTree_.getWrite(b);if(this.pendingWriteTree_.removeWrite(b)){var l=$b.Empty;null!=g.snap?l=l.set(V.Empty,!0):e.forEach(g.children,function(b,c){l=l.set(new V(b),c)});return this.applyOperationToSyncPoints_(new Xd(g.path,l,c))}return[]};c.prototype.applyServerOverwrite=function(b,c){return this.applyOperationToSyncPoints_(new fc(Da.Server,b,c))};c.prototype.applyServerMerge=function(b,c){c=$b.fromObject(c);return this.applyOperationToSyncPoints_(new Va(Da.Server,
b,c))};c.prototype.applyListenComplete=function(b){return this.applyOperationToSyncPoints_(new Ma(Da.Server,b))};c.prototype.applyTaggedQueryOverwrite=function(b,e,l){l=this.queryKeyForTag_(l);if(null!=l){var g=c.parseQueryKey_(l);l=g.path;g=g.queryId;b=V.relativePath(l,b);e=new fc(Da.forServerTaggedQuery(g),b,e);return this.applyTaggedOperation_(l,e)}return[]};c.prototype.applyTaggedQueryMerge=function(b,e,l){if(l=this.queryKeyForTag_(l)){var g=c.parseQueryKey_(l);l=g.path;g=g.queryId;b=V.relativePath(l,
b);e=$b.fromObject(e);e=new Va(Da.forServerTaggedQuery(g),b,e);return this.applyTaggedOperation_(l,e)}return[]};c.prototype.applyTaggedListenComplete=function(b,e){if(e=this.queryKeyForTag_(e)){var g=c.parseQueryKey_(e);e=g.path;g=g.queryId;b=V.relativePath(e,b);b=new Ma(Da.forServerTaggedQuery(g),b);return this.applyTaggedOperation_(e,b)}return[]};c.prototype.addEventRegistration=function(b,g){var l=b.path,f=null,k=!1;this.syncPointTree_.foreachOnPath(l,function(b,c){b=V.relativePath(b,l);f=f||c.getCompleteServerCache(b);
k=k||c.hasCompleteView()});var u=this.syncPointTree_.get(l);u?(k=k||u.hasCompleteView(),f=f||u.getCompleteServerCache(V.Empty)):(u=new ub,this.syncPointTree_=this.syncPointTree_.set(l,u));if(null!=f)var H=!0;else H=!1,f=sa.EMPTY_NODE,this.syncPointTree_.subtree(l).foreachChild(function(b,c){(c=c.getCompleteServerCache(V.Empty))&&(f=f.updateImmediateChild(b,c))});var q=u.viewExistsForQuery(b);if(!q&&!b.getQueryParams().loadsAllData()){var n=c.makeQueryKey_(b);e.assert(!(n in this.queryToTagMap_),"View does not exist, but we have a tag");
var p=c.getNextQueryTag_();this.queryToTagMap_[n]=p;this.tagToQueryMap_["_"+p]=n}n=this.pendingWriteTree_.childWrites(l);g=u.addEventRegistration(b,g,n,f,H);q||k||(u=u.viewForQuery(b),g=g.concat(this.setupListener_(b,u)));return g};c.prototype.removeEventRegistration=function(b,e,l){var g=this,f=b.path,t=this.syncPointTree_.get(f),k=[];if(t&&("default"===b.queryIdentifier()||t.viewExistsForQuery(b))){k=t.removeEventRegistration(b,e,l);t.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(f));
t=k.removed;k=k.events;e=-1!==t.findIndex(function(b){return b.getQueryParams().loadsAllData()});var u=this.syncPointTree_.findOnPath(f,function(b,c){return c.hasCompleteView()});if(e&&!u&&(f=this.syncPointTree_.subtree(f),!f.isEmpty())){f=this.collectDistinctViewsForSubTree_(f);for(var H=0;H<f.length;++H){var q=f[H],n=q.getQuery();q=this.createListenerForView_(q);this.listenProvider_.startListening(c.queryForListening_(n),this.tagForQuery_(n),q.hashFn,q.onComplete)}}!u&&0<t.length&&!l&&(e?this.listenProvider_.stopListening(c.queryForListening_(b),
null):t.forEach(function(b){var e=g.queryToTagMap_[c.makeQueryKey_(b)];g.listenProvider_.stopListening(c.queryForListening_(b),e)}));this.removeTags_(t)}return k};c.prototype.calcCompleteEventCache=function(b,c){var e=this.pendingWriteTree_,g=this.syncPointTree_.findOnPath(b,function(c,e){c=V.relativePath(c,b);if(e=e.getCompleteServerCache(c))return e});return e.calcCompleteEventCache(b,g,c,!0)};c.prototype.collectDistinctViewsForSubTree_=function(b){return b.fold(function(b,c,l){if(c&&c.hasCompleteView())return[c.getCompleteView()];
var g=[];c&&(g=c.getQueryViews());e.forEach(l,function(b,c){g=g.concat(c)});return g})};c.prototype.removeTags_=function(b){for(var e=0;e<b.length;++e){var l=b[e];if(!l.getQueryParams().loadsAllData()){l=c.makeQueryKey_(l);var f=this.queryToTagMap_[l];delete this.queryToTagMap_[l];delete this.tagToQueryMap_["_"+f]}}};c.queryForListening_=function(b){return b.getQueryParams().loadsAllData()&&!b.getQueryParams().isDefault()?b.getRef():b};c.prototype.setupListener_=function(b,g){var l=b.path,f=this.tagForQuery_(b);
g=this.createListenerForView_(g);b=this.listenProvider_.startListening(c.queryForListening_(b),f,g.hashFn,g.onComplete);l=this.syncPointTree_.subtree(l);if(f)e.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(f=l.fold(function(b,c,g){if(!b.isEmpty()&&c&&c.hasCompleteView())return[c.getCompleteView().getQuery()];var l=[];c&&(l=l.concat(c.getQueryViews().map(function(b){return b.getQuery()})));e.forEach(g,function(b,c){l=l.concat(c)});return l}),l=0;l<
f.length;++l)g=f[l],this.listenProvider_.stopListening(c.queryForListening_(g),this.tagForQuery_(g));return b};c.prototype.createListenerForView_=function(b){var c=this,e=b.getQuery(),l=this.tagForQuery_(e);return{hashFn:function(){return(b.getServerCache()||sa.EMPTY_NODE).hash()},onComplete:function(b){if("ok"===b)return l?c.applyTaggedListenComplete(e.path,l):c.applyListenComplete(e.path);var g="Unknown Error";"too_big"===b?g="The data requested exceeds the maximum size that can be accessed with a single request.":
"permission_denied"==b?g="Client doesn't have permission to access the desired data.":"unavailable"==b&&(g="The service is unavailable");g=Error(b+" at "+e.path.toString()+": "+g);g.code=b.toUpperCase();return c.removeEventRegistration(e,null,g)}}};c.makeQueryKey_=function(b){return b.path.toString()+"$"+b.queryIdentifier()};c.parseQueryKey_=function(b){var c=b.indexOf("$");e.assert(-1!==c&&c<b.length-1,"Bad queryKey.");return{queryId:b.substr(c+1),path:new V(b.substr(0,c))}};c.prototype.queryKeyForTag_=
function(b){return this.tagToQueryMap_["_"+b]};c.prototype.tagForQuery_=function(b){b=c.makeQueryKey_(b);return e.safeGet(this.queryToTagMap_,b)};c.getNextQueryTag_=function(){return c.nextQueryTag_++};c.prototype.applyTaggedOperation_=function(b,c){var g=this.syncPointTree_.get(b);e.assert(g,"Missing sync point for query tag that we're tracking");b=this.pendingWriteTree_.childWrites(b);return g.applyOperation(c,b,null)};c.prototype.applyOperationToSyncPoints_=function(b){return this.applyOperationHelper_(b,
this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V.Empty))};c.prototype.applyOperationHelper_=function(b,c,e,l){if(b.path.isEmpty())return this.applyOperationDescendantsHelper_(b,c,e,l);var g=c.get(V.Empty);null==e&&null!=g&&(e=g.getCompleteServerCache(V.Empty));var f=[],k=b.path.getFront(),t=b.operationForChild(k);if((c=c.children.get(k))&&t){var u=e?e.getImmediateChild(k):null;k=l.child(k);f=f.concat(this.applyOperationHelper_(t,c,u,k))}g&&(f=f.concat(g.applyOperation(b,l,e)));return f};
c.prototype.applyOperationDescendantsHelper_=function(b,c,e,l){var g=this,f=c.get(V.Empty);null==e&&null!=f&&(e=f.getCompleteServerCache(V.Empty));var k=[];c.children.inorderTraversal(function(c,f){var t=e?e.getImmediateChild(c):null,u=l.child(c);(c=b.operationForChild(c))&&(k=k.concat(g.applyOperationDescendantsHelper_(c,f,t,u)))});f&&(k=k.concat(f.applyOperation(b,l,e)));return k};c.nextQueryTag_=1;return c}(),yb=function(){function c(){this.rootNode_=sa.EMPTY_NODE}c.prototype.getNode=function(b){return this.rootNode_.getChild(b)};
c.prototype.updateSnapshot=function(b,c){this.rootNode_=this.rootNode_.updateChild(b,c)};return c}(),gc=function(){function c(b){this.app_=b}c.prototype.getToken=function(b){return this.app_.INTERNAL.getToken(b).then(null,function(b){return b&&"auth/token-not-initialized"===b.code?(xa("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(b)})};c.prototype.addTokenChangeListener=function(b){this.app_.INTERNAL.addAuthTokenListener(b)};c.prototype.removeTokenChangeListener=
function(b){this.app_.INTERNAL.removeAuthTokenListener(b)};c.prototype.notifyForInvalidToken=function(){var b='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';b="credential"in this.app_.options?b+'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?b+'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':
b+'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.';q(b)};return c}(),Tc=function(){function c(){this.counters_={}}c.prototype.incrementCounter=function(b,c){void 0===c&&(c=1);e.contains(this.counters_,b)||(this.counters_[b]=0);this.counters_[b]+=c};c.prototype.get=function(){return e.deepCopy(this.counters_)};return c}(),Ed=function(){function c(){}c.getCollection=function(b){b=b.toString();
this.collections_[b]||(this.collections_[b]=new Tc);return this.collections_[b]};c.getOrCreateReporter=function(b,c){b=b.toString();this.reporters_[b]||(this.reporters_[b]=c());return this.reporters_[b]};c.collections_={};c.reporters_={};return c}(),Fd=function(){function c(b){this.collection_=b;this.last_=null}c.prototype.get=function(){var b=this.collection_.get(),c=e.clone(b);this.last_&&e.forEach(this.last_,function(b,e){c[b]-=e});this.last_=b;return c};return c}(),Gb=function(){function c(b,
c){this.server_=c;this.statsToReport_={};this.statsListener_=new Fd(b);b=1E4+2E4*Math.random();Ja(this.reportStats_.bind(this),Math.floor(b))}c.prototype.includeStat=function(b){this.statsToReport_[b]=!0};c.prototype.reportStats_=function(){var b=this,c=this.statsListener_.get(),l={},f=!1;e.forEach(c,function(c,g){0<g&&e.contains(b.statsToReport_,c)&&(l[c]=g,f=!0)});f&&this.server_.reportStats(l);Ja(this.reportStats_.bind(this),Math.floor(6E5*Math.random()))};return c}(),Pe=function(){function c(){this.eventLists_=
[];this.recursionDepth_=0}c.prototype.queueEvents=function(b){for(var c=null,e=0;e<b.length;e++){var l=b[e],f=l.getPath();null===c||f.equals(c.getPath())||(this.eventLists_.push(c),c=null);null===c&&(c=new yc(f));c.add(l)}c&&this.eventLists_.push(c)};c.prototype.raiseEventsAtPath=function(b,c){this.queueEvents(c);this.raiseQueuedEventsMatchingPredicate_(function(c){return c.equals(b)})};c.prototype.raiseEventsForChangedPath=function(b,c){this.queueEvents(c);this.raiseQueuedEventsMatchingPredicate_(function(c){return c.contains(b)||
b.contains(c)})};c.prototype.raiseQueuedEventsMatchingPredicate_=function(b){this.recursionDepth_++;for(var c=!0,e=0;e<this.eventLists_.length;e++){var l=this.eventLists_[e];l&&(l=l.getPath(),b(l)?(this.eventLists_[e].raise(),this.eventLists_[e]=null):c=!1)}c&&(this.eventLists_=[]);this.recursionDepth_--};return c}(),yc=function(){function c(b){this.path_=b;this.events_=[]}c.prototype.add=function(b){this.events_.push(b)};c.prototype.raise=function(){for(var b=0;b<this.events_.length;b++){var c=this.events_[b];
if(null!==c){this.events_[b]=null;var e=c.getEventRunner();ba&&xa("event: "+c.toString());Na(e)}}};c.prototype.getPath=function(){return this.path_};return c}(),Uc=function(){function c(b){this.allowedEvents_=b;this.listeners_={};e.assert(Array.isArray(b)&&0<b.length,"Requires a non-empty array")}c.prototype.trigger=function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];if(Array.isArray(this.listeners_[b])){e=this.listeners_[b].slice();for(var l=0;l<e.length;l++)e[l].callback.apply(e[l].context,
c)}};c.prototype.on=function(b,c,e){this.validateEventType_(b);this.listeners_[b]=this.listeners_[b]||[];this.listeners_[b].push({callback:c,context:e});(b=this.getInitialEvent(b))&&c.apply(e,b)};c.prototype.off=function(b,c,e){this.validateEventType_(b);b=this.listeners_[b]||[];for(var g=0;g<b.length;g++)if(b[g].callback===c&&(!e||e===b[g].context)){b.splice(g,1);break}};c.prototype.validateEventType_=function(b){e.assert(this.allowedEvents_.find(function(c){return c===b}),"Unknown event: "+b)};
return c}(),ne=function(c){function b(){var b=c.call(this,["visible"])||this;if("undefined"!==typeof document&&"undefined"!==typeof document.addEventListener)if("undefined"!==typeof document.hidden){var e="visibilitychange";var l="hidden"}else"undefined"!==typeof document.mozHidden?(e="mozvisibilitychange",l="mozHidden"):"undefined"!==typeof document.msHidden?(e="msvisibilitychange",l="msHidden"):"undefined"!==typeof document.webkitHidden&&(e="webkitvisibilitychange",l="webkitHidden");b.visible_=
!0;e&&document.addEventListener(e,function(){var c=!document[l];c!==b.visible_&&(b.visible_=c,b.trigger("visible",c))},!1);return b}k.__extends(b,c);b.getInstance=function(){return new b};b.prototype.getInitialEvent=function(b){e.assert("visible"===b,"Unknown event type: "+b);return[this.visible_]};return b}(Uc),Vc=function(c){function b(){var b=c.call(this,["online"])||this;b.online_=!0;"undefined"===typeof window||"undefined"===typeof window.addEventListener||e.isMobileCordova()||(window.addEventListener("online",
function(){b.online_||(b.online_=!0,b.trigger("online",!0))},!1),window.addEventListener("offline",function(){b.online_&&(b.online_=!1,b.trigger("online",!1))},!1));return b}k.__extends(b,c);b.getInstance=function(){return new b};b.prototype.getInitialEvent=function(b){e.assert("online"===b,"Unknown event type: "+b);return[this.online_]};b.prototype.currentlyOnline=function(){return this.online_};return b}(Uc),Ef=function(){function c(b){this.onMessage_=b;this.pendingResponses=[];this.currentResponseNum=
0;this.closeAfterResponse=-1;this.onClose=null}c.prototype.closeAfter=function(b,c){this.closeAfterResponse=b;this.onClose=c;this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)};c.prototype.handleResponse=function(b,c){var e=this;this.pendingResponses[b]=c;b=function(){var b=g.pendingResponses[g.currentResponseNum];delete g.pendingResponses[g.currentResponseNum];for(var c=function(c){b[c]&&Na(function(){e.onMessage_(b[c])})},l=0;l<b.length;++l)c(l);if(g.currentResponseNum===
g.closeAfterResponse)return g.onClose&&(g.onClose(),g.onClose=null),"break";g.currentResponseNum++};for(var g=this;this.pendingResponses[this.currentResponseNum]&&"break"!==b(););};return c}(),ye=function(){function c(b,c,e,l){this.connId=b;this.repoInfo=c;this.transportSessionId=e;this.lastSessionId=l;this.bytesReceived=this.bytesSent=0;this.everConnected_=!1;this.log_=Qa(b);this.stats_=Ed.getCollection(c);this.urlFn=function(b){return c.connectionURL("long_polling",b)}}c.prototype.open=function(b,
c){var g=this;this.curSegmentNum=0;this.onDisconnect_=c;this.myPacketOrderer=new Ef(b);this.isClosed_=!1;this.connectTimeoutTimer_=setTimeout(function(){g.log_("Timed out trying to connect.");g.onClosed_();g.connectTimeoutTimer_=null},3E4);G(function(){if(!g.isClosed_){g.scriptTagHolder=new Za(function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];c=b[0];var e=b[1],l=b[2];g.incrementIncomingBytes_(b);if(g.scriptTagHolder)if(g.connectTimeoutTimer_&&(clearTimeout(g.connectTimeoutTimer_),
g.connectTimeoutTimer_=null),g.everConnected_=!0,"start"==c)g.id=e,g.password=l;else if("close"===c)if(e)g.scriptTagHolder.sendNewPolls=!1,g.myPacketOrderer.closeAfter(e,function(){g.onClosed_()});else g.onClosed_();else throw Error("Unrecognized command received: "+c);},function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];c=b[0];var e=b[1];g.incrementIncomingBytes_(b);g.myPacketOrderer.handleResponse(c,e)},function(){g.onClosed_()},g.urlFn);var b={start:"t"};b.ser=Math.floor(1E8*
Math.random());g.scriptTagHolder.uniqueCallbackIdentifier&&(b.cb=g.scriptTagHolder.uniqueCallbackIdentifier);b.v="5";g.transportSessionId&&(b.s=g.transportSessionId);g.lastSessionId&&(b.ls=g.lastSessionId);!e.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(b.r="f");b=g.urlFn(b);g.log_("Connecting via long-poll to "+b);g.scriptTagHolder.addTag(b,function(){})}})};c.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password);
this.addDisconnectPingFrame(this.id,this.password)};c.forceAllow=function(){c.forceAllow_=!0};c.forceDisallow=function(){c.forceDisallow_=!0};c.isAvailable=function(){return c.forceAllow_||!c.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI)&&!e.isNodeSdk()};c.prototype.markConnectionHealthy=function(){};c.prototype.shutdown_=
function(){this.isClosed_=!0;this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null);this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null);this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)};c.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))};c.prototype.close=
function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())};c.prototype.send=function(b){b=e.stringify(b);this.bytesSent+=b.length;this.stats_.incrementCounter("bytes_sent",b.length);b=e.base64Encode(b);b=ta(b,1840);for(var c=0;c<b.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,b.length,b[c]),this.curSegmentNum++};c.prototype.addDisconnectPingFrame=function(b,c){if(!e.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var g={dframe:"t"};
g.id=b;g.pw=c;this.myDisconnFrame.src=this.urlFn(g);this.myDisconnFrame.style.display="none";document.body.appendChild(this.myDisconnFrame)}};c.prototype.incrementIncomingBytes_=function(b){b=e.stringify(b).length;this.bytesReceived+=b;this.stats_.incrementCounter("bytes_received",b)};return c}(),Za=function(){function c(b,g,l,f){this.onDisconnect=l;this.urlFn=f;this.outstandingRequests=new D;this.pendingSegs=[];this.currentSerial=Math.floor(1E8*Math.random());this.sendNewPolls=!0;if(e.isNodeSdk())this.commandCB=
b,this.onMessageCB=g;else{this.uniqueCallbackIdentifier=N();window["pLPCommand"+this.uniqueCallbackIdentifier]=b;window["pRTLPCB"+this.uniqueCallbackIdentifier]=g;this.myIFrame=c.createIFrame_();b="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(b='\x3cscript\x3edocument.domain\x3d"'+document.domain+'";\x3c/script\x3e');b="\x3chtml\x3e\x3cbody\x3e"+b+"\x3c/body\x3e\x3c/html\x3e";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(b),this.myIFrame.doc.close()}catch(oc){xa("frame writing exception"),
oc.stack&&xa(oc.stack),xa(oc)}}}c.createIFrame_=function(){var b=document.createElement("iframe");b.style.display="none";if(document.body){document.body.appendChild(b);try{b.contentWindow.document||xa("No IE domain setting required")}catch(g){b.src="javascript:void((function(){document.open();document.domain\x3d'"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";b.contentDocument?b.doc=b.contentDocument:
b.contentWindow?b.doc=b.contentWindow.document:b.document&&(b.doc=b.document);return b};c.prototype.close=function(){var b=this;this.alive=!1;this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==b.myIFrame&&(document.body.removeChild(b.myIFrame),b.myIFrame=null)},0));if(e.isNodeSdk()&&this.myID){var g={disconn:"t"};g.id=this.myID;g.pw=this.myPW;g=this.urlFn(g);c.nodeRestRequest(g)}if(g=this.onDisconnect)this.onDisconnect=null,g()};c.prototype.startLongPoll=function(b,c){this.myID=
b;this.myPW=c;for(this.alive=!0;this.newRequest_(););};c.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var b={};b.id=this.myID;b.pw=this.myPW;b.ser=this.currentSerial;b=this.urlFn(b);for(var c="",e=0;0<this.pendingSegs.length;)if(1870>=this.pendingSegs[0].d.length+30+c.length){var l=this.pendingSegs.shift();c=c+"\x26seg"+e+"\x3d"+l.seg+"\x26ts"+e+"\x3d"+l.ts+"\x26d"+e+"\x3d"+l.d;e++}else break;
this.addLongPollTag_(b+c,this.currentSerial);return!0}return!1};c.prototype.enqueueSegment=function(b,c,e){this.pendingSegs.push({seg:b,ts:c,d:e});this.alive&&this.newRequest_()};c.prototype.addLongPollTag_=function(b,c){var e=this;this.outstandingRequests.add(c,1);var g=function(){e.outstandingRequests.remove(c);e.newRequest_()},l=setTimeout(g,25E3);this.addTag(b,function(){clearTimeout(l);g()})};c.prototype.addTag=function(b,c){var g=this;e.isNodeSdk()?this.doNodeLongPoll(b,c):setTimeout(function(){try{if(g.sendNewPolls){var e=
g.myIFrame.doc.createElement("script");e.type="text/javascript";e.async=!0;e.src=b;e.onload=e.onreadystatechange=function(){var b=e.readyState;b&&"loaded"!==b&&"complete"!==b||(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),c())};e.onerror=function(){xa("Long-poll script failed to load: "+b);g.sendNewPolls=!1;g.close()};g.myIFrame.doc.body.appendChild(e)}}catch(oc){}},1)};return c}(),Wc=null;"undefined"!==typeof MozWebSocket?Wc=MozWebSocket:"undefined"!==typeof WebSocket&&
(Wc=WebSocket);var Pa=function(){function c(b,e,l,f){this.connId=b;this.frames=this.keepaliveTimer=null;this.bytesReceived=this.bytesSent=this.totalFrames=0;this.log_=Qa(this.connId);this.stats_=Ed.getCollection(e);this.connURL=c.connectionURL_(e,l,f)}c.connectionURL_=function(b,c,l){var g={v:"5"};!e.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(g.r="f");c&&(g.s=c);l&&(g.ls=l);return b.connectionURL("websocket",g)};c.prototype.open=function(b,
c){var g=this;this.onDisconnect=c;this.onMessage=b;this.log_("Websocket connecting to "+this.connURL);this.everConnected_=!1;O.set("previous_websocket_failure",!0);try{if(e.isNodeSdk()){var l={headers:{"User-Agent":"Firebase/5/"+Y.SDK_VERSION+"/"+y.platform+"/"+(e.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},f=y.env,k=0==this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;k&&(l.proxy={origin:k});this.mySock=new Wc(this.connURL,[],l)}else this.mySock=new Wc(this.connURL)}catch(jd){this.log_("Error instantiating WebSocket.");
(b=jd.message||jd.data)&&this.log_(b);this.onClosed_();return}this.mySock.onopen=function(){g.log_("Websocket connected.");g.everConnected_=!0};this.mySock.onclose=function(){g.log_("Websocket connection was disconnected.");g.mySock=null;g.onClosed_()};this.mySock.onmessage=function(b){g.handleIncomingFrame(b)};this.mySock.onerror=function(b){g.log_("WebSocket error.  Closing connection.");(b=b.message||b.data)&&g.log_(b);g.onClosed_()}};c.prototype.start=function(){};c.forceDisallow=function(){c.forceDisallow_=
!0};c.isAvailable=function(){var b=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(b=!0)}return!b&&null!==Wc&&!c.forceDisallow_};c.previouslyFailed=function(){return O.isInMemoryStorage||!0===O.get("previous_websocket_failure")};c.prototype.markConnectionHealthy=function(){O.remove("previous_websocket_failure")};c.prototype.appendFrame_=function(b){this.frames.push(b);this.frames.length==
this.totalFrames&&(b=this.frames.join(""),this.frames=null,b=e.jsonEval(b),this.onMessage(b))};c.prototype.handleNewFrameCount_=function(b){this.totalFrames=b;this.frames=[]};c.prototype.extractFrameCount_=function(b){e.assert(null===this.frames,"We already have a frame buffer");if(6>=b.length){var c=Number(b);if(!isNaN(c))return this.handleNewFrameCount_(c),null}this.handleNewFrameCount_(1);return b};c.prototype.handleIncomingFrame=function(b){null!==this.mySock&&(b=b.data,this.bytesReceived+=b.length,
this.stats_.incrementCounter("bytes_received",b.length),this.resetKeepAlive(),null!==this.frames?this.appendFrame_(b):(b=this.extractFrameCount_(b),null!==b&&this.appendFrame_(b)))};c.prototype.send=function(b){this.resetKeepAlive();b=e.stringify(b);this.bytesSent+=b.length;this.stats_.incrementCounter("bytes_sent",b.length);b=ta(b,16384);1<b.length&&this.sendString_(String(b.length));for(var c=0;c<b.length;c++)this.sendString_(b[c])};c.prototype.shutdown_=function(){this.isClosed_=!0;this.keepaliveTimer&&
(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null);this.mySock&&(this.mySock.close(),this.mySock=null)};c.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))};c.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())};c.prototype.resetKeepAlive=function(){var b=this;clearInterval(this.keepaliveTimer);this.keepaliveTimer=
setInterval(function(){b.mySock&&b.sendString_("0");b.resetKeepAlive()},45E3)};c.prototype.sendString_=function(b){try{this.mySock.send(b)}catch(g){this.log_("Exception thrown from WebSocket.send():",g.message||g.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}};c.responsesRequiredToBeHealthy=2;c.healthyTimeout=3E4;return c}(),Xc=function(){function c(b){this.initTransports_(b)}Object.defineProperty(c,"ALL_TRANSPORTS",{get:function(){return[ye,Pa]},enumerable:!0,configurable:!0});
c.prototype.initTransports_=function(b){var e=Pa&&Pa.isAvailable(),l=e&&!Pa.previouslyFailed();b.webSocketOnly&&(e||q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0);if(l)this.transports_=[Pa];else{var f=this.transports_=[];ja(c.ALL_TRANSPORTS,function(b,c){c&&c.isAvailable()&&f.push(c)})}};c.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw Error("No transports available");};c.prototype.upgradeTransport=function(){return 1<
this.transports_.length?this.transports_[1]:null};return c}(),Zd=function(){function c(b,c,e,l,f,k,u){this.id=b;this.repoInfo_=c;this.onMessage_=e;this.onReady_=l;this.onDisconnect_=f;this.onKill_=k;this.lastSessionId=u;this.connectionCount=0;this.pendingDataMessages=[];this.state_=0;this.log_=Qa("c:"+this.id+":");this.transportManager_=new Xc(c);this.log_("Connection created");this.start_()}c.prototype.start_=function(){var b=this,c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),
this.repoInfo_,void 0,this.lastSessionId);this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;var e=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.rx_=this.tx_=this.conn_;this.secondaryConn_=null;this.isHealthy_=!1;setTimeout(function(){b.conn_&&b.conn_.open(e,l)},0);c=c.healthyTimeout||0;0<c&&(this.healthyTimeout_=Ja(function(){b.healthyTimeout_=null;b.isHealthy_||(b.conn_&&102400<b.conn_.bytesReceived?(b.log_("Connection exceeded healthy timeout but has received "+
b.conn_.bytesReceived+" bytes.  Marking connection healthy."),b.isHealthy_=!0,b.conn_.markConnectionHealthy()):b.conn_&&10240<b.conn_.bytesSent?b.log_("Connection exceeded healthy timeout but has sent "+b.conn_.bytesSent+" bytes.  Leaving connection alive."):(b.log_("Closing unhealthy connection after timeout."),b.close()))},Math.floor(c)))};c.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++};c.prototype.disconnReceiver_=function(b){var c=this;return function(e){if(b===
c.conn_)c.onConnectionLost_(e);else b===c.secondaryConn_?(c.log_("Secondary connection lost."),c.onSecondaryConnectionLost_()):c.log_("closing an old connection")}};c.prototype.connReceiver_=function(b){var c=this;return function(e){if(2!=c.state_)if(b===c.rx_)c.onPrimaryMessageReceived_(e);else if(b===c.secondaryConn_)c.onSecondaryMessageReceived_(e);else c.log_("message on old connection")}};c.prototype.sendRequest=function(b){this.sendData_({t:"d",d:b})};c.prototype.tryCleanupConnection=function(){this.tx_===
this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)};c.prototype.onSecondaryControl_=function(b){"t"in b&&(b=b.t,"a"===b?this.upgradeIfSecondaryHealthy_():"r"===b?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===b&&(this.log_("got pong on secondary."),
this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))};c.prototype.onSecondaryMessageReceived_=function(b){var c=Ra("t",b);b=Ra("d",b);if("c"==c)this.onSecondaryControl_(b);else if("d"==c)this.pendingDataMessages.push(b);else throw Error("Unknown protocol layer: "+c);};c.prototype.upgradeIfSecondaryHealthy_=function(){0>=this.secondaryResponsesRequired_?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):
(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))};c.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start();this.log_("sending client ack on secondary");this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}});this.log_("Ending transmission on primary");this.conn_.send({t:"c",d:{t:"n",d:{}}});this.tx_=this.secondaryConn_;this.tryCleanupConnection()};c.prototype.onPrimaryMessageReceived_=function(b){var c=Ra("t",b);b=Ra("d",b);if("c"==c)this.onControl_(b);
else if("d"==c)this.onDataMessage_(b)};c.prototype.onDataMessage_=function(b){this.onPrimaryResponse_();this.onMessage_(b)};c.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,0>=this.primaryResponsesRequired_&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))};c.prototype.onControl_=function(b){var c=Ra("t",b);if("d"in b)if(b=b.d,"h"===c)this.onHandshake_(b);else if("n"===c){this.log_("recvd end transmission on primary");
this.rx_=this.secondaryConn_;for(c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[];this.tryCleanupConnection()}else if("s"===c)this.onConnectionShutdown_(b);else if("r"===c)this.onReset_(b);else"e"===c?L("Server Error: "+b):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):L("Unknown control packet command: "+c)};c.prototype.onHandshake_=function(b){var c=b.ts,e=b.v,l=b.h;
this.sessionId=b.s;this.repoInfo_.updateHost(l);0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==e&&q("Protocol version mismatch detected"),this.tryStartUpgrade_())};c.prototype.tryStartUpgrade_=function(){var b=this.transportManager_.upgradeTransport();b&&this.startUpgrade_(b)};c.prototype.startUpgrade_=function(b){var c=this;this.secondaryConn_=new b(this.nextTransportId_(),this.repoInfo_,this.sessionId);this.secondaryResponsesRequired_=b.responsesRequiredToBeHealthy||
0;b=this.connReceiver_(this.secondaryConn_);var e=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,e);Ja(function(){c.secondaryConn_&&(c.log_("Timed out trying to upgrade."),c.secondaryConn_.close())},6E4)};c.prototype.onReset_=function(b){this.log_("Reset packet received.  New host: "+b);this.repoInfo_.updateHost(b);1===this.state_?this.close():(this.closeConnections_(),this.start_())};c.prototype.onConnectionEstablished_=function(b,c){var e=this;this.log_("Realtime connection established.");
this.conn_=b;this.state_=1;this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null);0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ja(function(){e.sendPingOnPrimaryIfNecessary_()},5E3)};c.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))};c.prototype.onSecondaryConnectionLost_=function(){var b=this.secondaryConn_;this.secondaryConn_=
null;this.tx_!==b&&this.rx_!==b||this.close()};c.prototype.onConnectionLost_=function(b){this.conn_=null;b||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(O.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host));this.close()};c.prototype.onConnectionShutdown_=function(b){this.log_("Connection shutdown command received. Shutting down...");this.onKill_&&(this.onKill_(b),
this.onKill_=null);this.onDisconnect_=null;this.close()};c.prototype.sendData_=function(b){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(b)};c.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))};c.prototype.closeConnections_=function(){this.log_("Shutting down all connections");this.conn_&&(this.conn_.close(),this.conn_=null);this.secondaryConn_&&
(this.secondaryConn_.close(),this.secondaryConn_=null);this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)};return c}(),Gd=function(){function c(){}c.prototype.put=function(b,c,e,l){};c.prototype.merge=function(b,c,e,l){};c.prototype.refreshAuthToken=function(b){};c.prototype.onDisconnectPut=function(b,c,e){};c.prototype.onDisconnectMerge=function(b,c,e){};c.prototype.onDisconnectCancel=function(b,c){};c.prototype.reportStats=function(b){};return c}(),$a=function(c){function b(g,
l,f,k,u,H){var t=c.call(this)||this;t.repoInfo_=g;t.onDataUpdate_=l;t.onConnectStatus_=f;t.onServerInfoUpdate_=k;t.authTokenProvider_=u;t.authOverride_=H;t.id=b.nextPersistentConnectionId_++;t.log_=Qa("p:"+t.id+":");t.interruptReasons_={};t.listens_={};t.outstandingPuts_=[];t.outstandingPutCount_=0;t.onDisconnectRequestQueue_=[];t.connected_=!1;t.reconnectDelay_=1E3;t.maxReconnectDelay_=3E5;t.securityDebugCallback_=null;t.lastSessionId=null;t.establishConnectionTimer_=null;t.visible_=!1;t.requestCBHash_=
{};t.requestNumber_=0;t.realtime_=null;t.authToken_=null;t.forceTokenRefresh_=!1;t.invalidAuthTokenCount_=0;t.firstConnection_=!0;t.lastConnectionAttemptTime_=null;t.lastConnectionEstablishedTime_=null;if(H&&!e.isNodeSdk())throw Error("Auth override specified in options, but not supported on non Node.js platforms");t.scheduleConnect_(0);ne.getInstance().on("visible",t.onVisible_,t);if(-1===g.host.indexOf("fblocal"))Vc.getInstance().on("online",t.onOnline_,t);return t}k.__extends(b,c);b.prototype.sendRequest=
function(b,c,l){var g=++this.requestNumber_;b={r:g,a:b,b:c};this.log_(e.stringify(b));e.assert(this.connected_,"sendRequest call when we're not connected not allowed.");this.realtime_.sendRequest(b);l&&(this.requestCBHash_[g]=l)};b.prototype.listen=function(b,c,l,f){var g=b.queryIdentifier(),k=b.path.toString();this.log_("Listen called for "+k+" "+g);this.listens_[k]=this.listens_[k]||{};e.assert(b.getQueryParams().isDefault()||!b.getQueryParams().loadsAllData(),"listen() called for non-default but complete query");
e.assert(!this.listens_[k][g],"listen() called twice for same path/queryId.");b={onComplete:f,hashFn:c,query:b,tag:l};this.listens_[k][g]=b;this.connected_&&this.sendListen_(b)};b.prototype.sendListen_=function(c){var e=this,g=c.query,l=g.path.toString(),f=g.queryIdentifier();this.log_("Listen on "+l+" for "+f);var k={p:l};c.tag&&(k.q=g.queryObject(),k.t=c.tag);k.h=c.hashFn();this.sendRequest("q",k,function(k){var t=k.d,u=k.s;b.warnOnListenWarnings_(t,g);if((e.listens_[l]&&e.listens_[l][f])===c&&
(e.log_("listen response",k),"ok"!==u&&e.removeListen_(l,f),c.onComplete))c.onComplete(u,t)})};b.warnOnListenWarnings_=function(b,c){b&&"object"===typeof b&&e.contains(b,"w")&&(b=e.safeGet(b,"w"),Array.isArray(b)&&~b.indexOf("no_index")&&(b='".indexOn": "'+c.getQueryParams().getIndex().toString()+'"',q("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+b+" at ")+(c.path.toString()+" to your security rules for better performance."))))};b.prototype.refreshAuthToken=
function(b){this.authToken_=b;this.log_("Auth token refreshed");this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){});this.reduceReconnectDelayIfAdminCredential_(b)};b.prototype.reduceReconnectDelayIfAdminCredential_=function(b){if(b&&40===b.length||e.isAdmin(b))this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3E4};b.prototype.tryAuth=function(){var b=this;if(this.connected_&&this.authToken_){var c=this.authToken_,
l=e.isValidFormat(c)?"auth":"gauth",f={cred:c};null===this.authOverride_?f.noauth=!0:"object"===typeof this.authOverride_&&(f.authvar=this.authOverride_);this.sendRequest(l,f,function(e){var g=e.s;e=e.d||"error";if(b.authToken_===c)if("ok"===g)b.invalidAuthTokenCount_=0;else b.onAuthRevoked_(g,e)})}};b.prototype.unlisten=function(b,c){var g=b.path.toString(),l=b.queryIdentifier();this.log_("Unlisten called for "+g+" "+l);e.assert(b.getQueryParams().isDefault()||!b.getQueryParams().loadsAllData(),
"unlisten() called for non-default but complete query");this.removeListen_(g,l)&&this.connected_&&this.sendUnlisten_(g,l,b.queryObject(),c)};b.prototype.sendUnlisten_=function(b,c,e,l){this.log_("Unlisten on "+b+" for "+c);b={p:b};l&&(b.q=e,b.t=l);this.sendRequest("n",b)};b.prototype.onDisconnectPut=function(b,c,e){this.connected_?this.sendOnDisconnect_("o",b,c,e):this.onDisconnectRequestQueue_.push({pathString:b,action:"o",data:c,onComplete:e})};b.prototype.onDisconnectMerge=function(b,c,e){this.connected_?
this.sendOnDisconnect_("om",b,c,e):this.onDisconnectRequestQueue_.push({pathString:b,action:"om",data:c,onComplete:e})};b.prototype.onDisconnectCancel=function(b,c){this.connected_?this.sendOnDisconnect_("oc",b,null,c):this.onDisconnectRequestQueue_.push({pathString:b,action:"oc",data:null,onComplete:c})};b.prototype.sendOnDisconnect_=function(b,c,e,l){c={p:c,d:e};this.log_("onDisconnect "+b,c);this.sendRequest(b,c,function(b){l&&setTimeout(function(){l(b.s,b.d)},0)})};b.prototype.put=function(b,
c,e,l){this.putInternal("p",b,c,e,l)};b.prototype.merge=function(b,c,e,l){this.putInternal("m",b,c,e,l)};b.prototype.putInternal=function(b,c,e,l,f){e={p:c,d:e};void 0!==f&&(e.h=f);this.outstandingPuts_.push({action:b,request:e,onComplete:l});this.outstandingPutCount_++;b=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(b):this.log_("Buffering put: "+c)};b.prototype.sendPut_=function(b){var c=this,e=this.outstandingPuts_[b].action,g=this.outstandingPuts_[b].request,l=this.outstandingPuts_[b].onComplete;
this.outstandingPuts_[b].queued=this.connected_;this.sendRequest(e,g,function(g){c.log_(e+" response",g);delete c.outstandingPuts_[b];c.outstandingPutCount_--;0===c.outstandingPutCount_&&(c.outstandingPuts_=[]);l&&l(g.s,g.d)})};b.prototype.reportStats=function(b){var c=this;this.connected_&&(b={c:b},this.log_("reportStats",b),this.sendRequest("s",b,function(b){"ok"!==b.s&&c.log_("reportStats","Error sending stats: "+b.d)}))};b.prototype.onDataMessage_=function(b){if("r"in b){this.log_("from server: "+
e.stringify(b));var c=b.r,g=this.requestCBHash_[c];g&&(delete this.requestCBHash_[c],g(b.b))}else{if("error"in b)throw"A server-side error has occurred: "+b.error;if("a"in b)this.onDataPush_(b.a,b.b)}};b.prototype.onDataPush_=function(b,c){this.log_("handleServerMessage",b,c);if("d"===b)this.onDataUpdate_(c.p,c.d,!1,c.t);else if("m"===b)this.onDataUpdate_(c.p,c.d,!0,c.t);else if("c"===b)this.onListenRevoked_(c.p,c.q);else if("ac"===b)this.onAuthRevoked_(c.s,c.d);else if("sd"===b)this.onSecurityDebugPacket_(c);
else L("Unrecognized action received from server: "+e.stringify(b)+"\nAre you using the latest client?")};b.prototype.onReady_=function(b,c){this.log_("connection ready");this.connected_=!0;this.lastConnectionEstablishedTime_=(new Date).getTime();this.handleTimestamp_(b);this.lastSessionId=c;this.firstConnection_&&this.sendConnectStats_();this.restoreState_();this.firstConnection_=!1;this.onConnectStatus_(!0)};b.prototype.scheduleConnect_=function(b){var c=this;e.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?");
this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_);this.establishConnectionTimer_=setTimeout(function(){c.establishConnectionTimer_=null;c.establishConnection_()},Math.floor(b))};b.prototype.onVisible_=function(b){b&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1E3,this.realtime_||this.scheduleConnect_(0));this.visible_=b};b.prototype.onOnline_=function(b){b?(this.log_("Browser went online."),
this.reconnectDelay_=1E3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())};b.prototype.onRealtimeDisconnect_=function(){this.log_("data client disconnected");this.connected_=!1;this.realtime_=null;this.cancelSentTransactions_();this.requestCBHash_={};if(this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(3E4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=
1E3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_;b=Math.max(0,this.reconnectDelay_-b);b*=Math.random();this.log_("Trying to reconnect in "+b+"ms");this.scheduleConnect_(b);this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)};b.prototype.establishConnection_=
function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt");this.lastConnectionAttemptTime_=(new Date).getTime();this.lastConnectionEstablishedTime_=null;var c=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),f=this.onRealtimeDisconnect_.bind(this),k=this.id+":"+b.nextConnectionId_++,u=this,H=this.lastSessionId,n=!1,p=null,r=function(){p?p.close():(n=!0,f())};this.realtime_={close:r,sendRequest:function(b){e.assert(p,"sendRequest call when we're not connected not allowed.");
p.sendRequest(b)}};var G=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;this.authTokenProvider_.getToken(G).then(function(b){n?xa("getToken() completed but was canceled"):(xa("getToken() completed. Creating connection."),u.authToken_=b&&b.accessToken,p=new Zd(k,u.repoInfo_,c,l,f,function(b){q(b+" ("+u.repoInfo_.toString()+")");u.interrupt("server_kill")},H))}).then(null,function(b){u.log_("Failed to get token: "+b);n||(e.CONSTANTS.NODE_ADMIN&&q(b),r())})}};b.prototype.interrupt=function(b){xa("Interrupting connection for reason: "+
b);this.interruptReasons_[b]=!0;if(this.realtime_)this.realtime_.close();else if(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_)this.onRealtimeDisconnect_()};b.prototype.resume=function(b){xa("Resuming connection for reason: "+b);delete this.interruptReasons_[b];e.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1E3,this.realtime_||this.scheduleConnect_(0))};b.prototype.handleTimestamp_=function(b){b-=(new Date).getTime();
this.onServerInfoUpdate_({serverTimeOffset:b})};b.prototype.cancelSentTransactions_=function(){for(var b=0;b<this.outstandingPuts_.length;b++){var c=this.outstandingPuts_[b];if(c&&"h"in c.request&&c.queued){if(c.onComplete)c.onComplete("disconnect");delete this.outstandingPuts_[b];this.outstandingPutCount_--}}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])};b.prototype.onListenRevoked_=function(b,c){c=c?c.map(function(b){return ca(b)}).join("$"):"default";if((b=this.removeListen_(b,c))&&
b.onComplete)b.onComplete("permission_denied")};b.prototype.removeListen_=function(b,c){b=(new V(b)).toString();if(void 0!==this.listens_[b]){var g=this.listens_[b][c];delete this.listens_[b][c];0===e.getCount(this.listens_[b])&&delete this.listens_[b]}else g=void 0;return g};b.prototype.onAuthRevoked_=function(b,c){xa("Auth token revoked: "+b+"/"+c);this.authToken_=null;this.forceTokenRefresh_=!0;this.realtime_.close();if("invalid_token"===b||"permission_denied"===b)this.invalidAuthTokenCount_++,
3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3E4,this.authTokenProvider_.notifyForInvalidToken())};b.prototype.onSecurityDebugPacket_=function(b){this.securityDebugCallback_?this.securityDebugCallback_(b):"msg"in b&&console.log("FIREBASE: "+b.msg.replace("\n","\nFIREBASE: "))};b.prototype.restoreState_=function(){var b=this;this.tryAuth();e.forEach(this.listens_,function(c,g){e.forEach(g,function(c,e){b.sendListen_(e)})});for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&
this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;)c=this.onDisconnectRequestQueue_.shift(),this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)};b.prototype.sendConnectStats_=function(){var b={},c="js";e.CONSTANTS.NODE_ADMIN?c="admin_node":e.CONSTANTS.NODE_CLIENT&&(c="node");b["sdk."+c+"."+Y.SDK_VERSION.replace(/\./g,"-")]=1;e.isMobileCordova()?b["framework.cordova"]=1:e.isReactNative()&&(b["framework.reactnative"]=1);this.reportStats(b)};b.prototype.shouldReconnect_=function(){var b=
Vc.getInstance().currentlyOnline();return e.isEmpty(this.interruptReasons_)&&b};b.nextPersistentConnectionId_=0;b.nextConnectionId_=0;return b}(Gd),Re=function(c){function b(b,e,l){var g=c.call(this)||this;g.repoInfo_=b;g.onDataUpdate_=e;g.authTokenProvider_=l;g.log_=Qa("p:rest:");g.listens_={};return g}k.__extends(b,c);b.prototype.reportStats=function(b){throw Error("Method not implemented.");};b.getListenId_=function(b,c){if(void 0!==c)return"tag$"+c;e.assert(b.getQueryParams().isDefault(),"should have a tag if it's not a default query.");
return b.path.toString()};b.prototype.listen=function(c,l,f,k){var g=this,u=c.path.toString();this.log_("Listen called for "+u+" "+c.queryIdentifier());var t=b.getListenId_(c,f),H={};this.listens_[t]=H;c=c.getQueryParams().toRestQueryStringParameters();this.restRequest_(u+".json",c,function(b,c){404===b&&(b=c=null);if(null===b)g.onDataUpdate_(u,c,!1,f);e.safeGet(g.listens_,t)===H&&k(b?401==b?"permission_denied":"rest_error:"+b:"ok",null)})};b.prototype.unlisten=function(c,e){c=b.getListenId_(c,e);
delete this.listens_[c]};b.prototype.refreshAuthToken=function(b){};b.prototype.restRequest_=function(b,c,l){var g=this;void 0===c&&(c={});c.format="export";this.authTokenProvider_.getToken(!1).then(function(f){(f=f&&f.accessToken)&&(c.auth=f);var k=(g.repoInfo_.secure?"https://":"http://")+g.repoInfo_.host+b+"?ns\x3d"+g.repoInfo_.namespace+e.querystring(c);g.log_("Sending REST request for "+k);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(l&&4===u.readyState){g.log_("REST Response for "+
k+" received. status:",u.status,"response:",u.responseText);var b=null;if(200<=u.status&&300>u.status){try{b=e.jsonEval(u.responseText)}catch(kd){q("Failed to parse JSON response for "+k+": "+u.responseText)}l(null,b)}else 401!==u.status&&404!==u.status&&q("Got unsuccessful REST response for "+k+" Status: "+u.status),l(u.status);l=null}};u.open("GET",k,!0);u.send()})};return b}(Gd),ab=function(){function c(b,c,l){var g=this;this.repoInfo_=b;this.app=l;this.dataUpdateCount=0;this.statsListener_=null;
this.eventQueue_=new Pe;this.nextWriteId_=1;this.interceptServerDataCallback_=null;this.onDisconnect_=new P;this.persistentConnection_=null;var f=new gc(l);this.stats_=Ed.getCollection(b);if(c||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new Re(this.repoInfo_,this.onDataUpdate_.bind(this),f),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{c=l.options.databaseAuthVariableOverride;
if("undefined"!==typeof c&&null!==c){if("object"!==typeof c)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{e.stringify(c)}catch(ud){throw Error("Invalid authOverride provided: "+ud);}}this.server_=this.persistentConnection_=new $a(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),f,c)}f.addTokenChangeListener(function(b){g.server_.refreshAuthToken(b)});this.statsReporter_=Ed.getOrCreateReporter(b,
function(){return new Gb(g.stats_,g.server_)});this.transactions_init_();this.infoData_=new yb;this.infoSyncTree_=new xc({startListening:function(b,c,e,l){c=[];e=g.infoData_.getNode(b.path);e.isEmpty()||(c=g.infoSyncTree_.applyServerOverwrite(b.path,e),setTimeout(function(){l("ok")},0));return c},stopListening:function(){}});this.updateInfo_("connected",!1);this.serverSyncTree_=new xc({startListening:function(b,c,e,l){g.server_.listen(b,e,c,function(c,e){c=l(c,e);g.eventQueue_.raiseEventsForChangedPath(b.path,
c)});return[]},stopListening:function(b,c){g.server_.unlisten(b,c)}})}c.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host};c.prototype.name=function(){return this.repoInfo_.namespace};c.prototype.serverTime=function(){var b=this.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+b};c.prototype.generateServerValues=function(){var b={timestamp:this.serverTime()};b=b||{};b.timestamp=b.timestamp||(new Date).getTime();
return b};c.prototype.onDataUpdate_=function(b,c,l,f){this.dataUpdateCount++;var g=new V(b);c=this.interceptServerDataCallback_?this.interceptServerDataCallback_(b,c):c;b=[];f?l?(c=e.map(c,function(b){return x(b)}),b=this.serverSyncTree_.applyTaggedQueryMerge(g,c,f)):(c=x(c),b=this.serverSyncTree_.applyTaggedQueryOverwrite(g,c,f)):l?(f=e.map(c,function(b){return x(b)}),b=this.serverSyncTree_.applyServerMerge(g,f)):(f=x(c),b=this.serverSyncTree_.applyServerOverwrite(g,f));f=g;0<b.length&&(f=this.rerunTransactions_(g));
this.eventQueue_.raiseEventsForChangedPath(f,b)};c.prototype.interceptServerData_=function(b){this.interceptServerDataCallback_=b};c.prototype.onConnectStatus_=function(b){this.updateInfo_("connected",b);!1===b&&this.runOnDisconnectEvents_()};c.prototype.onServerInfoUpdate_=function(b){var c=this;ja(b,function(b,e){c.updateInfo_(e,b)})};c.prototype.updateInfo_=function(b,c){b=new V("/.info/"+b);c=x(c);this.infoData_.updateSnapshot(b,c);c=this.infoSyncTree_.applyServerOverwrite(b,c);this.eventQueue_.raiseEventsForChangedPath(b,
c)};c.prototype.getNextWriteId_=function(){return this.nextWriteId_++};c.prototype.setWithPriority=function(b,c,e,l){var g=this;this.log_("set",{path:b.toString(),value:c,priority:e});var f=this.generateServerValues();c=x(c,e);f=ec(c,f);var k=this.getNextWriteId_();f=this.serverSyncTree_.applyUserOverwrite(b,f,k,!0);this.eventQueue_.queueEvents(f);this.server_.put(b.toString(),c.val(!0),function(c,e){var f="ok"===c;f||q("set at "+b+" failed: "+c);f=g.serverSyncTree_.ackUserWrite(k,!f);g.eventQueue_.raiseEventsForChangedPath(b,
f);g.callOnCompleteCallback(l,c,e)});f=this.abortTransactions_(b);this.rerunTransactions_(f);this.eventQueue_.raiseEventsForChangedPath(f,[])};c.prototype.update=function(b,c,f){var g=this;this.log_("update",{path:b.toString(),value:c});var l=!0,k=this.generateServerValues(),u={};e.forEach(c,function(b,c){l=!1;c=x(c);u[b]=ec(c,k)});if(l)xa("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(f,"ok");else{var t=this.getNextWriteId_(),H=this.serverSyncTree_.applyUserMerge(b,
u,t);this.eventQueue_.queueEvents(H);this.server_.merge(b.toString(),c,function(c,e){var l="ok"===c;l||q("update at "+b+" failed: "+c);l=g.serverSyncTree_.ackUserWrite(t,!l);var k=0<l.length?g.rerunTransactions_(b):b;g.eventQueue_.raiseEventsForChangedPath(k,l);g.callOnCompleteCallback(f,c,e)});e.forEach(c,function(c){c=g.abortTransactions_(b.child(c));g.rerunTransactions_(c)});this.eventQueue_.raiseEventsForChangedPath(b,[])}};c.prototype.runOnDisconnectEvents_=function(){var b=this;this.log_("onDisconnectEvents");
var c=this.generateServerValues(),e=[];Rc(this.onDisconnect_,c).forEachTree(V.Empty,function(c,g){e=e.concat(b.serverSyncTree_.applyServerOverwrite(c,g));c=b.abortTransactions_(c);b.rerunTransactions_(c)});this.onDisconnect_=new P;this.eventQueue_.raiseEventsForChangedPath(V.Empty,e)};c.prototype.onDisconnectCancel=function(b,c){var e=this;this.server_.onDisconnectCancel(b.toString(),function(g,f){"ok"===g&&e.onDisconnect_.forget(b);e.callOnCompleteCallback(c,g,f)})};c.prototype.onDisconnectSet=function(b,
c,e){var g=this,f=x(c);this.server_.onDisconnectPut(b.toString(),f.val(!0),function(c,l){"ok"===c&&g.onDisconnect_.remember(b,f);g.callOnCompleteCallback(e,c,l)})};c.prototype.onDisconnectSetWithPriority=function(b,c,e,f){var g=this,l=x(c,e);this.server_.onDisconnectPut(b.toString(),l.val(!0),function(c,e){"ok"===c&&g.onDisconnect_.remember(b,l);g.callOnCompleteCallback(f,c,e)})};c.prototype.onDisconnectUpdate=function(b,c,f){var g=this;if(e.isEmpty(c))xa("onDisconnect().update() called with empty data.  Don't do anything."),
this.callOnCompleteCallback(f,"ok");else this.server_.onDisconnectMerge(b.toString(),c,function(l,k){"ok"===l&&e.forEach(c,function(c,e){e=x(e);g.onDisconnect_.remember(b.child(c),e)});g.callOnCompleteCallback(f,l,k)})};c.prototype.addEventCallbackForQuery=function(b,c){c=".info"===b.path.getFront()?this.infoSyncTree_.addEventRegistration(b,c):this.serverSyncTree_.addEventRegistration(b,c);this.eventQueue_.raiseEventsAtPath(b.path,c)};c.prototype.removeEventCallbackForQuery=function(b,c){c=".info"===
b.path.getFront()?this.infoSyncTree_.removeEventRegistration(b,c):this.serverSyncTree_.removeEventRegistration(b,c);this.eventQueue_.raiseEventsAtPath(b.path,c)};c.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")};c.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")};c.prototype.stats=function(b){void 0===b&&(b=!1);if("undefined"!==typeof console){b?(this.statsListener_||(this.statsListener_=
new Fd(this.stats_)),b=this.statsListener_.get()):b=this.stats_.get();var c=Object.keys(b).reduce(function(b,c){return Math.max(c.length,b)},0);e.forEach(b,function(b,e){for(var g=b.length;g<c+2;g++)b+=" ";console.log(b+e)})}};c.prototype.statsIncrementCounter=function(b){this.stats_.incrementCounter(b);this.statsReporter_.includeStat(b)};c.prototype.log_=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];c="";this.persistentConnection_&&(c=this.persistentConnection_.id+":");xa.apply(void 0,
[c].concat(b))};c.prototype.callOnCompleteCallback=function(b,c,e){b&&Na(function(){if("ok"==c)b(null);else{var g=(c||"error").toUpperCase(),f=g;e&&(f+=": "+e);f=Error(f);f.code=g;b(f)}})};Object.defineProperty(c.prototype,"database",{get:function(){return this.__database||(this.__database=new Sb(this))},enumerable:!0,configurable:!0});return c}(),Hd=function(){function c(b){this.indexedFilter_=new xb(b.getIndex());this.index_=b.getIndex();this.startPost_=c.getStartPost_(b);this.endPost_=c.getEndPost_(b)}
c.prototype.getStartPost=function(){return this.startPost_};c.prototype.getEndPost=function(){return this.endPost_};c.prototype.matches=function(b){return 0>=this.index_.compare(this.getStartPost(),b)&&0>=this.index_.compare(b,this.getEndPost())};c.prototype.updateChild=function(b,c,e,f,l,k){this.matches(new ma(c,e))||(e=sa.EMPTY_NODE);return this.indexedFilter_.updateChild(b,c,e,f,l,k)};c.prototype.updateFullNode=function(b,c,e){c.isLeafNode()&&(c=sa.EMPTY_NODE);var g=c.withIndex(this.index_);g=
g.updatePriority(sa.EMPTY_NODE);var f=this;c.forEachChild(Fa,function(b,c){f.matches(new ma(b,c))||(g=g.updateImmediateChild(b,sa.EMPTY_NODE))});return this.indexedFilter_.updateFullNode(b,g,e)};c.prototype.updatePriority=function(b,c){return b};c.prototype.filtersNodes=function(){return!0};c.prototype.getIndexedFilter=function(){return this.indexedFilter_};c.prototype.getIndex=function(){return this.index_};c.getStartPost_=function(b){if(b.hasStart()){var c=b.getIndexStartName();return b.getIndex().makePost(b.getIndexStartValue(),
c)}return b.getIndex().minPost()};c.getEndPost_=function(b){if(b.hasEnd()){var c=b.getIndexEndName();return b.getIndex().makePost(b.getIndexEndValue(),c)}return b.getIndex().maxPost()};return c}(),Qe=function(){function c(b){this.rangedFilter_=new Hd(b);this.index_=b.getIndex();this.limit_=b.getLimit();this.reverse_=!b.isViewFromLeft()}c.prototype.updateChild=function(b,c,e,f,l,k){this.rangedFilter_.matches(new ma(c,e))||(e=sa.EMPTY_NODE);return b.getImmediateChild(c).equals(e)?b:b.numChildren()<
this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(b,c,e,f,l,k):this.fullLimitUpdateChild_(b,c,e,l,k)};c.prototype.updateFullNode=function(b,c,e){if(c.isLeafNode()||c.isEmpty())var g=sa.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){g=sa.EMPTY_NODE.withIndex(this.index_);var f=void 0;f=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(c=
0;f.hasNext()&&c<this.limit_;){var l=f.getNext(),k=void 0;if(k=this.reverse_?0>=this.index_.compare(this.rangedFilter_.getStartPost(),l):0>=this.index_.compare(l,this.rangedFilter_.getEndPost()))g=g.updateImmediateChild(l.name,l.node),c++;else break}}else{g=c.withIndex(this.index_);g=g.updatePriority(sa.EMPTY_NODE);var u=void 0,H=void 0,t=void 0;f=void 0;if(this.reverse_){f=g.getReverseIterator(this.index_);u=this.rangedFilter_.getEndPost();H=this.rangedFilter_.getStartPost();var q=this.index_.getCompare();
t=function(b,c){return q(c,b)}}else f=g.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),H=this.rangedFilter_.getEndPost(),t=this.index_.getCompare();c=0;for(var n=!1;f.hasNext();)l=f.getNext(),!n&&0>=t(u,l)&&(n=!0),(k=n&&c<this.limit_&&0>=t(l,H))?c++:g=g.updateImmediateChild(l.name,sa.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(b,g,e)};c.prototype.updatePriority=function(b,c){return b};c.prototype.filtersNodes=function(){return!0};c.prototype.getIndexedFilter=
function(){return this.rangedFilter_.getIndexedFilter()};c.prototype.getIndex=function(){return this.index_};c.prototype.fullLimitUpdateChild_=function(b,c,f,l,k){if(this.reverse_){var g=this.index_.getCompare();var u=function(b,c){return g(c,b)}}else u=this.index_.getCompare();e.assert(b.numChildren()==this.limit_,"");var H=new ma(c,f),t=this.reverse_?b.getFirstChild(this.index_):b.getLastChild(this.index_),q=this.rangedFilter_.matches(H);if(b.hasChild(c)){var n=b.getImmediateChild(c);for(t=l.getChildAfterChild(this.index_,
t,this.reverse_);null!=t&&(t.name==c||b.hasChild(t.name));)t=l.getChildAfterChild(this.index_,t,this.reverse_);l=null==t?1:u(t,H);if(q&&!f.isEmpty()&&0<=l)return null!=k&&k.trackChildChange(da.childChangedChange(c,f,n)),b.updateImmediateChild(c,f);null!=k&&k.trackChildChange(da.childRemovedChange(c,n));b=b.updateImmediateChild(c,sa.EMPTY_NODE);return null!=t&&this.rangedFilter_.matches(t)?(null!=k&&k.trackChildChange(da.childAddedChange(t.name,t.node)),b.updateImmediateChild(t.name,t.node)):b}return f.isEmpty()?
b:q&&0<=u(t,H)?(null!=k&&(k.trackChildChange(da.childRemovedChange(t.name,t.node)),k.trackChildChange(da.childAddedChange(c,f))),b.updateImmediateChild(c,f).updateImmediateChild(t.name,sa.EMPTY_NODE)):b};return c}(),Ka=function(){function c(){this.endNameSet_=this.endSet_=this.startNameSet_=this.startSet_=this.limitSet_=!1;this.limit_=0;this.viewFrom_="";this.indexStartValue_=null;this.indexStartName_="";this.indexEndValue_=null;this.indexEndName_="";this.index_=Fa}c.prototype.hasStart=function(){return this.startSet_};
c.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===c.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT};c.prototype.getIndexStartValue=function(){e.assert(this.startSet_,"Only valid if start has been set");return this.indexStartValue_};c.prototype.getIndexStartName=function(){e.assert(this.startSet_,"Only valid if start has been set");return this.startNameSet_?this.indexStartName_:"[MIN_NAME]"};c.prototype.hasEnd=function(){return this.endSet_};c.prototype.getIndexEndValue=
function(){e.assert(this.endSet_,"Only valid if end has been set");return this.indexEndValue_};c.prototype.getIndexEndName=function(){e.assert(this.endSet_,"Only valid if end has been set");return this.endNameSet_?this.indexEndName_:"[MAX_NAME]"};c.prototype.hasLimit=function(){return this.limitSet_};c.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_};c.prototype.getLimit=function(){e.assert(this.limitSet_,"Only valid if limit has been set");return this.limit_};c.prototype.getIndex=
function(){return this.index_};c.prototype.copy_=function(){var b=new c;b.limitSet_=this.limitSet_;b.limit_=this.limit_;b.startSet_=this.startSet_;b.indexStartValue_=this.indexStartValue_;b.startNameSet_=this.startNameSet_;b.indexStartName_=this.indexStartName_;b.endSet_=this.endSet_;b.indexEndValue_=this.indexEndValue_;b.endNameSet_=this.endNameSet_;b.indexEndName_=this.indexEndName_;b.index_=this.index_;b.viewFrom_=this.viewFrom_;return b};c.prototype.limit=function(b){var c=this.copy_();c.limitSet_=
!0;c.limit_=b;c.viewFrom_="";return c};c.prototype.limitToFirst=function(b){var e=this.copy_();e.limitSet_=!0;e.limit_=b;e.viewFrom_=c.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT;return e};c.prototype.limitToLast=function(b){var e=this.copy_();e.limitSet_=!0;e.limit_=b;e.viewFrom_=c.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT;return e};c.prototype.startAt=function(b,c){var e=this.copy_();e.startSet_=!0;void 0===b&&(b=null);e.indexStartValue_=b;null!=c?(e.startNameSet_=!0,e.indexStartName_=c):(e.startNameSet_=
!1,e.indexStartName_="");return e};c.prototype.endAt=function(b,c){var e=this.copy_();e.endSet_=!0;void 0===b&&(b=null);e.indexEndValue_=b;void 0!==c?(e.endNameSet_=!0,e.indexEndName_=c):(e.endNameSet_=!1,e.indexEndName_="");return e};c.prototype.orderBy=function(b){var c=this.copy_();c.index_=b;return c};c.prototype.getQueryObject=function(){var b=c.WIRE_PROTOCOL_CONSTANTS_,e={};this.startSet_&&(e[b.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(e[b.INDEX_START_NAME]=this.indexStartName_));
this.endSet_&&(e[b.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(e[b.INDEX_END_NAME]=this.indexEndName_));if(this.limitSet_){e[b.LIMIT]=this.limit_;var f=this.viewFrom_;""===f&&(f=this.isViewFromLeft()?b.VIEW_FROM_LEFT:b.VIEW_FROM_RIGHT);e[b.VIEW_FROM]=f}this.index_!==Fa&&(e[b.INDEX]=this.index_.toString());return e};c.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)};c.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Fa};c.prototype.getNodeFilter=
function(){return this.loadsAllData()?new xb(this.getIndex()):this.hasLimit()?new Qe(this):new Hd(this)};c.prototype.toRestQueryStringParameters=function(){var b=c.REST_QUERY_CONSTANTS_,g={};if(this.isDefault())return g;if(this.index_===Fa)var f=b.PRIORITY_INDEX;else this.index_===Qc?f=b.VALUE_INDEX:this.index_===Wb?f=b.KEY_INDEX:(e.assert(this.index_ instanceof Sa,"Unrecognized index type!"),f=this.index_.toString());g[b.ORDER_BY]=e.stringify(f);this.startSet_&&(g[b.START_AT]=e.stringify(this.indexStartValue_),
this.startNameSet_&&(g[b.START_AT]+=","+e.stringify(this.indexStartName_)));this.endSet_&&(g[b.END_AT]=e.stringify(this.indexEndValue_),this.endNameSet_&&(g[b.END_AT]+=","+e.stringify(this.indexEndName_)));this.limitSet_&&(this.isViewFromLeft()?g[b.LIMIT_TO_FIRST]=this.limit_:g[b.LIMIT_TO_LAST]=this.limit_);return g};c.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"};
c.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"};c.DEFAULT=new c;return c}(),vb=function(c){function b(b,e){if(!(b instanceof ab))throw Error("new Reference() no longer supported - use app.database().");return c.call(this,b,e,Ka.DEFAULT,!1)||this}k.__extends(b,c);b.prototype.getKey=function(){e.validateArgCount("Reference.key",0,0,arguments.length);
return this.path.isEmpty()?null:this.path.getBack()};b.prototype.child=function(c){e.validateArgCount("Reference.child",1,1,arguments.length);if("number"===typeof c)c=String(c);else if(!(c instanceof V))if(null===this.path.getFront()){var g=c;g&&(g=g.replace(/^\/*\.info(\/|$)/,"/"));Nc("Reference.child",1,g,!1)}else Nc("Reference.child",1,c,!1);return new b(this.repo,this.path.child(c))};b.prototype.getParent=function(){e.validateArgCount("Reference.parent",0,0,arguments.length);var c=this.path.parent();
return null===c?null:new b(this.repo,c)};b.prototype.getRoot=function(){e.validateArgCount("Reference.root",0,0,arguments.length);for(var b=this;null!==b.getParent();)b=b.getParent();return b};b.prototype.databaseProp=function(){return this.repo.database};b.prototype.set=function(b,c){e.validateArgCount("Reference.set",1,2,arguments.length);fb("Reference.set",this.path);la("Reference.set",1,b,this.path,!1);e.validateCallback("Reference.set",2,c,!0);var g=new e.Deferred;this.repo.setWithPriority(this.path,
b,null,g.wrapCallback(c));return g.promise};b.prototype.update=function(b,c){e.validateArgCount("Reference.update",1,2,arguments.length);fb("Reference.update",this.path);if(Array.isArray(b)){for(var g={},f=0;f<b.length;++f)g[""+f]=b[f];b=g;q("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lb("Reference.update",1,b,this.path,!1);e.validateCallback("Reference.update",
2,c,!0);g=new e.Deferred;this.repo.update(this.path,b,g.wrapCallback(c));return g.promise};b.prototype.setWithPriority=function(b,c,f){e.validateArgCount("Reference.setWithPriority",2,3,arguments.length);fb("Reference.setWithPriority",this.path);la("Reference.setWithPriority",1,b,this.path,!1);sc("Reference.setWithPriority",2,c,!1);e.validateCallback("Reference.setWithPriority",3,f,!0);if(".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";
var g=new e.Deferred;this.repo.setWithPriority(this.path,b,c,g.wrapCallback(f));return g.promise};b.prototype.remove=function(b){e.validateArgCount("Reference.remove",0,1,arguments.length);fb("Reference.remove",this.path);e.validateCallback("Reference.remove",1,b,!0);return this.set(null,b)};b.prototype.transaction=function(b,c,f){e.validateArgCount("Reference.transaction",1,3,arguments.length);fb("Reference.transaction",this.path);e.validateCallback("Reference.transaction",1,b,!1);e.validateCallback("Reference.transaction",
2,c,!0);if(void 0!==f&&"boolean"!==typeof f)throw Error(e.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===f&&(f=!0);var g=new e.Deferred;"function"===typeof c&&g.promise.catch(function(){});this.repo.startTransaction(this.path,b,function(b,e,f){b?g.reject(b):g.resolve(new tc(e,f));"function"===typeof c&&c(b,e,f)},f);return g.promise};b.prototype.setPriority=
function(b,c){e.validateArgCount("Reference.setPriority",1,2,arguments.length);fb("Reference.setPriority",this.path);sc("Reference.setPriority",1,b,!1);e.validateCallback("Reference.setPriority",2,c,!0);var g=new e.Deferred;this.repo.setWithPriority(this.path.child(".priority"),b,null,g.wrapCallback(c));return g.promise};b.prototype.push=function(b,c){e.validateArgCount("Reference.push",0,2,arguments.length);fb("Reference.push",this.path);la("Reference.push",1,b,this.path,!0);e.validateCallback("Reference.push",
2,c,!0);var g=this.repo.serverTime(),f=Wa(g);g=this.child(f);var l=this.child(f);f=null!=b?g.set(b,c).then(function(){return l}):Promise.resolve(l);g.then=f.then.bind(f);g.catch=f.then.bind(f,void 0);"function"===typeof c&&f.catch(function(){});return g};b.prototype.onDisconnect=function(){fb("Reference.onDisconnect",this.path);return new ac(this.repo,this.path)};Object.defineProperty(b.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0});return b}(cc);cc.__referenceConstructor=vb;ub.__referenceConstructor=vb;var rd=function(){return function(){this.children={};this.childCount=0;this.value=null}}(),nb=function(){function c(b,c,e){void 0===
b&&(b="");void 0===c&&(c=null);void 0===e&&(e=new rd);this.name_=b;this.parent_=c;this.node_=e}c.prototype.subTree=function(b){b=b instanceof V?b:new V(b);for(var g=this,f;null!==(f=b.getFront());){var l=e.safeGet(g.node_.children,f)||new rd;g=new c(f,g,l);b=b.popFront()}return g};c.prototype.getValue=function(){return this.node_.value};c.prototype.setValue=function(b){e.assert("undefined"!==typeof b,"Cannot set value to undefined");this.node_.value=b;this.updateParents_()};c.prototype.clear=function(){this.node_.value=
null;this.node_.children={};this.node_.childCount=0;this.updateParents_()};c.prototype.hasChildren=function(){return 0<this.node_.childCount};c.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()};c.prototype.forEachChild=function(b){var g=this;e.forEach(this.node_.children,function(e,f){b(new c(e,g,f))})};c.prototype.forEachDescendant=function(b,c,e){c&&!e&&b(this);this.forEachChild(function(c){c.forEachDescendant(b,!0,e)});c&&e&&b(this)};c.prototype.forEachAncestor=function(b,
c){for(c=c?this:this.parent();null!==c;){if(b(c))return!0;c=c.parent()}return!1};c.prototype.forEachImmediateDescendantWithValue=function(b){this.forEachChild(function(c){null!==c.getValue()?b(c):c.forEachImmediateDescendantWithValue(b)})};c.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)};c.prototype.name=function(){return this.name_};c.prototype.parent=function(){return this.parent_};c.prototype.updateParents_=function(){null!==this.parent_&&
this.parent_.updateChild_(this.name_,this)};c.prototype.updateChild_=function(b,c){var g=c.isEmpty(),f=e.contains(this.node_.children,b);g&&f?(delete this.node_.children[b],this.node_.childCount--,this.updateParents_()):g||f||(this.node_.children[b]=c.node_,this.node_.childCount++,this.updateParents_())};return c}(),tb;(function(c){c[c.RUN=0]="RUN";c[c.SENT=1]="SENT";c[c.COMPLETED=2]="COMPLETED";c[c.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT";c[c.NEEDS_ABORT=4]="NEEDS_ABORT"})(tb||(tb={}));ab.MAX_TRANSACTION_RETRIES_=
25;ab.prototype.transactions_init_=function(){this.transactionQueueTree_=new nb};ab.prototype.startTransaction=function(c,b,g,f){this.log_("transaction on "+c);var l=function(){},k=new vb(this,c);k.on("value",l);b={path:c,update:b,onComplete:g,status:null,order:N(),applyLocally:f,retryCount:0,unwatcher:function(){k.off("value",l)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};g=this.getLatestState_(c);b.currentInputSnapshot=
g;g=b.update(g.val());if(void 0===g)b.unwatcher(),b.currentOutputSnapshotRaw=null,b.currentOutputSnapshotResolved=null,b.onComplete&&(c=new u(b.currentInputSnapshot,new vb(this,b.path),Fa),b.onComplete(null,!1,c));else{ra("transaction failed: Data returned ",g,b.path);b.status=tb.RUN;f=this.transactionQueueTree_.subTree(c);var H=f.getValue()||[];H.push(b);f.setValue(H);H=void 0;"object"===typeof g&&null!==g&&e.contains(g,".priority")?(H=e.safeGet(g,".priority"),e.assert(Ta(H),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
H=(this.serverSyncTree_.calcCompleteEventCache(c)||sa.EMPTY_NODE).getPriority().val();f=this.generateServerValues();g=x(g,H);f=ec(g,f);b.currentOutputSnapshotRaw=g;b.currentOutputSnapshotResolved=f;b.currentWriteId=this.getNextWriteId_();b=this.serverSyncTree_.applyUserOverwrite(c,f,b.currentWriteId,b.applyLocally);this.eventQueue_.raiseEventsForChangedPath(c,b);this.sendReadyTransactions_()}};ab.prototype.getLatestState_=function(c,b){return this.serverSyncTree_.calcCompleteEventCache(c,b)||sa.EMPTY_NODE};
ab.prototype.sendReadyTransactions_=function(c){var b=this;void 0===c&&(c=this.transactionQueueTree_);c||this.pruneCompletedTransactionsBelowNode_(c);if(null!==c.getValue()){var g=this.buildTransactionQueue_(c);e.assert(0<g.length,"Sending zero length transaction queue");g.every(function(b){return b.status===tb.RUN})&&this.sendTransactionQueue_(c.path(),g)}else c.hasChildren()&&c.forEachChild(function(c){b.sendReadyTransactions_(c)})};ab.prototype.sendTransactionQueue_=function(c,b){var g=this,f=
b.map(function(b){return b.currentWriteId}),l=this.getLatestState_(c,f);f=l;l=l.hash();for(var k=0;k<b.length;k++){var H=b[k];e.assert(H.status===tb.RUN,"tryToSendTransactionQueue_: items in queue should all be run.");H.status=tb.SENT;H.retryCount++;var n=V.relativePath(c,H.path);f=f.updateChild(n,H.currentOutputSnapshotRaw)}f=f.val(!0);this.server_.put(c.toString(),f,function(e){g.log_("transaction put response",{path:c.toString(),status:e});var f=[];if("ok"===e){e=[];for(var l=0;l<b.length;l++){b[l].status=
tb.COMPLETED;f=f.concat(g.serverSyncTree_.ackUserWrite(b[l].currentWriteId));if(b[l].onComplete){var k=b[l].currentOutputSnapshotResolved,H=new vb(g,b[l].path);k=new u(k,H,Fa);e.push(b[l].onComplete.bind(null,null,!0,k))}b[l].unwatcher()}g.pruneCompletedTransactionsBelowNode_(g.transactionQueueTree_.subTree(c));g.sendReadyTransactions_();g.eventQueue_.raiseEventsForChangedPath(c,f);for(l=0;l<e.length;l++)Na(e[l])}else{if("datastale"===e)for(l=0;l<b.length;l++)b[l].status=b[l].status===tb.SENT_NEEDS_ABORT?
tb.NEEDS_ABORT:tb.RUN;else for(q("transaction at "+c.toString()+" failed: "+e),l=0;l<b.length;l++)b[l].status=tb.NEEDS_ABORT,b[l].abortReason=e;g.rerunTransactions_(c)}},l)};ab.prototype.rerunTransactions_=function(c){var b=this.getAncestorTransactionNode_(c);c=b.path();b=this.buildTransactionQueue_(b);this.rerunTransactionQueue_(b,c);return c};ab.prototype.rerunTransactionQueue_=function(c,b){if(0!==c.length){for(var g=[],f=[],l=c.filter(function(b){return b.status===tb.RUN}).map(function(b){return b.currentWriteId}),
k=0;k<c.length;k++){var H=c[k],q=V.relativePath(b,H.path),n=!1,p=void 0;e.assert(null!==q,"rerunTransactionsUnderNode_: relativePath should not be null.");if(H.status===tb.NEEDS_ABORT)n=!0,p=H.abortReason,f=f.concat(this.serverSyncTree_.ackUserWrite(H.currentWriteId,!0));else if(H.status===tb.RUN)if(H.retryCount>=ab.MAX_TRANSACTION_RETRIES_)n=!0,p="maxretry",f=f.concat(this.serverSyncTree_.ackUserWrite(H.currentWriteId,!0));else{var r=this.getLatestState_(H.path,l);H.currentInputSnapshot=r;var G=
c[k].update(r.val());void 0!==G?(ra("transaction failed: Data returned ",G,H.path),q=x(G),"object"===typeof G&&null!=G&&e.contains(G,".priority")||(q=q.updatePriority(r.getPriority())),r=H.currentWriteId,G=this.generateServerValues(),G=ec(q,G),H.currentOutputSnapshotRaw=q,H.currentOutputSnapshotResolved=G,H.currentWriteId=this.getNextWriteId_(),l.splice(l.indexOf(r),1),f=f.concat(this.serverSyncTree_.applyUserOverwrite(H.path,G,H.currentWriteId,H.applyLocally)),f=f.concat(this.serverSyncTree_.ackUserWrite(r,
!0))):(n=!0,p="nodata",f=f.concat(this.serverSyncTree_.ackUserWrite(H.currentWriteId,!0)))}this.eventQueue_.raiseEventsForChangedPath(b,f);f=[];n&&(c[k].status=tb.COMPLETED,setTimeout(c[k].unwatcher,0),c[k].onComplete&&("nodata"===p?(H=new vb(this,c[k].path),H=new u(c[k].currentInputSnapshot,H,Fa),g.push(c[k].onComplete.bind(null,null,!1,H))):g.push(c[k].onComplete.bind(null,Error(p),!1,null))))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(k=0;k<g.length;k++)Na(g[k]);
this.sendReadyTransactions_()}};ab.prototype.getAncestorTransactionNode_=function(c){for(var b,e=this.transactionQueueTree_;null!==(b=c.getFront())&&null===e.getValue();)e=e.subTree(b),c=c.popFront();return e};ab.prototype.buildTransactionQueue_=function(c){var b=[];this.aggregateTransactionQueuesForNode_(c,b);b.sort(function(b,c){return b.order-c.order});return b};ab.prototype.aggregateTransactionQueuesForNode_=function(c,b){var e=this,f=c.getValue();if(null!==f)for(var l=0;l<f.length;l++)b.push(f[l]);
c.forEachChild(function(c){e.aggregateTransactionQueuesForNode_(c,b)})};ab.prototype.pruneCompletedTransactionsBelowNode_=function(c){var b=this,e=c.getValue();if(e){for(var f=0,l=0;l<e.length;l++)e[l].status!==tb.COMPLETED&&(e[f]=e[l],f++);e.length=f;c.setValue(0<e.length?e:null)}c.forEachChild(function(c){b.pruneCompletedTransactionsBelowNode_(c)})};ab.prototype.abortTransactions_=function(c){var b=this,e=this.getAncestorTransactionNode_(c).path();c=this.transactionQueueTree_.subTree(c);c.forEachAncestor(function(c){b.abortTransactionsOnNode_(c)});
this.abortTransactionsOnNode_(c);c.forEachDescendant(function(c){b.abortTransactionsOnNode_(c)});return e};ab.prototype.abortTransactionsOnNode_=function(c){var b=c.getValue();if(null!==b){for(var g=[],f=[],l=-1,k=0;k<b.length;k++)b[k].status!==tb.SENT_NEEDS_ABORT&&(b[k].status===tb.SENT?(e.assert(l===k-1,"All SENT items should be at beginning of queue."),l=k,b[k].status=tb.SENT_NEEDS_ABORT,b[k].abortReason="set"):(e.assert(b[k].status===tb.RUN,"Unexpected transaction status in abort"),b[k].unwatcher(),
f=f.concat(this.serverSyncTree_.ackUserWrite(b[k].currentWriteId,!0)),b[k].onComplete&&g.push(b[k].onComplete.bind(null,Error("set"),!1,null))));-1===l?c.setValue(null):b.length=l+1;this.eventQueue_.raiseEventsForChangedPath(c.path(),f);for(k=0;k<g.length;k++)Na(g[k])}};var zc,id=function(){function c(){this.repos_={};this.useRestClient_=!1}c.getInstance=function(){zc||(zc=new c);return zc};c.prototype.interrupt=function(){for(var b in this.repos_)for(var c in this.repos_[b])this.repos_[b][c].interrupt()};
c.prototype.resume=function(){for(var b in this.repos_)for(var c in this.repos_[b])this.repos_[b][c].resume()};c.prototype.databaseFromApp=function(b,c){c=c||b.options.databaseURL;void 0===c&&E("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");c=Ab(c);var e=c.repoInfo;rb("Invalid Firebase Database URL",1,c);c.path.isEmpty()||E("Database URL must point to the root of a Firebase Database (not including a child path).");return this.createRepo(e,
b).database};c.prototype.deleteRepo=function(b){var c=e.safeGet(this.repos_,b.app.name);c&&e.safeGet(c,b.repoInfo_.toURLString())===b||E("Database "+b.app.name+"("+b.repoInfo_+") has already been deleted.");b.interrupt();delete c[b.repoInfo_.toURLString()]};c.prototype.createRepo=function(b,c){var g=e.safeGet(this.repos_,c.name);g||(g={},this.repos_[c.name]=g);var f=e.safeGet(g,b.toURLString());f&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");
f=new ab(b,this.useRestClient_,c);return g[b.toURLString()]=f};c.prototype.forceRestClient=function(b){this.useRestClient_=b};return c}(),Sb=function(){function c(b){this.repo_=b;b instanceof ab||E("Don't call new Database() directly - please use firebase.database().");this.root_=new vb(b,V.Empty);this.INTERNAL=new zb(this)}Object.defineProperty(c.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0});c.prototype.ref=function(b){this.checkDeleted_("ref");e.validateArgCount("database.ref",
0,1,arguments.length);return b instanceof vb?this.refFromURL(b.toString()):void 0!==b?this.root_.child(b):this.root_};c.prototype.refFromURL=function(b){this.checkDeleted_("database.refFromURL");e.validateArgCount("database.refFromURL",1,1,arguments.length);var c=Ab(b);rb("database.refFromURL",1,c);var f=c.repoInfo;f.host!==this.repo_.repoInfo_.host&&E("database.refFromURL: Host name does not match the current database: (found "+f.host+" but expected "+this.repo_.repoInfo_.host+")");return this.ref(c.path.toString())};
c.prototype.checkDeleted_=function(b){null===this.repo_&&E("Cannot call "+b+" on a deleted database.")};c.prototype.goOffline=function(){e.validateArgCount("database.goOffline",0,0,arguments.length);this.checkDeleted_("goOffline");this.repo_.interrupt()};c.prototype.goOnline=function(){e.validateArgCount("database.goOnline",0,0,arguments.length);this.checkDeleted_("goOnline");this.repo_.resume()};c.ServerValue={TIMESTAMP:{".sv":"timestamp"}};return c}(),zb=function(){function c(b){this.database=b}
c.prototype.delete=function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(b){this.database.checkDeleted_("delete");id.getInstance().deleteRepo(this.database.repo_);this.database.repo_=null;this.database.root_=null;this.database=this.database.INTERNAL=null;return[2]})})};return c}(),Tb=Object.freeze({forceLongPolling:function(){Pa.forceDisallow();ye.forceAllow()},forceWebSockets:function(){ye.forceDisallow()},isWebSocketsAvailable:function(){return Pa.isAvailable()},
setSecurityDebugCallback:function(c,b){c.repo.persistentConnection_.securityDebugCallback_=b},stats:function(c,b){c.repo.stats(b)},statsIncrementCounter:function(c,b){c.repo.statsIncrementCounter(b)},dataUpdateCount:function(c){return c.repo.dataUpdateCount},interceptServerData:function(c,b){return c.repo.interceptServerData_(b)}});$a.prototype.simpleListen=function(c,b){this.sendRequest("q",{p:c},b)};$a.prototype.echo=function(c,b){this.sendRequest("echo",{d:c},b)};var Ic=Object.freeze({DataConnection:$a,
RealTimeConnection:Zd,hijackHash:function(c){var b=$a.prototype.put;$a.prototype.put=function(e,f,l,k){void 0!==k&&(k=c());b.call(this,e,f,l,k)};return function(){$a.prototype.put=b}},ConnectionTarget:Jb,queryIdentifier:function(c){return c.queryIdentifier()},listens:function(c){return c.repo.persistentConnection_.listens_},forceRestClient:function(c){id.getInstance().forceRestClient(c)}}),Jc=Sb.ServerValue;I(Y);f.DataSnapshot=u;f.Database=Sb;f.OnDisconnect=ac;f.Query=cc;f.Reference=vb;f.ServerValue=
Jc;f.enableLogging=ka;f.registerDatabase=I};
shadow$provide[152]=function(n,y,c,r,f,z){(function(){function c(b){return"string"==typeof b}function f(b){return"number"==typeof b}function n(b,c){b=b.split(".");c=c||Ea;for(var e=0;e<b.length;e++)if(c=c[b[e]],null==c)return null;return c}function y(){}function z(b){var c=typeof b;if("object"==c)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return c;var e=Object.prototype.toString.call(b);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof b.length&&
"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==c&&"undefined"==typeof b.call)return"object";return c}function k(b){return"array"==z(b)}function e(b){var c=z(b);return"array"==c||"object"==c&&"number"==typeof b.length}function S(b){var c=typeof b;
return"object"==c&&null!=b||"function"==c}function Z(b,c,e){return b.call.apply(b.bind,arguments)}function za(b,c,e){if(!b)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,g);return b.apply(c,e)}}return function(){return b.apply(c,arguments)}}function fa(b,c,e){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa=Z:fa=za;return fa.apply(null,
arguments)}function O(b,c){var e=Array.prototype.slice.call(arguments,1);return function(){var c=e.slice();c.push.apply(c,arguments);return b.apply(this,c)}}function F(b,c){function e(){}e.prototype=c.prototype;b.N=c.prototype;b.prototype=new e;b.prototype.constructor=b;b.yb=function(b,e,g){for(var w=Array(arguments.length-2),f=2;f<arguments.length;f++)w[f-2]=arguments[f];return c.prototype[e].apply(b,w)}}function W(){0!=Ae&&(Gf[this[Aa]||(this[Aa]=++pe)]=this);this.j=this.j;this.i=this.i}function N(b){a:{for(var e=
Pa,g=b.length,w=c(b)?b.split(""):b,f=0;f<g;f++)if(f in w&&e.call(void 0,w[f],f,b)){e=f;break a}e=-1}return 0>e?null:c(b)?b.charAt(e):b[e]}function K(b){return Array.prototype.concat.apply([],arguments)}function ia(b){var c=b.length;if(0<c){for(var e=Array(c),g=0;g<c;g++)e[g]=b[g];return e}return[]}function ba(b){return/^[\s\xa0]*$/.test(b)}function ha(b,c){return-1!=b.indexOf(c)}function ka(b,c){return b<c?-1:b>c?1:0}function xa(b,c,e){for(var g in b)c.call(e,b[g],g,b)}function Qa(b){var c={},e;for(e in b)c[e]=
b[e];return c}function L(b,c){for(var e,g,w=1;w<arguments.length;w++){g=arguments[w];for(e in g)b[e]=g[e];for(var f=0;f<Cg.length;f++)e=Cg[f],Object.prototype.hasOwnProperty.call(g,e)&&(b[e]=g[e])}}function E(b){E[" "](b);return b}function q(b,c){var e=Hc;return Object.prototype.hasOwnProperty.call(e,b)?e[b]:e[b]=c(b)}function U(){var b=Ea.document;return b?b.documentMode:void 0}function G(b){return q(b,function(){for(var c=0,e=oa(String(rc)).split("."),g=oa(String(b)).split("."),w=Math.max(e.length,
g.length),f=0;0==c&&f<w;f++){var l=e[f]||"",k=g[f]||"";do{l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==l[0].length&&0==k[0].length)break;c=ka(0==l[1].length?0:parseInt(l[1],10),0==k[1].length?0:parseInt(k[1],10))||ka(0==l[2].length,0==k[2].length)||ka(l[2],k[2]);l=l[3];k=k[3]}while(0==c)}return 0<=c})}function X(b,c){this.type=b;this.a=this.target=c;this.Ja=!0}function na(b,e){X.call(this,b?b.type:"");this.relatedTarget=this.a=this.target=null;this.button=
this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.c=null;if(b){var g=this.type=b.type,w=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement;this.a=e;if(e=b.relatedTarget){if(Kf){a:{try{E(e.nodeName);g=!0;break a}catch(ed){}g=!1}g||(e=null)}}else"mouseover"==g?e=b.fromElement:"mouseout"==g&&(e=b.toElement);this.relatedTarget=e;w?(this.clientX=
void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=void 0!==b.clientX?b.clientX:b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0);this.button=b.button;this.key=b.key||"";this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.pointerId=b.pointerId||0;this.pointerType=c(b.pointerType)?b.pointerType:
R[b.pointerType]||"";this.c=b;b.defaultPrevented&&this.b()}}function Ra(b,c,e,g,f){this.listener=b;this.proxy=null;this.src=c;this.type=e;this.capture=!!g;this.da=f;this.key=++mf;this.X=this.Z=!1}function ca(b){b.X=!0;b.listener=null;b.proxy=null;b.src=null;b.da=null}function ta(b){this.src=b;this.a={};this.b=0}function ja(b,c){var e=c.type;if(e in b.a){var g=b.a[e],w=If(g,c),f;(f=0<=w)&&Array.prototype.splice.call(g,w,1);f&&(ca(c),0==b.a[e].length&&(delete b.a[e],b.b--))}}function qa(b,c,e,g){for(var w=
0;w<b.length;++w){var f=b[w];if(!f.X&&f.listener==c&&f.capture==!!e&&f.da==g)return w}return-1}function Oa(b,c,e,g,f){if(g&&g.once)return Ja(b,c,e,g,f);if(k(c)){for(var w=0;w<c.length;w++)Oa(b,c[w],e,g,f);return null}e=Ba(e);return b&&b[Lc]?b.Aa(c,e,S(g)?!!g.capture:!!g,f):La(b,c,e,!1,g,f)}function La(b,c,e,g,f,l){if(!c)throw Error("Invalid event type");var w=S(f)?!!f.capture:!!f;if(w&&!ad)return null;var k=Bb(b);k||(b[$d]=k=new ta(b));e=k.add(c,e,g,w,l);if(e.proxy)return e;g=Na();e.proxy=g;g.src=
b;g.listener=e;if(b.addEventListener)Nd||(f=w),void 0===f&&(f=!1),b.addEventListener(c.toString(),g,f);else if(b.attachEvent)b.attachEvent(Jb(c.toString()),g);else if(b.addListener&&b.removeListener)b.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");ig++;return e}function Na(){var b=Kb,c=ad?function(e){return b.call(c.src,c.listener,e)}:function(e){e=b.call(c.src,c.listener,e);if(!e)return e};return c}function Ja(b,c,e,g,f){if(k(c)){for(var w=0;w<c.length;w++)Ja(b,
c[w],e,g,f);return null}e=Ba(e);return b&&b[Lc]?b.Ba(c,e,S(g)?!!g.capture:!!g,f):La(b,c,e,!0,g,f)}function V(b,c,e,g,f){if(k(c))for(var w=0;w<c.length;w++)V(b,c[w],e,g,f);else(g=S(g)?!!g.capture:!!g,e=Ba(e),b&&b[Lc])?(b=b.c,c=String(c).toString(),c in b.a&&(w=b.a[c],e=qa(w,e,g,f),-1<e&&(ca(w[e]),Array.prototype.splice.call(w,e,1),0==w.length&&(delete b.a[c],b.b--)))):b&&(b=Bb(b))&&(c=b.a[c.toString()],b=-1,c&&(b=qa(c,e,g,f)),(e=-1<b?c[b]:null)&&db(e))}function db(b){if(!f(b)&&b&&!b.X){var c=b.src;
if(c&&c[Lc])ja(c.c,b);else{var e=b.type,g=b.proxy;c.removeEventListener?c.removeEventListener(e,g,b.capture):c.detachEvent?c.detachEvent(Jb(e),g):c.addListener&&c.removeListener&&c.removeListener(g);ig--;(e=Bb(c))?(ja(e,b),0==e.b&&(e.src=null,c[$d]=null)):ca(b)}}}function Jb(b){return b in ee?ee[b]:ee[b]="on"+b}function Ab(b,c){var e=b.listener,g=b.da||b.src;b.Z&&db(b);return e.call(g,c)}function Kb(b,c){return b.X?!0:ad?Ab(b,new na(c,this)):(c=new na(c||n("window.event"),this),Ab(b,c))}function Bb(b){b=
b[$d];return b instanceof ta?b:null}function Ba(b){if("function"==z(b))return b;b[Ye]||(b[Ye]=function(c){return b.handleEvent(c)});return b[Ye]}function wa(){W.call(this);this.c=new ta(this);this.J=this;this.B=null}function Ta(b,c,e,g){c=b.c.a[String(c)];if(!c)return!0;c=c.concat();for(var f=!0,w=0;w<c.length;++w){var l=c[w];if(l&&!l.X&&l.capture==e){var k=l.listener,u=l.da||l.src;l.Z&&ja(b.c,l);f=!1!==k.call(u,g)&&f}}return f&&0!=g.Ja}function la(b,c){this.c=b;this.f=c;this.b=0;this.a=null}function ra(){this.b=
this.a=null}function kb(){var b=kg,c=null;b.a&&(c=b.a,b.a=b.a.next,b.a||(b.b=null),c.next=null);return c}function Lb(){this.next=this.b=this.a=null}function sc(b){Ea.setTimeout(function(){throw b;},0)}function Dd(){var b=Ea.Promise.resolve(void 0);wd=function(){b.then(jc)}}function jc(){for(var b;b=kb();){try{b.a.call(b.b)}catch(md){sc(md)}var c=bd;c.f(b);100>c.b&&(c.b++,b.next=c.a,c.a=b)}Ee=!1}function Nc(b,c){wa.call(this);this.b=b||1;this.a=c||Ea;this.f=fa(this.gb,this);this.g=pc()}function fb(b){b.ba=
!1;b.L&&(b.a.clearTimeout(b.L),b.L=null)}function rb(b,c,e){if("function"==z(b))e&&(b=fa(b,e));else if(b&&"function"==typeof b.handleEvent)b=fa(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:Ea.setTimeout(b,c||0)}function ac(b,c,e){W.call(this);this.f=null!=e?fa(b,e):b;this.c=c;this.b=fa(this.ab,this);this.a=[]}function tc(b){b.U=rb(b.b,b.c);b.f.apply(null,b.a)}function Wa(b){W.call(this);this.b=b;this.a={}}function ma(b,c,e,g){k(e)||(e&&(Pd[0]=e.toString()),
e=Pd);for(var f=0;f<e.length;f++){var w=Oa(c,e[f],g||b.handleEvent,!1,b.b||b);if(!w)break;b.a[w.key]=w}}function Ua(b){xa(b.a,function(b,c){this.a.hasOwnProperty(c)&&db(b)},b);b.a={}}function Mb(){}function kc(b){X.call(this,"serverreachability",b)}function Wb(b){Od.dispatchEvent(new kc(Od,b))}function Ca(b){X.call(this,"statevent",b)}function Ia(b){Od.dispatchEvent(new Ca(Od,b))}function Oc(b){X.call(this,"timingevent",b)}function Pc(b,c){if("function"!=z(b))throw Error("Fn must not be null and must be a function");
return Ea.setTimeout(function(){b()},c)}function gb(){}function Fa(b){var c;(c=b.a)||(c=b.a={});return c}function lb(){}function Db(){X.call(this,"d")}function Xb(){X.call(this,"c")}function bc(){}function Nb(b,c,e){this.g=b;this.W=c;this.V=e||1;this.I=new Wa(this);this.O=Cc;b=jf?125:void 0;this.P=new Nc(b);this.h=null;this.b=!1;this.l=this.D=this.f=this.F=this.v=this.R=this.i=null;this.j=[];this.a=null;this.A=0;this.c=this.w=null;this.o=-1;this.m=!1;this.J=0;this.B=null;this.s=this.S=this.H=!1}function Eb(b,
c,e){b.F=1;b.f=vc(P(c));b.l=e;b.H=!0;Fc(b,null)}function lc(b,c,e,g){b.F=1;b.f=vc(P(c));b.l=null;b.H=e;Fc(b,g)}function Fc(b,c){b.v=pc();uc(b);b.D=P(b.f);Xd(b.D,"t",b.V);b.A=0;b.a=b.g.$(b.g.Y()?c:null);0<b.J&&(b.B=new ac(fa(b.Ka,b,b.a),b.J));ma(b.I,b.a,"readystatechange",b.eb);c=b.h?Qa(b.h):{};b.l?(b.w||(b.w="POST"),c["Content-Type"]="application/x-www-form-urlencoded",b.a.ca(b.D,b.w,b.l,c)):(b.w="GET",b.a.ca(b.D,b.w,null,c));Wb(1)}function Ob(b,c,e){for(var g=!0;!b.m&&b.A<e.length;){var f=mb(b,e);
if(f==Ub){4==c&&(b.c=4,Ia(14),g=!1);break}else if(f==Hb){b.c=4;Ia(15);g=!1;break}else Qc(b,f)}4==c&&0==e.length&&(b.c=1,Ia(16),g=!1);b.b=b.b&&g;g||(Gc(b),od(b))}function mb(b,c){var e=b.A,g=c.indexOf("\n",e);if(-1==g)return Ub;e=Number(c.substring(e,g));if(isNaN(e))return Hb;g+=1;if(g+e>c.length)return Ub;c=c.substr(g,e);b.A=g+e;return c}function uc(b){b.R=pc()+b.O;sa(b,b.O)}function sa(b,c){if(null!=b.i)throw Error("WatchDog timer not null");b.i=Pc(fa(b.bb,b),c)}function hd(b){b.i&&(Ea.clearTimeout(b.i),
b.i=null)}function od(b){b.g.Da()||b.m||b.g.na(b)}function Gc(b){hd(b);var c=b.B;c&&"function"==typeof c.la&&c.la();b.B=null;fb(b.P);Ua(b.I);b.a&&(c=b.a,b.a=null,c.abort(),c.la())}function Qc(b,c){try{b.g.Ga(b,c),Wb(4)}catch(md){}}function Sa(b){if(b.C&&"function"==typeof b.C)return b.C();if(c(b))return b.split("");if(e(b)){for(var g=[],f=b.length,w=0;w<f;w++)g.push(b[w]);return g}g=[];f=0;for(w in b)g[f++]=b[w];return g}function u(b,g){if(b.forEach&&"function"==typeof b.forEach)b.forEach(g,void 0);
else if(e(b)||c(b))qc(b,g,void 0);else{if(b.K&&"function"==typeof b.K)var f=b.K();else if(b.C&&"function"==typeof b.C)f=void 0;else if(e(b)||c(b)){f=[];for(var w=b.length,l=0;l<w;l++)f.push(l)}else for(l in f=[],w=0,b)f[w++]=l;w=Sa(b);l=w.length;for(var k=0;k<l;k++)g.call(void 0,w[k],f&&f[k],b)}}function H(b,c){this.b={};this.a=[];this.c=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var g=0;g<e;g+=2)this.set(arguments[g],arguments[g+1])}else if(b)if(b instanceof
H)for(e=b.K(),g=0;g<e.length;g++)this.set(e[g],b.get(e[g]));else for(g in b)this.set(g,b[g])}function Wd(b){b.b={};b.a.length=0;b.c=0}function mc(b,c){Ya(b.b,c)&&(delete b.b[c],b.c--,b.a.length>2*b.c&&Pb(b))}function Pb(b){if(b.c!=b.a.length){for(var c=0,e=0;c<b.a.length;){var g=b.a[c];Ya(b.b,g)&&(b.a[e++]=g);c++}b.a.length=e}if(b.c!=b.a.length){var f={};for(e=c=0;c<b.a.length;)g=b.a[c],Ya(f,g)||(b.a[e++]=g,f[g]=1),c++;b.a.length=e}}function Ya(b,c){return Object.prototype.hasOwnProperty.call(b,c)}
function cc(b,c){if(b){b=b.split("\x26");for(var e=0;e<b.length;e++){var g=b[e].indexOf("\x3d"),f=null;if(0<=g){var w=b[e].substring(0,g);f=b[e].substring(g+1)}else w=b[e];c(w,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}function D(b,c){this.b=this.j=this.f="";this.i=null;this.g=this.a="";this.h=!1;var e;b instanceof D?(this.h=void 0!==c?c:b.h,dc(this,b.f),this.j=b.j,Rc(this,b.b),ec(this,b.i),this.a=b.a,Qb(this,pd(b.c)),this.g=b.g):b&&(e=String(b).match(Fg))?(this.h=!!c,dc(this,e[1]||"",!0),this.j=
fc(e[2]||""),Rc(this,e[3]||"",!0),ec(this,e[4]),this.a=fc(e[5]||"",!0),Qb(this,e[6]||"",!0),this.g=fc(e[7]||"")):(this.h=!!c,this.c=new wc(null,this.h))}function P(b){return new D(b)}function dc(b,c,e){b.f=e?fc(c,!0):c;b.f&&(b.f=b.f.replace(/:$/,""))}function Rc(b,c,e){b.b=e?fc(c,!0):c}function ec(b,c){if(c){c=Number(c);if(isNaN(c)||0>c)throw Error("Bad port number "+c);b.i=c}else b.i=null}function Qb(b,c,e){c instanceof wc?(b.c=c,we(b.c,b.h)):(e||(c=Va(c,Qd)),b.c=new wc(c,b.h))}function Da(b,c,e){b.c.set(c,
e)}function Xd(b,c,e){k(e)||(e=[String(e)]);cb(b.c,c,e)}function vc(b){Da(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^pc()).toString(36));return b}function $b(b){return b instanceof D?P(b):new D(b,void 0)}function Ma(b,c,e,g){var f=new D(null,void 0);b&&dc(f,b);c&&Rc(f,c);e&&ec(f,e);g&&(f.a=g);return f}function fc(b,c){return b?c?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Va(b,e,g){return c(b)?(b=encodeURI(b).replace(e,
pa),g&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function pa(b){b=b.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)}function wc(b,c){this.b=this.a=null;this.c=b||null;this.f=!!c}function da(b){b.a||(b.a=new H,b.b=0,b.c&&cc(b.c,function(c,e){b.add(decodeURIComponent(c.replace(/\+/g," ")),e)}))}function xb(b,c){da(b);c=ib(b,c);Ya(b.a.b,c)&&(b.c=null,b.b-=b.a.get(c).length,mc(b.a,c))}function Sc(b,c){da(b);c=ib(b,c);return Ya(b.a.b,c)}function cb(b,c,e){xb(b,c);0<e.length&&
(b.c=null,b.a.set(ib(b,c),ia(e)),b.b+=e.length)}function pd(b){var c=new wc;c.c=b.c;b.a&&(c.a=new H(b.a),c.b=b.b);return c}function ib(b,c){c=String(c);b.f&&(c=c.toLowerCase());return c}function we(b,c){c&&!b.f&&(da(b),b.c=null,b.a.forEach(function(b,c){var e=c.toLowerCase();c!=e&&(xb(this,c),cb(this,e,b))},b));b.f=c}function Rb(){this.a=pc()}function nc(){Mc||(Mc=new Rb)}function xe(b){this.a=b;this.b=this.h=null;this.g=!1;this.i=null;this.c=-1;this.l=this.f=null}function ub(b){var c=b.a.F.a;if(null!=
c)Ia(4),c?(Ia(10),l(b.a,b,!1)):(Ia(11),l(b.a,b,!0));else{b.b=new Nb(b,void 0,void 0);b.b.h=b.h;c=b.a;c=oc(c,c.Y()?b.f:null,b.i);Ia(4);Xd(c,"TYPE","xmlhttp");var e=b.a.j,g=b.a.I;e&&g&&Da(c,e,g);lc(b.b,c,!1,b.f)}}function Yd(){this.a=this.b=null}function sb(){this.a=new H}function Fb(b){var c=typeof b;return"object"==c&&b||"function"==c?"o"+(b[Aa]||(b[Aa]=++pe)):c.charAt(0)+b}function xc(b,c){this.b=b;this.a=c}function yb(b){this.g=b||Cb;Ea.PerformanceNavigationTiming?(b=Ea.performance.getEntriesByType("navigation"),
b=0<b.length&&("hq"==b[0].nextHopProtocol||"h2"==b[0].nextHopProtocol)):b=!!(Ea.ka&&Ea.ka.Ea&&Ea.ka.Ea()&&Ea.ka.Ea().zb);this.f=b?this.g:1;this.a=null;1<this.f&&(this.a=new sb);this.b=null;this.c=[]}function gc(b,c){!b.a&&(ha(c,"spdy")||ha(c,"quic")||ha(c,"h2"))&&(b.f=b.g,b.a=new sb,b.b&&(Gb(b,b.b),b.b=null))}function Tc(b){return b.b?!0:b.a?b.a.a.c>=b.f:!1}function Ed(b){return b.b?1:b.a?b.a.a.c:0}function Fd(b,c){b.b?b=b.b==c:b.a?(c=Fb(c),b=Ya(b.a.a.b,c)):b=!1;return b}function Gb(b,c){b.a?b.a.add(c):
b.b=c}function Pe(b,c){if(b.b&&b.b==c)b.b=null;else{var e;if(e=b.a)e=Fb(c),e=Ya(b.a.a.b,e);e&&mc(b.a.a,Fb(c))}}function yc(b){if(null!=b.b)return b.c.concat(b.b.j);if(null!=b.a&&0!=b.a.a.c){var c=b.c;qc(b.a.C(),function(b){c=c.concat(b.j)});return c}return ia(b.c)}function Uc(){}function ne(){this.a=new Uc}function Vc(b,c,e){var g=e||"";try{u(b,function(b,e){var f=b;S(b)&&(f=jg(b));c.push(g+e+"\x3d"+encodeURIComponent(f))})}catch(ed){throw c.push(g+"type\x3d"+encodeURIComponent("_badmap")),ed;}}function Ef(b,
c){var e=new Mb;if(Ea.Image){var g=new Image;g.onload=O(ye,e,g,"TestLoadImage: loaded",!0,c);g.onerror=O(ye,e,g,"TestLoadImage: error",!1,c);g.onabort=O(ye,e,g,"TestLoadImage: abort",!1,c);g.ontimeout=O(ye,e,g,"TestLoadImage: timeout",!1,c);Ea.setTimeout(function(){if(g.ontimeout)g.ontimeout()},1E4);g.src=b}else c(!1)}function ye(b,c,e,g,f){try{c.onload=null,c.onerror=null,c.onabort=null,c.ontimeout=null,f(g)}catch(Ad){}}function Za(b){wa.call(this);this.headers=new H;this.H=b||null;this.b=!1;this.s=
this.a=null;this.A="";this.h=0;this.f="";this.g=this.w=this.l=this.v=!1;this.o=0;this.m=null;this.I=Bd;this.D=this.F=!1}function Wc(b){return de&&G(9)&&f(b.timeout)&&void 0!==b.ontimeout}function Pa(b){return"content-type"==b.toLowerCase()}function Xc(b,c){b.b=!1;b.a&&(b.g=!0,b.a.abort(),b.g=!1);b.f=c;b.h=5;Zd(b);$a(b)}function Zd(b){b.v||(b.v=!0,b.dispatchEvent("complete"),b.dispatchEvent("error"))}function Gd(b){if(b.b&&"undefined"!=typeof be&&(!b.s[1]||4!=ab(b)||2!=b.T()))if(b.l&&4==ab(b))rb(b.Fa,
0,b);else if(b.dispatchEvent("readystatechange"),4==ab(b)){b.b=!1;try{var c=b.T();a:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break a;default:e=!1}var g;if(!(g=e)){var f;if(f=0===c){var l=String(b.A).match(Fg)[1]||null;if(!l&&Ea.self&&Ea.self.location){var k=Ea.self.location.protocol;l=k.substr(0,k.length-1)}f=!fe.test(l?l.toLowerCase():"")}g=f}g?(b.dispatchEvent("complete"),b.dispatchEvent("success")):(b.h=6,b.f=b.za()+" ["+b.T()+"]",Zd(b))}finally{$a(b)}}}
function $a(b,c){if(b.a){Re(b);var e=b.a,g=b.s[0]?y:null;b.a=null;b.s=null;c||b.dispatchEvent("ready");try{e.onreadystatechange=g}catch(ed){}}}function Re(b){b.a&&b.D&&(b.a.ontimeout=null);b.m&&(Ea.clearTimeout(b.m),b.m=null)}function ab(b){return b.a?b.a.readyState:0}function Hd(b,c){return b.a?b.a.getResponseHeader(c):null}function Qe(b){var c="";xa(b,function(b,e){c+=e;c+=":";c+=b;c+="\r\n"});return c}function Ka(b,e,g){a:{for(f in g){var f=!1;break a}f=!0}if(f)return b;g=Qe(g);if(c(b)){e=encodeURIComponent(String(e));
g=null!=g?"\x3d"+encodeURIComponent(String(g)):"";if(e+=g){g=b.indexOf("#");0>g&&(g=b.length);f=b.indexOf("?");if(0>f||f>g){f=g;var l=""}else l=b.substring(f+1,g);b=[b.substr(0,f),l,b.substr(g)];g=b[1];b[1]=e?g?g+"\x26"+e:e:g;b=b[0]+(b[1]?"?"+b[1]:"")+b[2]}return b}Da(b,e,g);return b}function vb(b){this.f=[];this.F=new Yd;this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null;this.Ra=this.P=0;this.Pa=!!n("internalChannelParams.failFast",b);this.ia=this.w=this.s=this.l=
this.h=this.c=null;this.oa=!0;this.m=this.ra=this.O=-1;this.S=this.v=this.A=0;this.Oa=n("internalChannelParams.baseRetryDelayMs",b)||5E3;this.Sa=n("internalChannelParams.retryDelaySeedMs",b)||1E4;this.Qa=n("internalChannelParams.forwardChannelMaxRetries",b)||2;this.qa=n("internalChannelParams.forwardChannelRequestTimeoutMs",b)||2E4;this.La=b&&b.Ab||void 0;this.D=void 0;this.R=b&&b.supportsCrossDomainXhr||!1;this.H="";this.b=new yb(b&&b.concurrentRequestLimit);this.ja=new ne;this.o=b&&void 0!==b.backgroundChannelTest?
b.backgroundChannelTest:!0;(this.W=b&&b.fastHandshake||!1)&&!this.o&&(this.o=!0);b&&b.forceLongPolling&&(this.oa=!1);this.fa=void 0}function rd(b){nb(b);if(3==b.u){var c=b.P++,e=P(b.B);Da(e,"SID",b.H);Da(e,"RID",c);Da(e,"TYPE","terminate");zb(b,e);c=new Nb(b,c,void 0);c.F=2;c.f=vc(P(e));e=!1;Ea.navigator&&Ea.navigator.sendBeacon&&(e=Ea.navigator.sendBeacon(c.f.toString(),""));!e&&Ea.Image&&((new Image).src=c.f,e=!0);e||(c.a=c.g.$(null),c.a.ca(c.f));c.v=pc();uc(c)}Q(b)}function nb(c){c.w&&(c.w.abort(),
c.w=null);c.a&&(c.a.cancel(),c.a=null);c.l&&(Ea.clearTimeout(c.l),c.l=null);b(c);c.b.cancel();c.h&&(f(c.h)&&Ea.clearTimeout(c.h),c.h=null)}function tb(b,c){b.f.push(new xc(b.Ra++,c));3==b.u&&zc(b)}function zc(b){if(!Tc(b.b)&&!b.h){b.h=!0;var c=b.Ia;wd||Dd();Ee||(wd(),Ee=!0);kg.add(c,b);b.A=0}}function id(b,c){if(Ed(b.b)>=b.b.f-(b.h?1:0))return!1;if(b.h)return b.f=c.j.concat(b.f),!0;if(1==b.u||2==b.u||b.A>=(b.Pa?0:b.Qa))return!1;b.h=Pc(fa(b.Ia,b,c),g(b,b.A));b.A++;return!0}function Sb(b,c){var e;c?
e=c.W:e=b.P++;var g=P(b.B);Da(g,"SID",b.H);Da(g,"RID",e);Da(g,"AID",b.O);zb(b,g);b.g&&b.i&&Ka(g,b.g,b.i);e=new Nb(b,e,b.A+1);null===b.g&&(e.h=b.i);c&&(b.f=c.j.concat(b.f));c=Tb(b,e,1E3);e.setTimeout(Math.round(.5*b.qa)+Math.round(.5*b.qa*Math.random()));Gb(b.b,e);Eb(e,g,c)}function zb(b,c){b.c&&u({},function(b,e){Da(c,e,b)})}function Tb(b,c,e){e=Math.min(b.f.length,e);var g=b.c?fa(b.c.Ta,b.c,b):null,f=b.f,l=-1;a:for(;;){var k=["count\x3d"+e];-1==l?0<e?(l=f[0].b,k.push("ofs\x3d"+l)):l=0:k.push("ofs\x3d"+
l);for(var w=!0,u=0;u<e;u++){var H=f[u].b,q=f[u].a;H-=l;if(0>H)l=Math.max(0,f[u].b-100),w=!1;else try{Vc(q,k,"req"+H+"_")}catch(zd){g&&g(q)}}if(w){g=k.join("\x26");break a}}b=b.f.splice(0,e);c.j=b;return g}function Ic(b){if(!b.a&&!b.l){b.S=1;var c=b.Ha;wd||Dd();Ee||(wd(),Ee=!0);kg.add(c,b);b.v=0}}function Jc(b){if(b.a||b.l||3<=b.v)return!1;b.S++;b.l=Pc(fa(b.Ha,b),g(b,b.v));b.v++;return!0}function l(b,c,e){var g=c.l;g&&gc(b.b,g);b.ia=b.oa&&e;b.m=c.c;b.B=oc(b,null,b.ha);zc(b)}function b(b){null!=b.s&&
(Ea.clearTimeout(b.s),b.s=null)}function g(b,c){var e=b.Oa+Math.floor(Math.random()*b.Sa);b.ma()||(e*=2);return e*c}function t(b,c){if(2==c){var e=null;b.c&&(e=null);var g=fa(b.fb,b);e||(e=new D("//www.google.com/images/cleardot.gif"),Ea.location&&"http"==Ea.location.protocol||dc(e,"https"),vc(e));Ef(e.toString(),g)}else Ia(2);b.u=0;b.c&&b.c.ta(c);Q(b);nb(b)}function Q(b){b.u=0;b.m=-1;if(b.c){if(0!=yc(b.b).length||0!=b.f.length)b.b.c.length=0,ia(b.f),b.f.length=0;b.c.sa()}}function oc(b,c,e){var g=
$b(e);if(""!=g.b)c&&Rc(g,c+"."+g.b),ec(g,g.i);else{var f=Ea.location,l;c?l=c+"."+f.hostname:l=f.hostname;g=Ma(f.protocol,l,+f.port,e)}b.V&&xa(b.V,function(b,c){Da(g,c,b)});c=b.j;e=b.I;c&&e&&Da(g,c,e);Da(g,"VER",b.wa);zb(b,g);return g}function ud(){}function jd(b){for(var c=arguments[0],e=1;e<arguments.length;e++){var g=arguments[e];if(0==g.lastIndexOf("/",0))c=g;else{var f;(f=""==c)||(f=c.length-1,f=0<=f&&c.indexOf("/",f)==f);f?c+=g:c+="/"+g}}return c}function Ga(){if(de&&!(10<=Number(lf)))throw Error("Environmental error: no available transport.");
}function ob(b,c){wa.call(this);this.a=new vb(c);this.g=b;this.m=c&&c.testUrl?c.testUrl:jd(this.g,"test");this.b=c&&c.messageUrlParams||null;b=c&&c.messageHeaders||null;c&&c.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"});this.a.i=b;b=c&&c.initMessageHeaders||null;c&&c.messageContentType&&(b?b["X-WebChannel-Content-Type"]=c.messageContentType:b={"X-WebChannel-Content-Type":c.messageContentType});c&&c.xa&&(b?b["X-WebChannel-Client-Profile"]=
c.xa:b={"X-WebChannel-Client-Profile":c.xa});this.a.J=b;(b=c&&c.httpHeadersOverwriteParam)&&!ba(b)&&(this.a.g=b);this.l=c&&c.supportsCrossDomainXhr||!1;this.h=c&&c.sendRawJson||!1;(c=c&&c.httpSessionIdParam)&&!ba(c)&&(this.a.j=c,b=this.b,null!==b&&c in b&&(b=this.b,c in b&&delete b[c]));this.f=new oe(this)}function kd(b){Db.call(this);var c=b.__sm__;if(c){a:{for(var e in c){b=e;break a}b=void 0}(this.c=b)?(b=this.c,this.data=null!==c&&b in c?c[b]:void 0):this.data=c}else this.data=b}function Kd(){Xb.call(this);
this.status=1}function oe(b){this.a=b}var be=be||{},Ea=this,Aa="closure_uid_"+(1E9*Math.random()>>>0),pe=0,pc=Date.now||function(){return+new Date},Ae=0,Gf={};W.prototype.j=!1;W.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0!=Ae)){var b=this[Aa]||(this[Aa]=++pe);if(0!=Ae&&this.i&&0<this.i.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gf[b]}};W.prototype.G=
function(){if(this.i)for(;this.i.length;)this.i.shift()()};var If=Array.prototype.indexOf?function(b,c){return Array.prototype.indexOf.call(b,c,void 0)}:function(b,e){if(c(b))return c(e)&&1==e.length?b.indexOf(e,0):-1;for(var g=0;g<b.length;g++)if(g in b&&b[g]===e)return g;return-1},qc=Array.prototype.forEach?function(b,c,e){Array.prototype.forEach.call(b,c,e)}:function(b,e,g){for(var f=b.length,l=c(b)?b.split(""):b,k=0;k<f;k++)k in l&&e.call(g,l[k],k,b)},oa=String.prototype.trim?function(b){return b.trim()}:
function(b){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(b)[1]};a:{var bb=Ea.navigator;if(bb){var $c=bb.userAgent;if($c){var Ac=$c;break a}}Ac=""}var Cg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");E[" "]=y;var Jf=ha(Ac,"Opera"),de=ha(Ac,"Trident")||ha(Ac,"MSIE"),J=ha(Ac,"Edge"),jf=J||de,Kf=ha(Ac,"Gecko")&&!(ha(Ac.toLowerCase(),"webkit")&&!ha(Ac,"Edge"))&&!(ha(Ac,"Trident")||ha(Ac,"MSIE"))&&!ha(Ac,"Edge"),Md=ha(Ac.toLowerCase(),"webkit")&&
!ha(Ac,"Edge");a:{var Dg="",gg=function(){var b=Ac;if(Kf)return/rv:([^\);]+)(\)|;)/.exec(b);if(J)return/Edge\/([\d\.]+)/.exec(b);if(de)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(b);if(Md)return/WebKit\/(\S+)/.exec(b);if(Jf)return/(?:Version)[ \/]?(\S+)/.exec(b)}();gg&&(Dg=gg?gg[1]:"");if(de){var Lf=U();if(null!=Lf&&Lf>parseFloat(Dg)){var rc=String(Lf);break a}}rc=Dg}var Hc={},Bc=Ea.document;var lf=Bc&&de?U()||("CSS1Compat"==Bc.compatMode?parseInt(rc,10):5):void 0;var ad=!de||9<=Number(lf),De=de&&
!G("9"),Nd=function(){if(!Ea.addEventListener||!Object.defineProperty)return!1;var b=!1,c=Object.defineProperty({},"passive",{get:function(){b=!0}});try{Ea.addEventListener("test",y,c),Ea.removeEventListener("test",y,c)}catch(md){}return b}();X.prototype.b=function(){this.Ja=!1};F(na,X);var R={2:"touch",3:"pen",4:"mouse"};na.prototype.b=function(){na.N.b.call(this);var b=this.c;if(b.preventDefault)b.preventDefault();else if(b.returnValue=!1,De)try{if(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)b.keyCode=
-1}catch(Ha){}};var Lc="closure_listenable_"+(1E6*Math.random()|0),mf=0;ta.prototype.add=function(b,c,e,g,f){var l=b.toString();(b=this.a[l])||(b=this.a[l]=[],this.b++);var k=qa(b,c,g,f);-1<k?(c=b[k],e||(c.Z=!1)):(c=new Ra(c,this.src,l,!!g,f),c.Z=e,b.push(c));return c};var $d="closure_lm_"+(1E6*Math.random()|0),ee={},ig=0,Ye="__closure_events_fn_"+(1E9*Math.random()>>>0);F(wa,W);wa.prototype[Lc]=!0;var aa=wa.prototype;aa.addEventListener=function(b,c,e,g){Oa(this,b,c,e,g)};aa.removeEventListener=
function(b,c,e,g){V(this,b,c,e,g)};aa.dispatchEvent=function(b){var e,g=this.B;if(g)for(e=[];g;g=g.B)e.push(g);g=this.J;var f=b.type||b;if(c(b))b=new X(b,g);else if(b instanceof X)b.target=b.target||g;else{var l=b;b=new X(f,g);L(b,l)}l=!0;if(e)for(var k=e.length-1;0<=k;k--){var u=b.a=e[k];l=Ta(u,f,!0,b)&&l}u=b.a=g;l=Ta(u,f,!0,b)&&l;l=Ta(u,f,!1,b)&&l;if(e)for(k=0;k<e.length;k++)u=b.a=e[k],l=Ta(u,f,!1,b)&&l;return l};aa.G=function(){wa.N.G.call(this);if(this.c){var b=this.c,c=0,e;for(e in b.a){for(var g=
b.a[e],f=0;f<g.length;f++)++c,ca(g[f]);delete b.a[e];b.b--}}this.B=null};aa.Aa=function(b,c,e,g){return this.c.add(String(b),c,!1,e,g)};aa.Ba=function(b,c,e,g){return this.c.add(String(b),c,!0,e,g)};var jg=Ea.JSON.stringify;la.prototype.get=function(){if(0<this.b){this.b--;var b=this.a;this.a=b.next;b.next=null}else b=this.c();return b};var bd=new la(function(){return new Lb},function(b){b.reset()});ra.prototype.add=function(b,c){var e=bd.get();e.set(b,c);this.b?this.b.next=e:this.a=e;this.b=e};Lb.prototype.set=
function(b,c){this.a=b;this.b=c;this.next=null};Lb.prototype.reset=function(){this.next=this.b=this.a=null};var wd,Ee=!1,kg=new ra;F(Nc,wa);aa=Nc.prototype;aa.ba=!1;aa.L=null;aa.gb=function(){if(this.ba){var b=pc()-this.g;0<b&&b<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-b):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(fb(this),this.start()))}};aa.start=function(){this.ba=!0;this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=pc())};aa.G=function(){Nc.N.G.call(this);
fb(this);delete this.a};F(ac,W);aa=ac.prototype;aa.ea=!1;aa.U=null;aa.Ua=function(b){this.a=arguments;this.U?this.ea=!0:tc(this)};aa.G=function(){ac.N.G.call(this);this.U&&(Ea.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])};aa.ab=function(){this.U=null;this.ea&&(this.ea=!1,tc(this))};F(Wa,W);var Pd=[];Wa.prototype.G=function(){Wa.N.G.call(this);Ua(this)};Wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var Od=new wa;F(kc,X);F(Ca,X);F(Oc,X);var Fe=
{NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},ge={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};gb.prototype.a=null;var Ze={OPEN:"a",ib:"b",Na:"c",rb:"d"};F(Db,X);F(Xb,X);F(bc,gb);var pb=new bc;var Cc=45E3,Hb={},Ub={};aa=Nb.prototype;aa.setTimeout=function(b){this.O=b};aa.eb=function(b){b=b.target;var c=this.B;c&&3==ab(b)?c.Ua():this.Ka(b)};aa.Ka=function(b){try{if(b==
this.a)a:{var c=ab(this.a),e=this.a.ya(),g=this.a.T();if(!(3>c||3==c&&!jf&&!this.a.aa())){this.m||4!=c||7==e||(8==e||0>=g?Wb(3):Wb(2));hd(this);var f=this.a.T();this.o=f;var l=this.a.aa();if(this.b=200==f){if(this.S&&!this.s){b:{if(this.a){var k=Hd(this.a,"X-HTTP-Initial-Response");if(k&&!ba(k)){var u=k;break b}}u=null}if(u)this.s=!0,Qc(this,u);else{this.b=!1;this.c=3;Ia(12);Gc(this);od(this);break a}}this.H?(Ob(this,c,l),jf&&this.b&&3==c&&(ma(this.I,this.P,"tick",this.cb),this.P.start())):Qc(this,
l);4==c&&Gc(this);this.b&&!this.m&&(4==c?this.g.na(this):(this.b=!1,uc(this)))}else 400==f&&0<l.indexOf("Unknown SID")?(this.c=3,Ia(12)):(this.c=0,Ia(13)),Gc(this),od(this)}}}catch(jb){}finally{}};aa.cb=function(){if(this.a){var b=ab(this.a),c=this.a.aa();this.A<c.length&&(hd(this),Ob(this,b,c),this.b&&4!=b&&uc(this))}};aa.cancel=function(){this.m=!0;Gc(this)};aa.bb=function(){this.i=null;var b=pc();0<=b-this.R?(2!=this.F&&(Wb(3),Ia(17)),Gc(this),this.c=2,od(this)):sa(this,this.R-b)};aa=H.prototype;
aa.C=function(){Pb(this);for(var b=[],c=0;c<this.a.length;c++)b.push(this.b[this.a[c]]);return b};aa.K=function(){Pb(this);return this.a.concat()};aa.get=function(b,c){return Ya(this.b,b)?this.b[b]:c};aa.set=function(b,c){Ya(this.b,b)||(this.c++,this.a.push(b));this.b[b]=c};aa.forEach=function(b,c){for(var e=this.K(),g=0;g<e.length;g++){var f=e[g],l=this.get(f);b.call(c,l,f,this)}};var Fg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;
D.prototype.toString=function(){var b=[],c=this.f;c&&b.push(Va(c,Ge,!0),":");var e=this.b;if(e||"file"==c)b.push("//"),(c=this.j)&&b.push(Va(c,Ge,!0),"@"),b.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e=this.i,null!=e&&b.push(":",String(e));if(e=this.a)this.b&&"/"!=e.charAt(0)&&b.push("/"),b.push(Va(e,"/"==e.charAt(0)?dd:Kc,!0));(e=this.c.toString())&&b.push("?",e);(e=this.g)&&b.push("#",Va(e,Vb));return b.join("")};D.prototype.resolve=function(b){var c=P(this),e=!!b.f;
e?dc(c,b.f):e=!!b.j;e?c.j=b.j:e=!!b.b;e?Rc(c,b.b):e=null!=b.i;var g=b.a;if(e)ec(c,b.i);else if(e=!!b.a){if("/"!=g.charAt(0))if(this.b&&!this.a)g="/"+g;else{var f=c.a.lastIndexOf("/");-1!=f&&(g=c.a.substr(0,f+1)+g)}f=g;if(".."==f||"."==f)g="";else if(ha(f,"./")||ha(f,"/.")){g=0==f.lastIndexOf("/",0);f=f.split("/");for(var l=[],k=0;k<f.length;){var u=f[k++];"."==u?g&&k==f.length&&l.push(""):".."==u?((1<l.length||1==l.length&&""!=l[0])&&l.pop(),g&&k==f.length&&l.push("")):(l.push(u),g=!0)}g=l.join("/")}else g=
f}e?c.a=g:e=""!==b.c.toString();e?Qb(c,pd(b.c)):e=!!b.g;e&&(c.g=b.g);return c};var Ge=/[#\/\?@]/g,Kc=/[#\?:]/g,dd=/[#\?]/g,Qd=/[#\?@]/g,Vb=/#/g;aa=wc.prototype;aa.add=function(b,c){da(this);this.c=null;b=ib(this,b);var e=this.a.get(b);e||this.a.set(b,e=[]);e.push(c);this.b+=1;return this};aa.forEach=function(b,c){da(this);this.a.forEach(function(e,g){qc(e,function(e){b.call(c,e,g,this)},this)},this)};aa.K=function(){da(this);for(var b=this.a.C(),c=this.a.K(),e=[],g=0;g<c.length;g++)for(var f=b[g],
l=0;l<f.length;l++)e.push(c[g]);return e};aa.C=function(b){da(this);var e=[];if(c(b))Sc(this,b)&&(e=K(e,this.a.get(ib(this,b))));else{b=this.a.C();for(var g=0;g<b.length;g++)e=K(e,b[g])}return e};aa.set=function(b,c){da(this);this.c=null;b=ib(this,b);Sc(this,b)&&(this.b-=this.a.get(b).length);this.a.set(b,[c]);this.b+=1;return this};aa.get=function(b,c){if(!b)return c;b=this.C(b);return 0<b.length?String(b[0]):c};aa.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var b=[],c=this.a.K(),
e=0;e<c.length;e++){var g=c[e],f=encodeURIComponent(String(g));g=this.C(g);for(var l=0;l<g.length;l++){var k=f;""!==g[l]&&(k+="\x3d"+encodeURIComponent(String(g[l])));b.push(k)}}return this.c=b.join("\x26")};var Mc=null;Rb.prototype.set=function(b){this.a=b};Rb.prototype.reset=function(){this.set(pc())};Rb.prototype.get=function(){return this.a};F(nc,function(){Mc||(Mc=new Rb)});aa=xe.prototype;aa.M=null;aa.$=function(b){return this.a.$(b)};aa.abort=function(){this.b&&(this.b.cancel(),this.b=null);
this.c=-1};aa.Da=function(){return!1};aa.Ga=function(b,c){this.c=b.o;if(0==this.M){if(!this.a.o&&(b=b.a)){var e=Hd(b,"X-Client-Wire-Protocol");this.l=e?e:null;this.a.j&&(b=Hd(b,"X-HTTP-Session-Id"))&&(this.a.I=b)}if(c){try{var g=this.a.ja.a.parse(c)}catch(ed){c=this.a;c.m=this.c;t(c,2);return}this.f=g[0]}else c=this.a,c.m=this.c,t(c,2)}else if(1==this.M)if(this.g)Ia(6);else if("11111"==c){if(Ia(5),this.g=!0,!de||10<=Number(lf))this.c=200,this.b.cancel(),Ia(11),l(this.a,this,!0)}else Ia(7),this.g=
!1};aa.na=function(){this.c=this.b.o;if(this.b.b)0==this.M?(this.M=1,ub(this)):1==this.M&&(this.g?(Ia(11),l(this.a,this,!0)):(Ia(10),l(this.a,this,!1)));else{0==this.M?Ia(8):1==this.M&&Ia(9);var b=this.a;b.m=this.c;t(b,2)}};aa.Y=function(){return this.a.Y()};aa.ma=function(){return this.a.ma()};sb.prototype.add=function(b){this.a.set(Fb(b),b)};sb.prototype.C=function(){return this.a.C()};var Cb=10;yb.prototype.cancel=function(){this.c=yc(this);this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&
(qc(this.a.C(),function(b){b.cancel()}),Wd(this.a.a))};Uc.prototype.stringify=function(b){return Ea.JSON.stringify(b,void 0)};Uc.prototype.parse=function(b){return Ea.JSON.parse(b,void 0)};var vd=Ea.JSON.parse;F(Za,wa);var Bd="",fe=/^https?$/i,lh=["POST","PUT"];aa=Za.prototype;aa.ca=function(b,c,e,g){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.A+"; newUri\x3d"+b);c=c?c.toUpperCase():"GET";this.A=b;this.f="";this.h=0;this.v=!1;this.b=!0;this.a=new XMLHttpRequest;
this.s=this.H?Fa(this.H):Fa(pb);this.a.onreadystatechange=fa(this.Fa,this);try{this.w=!0,this.a.open(c,String(b),!0),this.w=!1}catch(Ad){Xc(this,Ad);return}b=e||"";var f=new H(this.headers);g&&u(g,function(b,c){f.set(c,b)});g=N(f.K());e=Ea.FormData&&b instanceof Ea.FormData;!(0<=If(lh,c))||g||e||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(b,c){this.a.setRequestHeader(c,b)},this);this.I&&(this.a.responseType=this.I);"withCredentials"in this.a&&this.a.withCredentials!==
this.F&&(this.a.withCredentials=this.F);try{Re(this),0<this.o&&((this.D=Wc(this.a))?(this.a.timeout=this.o,this.a.ontimeout=fa(this.Ca,this)):this.m=rb(this.Ca,this.o,this)),this.l=!0,this.a.send(b),this.l=!1}catch(Ad){Xc(this,Ad)}};aa.Ca=function(){"undefined"!=typeof be&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))};aa.abort=function(b){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=b||7,this.dispatchEvent("complete"),
this.dispatchEvent("abort"),$a(this))};aa.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),$a(this,!0));Za.N.G.call(this)};aa.Fa=function(){this.j||(this.w||this.l||this.g?Gd(this):this.$a())};aa.$a=function(){Gd(this)};aa.T=function(){try{return 2<ab(this)?this.a.status:-1}catch(w){return-1}};aa.za=function(){try{return 2<ab(this)?this.a.statusText:""}catch(w){return""}};aa.aa=function(){try{return this.a?this.a.responseText:""}catch(w){return""}};aa.Va=function(b){if(this.a){var c=
this.a.responseText;b&&0==c.indexOf(b)&&(c=c.substring(b.length));return vd(c)}};aa.ya=function(){return this.h};aa.Ya=function(){return c(this.f)?this.f:String(this.f)};aa=vb.prototype;aa.wa=8;aa.u=1;aa.Da=function(){return 0==this.u};aa.Ia=function(b){if(this.h)if(this.h=null,1==this.u){if(!b){this.P=Math.floor(1E5*Math.random());b=this.P++;var e=new Nb(this,b,void 0),g=this.i;this.J&&(g?(g=Qa(g),L(g,this.J)):g=this.J);null===this.g&&(e.h=g);var f;if(this.W)a:{for(var l=f=0;l<this.f.length;l++){var k=
this.f[l];k="__data__"in k.a&&(k=k.a.__data__,c(k))?k.length:void 0;if(void 0===k)break;f+=k;if(4096<f){f=l;break a}if(4096===f||l===this.f.length-1){f=l+1;break a}}f=1E3}else f=1E3;f=Tb(this,e,f);l=P(this.B);Da(l,"RID",b);Da(l,"CVER",22);this.o&&this.j&&Da(l,"X-HTTP-Session-Id",this.j);zb(this,l);this.g&&g&&Ka(l,this.g,g);Gb(this.b,e);this.W?(Da(l,"$req",f),Da(l,"SID","null"),e.S=!0,Eb(e,l,null)):Eb(e,l,f);this.u=2}}else 3==this.u&&(b?Sb(this,b):0==this.f.length||Tc(this.b)||Sb(this))};aa.Ha=function(){this.l=
null;this.a=new Nb(this,"rpc",this.S);null===this.g&&(this.a.h=this.i);this.a.J=0;var b=P(this.pa);Da(b,"RID","rpc");Da(b,"SID",this.H);Da(b,"CI",this.ia?"0":"1");Da(b,"AID",this.O);zb(this,b);Da(b,"TYPE","xmlhttp");this.g&&this.i&&Ka(b,this.g,this.i);this.D&&this.a.setTimeout(this.D);lc(this.a,b,!0,this.ga)};aa.Ga=function(c,e){if(0!=this.u&&(this.a==c||Fd(this.b,c)))if(this.m=c.o,!c.s&&Fd(this.b,c)&&3==this.u){try{var g=this.ja.a.parse(e)}catch(Ad){g=null}if(k(g)&&3==g.length){e=g;if(0==e[0])a:{if(!this.l){if(this.a)if(this.a.v+
3E3<c.v)b(this),this.a.cancel(),this.a=null;else break a;Jc(this);Ia(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=Pc(fa(this.Za,this),6E3));if(1>=Ed(this.b)&&this.fa){try{this.fa()}catch(Ad){}this.fa=void 0}}else t(this,11)}else if((c.s||this.a==c)&&b(this),!ba(e))for(e=this.ja.a.parse(e),g=0;g<e.length;g++){var l=e[g];this.O=l[0];l=l[1];if(2==this.u)if("c"==l[0]){this.H=l[1];this.ga=l[2];var u=l[3];null!=u&&(this.wa=u);l=l[5];null!=l&&f(l)&&0<l&&(this.D=
1.5*l);this.o&&(l=c.a)&&((u=Hd(l,"X-Client-Wire-Protocol"))&&gc(this.b,u),this.j&&(l=Hd(l,"X-HTTP-Session-Id")))&&(this.I=l,Da(this.B,this.j,l));this.u=3;this.c&&this.c.va();l=c;this.pa=oc(this,this.Y()?this.ga:null,this.ha);l.s?(Pe(this.b,l),(u=this.D)&&l.setTimeout(u),l.i&&(hd(l),uc(l)),this.a=l):Ic(this);0<this.f.length&&zc(this)}else"stop"!=l[0]&&"close"!=l[0]||t(this,7);else 3==this.u&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?t(this,7):rd(this):"noop"!=l[0]&&this.c&&this.c.ua(l),this.v=0)}};
aa.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Jc(this),Ia(19))};aa.na=function(c){var e=null;if(this.a==c){b(this);this.a=null;var g=2}else if(Fd(this.b,c))e=c.j,Pe(this.b,c),g=1;else return;this.m=c.o;if(0!=this.u)if(c.b)1==g?(e=pc()-c.v,Od.dispatchEvent(new Oc(Od,c.l?c.l.length:0,e,this.A)),zc(this)):Ic(this);else{var f=c.c;if(3==f||0==f&&0<this.m||!(1==g&&id(this,c)||2==g&&Jc(this)))switch(e&&0<e.length&&(c=this.b,c.c=c.c.concat(e)),f){case 1:t(this,5);break;case 4:t(this,
10);break;case 3:t(this,6);break;default:t(this,2)}}};aa.fb=function(b){b?Ia(2):Ia(1)};aa.$=function(b){if(b&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");b=new Za(this.La);b.F=this.R;return b};aa.ma=function(){return!!this.c&&!0};aa.Y=function(){return this.R};new nc;aa=ud.prototype;aa.va=function(){};aa.ua=function(){};aa.ta=function(){};aa.sa=function(){};aa.Ta=function(){};Ga.prototype.a=function(b,c){return new ob(b,c)};F(ob,wa);aa=ob.prototype;aa.addEventListener=
function(b,c,e,g){ob.N.addEventListener.call(this,b,c,e,g)};aa.removeEventListener=function(b,c,e,g){ob.N.removeEventListener.call(this,b,c,e,g)};aa.Wa=function(){this.a.c=this.f;this.l&&(this.a.R=!0);var b=this.a,c=this.m,e=this.g,g=this.b||void 0;Ia(0);b.ha=e;b.V=g||{};b.o&&(b.F.b=[],b.F.a=!1);b.w=new xe(b);null===b.g&&(b.w.h=b.i);e=c;b.g&&b.i&&(e=Ka(c,b.g,b.i));b=b.w;b.i=e;c=oc(b.a,null,b.i);Ia(3);e=b.a.F.b;null!=e?(b.f=e[0],b.M=1,ub(b)):(Xd(c,"MODE","init"),!b.a.o&&b.a.j&&Xd(c,"X-HTTP-Session-Id",
b.a.j),b.b=new Nb(b,void 0,void 0),b.b.h=b.h,lc(b.b,c,!1,null),b.M=0)};aa.close=function(){rd(this.a)};aa.Xa=function(b){if(c(b)){var e={};e.__data__=b;tb(this.a,e)}else this.h?(e={},e.__data__=jg(b),tb(this.a,e)):tb(this.a,b)};aa.G=function(){this.a.c=null;delete this.f;rd(this.a);delete this.a;ob.N.G.call(this)};F(kd,Db);F(Kd,Xb);F(oe,ud);oe.prototype.va=function(){this.a.dispatchEvent("a")};oe.prototype.ua=function(b){this.a.dispatchEvent(new kd(b))};oe.prototype.ta=function(b){this.a.dispatchEvent(new Kd(b))};
oe.prototype.sa=function(){this.a.dispatchEvent("b")};var Ld=O(function(b,c){function e(){}e.prototype=b.prototype;var g=new e;b.apply(g,Array.prototype.slice.call(arguments,1));return g},Ga);Ga.prototype.createWebChannel=Ga.prototype.a;ob.prototype.send=ob.prototype.Xa;ob.prototype.open=ob.prototype.Wa;ob.prototype.close=ob.prototype.close;Fe.NO_ERROR=0;Fe.TIMEOUT=8;Fe.HTTP_ERROR=6;ge.COMPLETE="complete";lb.EventType=Ze;Ze.OPEN="a";Ze.CLOSE="b";Ze.ERROR="c";Ze.MESSAGE="d";wa.prototype.listen=wa.prototype.Aa;
Za.prototype.listenOnce=Za.prototype.Ba;Za.prototype.getLastError=Za.prototype.Ya;Za.prototype.getLastErrorCode=Za.prototype.ya;Za.prototype.getStatus=Za.prototype.T;Za.prototype.getStatusText=Za.prototype.za;Za.prototype.getResponseJson=Za.prototype.Va;Za.prototype.getResponseText=Za.prototype.aa;Za.prototype.send=Za.prototype.ca;r.exports={createWebChannelTransport:Ld,ErrorCode:Fe,EventType:ge,WebChannel:lb,XhrIo:Za}}).call("undefined"!==typeof n?n:"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})};
shadow$provide[153]=function(n,y,c,r,f,z){function v(){return Pb.logLevel===Sa.LogLevel.DEBUG?Ya.DEBUG:Pb.logLevel===Sa.LogLevel.SILENT?Ya.SILENT:Ya.ERROR}function p(b){switch(b){case Ya.DEBUG:Pb.logLevel=Sa.LogLevel.DEBUG;break;case Ya.ERROR:Pb.logLevel=Sa.LogLevel.ERROR;break;case Ya.SILENT:Pb.logLevel=Sa.LogLevel.SILENT;break;default:Pb.error("Firestore ("+mc+"): Invalid value passed to `setLogLevel`")}}function x(b,a){for(var d=[],c=2;c<arguments.length;c++)d[c-2]=arguments[c];Pb.logLevel<=Sa.LogLevel.DEBUG&&
(d=d.map(Y),Pb.debug.apply(Pb,["Firestore ("+mc+") ["+b+"]: "+a].concat(d)))}function I(b){for(var a=[],d=1;d<arguments.length;d++)a[d-1]=arguments[d];Pb.logLevel<=Sa.LogLevel.ERROR&&(a=a.map(Y),Pb.error.apply(Pb,["Firestore ("+mc+"): "+b].concat(a)))}function Y(b){if("string"===typeof b)return b;var a=cc.getPlatform();try{return a.formatJSON(b)}catch(d){return b}}function k(b){b="FIRESTORE ("+mc+") INTERNAL ASSERTION FAILED: "+b;I(b);throw Error(b);}function e(b,a){b||k(a)}function S(){return cc.getPlatform().emptyByteString}
function Z(b,a){function d(){var d="This constructor is private.";a&&(d=d+" "+a);throw new P(D.INVALID_ARGUMENT,d);}d.prototype=b.prototype;for(var c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d}function za(b,a){return void 0!==b?b:a}function fa(b,a){for(var d in b)if(Object.prototype.hasOwnProperty.call(b,d)){var c=Number(d);isNaN(c)||a(c,b[d])}}function O(b){var a=[];F(b,function(d,b){return a.push(b)});return a}function F(b,a){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&a(d,b[d])}
function W(b){e(null!=b&&"object"===typeof b,"isEmpty() expects object parameter.");for(var a in b)if(Object.prototype.hasOwnProperty.call(b,a))return!1;return!0}function N(b){e(b&&"object"===typeof b,"shallowCopy() expects object parameter.");var a={},d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}function K(b,a){if(0!==a.length)throw new P(D.INVALID_ARGUMENT,"Function "+b+"() does not support arguments, but was called with "+ja(a.length,"argument")+".");}function ia(b,
a,d){if(a.length!==d)throw new P(D.INVALID_ARGUMENT,"Function "+b+"() requires "+ja(d,"argument")+", but was called with "+ja(a.length,"argument")+".");}function ba(b,a,d){if(a.length<d)throw new P(D.INVALID_ARGUMENT,"Function "+b+"() requires at least "+ja(d,"argument")+", but was called with "+ja(a.length,"argument")+".");}function ha(b,a,d,c){if(a.length<d||a.length>c)throw new P(D.INVALID_ARGUMENT,"Function "+b+"() requires between "+d+" and "+(c+" arguments, but was called with ")+ja(a.length,
"argument")+".");}function ka(b,a,d,c){U(b,a,ta(d)+" argument",c)}function xa(b,a,d,c){void 0!==c&&ka(b,a,d,c)}function Qa(b,a,d,c){void 0!==c&&U(b,a,d+" option",c)}function L(b,a,d,c,e){if(void 0!==c){if(!(c instanceof Array))throw new P(D.INVALID_ARGUMENT,"Function "+b+"() requires its "+a+" "+("option to be an array, but it was: "+X(c)));for(var h=0;h<c.length;++h)if(!e(c[h]))throw new P(D.INVALID_ARGUMENT,"Function "+b+"() requires all "+a+" "+("elements to be "+d+", but the value at index "+
h+" ")+("was: "+X(c[h])));}}function E(b,a,d,c,e){a=[];for(var h=0;h<e.length;h++){var m=e[h];if(m===c)return;a.push(X(m))}c=X(c);throw new P(D.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+b+"() for option "+('"'+d+'". Acceptable values: '+a.join(", ")));}function q(b,a,d,c){if(!a.some(function(a){return a===c}))throw new P(D.INVALID_ARGUMENT,"Invalid value "+X(c)+" provided to function "+(b+"() for its "+ta(d)+" argument. Acceptable ")+("values: "+a.join(", ")));}function U(b,a,d,
c){if("object"===a?!G(c):"non-empty string"===a?"string"!==typeof c||""===c:typeof c!==a)throw c=X(c),new P(D.INVALID_ARGUMENT,"Function "+b+"() requires its "+d+" "+("to be of type "+a+", but it was: "+c));}function G(b){return"object"===typeof b&&null!==b&&(Object.getPrototypeOf(b)===Object.prototype||null===Object.getPrototypeOf(b))}function X(b){if(void 0===b)return"undefined";if(null===b)return"null";if("string"===typeof b)return 20<b.length&&(b=b.substring(0,20)+"..."),JSON.stringify(b);if("number"===
typeof b||"boolean"===typeof b)return""+b;if("object"===typeof b){if(b instanceof Array)return"an array";a:{if(b.constructor&&(b=/function\s+([^\s(]+)\s*\(/.exec(b.constructor.toString()))&&1<b.length){b=b[1];break a}b=null}return b?"a custom "+b+" object":"an object"}return"function"===typeof b?"a function":k("Unknown wrong type: "+typeof b)}function na(b,a,d){if(void 0===d)throw new P(D.INVALID_ARGUMENT,"Function "+b+"() requires a valid "+ta(a)+" argument, but it was undefined.");}function Ra(b,
a,d){F(a,function(a,c){if(0>d.indexOf(a))throw new P(D.INVALID_ARGUMENT,"Unknown option '"+a+"' passed to function "+b+"(). Available options: "+d.join(", "));})}function ca(b,a,d,c){c=X(c);return new P(D.INVALID_ARGUMENT,"Function "+b+"() requires its "+ta(d)+" "+("argument to be a "+a+", but it was: "+c))}function ta(b){switch(b){case 1:return"first";case 2:return"second";case 3:return"third";default:return b+"th"}}function ja(b,a){return b+" "+a+(1===b?"":"s")}function qa(b,a){return b<a?-1:b>
a?1:0}function Oa(b,a){if(b.length!==a.length)return!1;for(var d=0;d<b.length;d++)if(!b[d].isEqual(a[d]))return!1;return!0}function La(){if("undefined"===typeof Uint8Array)throw new P(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.");}function Na(){if(!cc.getPlatform().base64Available)throw new P(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.");}function Ja(b,a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a}function V(b){return null===b||void 0===b}function db(b){return ye(b)&&
b<=Ef&&b>=Vc}function Jb(b){switch(b){case D.OK:return k("Treated status OK as error");case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return k("Unknown status code: "+b)}}function Ab(b){return Jb(b)&&
b!==D.ABORTED}function Kb(b){if(void 0===b)return I("GRPC error has no .code"),D.UNKNOWN;switch(b){case Ga.OK:return D.OK;case Ga.CANCELLED:return D.CANCELLED;case Ga.UNKNOWN:return D.UNKNOWN;case Ga.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ga.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ga.INTERNAL:return D.INTERNAL;case Ga.UNAVAILABLE:return D.UNAVAILABLE;case Ga.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ga.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ga.NOT_FOUND:return D.NOT_FOUND;
case Ga.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ga.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ga.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ga.ABORTED:return D.ABORTED;case Ga.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ga.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ga.DATA_LOSS:return D.DATA_LOSS;default:return k("Unknown status code: "+b)}}function Bb(b){if(void 0===b)return Ga.OK;switch(b){case D.OK:return Ga.OK;case D.CANCELLED:return Ga.CANCELLED;case D.UNKNOWN:return Ga.UNKNOWN;
case D.DEADLINE_EXCEEDED:return Ga.DEADLINE_EXCEEDED;case D.RESOURCE_EXHAUSTED:return Ga.RESOURCE_EXHAUSTED;case D.INTERNAL:return Ga.INTERNAL;case D.UNAVAILABLE:return Ga.UNAVAILABLE;case D.UNAUTHENTICATED:return Ga.UNAUTHENTICATED;case D.INVALID_ARGUMENT:return Ga.INVALID_ARGUMENT;case D.NOT_FOUND:return Ga.NOT_FOUND;case D.ALREADY_EXISTS:return Ga.ALREADY_EXISTS;case D.PERMISSION_DENIED:return Ga.PERMISSION_DENIED;case D.FAILED_PRECONDITION:return Ga.FAILED_PRECONDITION;case D.ABORTED:return Ga.ABORTED;
case D.OUT_OF_RANGE:return Ga.OUT_OF_RANGE;case D.UNIMPLEMENTED:return Ga.UNIMPLEMENTED;case D.DATA_LOSS:return Ga.DATA_LOSS;default:return k("Unknown status code: "+b)}}function Ba(b){switch(b){case 200:return D.OK;case 400:return D.INVALID_ARGUMENT;case 401:return D.UNAUTHENTICATED;case 403:return D.PERMISSION_DENIED;case 404:return D.NOT_FOUND;case 409:return D.ABORTED;case 416:return D.OUT_OF_RANGE;case 429:return D.RESOURCE_EXHAUSTED;case 499:return D.CANCELLED;case 500:return D.UNKNOWN;case 501:return D.UNIMPLEMENTED;
case 503:return D.UNAVAILABLE;case 504:return D.DEADLINE_EXCEEDED;default:return 200<=b&&300>b?D.OK:400<=b&&500>b?D.FAILED_PRECONDITION:500<=b&&600>b?D.INTERNAL:D.UNKNOWN}}function wa(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];a=oe;for(var d=0;d<b.length;d++)a=a.add(b[d]);return a}function Ta(b,a){e(!V(b),a+" is missing")}function la(b){return"number"===typeof b?b:"string"===typeof b?Number(b):k("can't parse "+b)}function ra(b,a,d){return a===d||!a&&d in b}function kb(b){for(var a=
"",d=0;d<b.length;d++){0<a.length&&(a+="");for(var c=b.get(d),e=c.length,h=0;h<e;h++){var g=c.charAt(h);switch(g){case "\x00":a+="";break;case "":a+="";break;default:a+=g}}}return a+""}function Lb(b){var a=b.length;e(2<=a,"Invalid path "+b);if(2===a)return e(""===b.charAt(0)&&""===b.charAt(1),"Non-empty path "+b+" had length 2"),Ma.EMPTY_PATH;for(var d=a-2,c=[],h="",g=0;g<a;){var f=b.indexOf("",g);(0>f||f>d)&&k('Invalid encoded resource path: "'+b+'"');switch(b.charAt(f+1)){case "":g=
b.substring(g,f);0!==h.length&&(g=h+=g,h="");c.push(g);break;case "":h+=b.substring(g,f);h+="\x00";break;case "":h+=b.substring(g,f+1);break;default:k('Invalid encoded resource path: "'+b+'"')}g=f+2}return new Ma(c)}function sc(b,a,d){d=Ub.prefixForPath(a,d.path);var c=d[1];d=IDBKeyRange.lowerBound(d);var e=!1;return rb(b).iterate({range:d,keysOnly:!0},function(d,b,h){b=d[1];d[0]===a&&b===c&&(e=!0);h.done()}).next(function(){return e})}function Dd(b,a){var d=!1;return jb.getStore(b,Cc.store).iterateSerial(function(c){return sc(b,
c,a).next(function(a){a&&(d=!0);return R.resolve(!a)})}).next(function(){return d})}function jc(b,a,d){var c=b.store(Hb.store);b=b.store(Ub.store);var h=[],g=IDBKeyRange.only(d.batchId),f=0;c=c.iterate({range:g},function(a,d,b){f++;return b.delete()});h.push(c.next(function(){e(1===f,"Dangling document-mutation reference found: Missing batch "+d.batchId)}));var l=[];c=0;for(g=d.mutations;c<g.length;c++){var k=g[c],u=Ub.key(a,k.key.path,d.batchId);h.push(b.delete(u));l.push(k.key)}return R.waitFor(h).next(function(){return l})}
function Nc(b){return b instanceof Uint8Array?(e("YES"===y.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),b.toString()):b}function fb(b){return jb.getStore(b,Hb.store)}function rb(b){return jb.getStore(b,Ub.store)}function ac(b){return new R(function(a,d){b.onsuccess=function(d){a(d.target.result)};b.onerror=function(a){d(a.target.error)}})}function tc(b){return jb.getStore(b,Qd.store)}function Wa(b){return ee.getStore(b,Mc.store).get(Mc.key).next(function(a){e(null!==
a,"Missing metadata row.");return a})}function ma(b){return Wa(b).next(function(a){return a.highestListenSequenceNumber})}function Ua(b){return jb.getStore(b,Vb.store)}function Mb(b){return jb.getStore(b,Kc.store)}function kc(b){if(b.document)b=b.document;else if(b.unknownDocument)b=b.unknownDocument;else if(b.noDocument)b=b.noDocument;else throw k("Unknown remote document type");return JSON.stringify(b).length}function Wb(b){b.createObjectStore(Cc.store,{keyPath:Cc.keyPath});b.createObjectStore(Hb.store,
{keyPath:Hb.keyPath,autoIncrement:!0}).createIndex(Hb.userMutationsIndex,Hb.userMutationsKeyPath,{unique:!0});b.createObjectStore(Ub.store)}function Ca(b,a){return a.store(Hb.store).loadAll().next(function(d){b.deleteObjectStore(Hb.store);b.createObjectStore(Hb.store,{keyPath:Hb.keyPath,autoIncrement:!0}).createIndex(Hb.userMutationsIndex,Hb.userMutationsKeyPath,{unique:!0});var c=a.store(Hb.store);d=d.map(function(a){return c.put(a)});return R.waitFor(d)})}function Ia(b){b.createObjectStore(Vb.store,
{keyPath:Vb.keyPath}).createIndex(Vb.documentTargetsIndex,Vb.documentTargetsKeyPath,{unique:!0});b.createObjectStore(Qd.store,{keyPath:Qd.keyPath}).createIndex(Qd.queryTargetsIndexName,Qd.queryTargetsKeyPath,{unique:!0});b.createObjectStore(Mc.store)}function Oc(b){b.deleteObjectStore(Vb.store);b.deleteObjectStore(Qd.store);b.deleteObjectStore(Mc.store)}function Pc(b,a){var d=b[1],c=a[1];b=qa(b[0],a[0]);return 0===b?qa(d,c):b}function gb(b){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,
function(a){if(b.code===D.FAILED_PRECONDITION&&b.message===ce)x(Ad,"Unexpectedly lost primary lease");else throw b;return[2]})})}function Fa(b,a){return new Vb(0,kb(b.path),a)}function lb(b,a){return Ua(b).put(Fa(a,b.currentSequenceNumber))}function Db(b,a){var d=function(a){switch(a){case Aa.Added:return 1;case Aa.Modified:return 2;case Aa.Metadata:return 2;case Aa.Removed:return 0;default:return k("Unknown ChangeType: "+a)}};return d(b)-d(a)}function Xb(b){a:{if("object"===typeof b&&null!==b)for(var a=
0,d=["next","error","complete"];a<d.length;a++){var c=d[a];if(c in b&&"function"===typeof b[c]){b=!0;break a}}b=!1}return b}function bc(b){switch(b){case Zb.Set:case Zb.MergeSet:case Zb.Update:return!0;case Zb.Argument:return!1;default:throw k("Unexpected case for UserDataSource: "+b);}}function Nb(b){return"object"===typeof b&&null!==b&&!(b instanceof Array)&&!(b instanceof Date)&&!(b instanceof Da)&&!(b instanceof Qb)&&!(b instanceof Rc)&&!(b instanceof ve)&&!(b instanceof ue)}function Eb(b,a,d){if(!Nb(d)||
!G(d)){d=X(d);if("an object"===d)throw a.createError(b+" a custom object");throw a.createError(b+" "+d);}}function lc(b,a){if(a instanceof Ud)return a._internalPath;if("string"===typeof a)return Fc(b,a);throw new P(D.INVALID_ARGUMENT,"Function "+b+"() called with invalid data. Field path arguments must be of type string or FieldPath.");}function Fc(b,a){try{if(0<=a.search(Lg))throw new P(D.INVALID_ARGUMENT,"Invalid field path ("+a+"). Paths must not contain '~', '*', '/', '[', or ']'");try{var d=
new (Ud.bind.apply(Ud,[void 0].concat(a.split("."))))}catch(m){throw new P(D.INVALID_ARGUMENT,"Invalid field path ("+a+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");}return d._internalPath}catch(m){throw new P(D.INVALID_ARGUMENT,"Function "+b+"() called with invalid data. "+(m instanceof Error?m.message:m.toString()));}}function Ob(b,a){if(void 0===a)return{merge:!1};Ra(b,a,["merge","mergeFields"]);Qa(b,"boolean","merge",a.merge);L(b,"mergeFields","a string or a FieldPath",
a.mergeFields,function(a){return"string"===typeof a||a instanceof Ud});if(void 0!==a.mergeFields&&void 0!==a.merge)throw new P(D.INVALID_ARGUMENT,"Invalid options passed to function "+b+'(): You cannot specify both "merge" and "mergeFields".');return a}function mb(b,a){if(void 0===a)return{};Ra(b,a,["serverTimestamps"]);var d=a.serverTimestamps,c=["estimate","previous","none"];void 0!==d&&E(b,"options","serverTimestamps",d,c);return a}function uc(b,a){xa(b,"object",1,a);if(a){Ra(b,a,["source"]);a=
a.source;var d=["default","server","cache"];void 0!==a&&E(b,"options","source",a,d)}}function sa(b,a,d){if(a instanceof le){if(a.firestore!==d)throw new P(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}throw ca(b,"DocumentReference",1,a);}function hd(b,a,d){if(d.oldDocs.isEmpty()){var c,h=0;return d.docChanges.map(function(a){var m=new Me(b,a.doc.key,a.doc,d.fromCache,d.mutatedKeys.has(a.doc.key));e(a.type===Aa.Added,"Invalid event type for first snapshot");
e(!c||0>d.query.docComparator(c,a.doc),"Got added events in wrong order");c=a.doc;return{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}var g=d.oldDocs;return d.docChanges.filter(function(d){return a||d.type!==Aa.Metadata}).map(function(a){var c=new Me(b,a.doc.key,a.doc,d.fromCache,d.mutatedKeys.has(a.doc.key)),h=-1,m=-1;a.type!==Aa.Added&&(h=g.indexOf(a.doc.key),e(0<=h,"Index for document not found"),g=g.delete(a.doc.key));a.type!==Aa.Removed&&(g=g.add(a.doc),m=g.indexOf(a.doc.key));return{type:od(a.type),
doc:c,oldIndex:h,newIndex:m}})}function od(b){switch(b){case Aa.Added:return"added";case Aa.Modified:case Aa.Metadata:return"modified";case Aa.Removed:return"removed";default:return k("Unknown change type: "+b)}}function Gc(b){b.INTERNAL.registerService("firestore",function(a){return new Cf(a)},N(yh))}Object.defineProperty(f,"__esModule",{value:!0});var Qc=function(b){return b&&"object"===typeof b&&"default"in b?b["default"]:b}(c(148)),Sa=c(150),u=c(146),H=c(152),Wd=c(147),mc=Qc.SDK_VERSION,Pb=new Sa.Logger("@firebase/firestore"),
Ya;(function(b){b[b.DEBUG=0]="DEBUG";b[b.ERROR=1]="ERROR";b[b.SILENT=2]="SILENT"})(Ya||(Ya={}));var cc=function(){function b(){}b.setPlatform=function(a){b.platform&&k("Platform already defined");b.platform=a};b.getPlatform=function(){b.platform||k("Platform not set");return b.platform};return b}(),D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",
UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},P=function(b){function a(a,c){var d=b.call(this,c)||this;d.code=a;d.message=c;d.name="FirebaseError";d.toString=function(){return d.name+": [code\x3d"+d.code+"]: "+d.message};return d}u.__extends(a,b);return a}(Error),dc=function(){function b(){}
b.newId=function(){for(var a="",d=0;20>d;d++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));e(20===a.length,"Invalid auto ID: "+a);return a};return b}(),Rc=function(){function b(a){Na();this._binaryString=a}b.fromBase64String=function(a){ia("Blob.fromBase64String",arguments,1);ka("Blob.fromBase64String","string",1,a);Na();try{var d=cc.getPlatform().atob(a);return new b(d)}catch(m){throw new P(D.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+
m);}};b.fromUint8Array=function(a){ia("Blob.fromUint8Array",arguments,1);La();if(!(a instanceof Uint8Array))throw ca("Blob.fromUint8Array","Uint8Array",1,a);var d=Array.prototype.map.call(a,function(a){return String.fromCharCode(a)}).join("");return new b(d)};b.prototype.toBase64=function(){ia("Blob.toBase64",arguments,0);Na();return cc.getPlatform().btoa(this._binaryString)};b.prototype.toUint8Array=function(){ia("Blob.toUint8Array",arguments,0);La();for(var a=new Uint8Array(this._binaryString.length),
d=0;d<this._binaryString.length;d++)a[d]=this._binaryString.charCodeAt(d);return a};b.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"};b.prototype.isEqual=function(a){return this._binaryString===a._binaryString};b.prototype._compareTo=function(a){return qa(this._binaryString,a._binaryString)};return b}(),ec=Z(Rc,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Qb=function(){function b(a,d){ia("GeoPoint",arguments,2);ka("GeoPoint","number",1,a);ka("GeoPoint",
"number",2,d);if(!isFinite(a)||-90>a||90<a)throw new P(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+a);if(!isFinite(d)||-180>d||180<d)throw new P(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+d);this._lat=a;this._long=d}Object.defineProperty(b.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0});
b.prototype.isEqual=function(a){return this._lat===a._lat&&this._long===a._long};b.prototype._compareTo=function(a){return qa(this._lat,a._lat)||qa(this._long,a._long)};return b}(),Da=function(){function b(a,d){this.seconds=a;this.nanoseconds=d;if(0>d)throw new P(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+d);if(1E9<=d)throw new P(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+d);if(-62135596800>a)throw new P(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a);if(253402300800<=
a)throw new P(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a);}b.now=function(){return b.fromMillis(Date.now())};b.fromDate=function(a){return b.fromMillis(a.getTime())};b.fromMillis=function(a){var d=Math.floor(a/1E3);return new b(d,1E6*(a-1E3*d))};b.prototype.toDate=function(){return new Date(this.toMillis())};b.prototype.toMillis=function(){return 1E3*this.seconds+this.nanoseconds/1E6};b.prototype._compareTo=function(a){return this.seconds===a.seconds?qa(this.nanoseconds,a.nanoseconds):
qa(this.seconds,a.seconds)};b.prototype.isEqual=function(a){return a.seconds===this.seconds&&a.nanoseconds===this.nanoseconds};b.prototype.toString=function(){return"Timestamp(seconds\x3d"+this.seconds+", nanoseconds\x3d"+this.nanoseconds+")"};return b}(),Xd=function(){return function(b,a,d,c,e){this.databaseId=b;this.persistenceKey=a;this.host=d;this.ssl=c;this.forceLongPolling=e}}(),vc=function(){function b(a,d){this.projectId=a;this.database=d?d:"(default)"}Object.defineProperty(b.prototype,"isDefaultDatabase",
{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0});b.prototype.isEqual=function(a){return a instanceof b&&a.projectId===this.projectId&&a.database===this.database};b.prototype.compareTo=function(a){return qa(this.projectId,a.projectId)||qa(this.database,a.database)};return b}(),$b=function(){function b(a,d,b){this.init(a,d,b)}b.prototype.init=function(a,d,b){void 0===d?d=0:d>a.length&&k("offset "+d+" out of range "+a.length);void 0===b?b=a.length-d:b>a.length-d&&k("length "+
b+" out of range "+(a.length-d));this.segments=a;this.offset=d;this.len=b};b.prototype.construct=function(a,b,c){var d=Object.create(Object.getPrototypeOf(this));d.init(a,b,c);return d};Object.defineProperty(b.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0});b.prototype.isEqual=function(a){return 0===b.comparator(this,a)};b.prototype.child=function(a){var d=this.segments.slice(this.offset,this.limit());a instanceof b?a.forEach(function(a){d.push(a)}):"string"===
typeof a?d.push(a):k("Unknown parameter type for Path.child(): "+a);return this.construct(d)};b.prototype.limit=function(){return this.offset+this.length};b.prototype.popFirst=function(a){a=void 0===a?1:a;e(this.length>=a,"Can't call popFirst() with less segments");return this.construct(this.segments,this.offset+a,this.length-a)};b.prototype.popLast=function(){e(!this.isEmpty(),"Can't call popLast() on empty path");return this.construct(this.segments,this.offset,this.length-1)};b.prototype.firstSegment=
function(){e(!this.isEmpty(),"Can't call firstSegment() on empty path");return this.segments[this.offset]};b.prototype.lastSegment=function(){return this.get(this.length-1)};b.prototype.get=function(a){e(a<this.length,"Index out of range");return this.segments[this.offset+a]};b.prototype.isEmpty=function(){return 0===this.length};b.prototype.isPrefixOf=function(a){if(a.length<this.length)return!1;for(var b=0;b<this.length;b++)if(this.get(b)!==a.get(b))return!1;return!0};b.prototype.isImmediateParentOf=
function(a){if(this.length+1!==a.length)return!1;for(var b=0;b<this.length;b++)if(this.get(b)!==a.get(b))return!1;return!0};b.prototype.forEach=function(a){for(var b=this.offset,c=this.limit();b<c;b++)a(this.segments[b])};b.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())};b.comparator=function(a,b){for(var d=Math.min(a.length,b.length),c=0;c<d;c++){var e=a.get(c),h=b.get(c);if(e<h)return-1;if(e>h)return 1}return a.length<b.length?-1:a.length>b.length?1:0};return b}(),
Ma=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}u.__extends(a,b);a.prototype.canonicalString=function(){return this.toArray().join("/")};a.prototype.toString=function(){return this.canonicalString()};a.fromString=function(b){if(0<=b.indexOf("//"))throw new P(D.INVALID_ARGUMENT,"Invalid path ("+b+"). Paths must not contain // in them.");b=b.split("/").filter(function(a){return 0<a.length});return new a(b)};a.EMPTY_PATH=new a([]);return a}($b),fc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,
Va=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}u.__extends(a,b);a.isValidIdentifier=function(a){return fc.test(a)};a.prototype.canonicalString=function(){return this.toArray().map(function(b){b=b.replace("\\","\\\\").replace("`","\\`");a.isValidIdentifier(b)||(b="`"+b+"`");return b}).join(".")};a.prototype.toString=function(){return this.canonicalString()};a.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)};a.keyField=function(){return new a(["__name__"])};
a.fromServerFormat=function(b){for(var d=[],c="",e=0,h=function(){if(0===c.length)throw new P(D.INVALID_ARGUMENT,"Invalid field path ("+b+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");d.push(c);c=""},g=!1;e<b.length;){var f=b[e];if("\\"===f){if(e+1===b.length)throw new P(D.INVALID_ARGUMENT,"Path has trailing escape character: "+b);f=b[e+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new P(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+b);c+=f;e+=2}else"`"===f?g=!g:
"."!==f||g?c+=f:h(),e++}h();if(g)throw new P(D.INVALID_ARGUMENT,"Unterminated ` in path: "+b);return new a(d)};a.EMPTY_PATH=new a([]);return a}($b),pa=function(){function b(a){this.path=a;e(b.isDocumentKey(a),"Invalid DocumentKey with an odd number of segments: "+a.toArray().join("/"))}b.prototype.hasCollectionId=function(a){return 2<=this.path.length&&this.path.get(this.path.length-2)===a};b.prototype.isEqual=function(a){return null!==a&&0===Ma.comparator(this.path,a.path)};b.prototype.toString=
function(){return this.path.toString()};b.comparator=function(a,b){return Ma.comparator(a.path,b.path)};b.isDocumentKey=function(a){return 0===a.length%2};b.fromSegments=function(a){return new b(new Ma(a.slice()))};b.fromPathString=function(a){return new b(Ma.fromString(a))};b.EMPTY=new b(new Ma([]));return b}(),wc=function(){function b(a,b){this.key=a;this.version=b}b.compareByKey=function(a,b){return pa.comparator(a.key,b.key)};return b}(),da=function(b){function a(a,c,e,h,g){a=b.call(this,a,c)||
this;a.data=e;a.proto=g;a.hasLocalMutations=!!h.hasLocalMutations;a.hasCommittedMutations=!!h.hasCommittedMutations;return a}u.__extends(a,b);a.prototype.field=function(a){return this.data.field(a)};a.prototype.fieldValue=function(a){return(a=this.field(a))?a.value():void 0};a.prototype.value=function(){return this.data.value()};a.prototype.isEqual=function(b){return b instanceof a&&this.key.isEqual(b.key)&&this.version.isEqual(b.version)&&this.data.isEqual(b.data)&&this.hasLocalMutations===b.hasLocalMutations&&
this.hasCommittedMutations===b.hasCommittedMutations};a.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", "+("{hasLocalMutations: "+this.hasLocalMutations+"}), ")+("{hasCommittedMutations: "+this.hasCommittedMutations+"})")};Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0});a.compareByField=function(a,b,c){b=b.field(a);a=c.field(a);return void 0!==
b&&void 0!==a?b.compareTo(a):k("Trying to compare documents on fields that don't exist")};return a}(wc),xb=function(b){function a(a,c,e){a=b.call(this,a,c)||this;a.hasCommittedMutations=!(!e||!e.hasCommittedMutations);return a}u.__extends(a,b);a.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"};Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){return b instanceof
a&&b.hasCommittedMutations===this.hasCommittedMutations&&b.version.isEqual(this.version)&&b.key.isEqual(this.key)};return a}(wc),Sc=function(b){function a(a,c){return b.call(this,a,c)||this}u.__extends(a,b);a.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"};Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){return b instanceof a&&b.version.isEqual(this.version)&&b.key.isEqual(this.key)};
return a}(wc),cb=function(){function b(a,b){this.comparator=a;this.root=b?b:ib.EMPTY}b.prototype.insert=function(a,d){return new b(this.comparator,this.root.insert(a,d,this.comparator).copy(null,null,ib.BLACK,null,null))};b.prototype.remove=function(a){return new b(this.comparator,this.root.remove(a,this.comparator).copy(null,null,ib.BLACK,null,null))};b.prototype.get=function(a){for(var b=this.root;!b.isEmpty();){var c=this.comparator(a,b.key);if(0===c)return b.value;0>c?b=b.left:0<c&&(b=b.right)}return null};
b.prototype.indexOf=function(a){for(var b=0,c=this.root;!c.isEmpty();){var e=this.comparator(a,c.key);if(0===e)return b+c.left.size;0>e?c=c.left:(b+=c.left.size+1,c=c.right)}return-1};b.prototype.isEmpty=function(){return this.root.isEmpty()};Object.defineProperty(b.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0});b.prototype.minKey=function(){return this.root.minKey()};b.prototype.maxKey=function(){return this.root.maxKey()};b.prototype.inorderTraversal=function(a){return this.root.inorderTraversal(a)};
b.prototype.forEach=function(a){this.inorderTraversal(function(b,c){a(b,c);return!1})};b.prototype.toString=function(){var a=[];this.inorderTraversal(function(b,c){a.push(b+":"+c);return!1});return"{"+a.join(", ")+"}"};b.prototype.reverseTraversal=function(a){return this.root.reverseTraversal(a)};b.prototype.getIterator=function(){return new pd(this.root,null,this.comparator,!1)};b.prototype.getIteratorFrom=function(a){return new pd(this.root,a,this.comparator,!1)};b.prototype.getReverseIterator=
function(){return new pd(this.root,null,this.comparator,!0)};b.prototype.getReverseIteratorFrom=function(a){return new pd(this.root,a,this.comparator,!0)};return b}(),pd=function(){function b(a,b,c,e){this.isReverse=e;this.nodeStack=[];for(var d;!a.isEmpty();)if(d=b?c(a.key,b):1,e&&(d*=-1),0>d)a=this.isReverse?a.left:a.right;else if(0===d){this.nodeStack.push(a);break}else this.nodeStack.push(a),a=this.isReverse?a.right:a.left}b.prototype.getNext=function(){e(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");
var a=this.nodeStack.pop(),b={key:a.key,value:a.value};if(this.isReverse)for(a=a.left;!a.isEmpty();)this.nodeStack.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack.push(a),a=a.left;return b};b.prototype.hasNext=function(){return 0<this.nodeStack.length};b.prototype.peek=function(){if(0===this.nodeStack.length)return null;var a=this.nodeStack[this.nodeStack.length-1];return{key:a.key,value:a.value}};return b}(),ib=function(){function b(a,d,c,e,h){this.key=a;this.value=d;this.color=
null!=c?c:b.RED;this.left=null!=e?e:b.EMPTY;this.right=null!=h?h:b.EMPTY;this.size=this.left.size+1+this.right.size}b.prototype.copy=function(a,d,c,e,h){return new b(null!=a?a:this.key,null!=d?d:this.value,null!=c?c:this.color,null!=e?e:this.left,null!=h?h:this.right)};b.prototype.isEmpty=function(){return!1};b.prototype.inorderTraversal=function(a){return this.left.inorderTraversal(a)||a(this.key,this.value)||this.right.inorderTraversal(a)};b.prototype.reverseTraversal=function(a){return this.right.reverseTraversal(a)||
a(this.key,this.value)||this.left.reverseTraversal(a)};b.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()};b.prototype.minKey=function(){return this.min().key};b.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()};b.prototype.insert=function(a,b,c){var d=this,e=c(a,d.key);d=0>e?d.copy(null,null,null,d.left.insert(a,b,c),null):0===e?d.copy(null,b,null,null,null):d.copy(null,null,null,null,d.right.insert(a,b,c));return d.fixUp()};b.prototype.removeMin=
function(){if(this.left.isEmpty())return b.EMPTY;var a=this;a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft());a=a.copy(null,null,null,a.left.removeMin(),null);return a.fixUp()};b.prototype.remove=function(a,d){var c=this;if(0>d(a,c.key))c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(a,d),null);else{c.left.isRed()&&(c=c.rotateRight());c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight());if(0===d(a,c.key)){if(c.right.isEmpty())return b.EMPTY;
var e=c.right.min();c=c.copy(e.key,e.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(a,d))}return c.fixUp()};b.prototype.isRed=function(){return this.color};b.prototype.fixUp=function(){var a=this;a.right.isRed()&&!a.left.isRed()&&(a=a.rotateLeft());a.left.isRed()&&a.left.left.isRed()&&(a=a.rotateRight());a.left.isRed()&&a.right.isRed()&&(a=a.colorFlip());return a};b.prototype.moveRedLeft=function(){var a=this.colorFlip();a.right.left.isRed()&&(a=a.copy(null,null,
null,null,a.right.rotateRight()),a=a.rotateLeft(),a=a.colorFlip());return a};b.prototype.moveRedRight=function(){var a=this.colorFlip();a.left.left.isRed()&&(a=a.rotateRight(),a=a.colorFlip());return a};b.prototype.rotateLeft=function(){var a=this.copy(null,null,b.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)};b.prototype.rotateRight=function(){var a=this.copy(null,null,b.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)};b.prototype.colorFlip=
function(){var a=this.left.copy(null,null,!this.left.color,null,null),b=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,b)};b.prototype.checkMaxDepth=function(){var a=this.check();return Math.pow(2,a)<=this.size+1?!0:!1};b.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw k("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw k("Right child of ("+this.key+","+this.value+") is red");var a=this.left.check();
if(a!==this.right.check())throw k("Black depths differ");return a+(this.isRed()?0:1)};b.EMPTY=null;b.RED=!0;b.BLACK=!1;return b}(),we=function(){function b(){this.size=0}b.prototype.copy=function(a,b,c,e,h){return this};b.prototype.insert=function(a,b,c){return new ib(a,b)};b.prototype.remove=function(a,b){return this};b.prototype.isEmpty=function(){return!0};b.prototype.inorderTraversal=function(a){return!1};b.prototype.reverseTraversal=function(a){return!1};b.prototype.minKey=function(){return null};
b.prototype.maxKey=function(){return null};b.prototype.isRed=function(){return!1};b.prototype.checkMaxDepth=function(){return!0};b.prototype.check=function(){return 0};return b}();ib.EMPTY=new we;var Rb;(function(b){b[b.NullValue=0]="NullValue";b[b.BooleanValue=1]="BooleanValue";b[b.NumberValue=2]="NumberValue";b[b.TimestampValue=3]="TimestampValue";b[b.StringValue=4]="StringValue";b[b.BlobValue=5]="BlobValue";b[b.RefValue=6]="RefValue";b[b.GeoPointValue=7]="GeoPointValue";b[b.ArrayValue=8]="ArrayValue";
b[b.ObjectValue=9]="ObjectValue"})(Rb||(Rb={}));var nc;(function(b){b[b.Default=0]="Default";b[b.Estimate=1]="Estimate";b[b.Previous=2]="Previous"})(nc||(nc={}));var xe=function(){function b(a,b){this.serverTimestampBehavior=a;this.timestampsInSnapshots=b}b.fromSnapshotOptions=function(a,d){switch(a.serverTimestamps){case "estimate":return new b(nc.Estimate,d);case "previous":return new b(nc.Previous,d);case "none":case void 0:return new b(nc.Default,d);default:return k("fromSnapshotOptions() called with invalid options.")}};
return b}(),ub=function(){function b(){}b.prototype.toString=function(){var a=this.value();return null===a?"null":a.toString()};b.prototype.defaultCompareTo=function(a){e(this.typeOrder!==a.typeOrder,"Default compareTo should not be used for values of same type.");return qa(this.typeOrder,a.typeOrder)};return b}(),Yd=function(b){function a(){var a=b.call(this)||this;a.typeOrder=Rb.NullValue;a.internalValue=null;return a}u.__extends(a,b);a.prototype.value=function(a){return null};a.prototype.isEqual=
function(b){return b instanceof a};a.prototype.compareTo=function(b){return b instanceof a?0:this.defaultCompareTo(b)};a.INSTANCE=new a;return a}(ub),sb=function(b){function a(a){var d=b.call(this)||this;d.internalValue=a;d.typeOrder=Rb.BooleanValue;return d}u.__extends(a,b);a.prototype.value=function(a){return this.internalValue};a.prototype.isEqual=function(b){return b instanceof a&&this.internalValue===b.internalValue};a.prototype.compareTo=function(b){return b instanceof a?qa(this,b):this.defaultCompareTo(b)};
a.of=function(b){return b?a.TRUE:a.FALSE};a.TRUE=new a(!0);a.FALSE=new a(!1);return a}(ub),Fb=function(b){function a(a){var d=b.call(this)||this;d.internalValue=a;d.typeOrder=Rb.NumberValue;return d}u.__extends(a,b);a.prototype.value=function(a){return this.internalValue};a.prototype.compareTo=function(b){if(b instanceof a){var d=this.internalValue;b=b.internalValue;d=d<b?-1:d>b?1:d===b?0:isNaN(d)?isNaN(b)?0:-1:1}else d=this.defaultCompareTo(b);return d};return a}(ub),xc=function(b){function a(a){return b.call(this,
a)||this}u.__extends(a,b);a.prototype.isEqual=function(b){return b instanceof a?Ja(this.internalValue,b.internalValue):!1};return a}(Fb),yb=function(b){function a(a){var d=b.call(this,a)||this;d.internalValue=a;return d}u.__extends(a,b);a.prototype.isEqual=function(b){return b instanceof a?Ja(this.internalValue,b.internalValue):!1};a.NAN=new a(NaN);a.POSITIVE_INFINITY=new a(Infinity);a.NEGATIVE_INFINITY=new a(-Infinity);return a}(Fb),gc=function(b){function a(a){var d=b.call(this)||this;d.internalValue=
a;d.typeOrder=Rb.StringValue;return d}u.__extends(a,b);a.prototype.value=function(a){return this.internalValue};a.prototype.isEqual=function(b){return b instanceof a&&this.internalValue===b.internalValue};a.prototype.compareTo=function(b){return b instanceof a?qa(this.internalValue,b.internalValue):this.defaultCompareTo(b)};return a}(ub),Tc=function(b){function a(a){var d=b.call(this)||this;d.internalValue=a;d.typeOrder=Rb.TimestampValue;return d}u.__extends(a,b);a.prototype.value=function(a){return!a||
a.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()};a.prototype.isEqual=function(b){return b instanceof a&&this.internalValue.isEqual(b.internalValue)};a.prototype.compareTo=function(b){return b instanceof a?this.internalValue._compareTo(b.internalValue):b instanceof Ed?-1:this.defaultCompareTo(b)};return a}(ub),Ed=function(b){function a(a,c){var d=b.call(this)||this;d.localWriteTime=a;d.previousValue=c;d.typeOrder=Rb.TimestampValue;return d}u.__extends(a,b);a.prototype.value=
function(a){return a&&a.serverTimestampBehavior===nc.Estimate?(new Tc(this.localWriteTime)).value(a):a&&a.serverTimestampBehavior===nc.Previous?this.previousValue?this.previousValue.value(a):null:null};a.prototype.isEqual=function(b){return b instanceof a&&this.localWriteTime.isEqual(b.localWriteTime)};a.prototype.compareTo=function(b){return b instanceof a?this.localWriteTime._compareTo(b.localWriteTime):b instanceof Tc?1:this.defaultCompareTo(b)};a.prototype.toString=function(){return"\x3cServerTimestamp localTime\x3d"+
this.localWriteTime.toString()+"\x3e"};return a}(ub),Fd=function(b){function a(a){var d=b.call(this)||this;d.internalValue=a;d.typeOrder=Rb.BlobValue;return d}u.__extends(a,b);a.prototype.value=function(a){return this.internalValue};a.prototype.isEqual=function(b){return b instanceof a&&this.internalValue.isEqual(b.internalValue)};a.prototype.compareTo=function(b){return b instanceof a?this.internalValue._compareTo(b.internalValue):this.defaultCompareTo(b)};return a}(ub),Gb=function(b){function a(a,
c){var d=b.call(this)||this;d.databaseId=a;d.key=c;d.typeOrder=Rb.RefValue;return d}u.__extends(a,b);a.prototype.value=function(a){return this.key};a.prototype.isEqual=function(b){return b instanceof a?this.key.isEqual(b.key)&&this.databaseId.isEqual(b.databaseId):!1};a.prototype.compareTo=function(b){if(b instanceof a){var d=this.databaseId.compareTo(b.databaseId);return 0!==d?d:pa.comparator(this.key,b.key)}return this.defaultCompareTo(b)};return a}(ub),Pe=function(b){function a(a){var d=b.call(this)||
this;d.internalValue=a;d.typeOrder=Rb.GeoPointValue;return d}u.__extends(a,b);a.prototype.value=function(a){return this.internalValue};a.prototype.isEqual=function(b){return b instanceof a&&this.internalValue.isEqual(b.internalValue)};a.prototype.compareTo=function(b){return b instanceof a?this.internalValue._compareTo(b.internalValue):this.defaultCompareTo(b)};return a}(ub),yc=function(b){function a(a){var d=b.call(this)||this;d.internalValue=a;d.typeOrder=Rb.ObjectValue;return d}u.__extends(a,b);
a.prototype.value=function(a){var b={};this.internalValue.inorderTraversal(function(d,c){b[d]=c.value(a)});return b};a.prototype.forEach=function(a){this.internalValue.inorderTraversal(a)};a.prototype.isEqual=function(b){if(b instanceof a){var d=this.internalValue.getIterator();for(b=b.internalValue.getIterator();d.hasNext()&&b.hasNext();){var c=d.getNext(),e=b.getNext();if(c.key!==e.key||!c.value.isEqual(e.value))return!1}return!d.hasNext()&&!b.hasNext()}return!1};a.prototype.compareTo=function(b){if(b instanceof
a){var d=this.internalValue.getIterator();for(b=b.internalValue.getIterator();d.hasNext()&&b.hasNext();){var c=d.getNext(),e=b.getNext();if(c=qa(c.key,e.key)||c.value.compareTo(e.value))return c}return qa(d.hasNext(),b.hasNext())}return this.defaultCompareTo(b)};a.prototype.set=function(b,c){e(!b.isEmpty(),"Cannot set field for empty path on ObjectValue");if(1===b.length)return this.setChild(b.firstSegment(),c);var d=this.child(b.firstSegment());d instanceof a||(d=a.EMPTY);c=d.set(b.popFirst(),c);
return this.setChild(b.firstSegment(),c)};a.prototype.delete=function(b){e(!b.isEmpty(),"Cannot delete field for empty path on ObjectValue");if(1===b.length)return new a(this.internalValue.remove(b.firstSegment()));var d=this.child(b.firstSegment());return d instanceof a?(d=d.delete(b.popFirst()),new a(this.internalValue.insert(b.firstSegment(),d))):this};a.prototype.contains=function(a){return void 0!==this.field(a)};a.prototype.field=function(b){e(!b.isEmpty(),"Can't get field of empty path");var d=
this;b.forEach(function(b){d=d instanceof a?d.internalValue.get(b)||void 0:void 0});return d};a.prototype.toString=function(){return this.internalValue.toString()};a.prototype.child=function(a){return this.internalValue.get(a)||void 0};a.prototype.setChild=function(b,c){return new a(this.internalValue.insert(b,c))};a.EMPTY=new a(new cb(qa));return a}(ub),Uc=function(b){function a(a){var d=b.call(this)||this;d.internalValue=a;d.typeOrder=Rb.ArrayValue;return d}u.__extends(a,b);a.prototype.value=function(a){return this.internalValue.map(function(b){return b.value(a)})};
a.prototype.forEach=function(a){this.internalValue.forEach(a)};a.prototype.isEqual=function(b){if(b instanceof a){if(this.internalValue.length!==b.internalValue.length)return!1;for(var d=0;d<this.internalValue.length;d++)if(!this.internalValue[d].isEqual(b.internalValue[d]))return!1;return!0}return!1};a.prototype.compareTo=function(b){if(b instanceof a){for(var d=Math.min(this.internalValue.length,b.internalValue.length),c=0;c<d;c++){var e=this.internalValue[c].compareTo(b.internalValue[c]);if(e)return e}return qa(this.internalValue.length,
b.internalValue.length)}return this.defaultCompareTo(b)};a.prototype.toString=function(){return"["+this.internalValue.map(function(a){return a.toString()}).join(",")+"]"};return a}(ub),ne=Number,Vc=ne.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Ef=ne.MAX_SAFE_INTEGER||Math.pow(2,53)-1,ye=ne.isInteger||function(b){return"number"===typeof b&&isFinite(b)&&Math.floor(b)===b},Za=function(){function b(a,b,c,e,h,g,f){void 0===b&&(b=null);void 0===c&&(c=[]);void 0===e&&(e=[]);void 0===h&&(h=null);void 0===g&&(g=
null);void 0===f&&(f=null);this.path=a;this.collectionGroup=b;this.explicitOrderBy=c;this.filters=e;this.limit=h;this.startAt=g;this.endAt=f;this.memoizedOrderBy=this.memoizedCanonicalId=null;this.startAt&&this.assertValidBound(this.startAt);this.endAt&&this.assertValidBound(this.endAt)}b.atPath=function(a){return new b(a)};Object.defineProperty(b.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var a=this.getInequalityFilterField(),b=this.getFirstOrderByField();if(null!==a&&null===
b)a.isKeyField()?this.memoizedOrderBy=[Hd]:this.memoizedOrderBy=[new ab(a),Hd];else{e(null===a||null!==b&&a.isEqual(b),"First orderBy should match inequality field.");this.memoizedOrderBy=[];a=!1;b=0;for(var c=this.explicitOrderBy;b<c.length;b++){var h=c[b];this.memoizedOrderBy.push(h);h.field.isKeyField()&&(a=!0)}a||this.memoizedOrderBy.push((0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:$a.ASCENDING)===$a.ASCENDING?Hd:Qe)}}return this.memoizedOrderBy},enumerable:!0,
configurable:!0});b.prototype.addFilter=function(a){e(null==this.getInequalityFilterField()||!(a instanceof Xc)||!a.isInequality()||a.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field.");e(!this.isDocumentQuery(),"No filtering allowed for document query");a=this.filters.concat([a]);return new b(this.path,this.collectionGroup,this.explicitOrderBy.slice(),a,this.limit,this.startAt,this.endAt)};b.prototype.addOrderBy=function(a){e(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");
a=this.explicitOrderBy.concat([a]);return new b(this.path,this.collectionGroup,a,this.filters.slice(),this.limit,this.startAt,this.endAt)};b.prototype.withLimit=function(a){return new b(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),a,this.startAt,this.endAt)};b.prototype.withStartAt=function(a){return new b(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,a,this.endAt)};b.prototype.withEndAt=function(a){return new b(this.path,
this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,a)};b.prototype.asCollectionQueryAtPath=function(a){return new b(a,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)};b.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var a=this.path.canonicalString();this.isCollectionGroupQuery()&&(a+="|cg:"+this.collectionGroup);a+="|f:";for(var b=0,c=this.filters;b<c.length;b++)a+=c[b].canonicalId(),a+=",";
a+="|ob:";b=0;for(c=this.orderBy;b<c.length;b++)a+=c[b].canonicalId(),a+=",";V(this.limit)||(a=a+"|l:"+this.limit);this.startAt&&(a=a+"|lb:"+this.startAt.canonicalId());this.endAt&&(a=a+"|ub:"+this.endAt.canonicalId());this.memoizedCanonicalId=a}return this.memoizedCanonicalId};b.prototype.toString=function(){var a="Query("+this.path.canonicalString();this.isCollectionGroupQuery()&&(a+=" collectionGroup\x3d"+this.collectionGroup);0<this.filters.length&&(a+=", filters: ["+this.filters.join(", ")+"]");
V(this.limit)||(a+=", limit: "+this.limit);0<this.explicitOrderBy.length&&(a+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]");this.startAt&&(a+=", startAt: "+this.startAt.canonicalId());this.endAt&&(a+=", endAt: "+this.endAt.canonicalId());return a+")"};b.prototype.isEqual=function(a){if(this.limit!==a.limit||this.orderBy.length!==a.orderBy.length)return!1;for(var b=0;b<this.orderBy.length;b++)if(!this.orderBy[b].isEqual(a.orderBy[b]))return!1;if(this.filters.length!==a.filters.length)return!1;
for(b=0;b<this.filters.length;b++)if(!this.filters[b].isEqual(a.filters[b]))return!1;return this.collectionGroup===a.collectionGroup&&this.path.isEqual(a.path)&&(null!==this.startAt?this.startAt.isEqual(a.startAt):null===a.startAt)?null!==this.endAt?this.endAt.isEqual(a.endAt):null===a.endAt:!1};b.prototype.docComparator=function(a,b){for(var d=!1,c=0,h=this.orderBy;c<h.length;c++){var g=h[c],f=g.compare(a,b);if(0!==f)return f;d=d||g.field.isKeyField()}e(d,"orderBy used that doesn't compare on key field");
return 0};b.prototype.matches=function(a){return this.matchesPathAndCollectionGroup(a)&&this.matchesOrderBy(a)&&this.matchesFilters(a)&&this.matchesBounds(a)};b.prototype.hasLimit=function(){return!V(this.limit)};b.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null};b.prototype.getInequalityFilterField=function(){for(var a=0,b=this.filters;a<b.length;a++){var c=b[a];if(c instanceof Xc&&c.isInequality())return c.field}return null};b.prototype.hasArrayContainsFilter=
function(){return void 0!==this.filters.find(function(a){return a instanceof Xc&&a.op===Pa.ARRAY_CONTAINS})};b.prototype.isDocumentQuery=function(){return pa.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length};b.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup};b.prototype.matchesPathAndCollectionGroup=function(a){var b=a.key.path;return null!==this.collectionGroup?a.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(b):pa.isDocumentKey(this.path)?
this.path.isEqual(b):this.path.isImmediateParentOf(b)};b.prototype.matchesOrderBy=function(a){for(var b=0,c=this.explicitOrderBy;b<c.length;b++){var e=c[b];if(!e.field.isKeyField()&&void 0===a.field(e.field))return!1}return!0};b.prototype.matchesFilters=function(a){for(var b=0,c=this.filters;b<c.length;b++)if(!c[b].matches(a))return!1;return!0};b.prototype.matchesBounds=function(a){return this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,a)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,
a)?!1:!0};b.prototype.assertValidBound=function(a){e(a.position.length<=this.orderBy.length,"Bound is longer than orderBy")};return b}(),Wc=function(){function b(){}b.create=function(a,b,c){if(c.isEqual(Yd.INSTANCE)){if(b!==Pa.EQUAL)throw new P(D.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Zd(a)}if(c.isEqual(yb.NAN)){if(b!==Pa.EQUAL)throw new P(D.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Gd(a)}return new Xc(a,
b,c)};return b}(),Pa=function(){function b(a){this.name=a}b.fromString=function(a){switch(a){case "\x3c":return b.LESS_THAN;case "\x3c\x3d":return b.LESS_THAN_OR_EQUAL;case "\x3d\x3d":return b.EQUAL;case "\x3e\x3d":return b.GREATER_THAN_OR_EQUAL;case "\x3e":return b.GREATER_THAN;case "array-contains":return b.ARRAY_CONTAINS;default:return k("Unknown relation: "+a)}};b.prototype.toString=function(){return this.name};b.prototype.isEqual=function(a){return this.name===a.name};b.LESS_THAN=new b("\x3c");
b.LESS_THAN_OR_EQUAL=new b("\x3c\x3d");b.EQUAL=new b("\x3d\x3d");b.GREATER_THAN=new b("\x3e");b.GREATER_THAN_OR_EQUAL=new b("\x3e\x3d");b.ARRAY_CONTAINS=new b("array-contains");return b}(),Xc=function(b){function a(a,c,e){var d=b.call(this)||this;d.field=a;d.op=c;d.value=e;return d}u.__extends(a,b);a.prototype.matches=function(a){if(this.field.isKeyField())return e(this.value instanceof Gb,"Comparing on key, but filter value not a RefValue"),e(this.op!==Pa.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys."),
a=pa.comparator(a.key,this.value.key),this.matchesComparison(a);a=a.field(this.field);return void 0!==a&&this.matchesValue(a)};a.prototype.matchesValue=function(a){var b=this;return this.op===Pa.ARRAY_CONTAINS?a instanceof Uc&&void 0!==a.internalValue.find(function(a){return a.isEqual(b.value)}):this.value.typeOrder===a.typeOrder&&this.matchesComparison(a.compareTo(this.value))};a.prototype.matchesComparison=function(a){switch(this.op){case Pa.LESS_THAN:return 0>a;case Pa.LESS_THAN_OR_EQUAL:return 0>=
a;case Pa.EQUAL:return 0===a;case Pa.GREATER_THAN:return 0<a;case Pa.GREATER_THAN_OR_EQUAL:return 0<=a;default:return k("Unknown relation op"+this.op)}};a.prototype.isInequality=function(){return this.op!==Pa.EQUAL&&this.op!==Pa.ARRAY_CONTAINS};a.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()};a.prototype.isEqual=function(b){return b instanceof a?this.op.isEqual(b.op)&&this.field.isEqual(b.field)&&this.value.isEqual(b.value):!1};a.prototype.toString=
function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()};return a}(Wc),Zd=function(b){function a(a){var d=b.call(this)||this;d.field=a;return d}u.__extends(a,b);a.prototype.matches=function(a){a=a.field(this.field);return void 0!==a&&null===a.value()};a.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"};a.prototype.toString=function(){return this.field.canonicalString()+" IS null"};a.prototype.isEqual=function(b){return b instanceof a?this.field.isEqual(b.field):
!1};return a}(Wc),Gd=function(b){function a(a){var d=b.call(this)||this;d.field=a;return d}u.__extends(a,b);a.prototype.matches=function(a){a=(a=a.field(this.field))&&a.value();return"number"===typeof a&&isNaN(a)};a.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"};a.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"};a.prototype.isEqual=function(b){return b instanceof a?this.field.isEqual(b.field):!1};return a}(Wc),$a=function(){function b(a){this.name=
a}b.prototype.toString=function(){return this.name};b.ASCENDING=new b("asc");b.DESCENDING=new b("desc");return b}(),Re=function(){function b(a,b){this.position=a;this.before=b}b.prototype.canonicalId=function(){for(var a=this.before?"b:":"a:",b=0,c=this.position;b<c.length;b++)a+=c[b].toString();return a};b.prototype.sortsBeforeDocument=function(a,b){e(this.position.length<=a.length,"Bound has more components than query's orderBy");for(var d=0,c=0;c<this.position.length;c++){var h=a[c];d=this.position[c];
if(h.field.isKeyField())e(d instanceof Gb,"Bound has a non-key value where the key path is being used."),d=pa.comparator(d.key,b.key);else{var g=b.field(h.field);e(void 0!==g,"Field should exist since document matched the orderBy already.");d=d.compareTo(g)}h.dir===$a.DESCENDING&&(d*=-1);if(0!==d)break}return this.before?0>=d:0>d};b.prototype.isEqual=function(a){if(null===a||this.before!==a.before||this.position.length!==a.position.length)return!1;for(;0<this.position.length;)return this.position[0].isEqual(a.position[0]);
return!0};return b}(),ab=function(){function b(a,b){this.field=a;void 0===b&&(b=$a.ASCENDING);this.dir=b;this.isKeyOrderBy=a.isKeyField()}b.prototype.compare=function(a,b){a=this.isKeyOrderBy?da.compareByKey(a,b):da.compareByField(this.field,a,b);switch(this.dir){case $a.ASCENDING:return a;case $a.DESCENDING:return-1*a;default:return k("Unknown direction: "+this.dir)}};b.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()};b.prototype.toString=function(){return this.field.canonicalString()+
" ("+this.dir+")"};b.prototype.isEqual=function(a){return this.dir===a.dir&&this.field.isEqual(a.field)};return b}(),Hd=new ab(Va.keyField(),$a.ASCENDING),Qe=new ab(Va.keyField(),$a.DESCENDING),Ka=function(){function b(a){this.timestamp=a}b.fromMicroseconds=function(a){return new b(new Da(Math.floor(a/1E6),a%1E6*1E3))};b.fromTimestamp=function(a){return new b(a)};b.forDeletedDoc=function(){return b.MIN};b.prototype.compareTo=function(a){return this.timestamp._compareTo(a.timestamp)};b.prototype.isEqual=
function(a){return this.timestamp.isEqual(a.timestamp)};b.prototype.toMicroseconds=function(){return 1E6*this.timestamp.seconds+this.timestamp.nanoseconds/1E3};b.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"};b.prototype.toTimestamp=function(){return this.timestamp};b.MIN=new b(new Da(0,0));return b}(),vb;(function(b){b[b.Listen=0]="Listen";b[b.ExistenceFilterMismatch=1]="ExistenceFilterMismatch";b[b.LimboResolution=2]="LimboResolution"})(vb||(vb={}));var rd=
function(){function b(a,b,c,e,h,g){void 0===h&&(h=Ka.MIN);void 0===g&&(g=S());this.query=a;this.targetId=b;this.purpose=c;this.sequenceNumber=e;this.snapshotVersion=h;this.resumeToken=g}b.prototype.copy=function(a){return new b(this.query,this.targetId,this.purpose,void 0===a.sequenceNumber?this.sequenceNumber:a.sequenceNumber,void 0===a.snapshotVersion?this.snapshotVersion:a.snapshotVersion,void 0===a.resumeToken?this.resumeToken:a.resumeToken)};b.prototype.isEqual=function(a){return this.targetId===
a.targetId&&this.purpose===a.purpose&&this.sequenceNumber===a.sequenceNumber&&this.snapshotVersion.isEqual(a.snapshotVersion)&&this.resumeToken===a.resumeToken&&this.query.isEqual(a.query)};return b}(),nb=function(){function b(a){this.comparator=a;this.data=new cb(this.comparator)}b.fromMapKeys=function(a){var d=new b(a.comparator);a.forEach(function(a){d=d.add(a)});return d};b.prototype.has=function(a){return null!==this.data.get(a)};b.prototype.first=function(){return this.data.minKey()};b.prototype.last=
function(){return this.data.maxKey()};Object.defineProperty(b.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0});b.prototype.indexOf=function(a){return this.data.indexOf(a)};b.prototype.forEach=function(a){this.data.inorderTraversal(function(b,c){a(b);return!1})};b.prototype.forEachInRange=function(a,b){for(var d=this.data.getIteratorFrom(a[0]);d.hasNext();){var c=d.getNext();if(0<=this.comparator(c.key,a[1]))break;b(c.key)}};b.prototype.forEachWhile=function(a,
b){for(b=void 0!==b?this.data.getIteratorFrom(b):this.data.getIterator();b.hasNext();){var d=b.getNext();if(!a(d.key))break}};b.prototype.firstAfterOrEqual=function(a){a=this.data.getIteratorFrom(a);return a.hasNext()?a.getNext().key:null};b.prototype.getIterator=function(){return new tb(this.data.getIterator())};b.prototype.getIteratorFrom=function(a){return new tb(this.data.getIteratorFrom(a))};b.prototype.add=function(a){return this.copy(this.data.remove(a).insert(a,!0))};b.prototype.delete=function(a){return this.has(a)?
this.copy(this.data.remove(a)):this};b.prototype.isEmpty=function(){return this.data.isEmpty()};b.prototype.unionWith=function(a){var b=this;a.forEach(function(a){b=b.add(a)});return b};b.prototype.isEqual=function(a){if(!(a instanceof b)||this.size!==a.size)return!1;var d=this.data.getIterator();for(a=a.data.getIterator();d.hasNext();){var c=d.getNext().key,e=a.getNext().key;if(0!==this.comparator(c,e))return!1}return!0};b.prototype.toArray=function(){var a=[];this.forEach(function(b){a.push(b)});
return a};b.prototype.toString=function(){var a=[];this.forEach(function(b){return a.push(b)});return"SortedSet("+a.toString()+")"};b.prototype.copy=function(a){var d=new b(this.comparator);d.data=a;return d};return b}(),tb=function(){function b(a){this.iter=a}b.prototype.getNext=function(){return this.iter.getNext().key};b.prototype.hasNext=function(){return this.iter.hasNext()};return b}(),zc=function(){function b(a){this.fields=a}b.fromSet=function(a){return new b(a)};b.fromArray=function(a){var d=
new nb(Va.comparator);a.forEach(function(a){return d=d.add(a)});return new b(d)};b.prototype.covers=function(a){var b=!1;this.fields.forEach(function(d){d.isPrefixOf(a)&&(b=!0)});return b};b.prototype.applyTo=function(a){var b=yc.EMPTY;this.fields.forEach(function(d){if(d.isEmpty())return a;var c=a.field(d);void 0!==c&&(b=b.set(d,c))});return b};b.prototype.isEqual=function(a){return this.fields.isEqual(a.fields)};return b}(),id=function(){function b(a,b){this.field=a;this.transform=b}Object.defineProperty(b.prototype,
"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0});b.prototype.isEqual=function(a){return this.field.isEqual(a.field)&&this.transform.isEqual(a.transform)};return b}(),Sb=function(){return function(b,a){this.version=b;this.transformResults=a}}(),zb;(function(b){b[b.Set=0]="Set";b[b.Patch=1]="Patch";b[b.Transform=2]="Transform";b[b.Delete=3]="Delete"})(zb||(zb={}));var Tb=function(){function b(a,b){this.updateTime=a;this.exists=b;e(void 0===a||void 0===
b,'Precondition can specify "exists" or "updateTime" but not both')}b.exists=function(a){return new b(void 0,a)};b.updateTime=function(a){return new b(a)};Object.defineProperty(b.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0});b.prototype.isValidFor=function(a){if(void 0!==this.updateTime)return a instanceof da&&a.version.isEqual(this.updateTime);if(void 0!==this.exists)return this.exists===a instanceof da;e(this.isNone,"Precondition should be empty");
return!0};b.prototype.isEqual=function(a){var b=this.updateTime;var c=a.updateTime;b=null!==b&&void 0!==b?!(!c||!b.isEqual(c)):b===c;return b&&this.exists===a.exists};b.NONE=new b;return b}(),Ic=function(){function b(){}b.prototype.verifyKeyMatches=function(a){null!=a&&e(a.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")};b.getPostMutationVersion=function(a){return a instanceof da?a.version:Ka.MIN};return b}(),Jc=function(b){function a(a,c,e){var d=b.call(this)||
this;d.key=a;d.value=c;d.precondition=e;d.type=zb.Set;return d}u.__extends(a,b);a.prototype.applyToRemoteDocument=function(a,b){this.verifyKeyMatches(a);e(null==b.transformResults,"Transform results received by SetMutation.");return new da(this.key,b.version,this.value,{hasCommittedMutations:!0})};a.prototype.applyToLocalView=function(a,b,c){this.verifyKeyMatches(a);if(!this.precondition.isValidFor(a))return a;a=Ic.getPostMutationVersion(a);return new da(this.key,a,this.value,{hasLocalMutations:!0})};
Object.defineProperty(a.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){return b instanceof a&&this.key.isEqual(b.key)&&this.value.isEqual(b.value)&&this.precondition.isEqual(b.precondition)};return a}(Ic),l=function(b){function a(a,c,e,h){var d=b.call(this)||this;d.key=a;d.data=c;d.fieldMask=e;d.precondition=h;d.type=zb.Patch;
return d}u.__extends(a,b);a.prototype.applyToRemoteDocument=function(a,b){this.verifyKeyMatches(a);e(null==b.transformResults,"Transform results received by PatchMutation.");if(!this.precondition.isValidFor(a))return new Sc(this.key,b.version);a=this.patchDocument(a);return new da(this.key,b.version,a,{hasCommittedMutations:!0})};a.prototype.applyToLocalView=function(a,b,c){this.verifyKeyMatches(a);if(!this.precondition.isValidFor(a))return a;b=Ic.getPostMutationVersion(a);a=this.patchDocument(a);
return new da(this.key,b,a,{hasLocalMutations:!0})};Object.defineProperty(a.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){return b instanceof a&&this.key.isEqual(b.key)&&this.fieldMask.isEqual(b.fieldMask)&&this.precondition.isEqual(b.precondition)};a.prototype.patchDocument=function(a){return this.patchObject(a instanceof da?a.data:yc.EMPTY)};a.prototype.patchObject=function(a){var b=this;this.fieldMask.fields.forEach(function(d){if(!d.isEmpty()){var c=
b.data.field(d);a=void 0!==c?a.set(d,c):a.delete(d)}});return a};return a}(Ic),b=function(b){function a(a,c){var d=b.call(this)||this;d.key=a;d.fieldTransforms=c;d.type=zb.Transform;d.precondition=Tb.exists(!0);return d}u.__extends(a,b);a.prototype.applyToRemoteDocument=function(a,b){this.verifyKeyMatches(a);e(null!=b.transformResults,"Transform results missing for TransformMutation.");if(!this.precondition.isValidFor(a))return new Sc(this.key,b.version);var d=this.requireDocument(a);a=this.serverTransformResults(a,
b.transformResults);b=b.version;d=this.transformObject(d.data,a);return new da(this.key,b,d,{hasCommittedMutations:!0})};a.prototype.applyToLocalView=function(a,b,c){this.verifyKeyMatches(a);if(!this.precondition.isValidFor(a))return a;a=this.requireDocument(a);b=this.localTransformResults(c,b);b=this.transformObject(a.data,b);return new da(this.key,a.version,b,{hasLocalMutations:!0})};Object.defineProperty(a.prototype,"isIdempotent",{get:function(){for(var a=0,b=this.fieldTransforms;a<b.length;a++)if(!b[a].isIdempotent)return!1;
return!0},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"fieldMask",{get:function(){var a=new nb(Va.comparator);this.fieldTransforms.forEach(function(b){return a=a.add(b.field)});return new zc(a)},enumerable:!0,configurable:!0});a.prototype.isEqual=function(b){return b instanceof a&&this.key.isEqual(b.key)&&Oa(this.fieldTransforms,b.fieldTransforms)&&this.precondition.isEqual(b.precondition)};a.prototype.requireDocument=function(a){e(a instanceof da,"Unknown MaybeDocument type "+
a);e(a.key.isEqual(this.key),"Can only transform a document with the same key");return a};a.prototype.serverTransformResults=function(a,b){var d=[];e(this.fieldTransforms.length===b.length,"server transform result count ("+b.length+") "+("should match field transform count ("+this.fieldTransforms.length+")"));for(var c=0;c<b.length;c++){var h=this.fieldTransforms[c],m=h.transform,g=null;a instanceof da&&(g=a.field(h.field)||null);d.push(m.applyToRemoteDocument(g,b[c]))}return d};a.prototype.localTransformResults=
function(a,b){for(var d=[],c=0,e=this.fieldTransforms;c<e.length;c++){var h=e[c],m=h.transform,g=null;b instanceof da&&(g=b.field(h.field)||null);d.push(m.applyToLocalView(g,a))}return d};a.prototype.transformObject=function(a,b){e(b.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var d=0;d<this.fieldTransforms.length;d++)a=a.set(this.fieldTransforms[d].field,b[d]);return a};return a}(Ic),g=function(b){function a(a,c){var d=b.call(this)||this;d.key=a;d.precondition=c;
d.type=zb.Delete;return d}u.__extends(a,b);a.prototype.applyToRemoteDocument=function(a,b){this.verifyKeyMatches(a);e(null==b.transformResults,"Transform results received by DeleteMutation.");return new xb(this.key,b.version,{hasCommittedMutations:!0})};a.prototype.applyToLocalView=function(a,b,c){this.verifyKeyMatches(a);if(!this.precondition.isValidFor(a))return a;a&&e(a.key.isEqual(this.key),"Can only apply mutation to document with same key");return new xb(this.key,Ka.forDeletedDoc())};a.prototype.isEqual=
function(b){return b instanceof a&&this.key.isEqual(b.key)&&this.precondition.isEqual(b.precondition)};Object.defineProperty(a.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0});return a}(Ic),t=function(){function b(){this.isIdempotent=!0}b.prototype.applyToLocalView=function(a,b){return new Ed(b,a)};b.prototype.applyToRemoteDocument=function(a,b){return b};b.prototype.isEqual=
function(a){return a instanceof b};b.instance=new b;return b}(),Q=function(){function b(a){this.elements=a;this.isIdempotent=!0}b.prototype.applyToLocalView=function(a,b){return this.apply(a)};b.prototype.applyToRemoteDocument=function(a,b){return this.apply(a)};b.prototype.apply=function(a){var b=a instanceof Uc?a.internalValue.slice():[];a=function(a){b.find(function(b){return b.isEqual(a)})||b.push(a)};for(var c=0,e=this.elements;c<e.length;c++)a(e[c]);return new Uc(b)};b.prototype.isEqual=function(a){return a instanceof
b&&Oa(a.elements,this.elements)};return b}(),oc=function(){function b(a){this.elements=a;this.isIdempotent=!0}b.prototype.applyToLocalView=function(a,b){return this.apply(a)};b.prototype.applyToRemoteDocument=function(a,b){return this.apply(a)};b.prototype.apply=function(a){var b=a instanceof Uc?a.internalValue.slice():[];a=function(a){b=b.filter(function(b){return!b.isEqual(a)})};for(var c=0,e=this.elements;c<e.length;c++)a(e[c]);return new Uc(b)};b.prototype.isEqual=function(a){return a instanceof
b&&Oa(a.elements,this.elements)};return b}(),ud=function(){function b(a){this.operand=a;this.isIdempotent=!1}b.prototype.applyToLocalView=function(a,b){return a instanceof xc&&this.operand instanceof xc?(a=a.internalValue+this.operand.internalValue,new xc(a)):a instanceof Fb?(a=a.internalValue+this.operand.internalValue,new yb(a)):this.operand};b.prototype.applyToRemoteDocument=function(a,b){e(null!==b,"Didn't receive transformResult for NUMERIC_ADD transform");return b};b.prototype.isEqual=function(a){return a instanceof
b&&this.operand.isEqual(a.operand)};return b}(),jd=function(){function b(a){this.count=a}b.prototype.isEqual=function(a){return a&&a.count===this.count};return b}(),Ga;(function(b){b[b.OK=0]="OK";b[b.CANCELLED=1]="CANCELLED";b[b.UNKNOWN=2]="UNKNOWN";b[b.INVALID_ARGUMENT=3]="INVALID_ARGUMENT";b[b.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED";b[b.NOT_FOUND=5]="NOT_FOUND";b[b.ALREADY_EXISTS=6]="ALREADY_EXISTS";b[b.PERMISSION_DENIED=7]="PERMISSION_DENIED";b[b.UNAUTHENTICATED=16]="UNAUTHENTICATED";b[b.RESOURCE_EXHAUSTED=
8]="RESOURCE_EXHAUSTED";b[b.FAILED_PRECONDITION=9]="FAILED_PRECONDITION";b[b.ABORTED=10]="ABORTED";b[b.OUT_OF_RANGE=11]="OUT_OF_RANGE";b[b.UNIMPLEMENTED=12]="UNIMPLEMENTED";b[b.INTERNAL=13]="INTERNAL";b[b.UNAVAILABLE=14]="UNAVAILABLE";b[b.DATA_LOSS=15]="DATA_LOSS"})(Ga||(Ga={}));var ob=new cb(pa.comparator),kd=new cb(pa.comparator),Kd=new cb(pa.comparator),oe=new nb(pa.comparator),be=new nb(qa),Ea=function(){function b(a){this.comparator=a?function(b,c){return a(b,c)||pa.comparator(b.key,c.key)}:
function(a,b){return pa.comparator(a.key,b.key)};this.keyedMap=kd;this.sortedSet=new cb(this.comparator)}b.emptySet=function(a){return new b(a.comparator)};b.prototype.has=function(a){return null!=this.keyedMap.get(a)};b.prototype.get=function(a){return this.keyedMap.get(a)};b.prototype.first=function(){return this.sortedSet.minKey()};b.prototype.last=function(){return this.sortedSet.maxKey()};b.prototype.isEmpty=function(){return this.sortedSet.isEmpty()};b.prototype.indexOf=function(a){return(a=
this.keyedMap.get(a))?this.sortedSet.indexOf(a):-1};Object.defineProperty(b.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0});b.prototype.forEach=function(a){this.sortedSet.inorderTraversal(function(b,c){a(b);return!1})};b.prototype.add=function(a){var b=this.delete(a.key);return b.copy(b.keyedMap.insert(a.key,a),b.sortedSet.insert(a,null))};b.prototype.delete=function(a){var b=this.get(a);return b?this.copy(this.keyedMap.remove(a),this.sortedSet.remove(b)):
this};b.prototype.isEqual=function(a){if(!(a instanceof b)||this.size!==a.size)return!1;var d=this.sortedSet.getIterator();for(a=a.sortedSet.getIterator();d.hasNext();){var c=d.getNext().key,e=a.getNext().key;if(!c.isEqual(e))return!1}return!0};b.prototype.toString=function(){var a=[];this.forEach(function(b){a.push(b.toString())});return 0===a.length?"DocumentSet ()":"DocumentSet (\n  "+a.join("  \n")+"\n)"};b.prototype.copy=function(a,d){var c=new b;c.comparator=this.comparator;c.keyedMap=a;c.sortedSet=
d;return c};return b}(),Aa;(function(b){b[b.Added=0]="Added";b[b.Removed=1]="Removed";b[b.Modified=2]="Modified";b[b.Metadata=3]="Metadata"})(Aa||(Aa={}));var pe;(function(b){b[b.Local=0]="Local";b[b.Synced=1]="Synced"})(pe||(pe={}));var pc=function(){function b(){this.changeMap=new cb(pa.comparator)}b.prototype.track=function(a){var b=a.doc.key,c=this.changeMap.get(b);c?a.type!==Aa.Added&&c.type===Aa.Metadata?this.changeMap=this.changeMap.insert(b,a):a.type===Aa.Metadata&&c.type!==Aa.Removed?this.changeMap=
this.changeMap.insert(b,{type:c.type,doc:a.doc}):a.type===Aa.Modified&&c.type===Aa.Modified?this.changeMap=this.changeMap.insert(b,{type:Aa.Modified,doc:a.doc}):a.type===Aa.Modified&&c.type===Aa.Added?this.changeMap=this.changeMap.insert(b,{type:Aa.Added,doc:a.doc}):a.type===Aa.Removed&&c.type===Aa.Added?this.changeMap=this.changeMap.remove(b):a.type===Aa.Removed&&c.type===Aa.Modified?this.changeMap=this.changeMap.insert(b,{type:Aa.Removed,doc:c.doc}):a.type===Aa.Added&&c.type===Aa.Removed?this.changeMap=
this.changeMap.insert(b,{type:Aa.Modified,doc:a.doc}):k("unsupported combination of changes: "+JSON.stringify(a)+" after "+JSON.stringify(c)):this.changeMap=this.changeMap.insert(b,a)};b.prototype.getChanges=function(){var a=[];this.changeMap.inorderTraversal(function(b,c){a.push(c)});return a};return b}(),Ae=function(){function b(a,b,c,e,h,g,f,l){this.query=a;this.docs=b;this.oldDocs=c;this.docChanges=e;this.mutatedKeys=h;this.fromCache=g;this.syncStateChanged=f;this.excludesMetadataChanges=l}b.fromInitialDocuments=
function(a,d,c,e){var h=[];d.forEach(function(a){h.push({type:Aa.Added,doc:a})});return new b(a,d,Ea.emptySet(d),h,c,e,!0,!1)};Object.defineProperty(b.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0});b.prototype.isEqual=function(a){if(!(this.fromCache===a.fromCache&&this.syncStateChanged===a.syncStateChanged&&this.mutatedKeys.isEqual(a.mutatedKeys)&&this.query.isEqual(a.query)&&this.docs.isEqual(a.docs)&&this.oldDocs.isEqual(a.oldDocs)))return!1;
var b=this.docChanges;a=a.docChanges;if(b.length!==a.length)return!1;for(var c=0;c<b.length;c++)if(b[c].type!==a[c].type||!b[c].doc.isEqual(a[c].doc))return!1;return!0};return b}(),Gf=function(){function b(a,b,c,e,h){this.snapshotVersion=a;this.targetChanges=b;this.targetMismatches=c;this.documentUpdates=e;this.resolvedLimboDocuments=h}b.createSynthesizedRemoteEventForCurrentChange=function(a,d){var c;a=(c={},c[a]=If.createSynthesizedTargetChangeForCurrentChange(a,d),c);return new b(Ka.MIN,a,be,ob,
wa())};return b}(),If=function(){function b(a,b,c,e,h){this.resumeToken=a;this.current=b;this.addedDocuments=c;this.modifiedDocuments=e;this.removedDocuments=h}b.createSynthesizedTargetChangeForCurrentChange=function(a,d){return new b(S(),d,wa(),wa(),wa())};return b}(),qc=function(){return function(b,a,d,c){this.updatedTargetIds=b;this.removedTargetIds=a;this.key=d;this.newDoc=c}}(),oa=function(){return function(b,a){this.targetId=b;this.existenceFilter=a}}(),bb;(function(b){b[b.NoChange=0]="NoChange";
b[b.Added=1]="Added";b[b.Removed=2]="Removed";b[b.Current=3]="Current";b[b.Reset=4]="Reset"})(bb||(bb={}));var $c=function(){return function(b,a,d,c){void 0===d&&(d=S());void 0===c&&(c=null);this.state=b;this.targetIds=a;this.resumeToken=d;this.cause=c}}(),Ac=function(){function b(){this.pendingResponses=0;this.documentChanges=new cb(pa.comparator);this._resumeToken=S();this._current=!1;this._hasPendingChanges=!0}Object.defineProperty(b.prototype,"current",{get:function(){return this._current},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0});b.prototype.updateResumeToken=function(a){0<a.length&&(this._hasPendingChanges=!0,this._resumeToken=
a)};b.prototype.toTargetChange=function(){var a=wa(),b=wa(),c=wa();this.documentChanges.forEach(function(d,e){switch(e){case Aa.Added:a=a.add(d);break;case Aa.Modified:b=b.add(d);break;case Aa.Removed:c=c.add(d);break;default:k("Encountered invalid change type: "+e)}});return new If(this._resumeToken,this._current,a,b,c)};b.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1;this.documentChanges=new cb(pa.comparator)};b.prototype.addDocumentChange=function(a,b){this._hasPendingChanges=
!0;this.documentChanges=this.documentChanges.insert(a,b)};b.prototype.removeDocumentChange=function(a){this._hasPendingChanges=!0;this.documentChanges=this.documentChanges.remove(a)};b.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1};b.prototype.recordTargetResponse=function(){--this.pendingResponses};b.prototype.markCurrent=function(){this._current=this._hasPendingChanges=!0};return b}(),Cg=function(){function b(a){this.metadataProvider=a;this.targetStates={};this.pendingDocumentUpdates=
ob;this.pendingDocumentTargetMapping=new cb(pa.comparator);this.pendingTargetResets=new nb(qa)}b.prototype.handleDocumentChange=function(a){for(var b=0,c=a.updatedTargetIds;b<c.length;b++){var e=c[b];a.newDoc instanceof da?this.addDocumentToTarget(e,a.newDoc):a.newDoc instanceof xb&&this.removeDocumentFromTarget(e,a.key,a.newDoc)}b=0;for(c=a.removedTargetIds;b<c.length;b++)e=c[b],this.removeDocumentFromTarget(e,a.key,a.newDoc)};b.prototype.handleTargetChange=function(a){var b=this;this.forEachTarget(a,
function(d){var c=b.ensureTargetState(d);switch(a.state){case bb.NoChange:b.isActiveTarget(d)&&c.updateResumeToken(a.resumeToken);break;case bb.Added:c.recordTargetResponse();c.isPending||c.clearPendingChanges();c.updateResumeToken(a.resumeToken);break;case bb.Removed:c.recordTargetResponse();c.isPending||b.removeTarget(d);e(!a.cause,"WatchChangeAggregator does not handle errored targets");break;case bb.Current:b.isActiveTarget(d)&&(c.markCurrent(),c.updateResumeToken(a.resumeToken));break;case bb.Reset:b.isActiveTarget(d)&&
(b.resetTarget(d),c.updateResumeToken(a.resumeToken));break;default:k("Unknown target watch change state: "+a.state)}})};b.prototype.forEachTarget=function(a,b){0<a.targetIds.length?a.targetIds.forEach(b):fa(this.targetStates,b)};b.prototype.handleExistenceFilter=function(a){var b=a.targetId;a=a.existenceFilter.count;var c=this.queryDataForActiveTarget(b);c&&(c=c.query,c.isDocumentQuery()?0===a?(a=new pa(c.path),this.removeDocumentFromTarget(b,a,new xb(a,Ka.forDeletedDoc()))):e(1===a,"Single document existence filter with count: "+
a):this.getCurrentDocumentCountForTarget(b)!==a&&(this.resetTarget(b),this.pendingTargetResets=this.pendingTargetResets.add(b)))};b.prototype.createRemoteEvent=function(a){var b=this,c={};fa(this.targetStates,function(d,e){var h=b.queryDataForActiveTarget(d);h&&(e.current&&h.query.isDocumentQuery()&&(h=new pa(h.query.path),null!==b.pendingDocumentUpdates.get(h)||b.targetContainsDocument(d,h)||b.removeDocumentFromTarget(d,h,new xb(h,a))),e.hasPendingChanges&&(c[d]=e.toTargetChange(),e.clearPendingChanges()))});
var e=wa();this.pendingDocumentTargetMapping.forEach(function(a,d){var c=!0;d.forEachWhile(function(a){return(a=b.queryDataForActiveTarget(a))&&a.purpose!==vb.LimboResolution?c=!1:!0});c&&(e=e.add(a))});var h=new Gf(a,c,this.pendingTargetResets,this.pendingDocumentUpdates,e);this.pendingDocumentUpdates=ob;this.pendingDocumentTargetMapping=new cb(pa.comparator);this.pendingTargetResets=new nb(qa);return h};b.prototype.addDocumentToTarget=function(a,b){if(this.isActiveTarget(a)){var d=this.targetContainsDocument(a,
b.key)?Aa.Modified:Aa.Added;this.ensureTargetState(a).addDocumentChange(b.key,d);this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(b.key,b);this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(b.key,this.ensureDocumentTargetMapping(b.key).add(a))}};b.prototype.removeDocumentFromTarget=function(a,b,c){if(this.isActiveTarget(a)){var d=this.ensureTargetState(a);this.targetContainsDocument(a,b)?d.addDocumentChange(b,Aa.Removed):d.removeDocumentChange(b);this.pendingDocumentTargetMapping=
this.pendingDocumentTargetMapping.insert(b,this.ensureDocumentTargetMapping(b).delete(a));c&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(b,c))}};b.prototype.removeTarget=function(a){delete this.targetStates[a]};b.prototype.getCurrentDocumentCountForTarget=function(a){var b=this.ensureTargetState(a).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(a).size+b.addedDocuments.size-b.removedDocuments.size};b.prototype.recordPendingTargetRequest=function(a){this.ensureTargetState(a).recordPendingTargetRequest()};
b.prototype.ensureTargetState=function(a){this.targetStates[a]||(this.targetStates[a]=new Ac);return this.targetStates[a]};b.prototype.ensureDocumentTargetMapping=function(a){var b=this.pendingDocumentTargetMapping.get(a);b||(b=new nb(qa),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(a,b));return b};b.prototype.isActiveTarget=function(a){return null!==this.queryDataForActiveTarget(a)};b.prototype.queryDataForActiveTarget=function(a){var b=this.targetStates[a];return b&&
b.isPending?null:this.metadataProvider.getQueryDataForTarget(a)};b.prototype.resetTarget=function(a){var b=this;e(!this.targetStates[a].isPending,"Should only reset active targets");this.targetStates[a]=new Ac;this.metadataProvider.getRemoteKeysForTarget(a).forEach(function(d){b.removeDocumentFromTarget(a,d,null)})};b.prototype.targetContainsDocument=function(a,b){return this.metadataProvider.getRemoteKeysForTarget(a).has(b)};return b}(),Jf=function(){var b={};b[$a.ASCENDING.name]="ASCENDING";b[$a.DESCENDING.name]=
"DESCENDING";return b}(),de=function(){var b={};b[Pa.LESS_THAN.name]="LESS_THAN";b[Pa.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL";b[Pa.GREATER_THAN.name]="GREATER_THAN";b[Pa.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL";b[Pa.EQUAL.name]="EQUAL";b[Pa.ARRAY_CONTAINS.name]="ARRAY_CONTAINS";return b}(),J=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),jf=function(){function c(a,b){this.databaseId=a;this.options=b}c.prototype.emptyByteString=function(){return this.options.useProto3Json?
"":new Uint8Array(0)};c.prototype.unsafeCastProtoByteString=function(a){return a};c.prototype.fromRpcStatus=function(a){var b=void 0===a.code?D.UNKNOWN:Kb(a.code);return new P(b,a.message||"")};c.prototype.toInt32Value=function(a){if(!V(a))return{value:a}};c.prototype.fromInt32Value=function(a){a="object"===typeof a?a.value:a;return V(a)?null:a};c.prototype.toTimestamp=function(a){return{seconds:a.seconds,nanos:a.nanoseconds}};c.prototype.fromTimestamp=function(a){if("string"===typeof a)return this.fromIso8601String(a);
e(!!a,"Cannot deserialize null or undefined timestamp.");var b=la(a.seconds||"0");return new Da(b,a.nanos||0)};c.prototype.fromIso8601String=function(a){var b=0,c=J.exec(a);e(!!c,"invalid timestamp: "+a);c[1]&&(b=c[1],b=(b+"000000000").substr(0,9),b=Number(b));a=Math.floor((new Date(a)).getTime()/1E3);return new Da(a,b)};c.prototype.toBytes=function(a){return this.options.useProto3Json?a.toBase64():this.unsafeCastProtoByteString(a.toUint8Array())};c.prototype.fromBlob=function(a){if("string"===typeof a)return e(this.options.useProto3Json,
"Expected bytes to be passed in as Uint8Array, but got a string instead."),Rc.fromBase64String(a);e(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead.");return Rc.fromUint8Array(a)};c.prototype.toVersion=function(a){return this.toTimestamp(a.toTimestamp())};c.prototype.fromVersion=function(a){e(!!a,"Trying to deserialize version that isn't set");return Ka.fromTimestamp(this.fromTimestamp(a))};c.prototype.toResourceName=function(a,b){return this.fullyQualifiedPrefixPath(a).child("documents").child(b).canonicalString()};
c.prototype.fromResourceName=function(a){a=Ma.fromString(a);e(this.isValidResourceName(a),"Tried to deserialize invalid key "+a.toString());return a};c.prototype.toName=function(a){return this.toResourceName(this.databaseId,a.path)};c.prototype.fromName=function(a){a=this.fromResourceName(a);e(a.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+a.get(1)+" vs "+this.databaseId.projectId);e(!a.get(3)&&!this.databaseId.database||a.get(3)===this.databaseId.database,
"Tried to deserialize key from different database: "+a.get(3)+" vs "+this.databaseId.database);return new pa(this.extractLocalPathFromResourceName(a))};c.prototype.toQueryPath=function(a){return this.toResourceName(this.databaseId,a)};c.prototype.fromQueryPath=function(a){a=this.fromResourceName(a);return 4===a.length?Ma.EMPTY_PATH:this.extractLocalPathFromResourceName(a)};Object.defineProperty(c.prototype,"encodedDatabaseId",{get:function(){return(new Ma(["projects",this.databaseId.projectId,"databases",
this.databaseId.database])).canonicalString()},enumerable:!0,configurable:!0});c.prototype.fullyQualifiedPrefixPath=function(a){return new Ma(["projects",a.projectId,"databases",a.database])};c.prototype.extractLocalPathFromResourceName=function(a){e(4<a.length&&"documents"===a.get(4),"tried to deserialize invalid key "+a.toString());return a.popFirst(5)};c.prototype.isValidResourceName=function(a){return 4<=a.length&&"projects"===a.get(0)&&"databases"===a.get(2)};c.prototype.toValue=function(a){if(a instanceof
Yd)return{nullValue:"NULL_VALUE"};if(a instanceof sb)return{booleanValue:a.value()};if(a instanceof xc)return{integerValue:""+a.value()};if(a instanceof yb){var b=a.value();if(this.options.useProto3Json){if(isNaN(b))return{doubleValue:"NaN"};if(Infinity===b)return{doubleValue:"Infinity"};if(-Infinity===b)return{doubleValue:"-Infinity"}}return{doubleValue:a.value()}}return a instanceof gc?{stringValue:a.value()}:a instanceof yc?{mapValue:this.toMapValue(a)}:a instanceof Uc?{arrayValue:this.toArrayValue(a)}:
a instanceof Tc?{timestampValue:this.toTimestamp(a.internalValue)}:a instanceof Pe?{geoPointValue:{latitude:a.value().latitude,longitude:a.value().longitude}}:a instanceof Fd?{bytesValue:this.toBytes(a.value())}:a instanceof Gb?{referenceValue:this.toResourceName(a.databaseId,a.key.path)}:k("Unknown FieldValue "+JSON.stringify(a))};c.prototype.fromValue=function(a){var b=this,c=a.value_type;if(ra(a,c,"nullValue"))return Yd.INSTANCE;if(ra(a,c,"booleanValue"))return sb.of(a.booleanValue);if(ra(a,c,
"integerValue"))return new xc(la(a.integerValue));if(ra(a,c,"doubleValue")){if(this.options.useProto3Json){if("NaN"===a.doubleValue)return yb.NAN;if("Infinity"===a.doubleValue)return yb.POSITIVE_INFINITY;if("-Infinity"===a.doubleValue)return yb.NEGATIVE_INFINITY}return new yb(a.doubleValue)}return ra(a,c,"stringValue")?new gc(a.stringValue):ra(a,c,"mapValue")?this.fromFields(a.mapValue.fields||{}):ra(a,c,"arrayValue")?(Ta(a.arrayValue,"arrayValue"),new Uc((a.arrayValue.values||[]).map(function(a){return b.fromValue(a)}))):
ra(a,c,"timestampValue")?(Ta(a.timestampValue,"timestampValue"),new Tc(this.fromTimestamp(a.timestampValue))):ra(a,c,"geoPointValue")?(Ta(a.geoPointValue,"geoPointValue"),new Pe(new Qb(a.geoPointValue.latitude||0,a.geoPointValue.longitude||0))):ra(a,c,"bytesValue")?(Ta(a.bytesValue,"bytesValue"),a=this.fromBlob(a.bytesValue),new Fd(a)):ra(a,c,"referenceValue")?(Ta(a.referenceValue,"referenceValue"),c=this.fromResourceName(a.referenceValue),a=new vc(c.get(1),c.get(3)),c=new pa(this.extractLocalPathFromResourceName(c)),
new Gb(a,c)):k("Unknown Value proto "+JSON.stringify(a))};c.prototype.toMutationDocument=function(a,b){return{name:this.toName(a),fields:this.toFields(b)}};c.prototype.toDocument=function(a){e(!a.hasLocalMutations,"Can't serialize documents with mutations.");return{name:this.toName(a.key),fields:this.toFields(a.data),updateTime:this.toTimestamp(a.version.toTimestamp())}};c.prototype.fromDocument=function(a,b){return new da(this.fromName(a.name),this.fromVersion(a.updateTime),this.fromFields(a.fields||
{}),{hasCommittedMutations:!!b})};c.prototype.toFields=function(a){var b=this,c={};a.forEach(function(a,d){c[a]=b.toValue(d)});return c};c.prototype.fromFields=function(a){var b=this,c=yc.EMPTY;F(a,function(a,d){c=c.set(new Va([a]),b.fromValue(d))});return c};c.prototype.toMapValue=function(a){return{fields:this.toFields(a)}};c.prototype.toArrayValue=function(a){var b=this,c=[];a.forEach(function(a){c.push(b.toValue(a))});return{values:c}};c.prototype.fromFound=function(a){e(!!a.found,"Tried to deserialize a found document from a missing document.");
Ta(a.found.name,"doc.found.name");Ta(a.found.updateTime,"doc.found.updateTime");var b=this.fromName(a.found.name),c=this.fromVersion(a.found.updateTime),h=this.fromFields(a.found.fields||{});return new da(b,c,h,{},a.found)};c.prototype.fromMissing=function(a){e(!!a.missing,"Tried to deserialize a missing document from a found document.");e(!!a.readTime,"Tried to deserialize a missing document without a read time.");var b=this.fromName(a.missing);a=this.fromVersion(a.readTime);return new xb(b,a)};
c.prototype.fromMaybeDocument=function(a){var b=a.result;return ra(a,b,"found")?this.fromFound(a):ra(a,b,"missing")?this.fromMissing(a):k("invalid batch get response: "+JSON.stringify(a))};c.prototype.toWatchTargetChangeState=function(a){switch(a){case bb.Added:return"ADD";case bb.Current:return"CURRENT";case bb.NoChange:return"NO_CHANGE";case bb.Removed:return"REMOVE";case bb.Reset:return"RESET";default:return k("Unknown WatchTargetChangeState: "+a)}};c.prototype.toTestWatchChange=function(a){if(a instanceof
oa)return{filter:{count:a.existenceFilter.count,targetId:a.targetId}};if(a instanceof qc){if(a.newDoc instanceof da){var b=a.newDoc;return{documentChange:{document:{name:this.toName(b.key),fields:this.toFields(b.data),updateTime:this.toVersion(b.version)},targetIds:a.updatedTargetIds,removedTargetIds:a.removedTargetIds}}}if(a.newDoc instanceof xb)return b=a.newDoc,{documentDelete:{document:this.toName(b.key),readTime:this.toVersion(b.version),removedTargetIds:a.removedTargetIds}};if(null===a.newDoc)return{documentRemove:{document:this.toName(a.key),
removedTargetIds:a.removedTargetIds}}}return a instanceof $c?(b=void 0,a.cause&&(b={code:Bb(a.cause.code),message:a.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(a.state),targetIds:a.targetIds,resumeToken:this.unsafeCastProtoByteString(a.resumeToken),cause:b}}):k("Unrecognized watch change: "+JSON.stringify(a))};c.prototype.fromWatchChange=function(a){var b=a.response_type;if(ra(a,b,"targetChange")){Ta(a.targetChange,"targetChange");b=this.fromWatchTargetChangeState(a.targetChange.targetChangeType||
"NO_CHANGE");var c=a.targetChange.targetIds||[],e=a.targetChange.resumeToken||this.emptyByteString();a=(a=a.targetChange.cause)&&this.fromRpcStatus(a);b=new $c(b,c,e,a||null)}else if(ra(a,b,"documentChange"))Ta(a.documentChange,"documentChange"),Ta(a.documentChange.document,"documentChange.name"),Ta(a.documentChange.document.name,"documentChange.document.name"),Ta(a.documentChange.document.updateTime,"documentChange.document.updateTime"),c=a.documentChange,b=this.fromName(c.document.name),e=this.fromVersion(c.document.updateTime),
a=this.fromFields(c.document.fields||{}),b=new da(b,e,a,{},c.document),e=c.removedTargetIds||[],b=new qc(c.targetIds||[],e,b.key,b);else if(ra(a,b,"documentDelete"))Ta(a.documentDelete,"documentDelete"),Ta(a.documentDelete.document,"documentDelete.document"),c=a.documentDelete,b=this.fromName(c.document),e=c.readTime?this.fromVersion(c.readTime):Ka.forDeletedDoc(),b=new xb(b,e),e=c.removedTargetIds||[],b=new qc([],e,b.key,b);else if(ra(a,b,"documentRemove"))Ta(a.documentRemove,"documentRemove"),Ta(a.documentRemove.document,
"documentRemove"),c=a.documentRemove,b=this.fromName(c.document),e=c.removedTargetIds||[],b=new qc([],e,b,null);else if(ra(a,b,"filter"))Ta(a.filter,"filter"),Ta(a.filter.targetId,"filter.targetId"),b=a.filter,c=new jd(b.count||0),b=new oa(b.targetId,c);else return k("Unknown change type "+JSON.stringify(a));return b};c.prototype.fromWatchTargetChangeState=function(a){return"NO_CHANGE"===a?bb.NoChange:"ADD"===a?bb.Added:"REMOVE"===a?bb.Removed:"CURRENT"===a?bb.Current:"RESET"===a?bb.Reset:k("Got unexpected TargetChange.state: "+
a)};c.prototype.versionFromListenResponse=function(a){if(!ra(a,a.response_type,"targetChange"))return Ka.MIN;a=a.targetChange;return a.targetIds&&a.targetIds.length||!a.readTime?Ka.MIN:this.fromVersion(a.readTime)};c.prototype.toMutation=function(a){var d=this;if(a instanceof Jc)var c={update:this.toMutationDocument(a.key,a.value)};else if(a instanceof g)c={delete:this.toName(a.key)};else if(a instanceof l)c={update:this.toMutationDocument(a.key,a.data),updateMask:this.toDocumentMask(a.fieldMask)};
else if(a instanceof b)c={transform:{document:this.toName(a.key),fieldTransforms:a.fieldTransforms.map(function(a){return d.toFieldTransform(a)})}};else return k("Unknown mutation type "+a.type);a.precondition.isNone||(c.currentDocument=this.toPrecondition(a.precondition));return c};c.prototype.fromMutation=function(a){var d=this,c=a.currentDocument?this.fromPrecondition(a.currentDocument):Tb.NONE;if(a.update){Ta(a.update.name,"name");var h=this.fromName(a.update.name),f=this.fromFields(a.update.fields||
{});return a.updateMask?(a=this.fromDocumentMask(a.updateMask),new l(h,f,a,c)):new Jc(h,f,c)}return a.delete?(h=this.fromName(a.delete),new g(h,c)):a.transform?(h=this.fromName(a.transform.document),f=a.transform.fieldTransforms.map(function(a){return d.fromFieldTransform(a)}),e(!0===c.exists,'Transforms only support precondition "exists \x3d\x3d true"'),new b(h,f)):k("unknown mutation proto: "+JSON.stringify(a))};c.prototype.toPrecondition=function(a){e(!a.isNone,"Can't serialize an empty precondition");
return void 0!==a.updateTime?{updateTime:this.toVersion(a.updateTime)}:void 0!==a.exists?{exists:a.exists}:k("Unknown precondition")};c.prototype.fromPrecondition=function(a){return void 0!==a.updateTime?Tb.updateTime(this.fromVersion(a.updateTime)):void 0!==a.exists?Tb.exists(a.exists):Tb.NONE};c.prototype.fromWriteResult=function(a,b){var d=this;b=a.updateTime?this.fromVersion(a.updateTime):this.fromVersion(b);var c=null;a.transformResults&&0<a.transformResults.length&&(c=a.transformResults.map(function(a){return d.fromValue(a)}));
return new Sb(b,c)};c.prototype.fromWriteResults=function(a,b){var d=this;return a&&0<a.length?(e(void 0!==b,"Received a write result without a commit time"),a.map(function(a){return d.fromWriteResult(a,b)})):[]};c.prototype.toFieldTransform=function(a){var b=this,c=a.transform;if(c instanceof t)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Q)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements.map(function(a){return b.toValue(a)})}};
if(c instanceof oc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements.map(function(a){return b.toValue(a)})}};if(c instanceof ud)return{fieldPath:a.field.canonicalString(),increment:this.toValue(c.operand)};throw k("Unknown transform: "+a.transform);};c.prototype.fromFieldTransform=function(a){var b=this,c=a.transform_type,h=null;ra(a,c,"setToServerValue")?(e("REQUEST_TIME"===a.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(a)),h=t.instance):
ra(a,c,"appendMissingElements")?(h=a.appendMissingElements.values||[],h=new Q(h.map(function(a){return b.fromValue(a)}))):ra(a,c,"removeAllFromArray")?(h=a.removeAllFromArray.values||[],h=new oc(h.map(function(a){return b.fromValue(a)}))):ra(a,c,"increment")?(h=this.fromValue(a.increment),e(h instanceof Fb,"NUMERIC_ADD transform requires a NumberValue"),h=new ud(h)):k("Unknown transform proto: "+JSON.stringify(a));a=Va.fromServerFormat(a.fieldPath);return new id(a,h)};c.prototype.toDocumentsTarget=
function(a){return{documents:[this.toQueryPath(a.path)]}};c.prototype.fromDocumentsTarget=function(a){var b=a.documents.length;e(1===b,"DocumentsTarget contained other than 1 document: "+b);return Za.atPath(this.fromQueryPath(a.documents[0]))};c.prototype.toQueryTarget=function(a){var b={structuredQuery:{}},c=a.path;null!==a.collectionGroup?(e(0===c.length%2,"Collection Group queries should be within a document path or root."),b.parent=this.toQueryPath(c),b.structuredQuery.from=[{collectionId:a.collectionGroup,
allDescendants:!0}]):(e(0!==c.length%2,"Document queries with filters are not supported."),b.parent=this.toQueryPath(c.popLast()),b.structuredQuery.from=[{collectionId:c.lastSegment()}]);if(c=this.toFilter(a.filters))b.structuredQuery.where=c;if(c=this.toOrder(a.orderBy))b.structuredQuery.orderBy=c;c=this.toInt32Value(a.limit);void 0!==c&&(b.structuredQuery.limit=c);a.startAt&&(b.structuredQuery.startAt=this.toCursor(a.startAt));a.endAt&&(b.structuredQuery.endAt=this.toCursor(a.endAt));return b};
c.prototype.fromQueryTarget=function(a){var b=this.fromQueryPath(a.parent);a=a.structuredQuery;var c=a.from?a.from.length:0,h=null;0<c&&(e(1===c,"StructuredQuery.from with more than one collection is not supported."),c=a.from[0],c.allDescendants?h=c.collectionId:b=b.child(c.collectionId));c=[];a.where&&(c=this.fromFilter(a.where));var g=[];a.orderBy&&(g=this.fromOrder(a.orderBy));var f=null;a.limit&&(f=this.fromInt32Value(a.limit));var l=null;a.startAt&&(l=this.fromCursor(a.startAt));var k=null;a.endAt&&
(k=this.fromCursor(a.endAt));return new Za(b,h,g,c,f,l,k)};c.prototype.toListenRequestLabels=function(a){a=this.toLabel(a.purpose);return null==a?null:{"goog-listen-tags":a}};c.prototype.toLabel=function(a){switch(a){case vb.Listen:return null;case vb.ExistenceFilterMismatch:return"existence-filter-mismatch";case vb.LimboResolution:return"limbo-document";default:return k("Unrecognized query purpose: "+a)}};c.prototype.toTarget=function(a){var b=a.query;b=b.isDocumentQuery()?{documents:this.toDocumentsTarget(b)}:
{query:this.toQueryTarget(b)};b.targetId=a.targetId;0<a.resumeToken.length&&(b.resumeToken=this.unsafeCastProtoByteString(a.resumeToken));return b};c.prototype.toFilter=function(a){var b=this;if(0!==a.length)return a=a.map(function(a){return a instanceof Xc?b.toRelationFilter(a):b.toUnaryFilter(a)}),1===a.length?a[0]:{compositeFilter:{op:"AND",filters:a}}};c.prototype.fromFilter=function(a){var b=this;return a?void 0!==a.unaryFilter?[this.fromUnaryFilter(a)]:void 0!==a.fieldFilter?[this.fromRelationFilter(a)]:
void 0!==a.compositeFilter?a.compositeFilter.filters.map(function(a){return b.fromFilter(a)}).reduce(function(a,b){return a.concat(b)}):k("Unknown filter: "+JSON.stringify(a)):[]};c.prototype.toOrder=function(a){var b=this;if(0!==a.length)return a.map(function(a){return b.toPropertyOrder(a)})};c.prototype.fromOrder=function(a){var b=this;return a.map(function(a){return b.fromPropertyOrder(a)})};c.prototype.toCursor=function(a){var b=this;return{before:a.before,values:a.position.map(function(a){return b.toValue(a)})}};
c.prototype.fromCursor=function(a){var b=this,c=!!a.before;a=a.values.map(function(a){return b.fromValue(a)});return new Re(a,c)};c.prototype.toDirection=function(a){return Jf[a.name]};c.prototype.fromDirection=function(a){switch(a){case "ASCENDING":return $a.ASCENDING;case "DESCENDING":return $a.DESCENDING}};c.prototype.toOperatorName=function(a){return de[a.name]};c.prototype.fromOperatorName=function(a){switch(a){case "EQUAL":return Pa.EQUAL;case "GREATER_THAN":return Pa.GREATER_THAN;case "GREATER_THAN_OR_EQUAL":return Pa.GREATER_THAN_OR_EQUAL;
case "LESS_THAN":return Pa.LESS_THAN;case "LESS_THAN_OR_EQUAL":return Pa.LESS_THAN_OR_EQUAL;case "ARRAY_CONTAINS":return Pa.ARRAY_CONTAINS;case "OPERATOR_UNSPECIFIED":return k("Unspecified relation");default:return k("Unknown relation")}};c.prototype.toFieldPathReference=function(a){return{fieldPath:a.canonicalString()}};c.prototype.fromFieldPathReference=function(a){return Va.fromServerFormat(a.fieldPath)};c.prototype.toPropertyOrder=function(a){return{field:this.toFieldPathReference(a.field),direction:this.toDirection(a.dir)}};
c.prototype.fromPropertyOrder=function(a){return new ab(this.fromFieldPathReference(a.field),this.fromDirection(a.direction))};c.prototype.toRelationFilter=function(a){return a instanceof Xc?{fieldFilter:{field:this.toFieldPathReference(a.field),op:this.toOperatorName(a.op),value:this.toValue(a.value)}}:k("Unrecognized filter: "+JSON.stringify(a))};c.prototype.fromRelationFilter=function(a){return new Xc(this.fromFieldPathReference(a.fieldFilter.field),this.fromOperatorName(a.fieldFilter.op),this.fromValue(a.fieldFilter.value))};
c.prototype.toUnaryFilter=function(a){return a instanceof Gd?{unaryFilter:{field:this.toFieldPathReference(a.field),op:"IS_NAN"}}:a instanceof Zd?{unaryFilter:{field:this.toFieldPathReference(a.field),op:"IS_NULL"}}:k("Unrecognized filter: "+JSON.stringify(a))};c.prototype.fromUnaryFilter=function(a){switch(a.unaryFilter.op){case "IS_NAN":return a=this.fromFieldPathReference(a.unaryFilter.field),new Gd(a);case "IS_NULL":return a=this.fromFieldPathReference(a.unaryFilter.field),new Zd(a);case "OPERATOR_UNSPECIFIED":return k("Unspecified filter");
default:return k("Unknown filter")}};c.prototype.toDocumentMask=function(a){var b=[];a.fields.forEach(function(a){return b.push(a.canonicalString())});return{fieldPaths:b}};c.prototype.fromDocumentMask=function(a){a=(a.fieldPaths||[]).map(function(a){return Va.fromServerFormat(a)});return zc.fromArray(a)};return c}(),Kf=function(){function b(a){this.sendFn=a.sendFn;this.closeFn=a.closeFn}b.prototype.onOpen=function(a){e(!this.wrappedOnOpen,"Called onOpen on stream twice!");this.wrappedOnOpen=a};b.prototype.onClose=
function(a){e(!this.wrappedOnClose,"Called onClose on stream twice!");this.wrappedOnClose=a};b.prototype.onMessage=function(a){e(!this.wrappedOnMessage,"Called onMessage on stream twice!");this.wrappedOnMessage=a};b.prototype.close=function(){this.closeFn()};b.prototype.send=function(a){this.sendFn(a)};b.prototype.callOnOpen=function(){e(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set");this.wrappedOnOpen()};b.prototype.callOnClose=function(a){e(void 0!==this.wrappedOnClose,
"Cannot call onClose because no callback was set");this.wrappedOnClose(a)};b.prototype.callOnMessage=function(a){e(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set");this.wrappedOnMessage(a)};return b}(),Md={BatchGetDocuments:"batchGet",Commit:"commit"},Dg="gl-js/ fire/"+mc,gg=function(){function b(a){this.databaseId=a.databaseId;this.baseUrl=(a.ssl?"https":"http")+"://"+a.host;this.forceLongPolling=a.forceLongPolling}b.prototype.modifyHeadersForRequest=function(a,
b){if(b)for(var d in b.authHeaders)b.authHeaders.hasOwnProperty(d)&&(a[d]=b.authHeaders[d]);a["X-Goog-Api-Client"]=Dg};b.prototype.invokeRPC=function(a,b,c){var d=this,e=this.makeUrl(a);return new Promise(function(h,m){var g=new H.XhrIo;g.listenOnce(H.EventType.COMPLETE,function(){try{switch(g.getLastErrorCode()){case H.ErrorCode.NO_ERROR:var b=g.getResponseJson();x("Connection","XHR received:",JSON.stringify(b));h(b);break;case H.ErrorCode.TIMEOUT:x("Connection",'RPC "'+a+'" timed out');m(new P(D.DEADLINE_EXCEEDED,
"Request time out"));break;case H.ErrorCode.HTTP_ERROR:var d=g.getStatus();x("Connection",'RPC "'+a+'" failed with status:',d,"response text:",g.getResponseText());0<d?m(new P(Ba(d),"Server responded with status "+g.getStatusText())):(x("Connection",'RPC "'+a+'" failed'),m(new P(D.UNAVAILABLE,"Connection failed.")));break;default:k('RPC "'+a+'" failed with unanticipated webchannel error '+g.getLastErrorCode()+": "+g.getLastError()+", giving up.")}}finally{x("Connection",'RPC "'+a+'" completed.')}});
var f=JSON.stringify(b);x("Connection","XHR sending: ",e+" "+f);var l={"Content-Type":"text/plain"};d.modifyHeadersForRequest(l,c);g.send(e,"POST",f,l,15)})};b.prototype.invokeStreamingRPC=function(a,b,c){return this.invokeRPC(a,b,c)};b.prototype.openStream=function(a,b){var d=[this.baseUrl,"/","google.firestore.v1.Firestore","/",a,"/channel"];a=H.createWebChannelTransport();var c={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+
this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6E5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(c.initMessageHeaders,b);Wd.isReactNative()||(c.httpHeadersOverwriteParam="$httpHeaders");b=d.join("");x("Connection","Creating WebChannel: "+b+" "+c);var h=a.createWebChannel(b,c),g=!1,f=!1,l=new Kf({sendFn:function(a){f?x("Connection","Not sending because WebChannel is closed:",
a):(g||(x("Connection","Opening WebChannel transport."),h.open(),g=!0),x("Connection","WebChannel sending:",a),h.send(a))},closeFn:function(){return h.close()}});b=function(a,b){h.listen(a,function(a){try{b(a)}catch(vf){setTimeout(function(){throw vf;},0)}})};b(H.WebChannel.EventType.OPEN,function(){f||x("Connection","WebChannel transport opened.")});b(H.WebChannel.EventType.CLOSE,function(){f||(f=!0,x("Connection","WebChannel transport closed"),l.callOnClose())});b(H.WebChannel.EventType.ERROR,function(a){f||
(f=!0,x("Connection","WebChannel transport errored:",a),l.callOnClose(new P(D.UNAVAILABLE,"The operation could not be completed")))});b(H.WebChannel.EventType.MESSAGE,function(a){if(!f){var b=a.data[0];e(!!b,"Got a webchannel message without data.");if(a=b.error||b[0]&&b[0].error){x("Connection","WebChannel received error:",a);b=a.status;var d=Ga[b];d=void 0===d?void 0:Kb(d);var c=a.message;void 0===d&&(d=D.INTERNAL,c="Unknown error status: "+b+" with message "+a.message);f=!0;l.callOnClose(new P(d,
c));h.close()}else x("Connection","WebChannel received:",b),l.callOnMessage(b)}});setTimeout(function(){l.callOnOpen()},0);return l};b.prototype.makeUrl=function(a){var b=Md[a];e(void 0!==b,"Unknown REST mapping for: "+a);a=[this.baseUrl,"/","v1"];a.push("/projects/");a.push(this.databaseId.projectId);a.push("/databases/");a.push(this.databaseId.database);a.push("/documents");a.push(":");a.push(b);return a.join("")};return b}(),Lf=function(){function b(){this.emptyByteString="";this.base64Available=
"undefined"!==typeof atob}Object.defineProperty(b.prototype,"document",{get:function(){return"undefined"!==typeof document?document:null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"window",{get:function(){return"undefined"!==typeof window?window:null},enumerable:!0,configurable:!0});b.prototype.loadConnection=function(a){return Promise.resolve(new gg(a))};b.prototype.newSerializer=function(a){return new jf(a,{useProto3Json:!0})};b.prototype.formatJSON=function(a){return JSON.stringify(a)};
b.prototype.atob=function(a){return atob(a)};b.prototype.btoa=function(a){return btoa(a)};return b}();cc.setPlatform(new Lf);var rc=function(){function b(a,b){var d=this;this.previousValue=a;b&&(b.sequenceNumberHandler=function(a){return d.setPreviousValue(a)},this.writeNewSequenceNumber=function(a){return b.writeSequenceNumber(a)})}b.prototype.setPreviousValue=function(a){return this.previousValue=Math.max(a,this.previousValue)};b.prototype.next=function(){var a=++this.previousValue;this.writeNewSequenceNumber&&
this.writeNewSequenceNumber(a);return a};b.INVALID=-1;return b}(),Hc=function(){return function(){var b=this;this.promise=new Promise(function(a,d){b.resolve=a;b.reject=d})}}(),Bc;(function(b){b.All="all";b.ListenStreamIdle="listen_stream_idle";b.ListenStreamConnectionBackoff="listen_stream_connection_backoff";b.WriteStreamIdle="write_stream_idle";b.WriteStreamConnectionBackoff="write_stream_connection_backoff";b.OnlineStateTimeout="online_state_timeout";b.ClientMetadataRefresh="client_metadata_refresh";
b.LruGarbageCollection="lru_garbage_collection"})(Bc||(Bc={}));var lf=function(){function b(a,b,c,e,h){this.asyncQueue=a;this.timerId=b;this.targetTimeMs=c;this.op=e;this.removalCallback=h;this.deferred=new Hc;this.then=this.deferred.promise.then.bind(this.deferred.promise);this.catch=this.deferred.promise.catch.bind(this.deferred.promise);this.deferred.promise.catch(function(a){})}b.createAndSchedule=function(a,d,c,e,h){var m=Date.now()+c;a=new b(a,d,m,e,h);a.start(c);return a};b.prototype.start=
function(a){var b=this;this.timerHandle=setTimeout(function(){return b.handleDelayElapsed()},a)};b.prototype.skipDelay=function(){return this.handleDelayElapsed()};b.prototype.cancel=function(a){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new P(D.CANCELLED,"Operation cancelled"+(a?": "+a:""))))};b.prototype.handleDelayElapsed=function(){var a=this;this.asyncQueue.enqueueAndForget(function(){return null!==a.timerHandle?(a.clearTimeout(),a.op().then(function(b){return a.deferred.resolve(b)})):
Promise.resolve()})};b.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)};return b}(),ad=function(){function b(){this.tail=Promise.resolve();this.delayedOperations=[];this.operationInProgress=!1}b.prototype.enqueueAndForget=function(a){this.enqueue(a)};b.prototype.enqueue=function(a){var b=this;this.verifyNotFailed();var c=this.tail.then(function(){b.operationInProgress=!0;return a().catch(function(a){b.failure=
a;b.operationInProgress=!1;var d=a.stack||a.message||"";I("INTERNAL UNHANDLED ERROR: ",d);0>d.indexOf("Firestore Test Simulated Error")&&setTimeout(function(){throw a;},0);throw a;}).then(function(a){b.operationInProgress=!1;return a})});return this.tail=c};b.prototype.enqueueAfterDelay=function(a,b,c){var d=this;this.verifyNotFailed();e(0<=b,"Attempted to schedule an operation with a negative delay of "+b);e(!this.containsDelayedOperation(a),"Attempted to schedule multiple operations with timer id "+
a+".");a=lf.createAndSchedule(this,a,b,c,function(a){return d.removeDelayedOperation(a)});this.delayedOperations.push(a);return a};b.prototype.verifyNotFailed=function(){this.failure&&k("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))};b.prototype.verifyOperationInProgress=function(){e(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")};b.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})};b.prototype.containsDelayedOperation=
function(a){for(var b=0,c=this.delayedOperations;b<c.length;b++)if(c[b].timerId===a)return!0;return!1};b.prototype.runDelayedOperationsEarly=function(a){var b=this;return this.drain().then(function(){e(a===Bc.All||b.containsDelayedOperation(a),"Attempted to drain to missing operation "+a);b.delayedOperations.sort(function(a,b){return a.targetTimeMs-b.targetTimeMs});for(var d=0,c=b.delayedOperations;d<c.length;d++){var h=c[d];h.skipDelay();if(a!==Bc.All&&h.timerId===a)break}return b.drain()})};b.prototype.removeDelayedOperation=
function(a){a=this.delayedOperations.indexOf(a);e(0<=a,"Delayed operation not found.");this.delayedOperations.splice(a,1)};return b}(),De=function(){function b(a,b,c,h){this.batchId=a;this.localWriteTime=b;this.baseMutations=c;this.mutations=h;e(0<h.length,"Cannot create an empty mutation batch")}b.prototype.applyToRemoteDocument=function(a,b,c){b&&e(b.key.isEqual(a),"applyToRemoteDocument: key "+a+" should match maybeDoc key\n        "+b.key);c=c.mutationResults;e(c.length===this.mutations.length,
"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+c.length+").");for(var d=0;d<this.mutations.length;d++){var h=this.mutations[d];h.key.isEqual(a)&&(b=h.applyToRemoteDocument(b,c[d]))}return b};b.prototype.applyToLocalView=function(a,b){b&&e(b.key.isEqual(a),"applyToLocalDocument: key "+a+" should match maybeDoc key\n        "+b.key);for(var d=0,c=this.baseMutations;d<c.length;d++){var h=c[d];h.key.isEqual(a)&&(b=h.applyToLocalView(b,b,this.localWriteTime))}d=
b;c=0;for(var g=this.mutations;c<g.length;c++)h=g[c],h.key.isEqual(a)&&(b=h.applyToLocalView(b,d,this.localWriteTime));return b};b.prototype.applyToLocalDocumentSet=function(a){var b=this,c=a;this.mutations.forEach(function(d){var e=b.applyToLocalView(d.key,a.get(d.key));e&&(c=c.insert(d.key,e))});return c};b.prototype.keys=function(){return this.mutations.reduce(function(a,b){return a.add(b.key)},wa())};b.prototype.isEqual=function(a){return this.batchId===a.batchId&&Oa(this.mutations,a.mutations)&&
Oa(this.baseMutations,a.baseMutations)};return b}(),Nd=function(){function b(a,b,c,e,h){this.batch=a;this.commitVersion=b;this.mutationResults=c;this.streamToken=e;this.docVersions=h}b.from=function(a,d,c,h){e(a.mutations.length===c.length,"Mutations sent "+a.mutations.length+" must equal results received "+c.length);for(var m=Kd,g=a.mutations,f=0;f<g.length;f++)m=m.insert(g[f].key,c[f].version);return new b(a,d,c,h,m)};return b}(),R=function(){function b(a){var b=this;this.catchCallback=this.nextCallback=
null;this.error=this.result=void 0;this.callbackAttached=this.isDone=!1;a(function(a){b.isDone=!0;b.result=a;b.nextCallback&&b.nextCallback(a)},function(a){b.isDone=!0;b.error=a;b.catchCallback&&b.catchCallback(a)})}b.prototype.catch=function(a){return this.next(void 0,a)};b.prototype.next=function(a,d){var c=this;this.callbackAttached&&k("Called next() or catch() twice for PersistencePromise");this.callbackAttached=!0;return this.isDone?this.error?this.wrapFailure(d,this.error):this.wrapSuccess(a,
this.result):new b(function(b,e){c.nextCallback=function(d){c.wrapSuccess(a,d).next(b,e)};c.catchCallback=function(a){c.wrapFailure(d,a).next(b,e)}})};b.prototype.toPromise=function(){var a=this;return new Promise(function(b,c){a.next(b,c)})};b.prototype.wrapUserFunction=function(a){try{var d=a();return d instanceof b?d:b.resolve(d)}catch(m){return b.reject(m)}};b.prototype.wrapSuccess=function(a,d){return a?this.wrapUserFunction(function(){return a(d)}):b.resolve(d)};b.prototype.wrapFailure=function(a,
d){return a?this.wrapUserFunction(function(){return a(d)}):b.reject(d)};b.resolve=function(a){return new b(function(b,c){b(a)})};b.reject=function(a){return new b(function(b,c){c(a)})};b.waitFor=function(a){return new b(function(b,c){var d=0,e=0,h=!1;a.forEach(function(a){++d;a.next(function(){++e;h&&e===d&&b()},function(a){return c(a)})});h=!0;e===d&&b()})};b.or=function(a){for(var d=b.resolve(!1),c=function(a){d=d.next(function(d){return d?b.resolve(d):a()})},e=0;e<a.length;e++)c(a[e]);return d};
b.forEach=function(a,b){var d=this,c=[];a.forEach(function(a,e){c.push(b.call(d,a,e))});return this.waitFor(c)};return b}(),Lc=function(){function b(a,b,c,e){this.userId=a;this.serializer=b;this.indexManager=c;this.referenceDelegate=e;this.documentKeysByBatchId={}}b.forUser=function(a,d,c,h){e(""!==a.uid,"UserID must not be an empty string.");a=a.isAuthenticated()?a.uid:"";return new b(a,d,c,h)};b.prototype.checkEmpty=function(a){var b=!0,c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],
[this.userId,Number.POSITIVE_INFINITY]);return fb(a).iterate({index:Hb.userMutationsIndex,range:c},function(a,d,c){b=!1;c.done()}).next(function(){return b})};b.prototype.acknowledgeBatch=function(a,b,c){return this.getMutationQueueMetadata(a).next(function(b){b.lastStreamToken=Nc(c);return jb.getStore(a,Cc.store).put(b)})};b.prototype.getLastStreamToken=function(a){return this.getMutationQueueMetadata(a).next(function(a){return a.lastStreamToken})};b.prototype.setLastStreamToken=function(a,b){return this.getMutationQueueMetadata(a).next(function(d){d.lastStreamToken=
Nc(b);return jb.getStore(a,Cc.store).put(d)})};b.prototype.addMutationBatch=function(a,b,c,h){var d=this,m=rb(a),g=fb(a);return g.add({}).next(function(f){e("number"===typeof f,"Auto-generated key is not a number");var l=new De(f,b,c,h),B=d.serializer.toDbMutationBatch(d.userId,l);d.documentKeysByBatchId[f]=l.keys();for(var k=[],u=0;u<h.length;u++){var ea=h[u],H=Ub.key(d.userId,ea.key.path,f);k.push(g.put(B));k.push(m.put(H,Ub.PLACEHOLDER));k.push(d.indexManager.addToCollectionParentIndex(a,ea.key.path.popLast()))}return R.waitFor(k).next(function(){return l})})};
b.prototype.lookupMutationBatch=function(a,b){var d=this;return fb(a).get(b).next(function(a){return a?(e(a.userId===d.userId,"Unexpected user '"+a.userId+"' for mutation batch "+b),d.serializer.fromDbMutationBatch(a)):null})};b.prototype.lookupMutationKeys=function(a,b){var d=this;return this.documentKeysByBatchId[b]?R.resolve(this.documentKeysByBatchId[b]):this.lookupMutationBatch(a,b).next(function(a){return a?(a=a.keys(),d.documentKeysByBatchId[b]=a):null})};b.prototype.getNextMutationBatchAfterBatchId=
function(a,b){var d=this;return this.getMutationQueueMetadata(a).next(function(c){var h=b+1;c=IDBKeyRange.lowerBound([d.userId,h]);var m=null;return fb(a).iterate({index:Hb.userMutationsIndex,range:c},function(a,b,c){b.userId===d.userId&&(e(b.batchId>=h,"Should have found mutation after "+h),m=d.serializer.fromDbMutationBatch(b));c.done()}).next(function(){return m})})};b.prototype.getAllMutationBatches=function(a){var b=this,c=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);
return fb(a).loadAll(Hb.userMutationsIndex,c).next(function(a){return a.map(function(a){return b.serializer.fromDbMutationBatch(a)})})};b.prototype.getAllMutationBatchesAffectingDocumentKey=function(a,b){var d=this,c=Ub.prefixForPath(this.userId,b.path);c=IDBKeyRange.lowerBound(c);var h=[];return rb(a).iterate({range:c},function(c,m,g){m=c[0];var f=c[2],l=Lb(c[1]);if(m===d.userId&&b.path.isEqual(l))return fb(a).get(f).next(function(a){if(!a)throw k("Dangling document-mutation reference found: "+c+
" which points to "+f);e(a.userId===d.userId,"Unexpected user '"+a.userId+"' for mutation batch "+f);h.push(d.serializer.fromDbMutationBatch(a))});g.done()}).next(function(){return h})};b.prototype.getAllMutationBatchesAffectingDocumentKeys=function(a,b){var d=this,c=new nb(qa),e=[];b.forEach(function(b){var h=Ub.prefixForPath(d.userId,b.path);h=IDBKeyRange.lowerBound(h);h=rb(a).iterate({range:h},function(a,e,h){e=a[0];var m=a[2];a=Lb(a[1]);e===d.userId&&b.path.isEqual(a)?c=c.add(m):h.done()});e.push(h)});
return R.waitFor(e).next(function(){return d.lookupMutationBatches(a,c)})};b.prototype.getAllMutationBatchesAffectingQuery=function(a,b){var d=this;e(!b.isDocumentQuery(),"Document queries shouldn't go down this path");e(!b.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var c=b.path,h=c.length+1;b=Ub.prefixForPath(this.userId,c);b=IDBKeyRange.lowerBound(b);var g=new nb(qa);return rb(a).iterate({range:b},function(a,b,e){b=a[0];var m=a[2];a=Lb(a[1]);b===
d.userId&&c.isPrefixOf(a)?a.length===h&&(g=g.add(m)):e.done()}).next(function(){return d.lookupMutationBatches(a,g)})};b.prototype.lookupMutationBatches=function(a,b){var d=this,c=[],h=[];b.forEach(function(b){h.push(fb(a).get(b).next(function(a){if(null===a)throw k("Dangling document-mutation reference found, which points to "+b);e(a.userId===d.userId,"Unexpected user '"+a.userId+"' for mutation batch "+b);c.push(d.serializer.fromDbMutationBatch(a))}))});return R.waitFor(h).next(function(){return c})};
b.prototype.removeMutationBatch=function(a,b){var d=this;return jc(a.simpleDbTransaction,this.userId,b).next(function(c){d.removeCachedMutationKeys(b.batchId);return R.forEach(c,function(b){return d.referenceDelegate.removeMutationReference(a,b)})})};b.prototype.removeCachedMutationKeys=function(a){delete this.documentKeysByBatchId[a]};b.prototype.performConsistencyCheck=function(a){var b=this;return this.checkEmpty(a).next(function(d){if(!d)return R.resolve();d=IDBKeyRange.lowerBound(Ub.prefixForUser(b.userId));
var c=[];return rb(a).iterate({range:d},function(a,d,e){a[0]!==b.userId?e.done():(a=Lb(a[1]),c.push(a))}).next(function(){e(0===c.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+c.map(function(a){return a.canonicalString()}))})})};b.prototype.containsKey=function(a,b){return sc(a,this.userId,b)};b.prototype.getMutationQueueMetadata=function(a){var b=this;return jb.getStore(a,Cc.store).get(this.userId).next(function(a){return a||new Cc(b.userId,
-1,"")})};return b}(),mf;(function(b){b[b.QueryCache=0]="QueryCache";b[b.SyncEngine=1]="SyncEngine"})(mf||(mf={}));var $d=function(){function b(a,b){this.generatorId=a;e((a&1)===a,"Generator ID "+a+" contains more than 1 reserved bits");this.seek(void 0!==b?b:this.generatorId)}b.prototype.next=function(){var a=this.nextId;this.nextId+=2;return a};b.prototype.after=function(a){this.seek(a+2);return this.next()};b.prototype.seek=function(a){e((a&1)===this.generatorId,"Cannot supply target ID from different generator ID");
this.nextId=a};b.forQueryCache=function(){return new b(mf.QueryCache,2)};b.forSyncEngine=function(){return new b(mf.SyncEngine)};return b}(),ee=function(){function b(a){this.db=a}b.openOrCreate=function(a,d,c){e(b.isAvailable(),"IndexedDB not supported in current environment.");x("SimpleDb","Opening database:",a);return(new R(function(e,h){var m=window.indexedDB.open(a,d);m.onsuccess=function(a){e(new b(a.target.result))};m.onblocked=function(){h(new P(D.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))};
m.onerror=function(a){a=a.target.error;"VersionError"===a.name?h(new P(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):h(a)};m.onupgradeneeded=function(b){x("SimpleDb",'Database "'+a+
'" requires upgrade from version:',b.oldVersion);var d=b.target.result,e=new Ye(m.transaction);c.createOrUpgrade(d,e,b.oldVersion,Fe).next(function(){x("SimpleDb","Database upgrade to version "+Fe+" complete")})}})).toPromise()};b.delete=function(a){x("SimpleDb","Removing database:",a);return ac(window.indexedDB.deleteDatabase(a)).toPromise()};b.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===y.env.USE_MOCK_PERSISTENCE;
var a=window.navigator.userAgent,d=b.getIOSVersion(a);d=0<d&&10>d;var c=b.getAndroidVersion(a);c=0<c&&4.5>c;return 0<a.indexOf("MSIE ")||0<a.indexOf("Trident/")||0<a.indexOf("Edge/")||d||c?!1:!0};b.getStore=function(a,b){return a.store(b)};b.getIOSVersion=function(a){a=(a=a.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?a[1].split("_")[0]:"-1";return Number(a)};b.getAndroidVersion=function(a){a=(a=a.match(/Android ([\d.]+)/i))?a[1].split(".").slice(0,2).join("."):"-1";return Number(a)};b.prototype.runTransaction=
function(a,b,c){var d=Ye.open(this.db,a,b),e=c(d).catch(function(a){d.abort(a);return R.reject(a)}).toPromise();e.catch(function(){});return d.completionPromise.then(function(){return e})};b.prototype.close=function(){this.db.close()};return b}(),ig=function(){function b(a){this.dbCursor=a;this.shouldStop=!1;this.nextKey=null}Object.defineProperty(b.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"skipToKey",{get:function(){return this.nextKey},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cursor",{set:function(a){this.dbCursor=a},enumerable:!0,configurable:!0});b.prototype.done=function(){this.shouldStop=!0};b.prototype.skip=function(a){this.nextKey=a};b.prototype.delete=function(){return ac(this.dbCursor.delete())};return b}(),Ye=function(){function b(a){var b=this;this.transaction=a;this.aborted=!1;this.completionDeferred=new Hc;this.transaction.oncomplete=function(){b.completionDeferred.resolve()};this.transaction.onabort=
function(){a.error?b.completionDeferred.reject(a.error):b.completionDeferred.resolve()};this.transaction.onerror=function(a){b.completionDeferred.reject(a.target.error)}}b.open=function(a,d,c){return new b(a.transaction(c,d))};Object.defineProperty(b.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0});b.prototype.abort=function(a){a&&this.completionDeferred.reject(a);this.aborted||(x("SimpleDb","Aborting transaction:",a?a.message:"Client-initiated abort"),
this.aborted=!0,this.transaction.abort())};b.prototype.store=function(a){var b=this.transaction.objectStore(a);e(!!b,"Object store not part of transaction: "+a);return new aa(b)};return b}(),aa=function(){function b(a){this.store=a}b.prototype.put=function(a,b){void 0!==b?(x("SimpleDb","PUT",this.store.name,a,b),a=this.store.put(b,a)):(x("SimpleDb","PUT",this.store.name,"\x3cauto-key\x3e",a),a=this.store.put(a));return ac(a)};b.prototype.add=function(a){x("SimpleDb","ADD",this.store.name,a,a);a=this.store.add(a);
return ac(a)};b.prototype.get=function(a){var b=this,c=this.store.get(a);return ac(c).next(function(d){void 0===d&&(d=null);x("SimpleDb","GET",b.store.name,a,d);return d})};b.prototype.delete=function(a){x("SimpleDb","DELETE",this.store.name,a);a=this.store.delete(a);return ac(a)};b.prototype.count=function(){x("SimpleDb","COUNT",this.store.name);var a=this.store.count();return ac(a)};b.prototype.loadAll=function(a,b){a=this.cursor(this.options(a,b));var d=[];return this.iterateCursor(a,function(a,
b){d.push(b)}).next(function(){return d})};b.prototype.deleteAll=function(a,b){x("SimpleDb","DELETE ALL",this.store.name);a=this.options(a,b);a.keysOnly=!1;a=this.cursor(a);return this.iterateCursor(a,function(a,b,d){return d.delete()})};b.prototype.iterate=function(a,b){if(b)var d=a;else d={},b=a;a=this.cursor(d);return this.iterateCursor(a,b)};b.prototype.iterateSerial=function(a){var b=this.cursor({});return new R(function(d,c){b.onerror=function(a){c(a.target.error)};b.onsuccess=function(b){var c=
b.target.result;c?a(c.primaryKey,c.value).next(function(a){a?c.continue():d()}):d()}})};b.prototype.iterateCursor=function(a,b){var d=[];return(new R(function(c,e){a.onerror=function(a){e(a.target.error)};a.onsuccess=function(a){if(a=a.target.result){var e=new ig(a),h=b(a.primaryKey,a.value,e);h instanceof R&&(h=h.catch(function(a){e.done();return R.reject(a)}),d.push(h));e.isDone?c():null===e.skipToKey?a.continue():a.continue(e.skipToKey)}else c()}})).next(function(){return R.waitFor(d)})};b.prototype.options=
function(a,b){var d=void 0;void 0!==a&&("string"===typeof a?d=a:(e(void 0===b,"3rd argument must not be defined if 2nd is a range."),b=a));return{index:d,range:b}};b.prototype.cursor=function(a){var b="next";a.reverse&&(b="prev");if(a.index){var c=this.store.index(a.index);return a.keysOnly?c.openKeyCursor(a.range,b):c.openCursor(a.range,b)}return this.store.openCursor(a.range,b)};return b}(),jg=function(){function b(a,b){this.referenceDelegate=a;this.serializer=b;this.targetIdGenerator=$d.forQueryCache()}
b.prototype.allocateTargetId=function(a){var b=this;return this.retrieveMetadata(a).next(function(d){d.highestTargetId=b.targetIdGenerator.after(d.highestTargetId);return b.saveMetadata(a,d).next(function(){return d.highestTargetId})})};b.prototype.getLastRemoteSnapshotVersion=function(a){return this.retrieveMetadata(a).next(function(a){return Ka.fromTimestamp(new Da(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds))})};b.prototype.getHighestSequenceNumber=function(a){return ma(a.simpleDbTransaction)};
b.prototype.setTargetsMetadata=function(a,b,c){var d=this;return this.retrieveMetadata(a).next(function(e){e.highestListenSequenceNumber=b;c&&(e.lastRemoteSnapshotVersion=c.toTimestamp());b>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=b);return d.saveMetadata(a,e)})};b.prototype.addQueryData=function(a,b){var d=this;return this.saveQueryData(a,b).next(function(){return d.retrieveMetadata(a).next(function(c){c.targetCount+=1;d.updateMetadataFromQueryData(b,c);return d.saveMetadata(a,
c)})})};b.prototype.updateQueryData=function(a,b){return this.saveQueryData(a,b)};b.prototype.removeQueryData=function(a,b){var d=this;return this.removeMatchingKeysForTargetId(a,b.targetId).next(function(){return tc(a).delete(b.targetId)}).next(function(){return d.retrieveMetadata(a)}).next(function(b){e(0<b.targetCount,"Removing from an empty query cache");--b.targetCount;return d.saveMetadata(a,b)})};b.prototype.removeTargets=function(a,b,c){var d=this,e=0,h=[];return tc(a).iterate(function(m,
g){m=d.serializer.fromDbTarget(g);m.sequenceNumber<=b&&void 0===c[m.targetId]&&(e++,h.push(d.removeQueryData(a,m)))}).next(function(){return R.waitFor(h)}).next(function(){return e})};b.prototype.forEachTarget=function(a,b){var d=this;return tc(a).iterate(function(a,c){a=d.serializer.fromDbTarget(c);b(a)})};b.prototype.retrieveMetadata=function(a){return Wa(a.simpleDbTransaction)};b.prototype.saveMetadata=function(a,b){return jb.getStore(a,Mc.store).put(Mc.key,b)};b.prototype.saveQueryData=function(a,
b){return tc(a).put(this.serializer.toDbTarget(b))};b.prototype.updateMetadataFromQueryData=function(a,b){var d=!1;a.targetId>b.highestTargetId&&(b.highestTargetId=a.targetId,d=!0);a.sequenceNumber>b.highestListenSequenceNumber&&(b.highestListenSequenceNumber=a.sequenceNumber,d=!0);return d};b.prototype.getQueryCount=function(a){return this.retrieveMetadata(a).next(function(a){return a.targetCount})};b.prototype.getQueryData=function(a,b){var d=this,c=b.canonicalId();c=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],
[c,Number.POSITIVE_INFINITY]);var e=null;return tc(a).iterate({range:c,index:Qd.queryTargetsIndexName},function(a,c,h){a=d.serializer.fromDbTarget(c);b.isEqual(a.query)&&(e=a,h.done())}).next(function(){return e})};b.prototype.addMatchingKeys=function(a,b,c){var d=this,e=[],h=Ua(a);b.forEach(function(b){var m=kb(b.path);e.push(h.put(new Vb(c,m)));e.push(d.referenceDelegate.addReference(a,b))});return R.waitFor(e)};b.prototype.removeMatchingKeys=function(a,b,c){var d=this,e=Ua(a);return R.forEach(b,
function(b){var h=kb(b.path);return R.waitFor([e.delete([c,h]),d.referenceDelegate.removeReference(a,b)])})};b.prototype.removeMatchingKeysForTargetId=function(a,b){a=Ua(a);b=IDBKeyRange.bound([b],[b+1],!1,!0);return a.delete(b)};b.prototype.getMatchingKeysForTargetId=function(a,b){b=IDBKeyRange.bound([b],[b+1],!1,!0);a=Ua(a);var d=wa();return a.iterate({range:b,keysOnly:!0},function(a,b,c){a=Lb(a[1]);a=new pa(a);d=d.add(a)}).next(function(){return d})};b.prototype.containsKey=function(a,b){b=kb(b.path);
b=IDBKeyRange.bound([b],[b+"\x00"],!1,!0);var d=0;return Ua(a).iterate({index:Vb.documentTargetsIndex,keysOnly:!0,range:b},function(a,b,c){0!==a[0]&&(d++,c.done())}).next(function(){return 0<d})};b.prototype.getQueryDataForTarget=function(a,b){var d=this;return tc(a).get(b).next(function(a){return a?d.serializer.fromDbTarget(a):null})};return b}(),bd=function(){function b(a){this.mapKeyFn=a;this.inner={}}b.prototype.get=function(a){var b=this.mapKeyFn(a);b=this.inner[b];if(void 0!==b)for(var c=0;c<
b.length;c++){var e=b[c],h=e[1];if(e[0].isEqual(a))return h}};b.prototype.has=function(a){return void 0!==this.get(a)};b.prototype.set=function(a,b){var d=this.mapKeyFn(a),c=this.inner[d];if(void 0===c)this.inner[d]=[[a,b]];else{for(d=0;d<c.length;d++)if(c[d][0].isEqual(a)){c[d]=[a,b];return}c.push([a,b])}};b.prototype.delete=function(a){var b=this.mapKeyFn(a),c=this.inner[b];if(void 0===c)return!1;for(var e=0;e<c.length;e++)if(c[e][0].isEqual(a))return 1===c.length?delete this.inner[b]:c.splice(e,
1),!0;return!1};b.prototype.forEach=function(a){F(this.inner,function(b,c){for(b=0;b<c.length;b++){var d=c[b];a(d[0],d[1])}})};b.prototype.isEmpty=function(){return W(this.inner)};return b}(),wd=function(){function b(){this.changes=ob;this.documentSizes=new bd(function(a){return a.toString()})}b.prototype.addEntry=function(a){this.changes=this.assertChanges().insert(a.key,a)};b.prototype.getEntry=function(a,b){var d=this,c=this.assertChanges().get(b);return c?R.resolve(c):this.getFromCache(a,b).next(function(a){if(null===
a)return d.documentSizes.set(b,0),null;d.documentSizes.set(b,a.size);return a.maybeDocument})};b.prototype.getEntries=function(a,b){var d=this;return this.getAllFromCache(a,b).next(function(a){var b=a.maybeDocuments;a.sizeMap.forEach(function(a,b){d.documentSizes.set(a,b)});return b})};b.prototype.apply=function(a){a=this.applyChanges(a);this.changes=null;return a};b.prototype.assertChanges=function(){e(null!==this.changes,"Changes have already been applied.");return this.changes};return b}(),Ee=
function(){function b(a,b,c){this.serializer=a;this.indexManager=b;this.keepDocumentChangeLog=c;this._lastProcessedDocumentChangeId=0}Object.defineProperty(b.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0});b.prototype.start=function(a){a=ee.getStore(a,vd.store);return this.synchronizeLastDocumentChangeId(a)};b.prototype.addEntries=function(a,b,c){var d=[];if(0<b.length){for(var e=Mb(a),h=wa(),g=0;g<b.length;g++){var m=
b[g],f=m.key;m=m.doc;d.push(e.put(f.path.toArray(),m));h=h.add(f);d.push(this.indexManager.addToCollectionParentIndex(a,f.path.popLast()))}this.keepDocumentChangeLog&&d.push(jb.getStore(a,vd.store).put({changes:this.serializer.toDbResourcePaths(h)}));d.push(this.updateSize(a,c))}return R.waitFor(d)};b.prototype.removeEntry=function(a,b){var d=Mb(a),c=b.path.toArray();return d.get(c).next(function(a){return a?d.delete(c).next(function(){return kc(a)}):R.resolve(0)})};b.prototype.getEntry=function(a,
b){var d=this;return Mb(a).get(b.path.toArray()).next(function(a){return a?d.serializer.fromDbRemoteDocument(a):null})};b.prototype.getSizedEntry=function(a,b){var d=this;return Mb(a).get(b.path.toArray()).next(function(a){return a?{maybeDocument:d.serializer.fromDbRemoteDocument(a),size:kc(a)}:null})};b.prototype.getEntries=function(a,b){var d=this,c=ob;return this.forEachDbEntry(a,b,function(a,b){c=b?c.insert(a,d.serializer.fromDbRemoteDocument(b)):c.insert(a,null)}).next(function(){return c})};
b.prototype.getSizedEntries=function(a,b){var d=this,c=ob,e=new cb(pa.comparator);return this.forEachDbEntry(a,b,function(a,b){b?(c=c.insert(a,d.serializer.fromDbRemoteDocument(b)),e=e.insert(a,kc(b))):(c=c.insert(a,null),e=e.insert(a,0))}).next(function(){return{maybeDocuments:c,sizeMap:e}})};b.prototype.forEachDbEntry=function(a,b,c){if(b.isEmpty())return R.resolve();var d=IDBKeyRange.bound(b.first().path.toArray(),b.last().path.toArray()),e=b.getIterator(),h=e.getNext();return Mb(a).iterate({range:d},
function(a,b,d){for(a=pa.fromSegments(a);h&&0>pa.comparator(h,a);)c(h,null),h=e.getNext();h&&h.isEqual(a)&&(c(h,b),h=e.hasNext()?e.getNext():null);h?d.skip(h.path.toArray()):d.done()}).next(function(){for(;h;)c(h,null),h=e.hasNext()?e.getNext():null})};b.prototype.getDocumentsMatchingQuery=function(a,b){var d=this;e(!b.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var c=kd,h=b.path.length+1,g=b.path.toArray();g=IDBKeyRange.lowerBound(g);return Mb(a).iterate({range:g},
function(a,e,g){a.length===h&&(a=d.serializer.fromDbRemoteDocument(e),b.path.isPrefixOf(a.key.path)?a instanceof da&&b.matches(a)&&(c=c.insert(a.key,a)):g.done())}).next(function(){return c})};b.prototype.getNewDocumentChanges=function(a){var b=this;e(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var c=wa(),h=ob,g=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),f=!0,l=jb.getStore(a,vd.store);return l.iterate({range:g},function(a,
d){if(f&&(f=!1,b._lastProcessedDocumentChangeId+1!==d.id))return b.synchronizeLastDocumentChangeId(l).next(function(){return R.reject(new P(D.DATA_LOSS,"The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views."))});c=c.unionWith(b.serializer.fromDbResourcePaths(d.changes));b._lastProcessedDocumentChangeId=d.id}).next(function(){var d=[];c.forEach(function(c){d.push(b.getEntry(a,c).next(function(a){a=a||new xb(c,Ka.forDeletedDoc());
h=h.insert(c,a)}))});return R.waitFor(d)}).next(function(){return h})};b.prototype.removeDocumentChangesThroughChangeId=function(a,b){b=IDBKeyRange.upperBound(b);return jb.getStore(a,vd.store).delete(b)};b.prototype.synchronizeLastDocumentChangeId=function(a){var b=this;this._lastProcessedDocumentChangeId=0;return a.iterate({keysOnly:!0,reverse:!0},function(a,d,c){b._lastProcessedDocumentChangeId=a;c.done()})};b.prototype.newChangeBuffer=function(){return new kg(this)};b.prototype.getSize=function(a){return this.getMetadata(a).next(function(a){return a.byteSize})};
b.prototype.getMetadata=function(a){return jb.getStore(a,dd.store).get(dd.key).next(function(a){e(!!a,"Missing document cache metadata");return a})};b.prototype.setMetadata=function(a,b){return jb.getStore(a,dd.store).put(dd.key,b)};b.prototype.updateSize=function(a,b){var d=this;return this.getMetadata(a).next(function(c){c.byteSize+=b;return d.setMetadata(a,c)})};return b}(),kg=function(b){function a(a){var d=b.call(this)||this;d.documentCache=a;return d}u.__extends(a,b);a.prototype.applyChanges=
function(a){var b=this,d=0,c=[];this.assertChanges().forEach(function(a,h){h=b.documentCache.serializer.toDbRemoteDocument(h);var g=b.documentSizes.get(a);e(void 0!==g,"Attempting to change document "+a.toString()+" without having read it first");var m=kc(h);d+=m-g;c.push({key:a,doc:h})});return this.documentCache.addEntries(a,c,d)};a.prototype.getFromCache=function(a,b){return this.documentCache.getSizedEntry(a,b)};a.prototype.getAllFromCache=function(a,b){return this.documentCache.getSizedEntries(a,
b)};return a}(wd),Pd=function(){function b(){this.collectionParentIndex=new Od}b.prototype.addToCollectionParentIndex=function(a,b){this.collectionParentIndex.add(b);return R.resolve()};b.prototype.getCollectionParents=function(a,b){return R.resolve(this.collectionParentIndex.getEntries(b))};return b}(),Od=function(){function b(){this.index={}}b.prototype.add=function(a){e(1===a.length%2,"Expected a collection path.");var b=a.lastSegment();a=a.popLast();var c=this.index[b]||new nb(Ma.comparator),
h=!c.has(a);this.index[b]=c.add(a);return h};b.prototype.getEntries=function(a){return(this.index[a]||new nb(Ma.comparator)).toArray()};return b}(),Fe=8,ge=function(){function b(a){this.serializer=a}b.prototype.createOrUpgrade=function(a,b,c,h){var d=this;e(c<h&&0<=c&&h<=Fe,"Unexpected schema upgrade from v"+c+" to v{toVersion}.");1>c&&1<=h&&(a.createObjectStore(pb.store),Wb(a),Ia(a),a.createObjectStore(Kc.store));var g=R.resolve();3>c&&3<=h&&(0!==c&&(Oc(a),Ia(a)),g=g.next(function(){var a=b.store(Mc.store),
d=new Mc(0,0,Ka.MIN.toTimestamp(),0);return a.put(Mc.key,d)}));4>c&&4<=h&&(0!==c&&(g=g.next(function(){return Ca(a,b)})),g=g.next(function(){a.createObjectStore(Bd.store,{keyPath:Bd.keyPath});a.createObjectStore(vd.store,{keyPath:"id",autoIncrement:!0})}));5>c&&5<=h&&(g=g.next(function(){return d.removeAcknowledgedMutations(b)}));6>c&&6<=h&&(g=g.next(function(){a.createObjectStore(dd.store);return d.addDocumentGlobal(b)}));7>c&&7<=h&&(g=g.next(function(){return d.ensureSequenceNumbers(b)}));8>c&&
8<=h&&(g=g.next(function(){return d.createCollectionParentIndex(a,b)}));return g};b.prototype.addDocumentGlobal=function(a){var b=0;return a.store(Kc.store).iterate(function(a,d){b+=kc(d)}).next(function(){var d=new dd(b);return a.store(dd.store).put(dd.key,d)})};b.prototype.removeAcknowledgedMutations=function(a){var b=this,c=a.store(Cc.store),h=a.store(Hb.store);return c.loadAll().next(function(d){return R.forEach(d,function(d){var c=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);
return h.loadAll(Hb.userMutationsIndex,c).next(function(c){return R.forEach(c,function(c){e(c.userId===d.userId,"Cannot process batch "+c.batchId+" from unexpected user");c=b.serializer.fromDbMutationBatch(c);return jc(a,d.userId,c).next(function(){})})})})})};b.prototype.ensureSequenceNumbers=function(a){var b=a.store(Vb.store),c=a.store(Kc.store);return ma(a).next(function(a){var d=[];return c.iterate(function(c,e){var h=new Ma(c);c=[0,kb(h)];d.push(b.get(c).next(function(d){return d?R.resolve():
b.put(new Vb(0,kb(h),a))}))}).next(function(){return R.waitFor(d)})})};b.prototype.createCollectionParentIndex=function(a,b){a.createObjectStore(Cb.store,{keyPath:Cb.keyPath});var d=b.store(Cb.store),c=new Od,e=function(a){if(c.add(a)){var b=a.lastSegment();a=a.popLast();return d.put({collectionId:b,parent:kb(a)})}};return b.store(Kc.store).iterate({keysOnly:!0},function(a,b){a=new Ma(a);return e(a.popLast())}).next(function(){return b.store(Ub.store).iterate({keysOnly:!0},function(a,b){a=Lb(a[1]);
return e(a.popLast())})})};return b}(),Ze=function(){return function(b,a){this.seconds=b;this.nanoseconds=a}}(),pb=function(){function b(a,b,c){this.ownerId=a;this.allowTabSynchronization=b;this.leaseTimestampMs=c}b.store="owner";b.key="owner";return b}(),Cc=function(){function b(a,b,c){this.userId=a;this.lastAcknowledgedBatchId=b;this.lastStreamToken=c}b.store="mutationQueues";b.keyPath="userId";return b}(),Hb=function(){function b(a,b,c,e,h){this.userId=a;this.batchId=b;this.localWriteTimeMs=c;
this.baseMutations=e;this.mutations=h}b.store="mutations";b.keyPath="batchId";b.userMutationsIndex="userMutationsIndex";b.userMutationsKeyPath=["userId","batchId"];return b}(),Ub=function(){function b(){}b.prefixForUser=function(a){return[a]};b.prefixForPath=function(a,b){return[a,kb(b)]};b.key=function(a,b,c){return[a,kb(b),c]};b.store="documentMutations";b.PLACEHOLDER=new b;return b}(),Fg=function(){return function(b,a){this.path=b;this.readTime=a}}(),Ge=function(){return function(b,a){this.path=
b;this.version=a}}(),Kc=function(){function b(a,b,c,e){this.unknownDocument=a;this.noDocument=b;this.document=c;this.hasCommittedMutations=e}b.store="remoteDocuments";return b}(),dd=function(){function b(a){this.byteSize=a}b.store="remoteDocumentGlobal";b.key="remoteDocumentGlobalKey";return b}(),Qd=function(){function b(a,b,c,e,h,g){this.targetId=a;this.canonicalId=b;this.readTime=c;this.resumeToken=e;this.lastListenSequenceNumber=h;this.query=g}b.store="targets";b.keyPath="targetId";b.queryTargetsIndexName=
"queryTargetsIndex";b.queryTargetsKeyPath=["canonicalId","targetId"];return b}(),Vb=function(){function b(a,b,c){this.targetId=a;this.path=b;this.sequenceNumber=c;e(0===a===(void 0!==c),"A target-document row must either have targetId \x3d\x3d 0 and a defined sequence number, or a non-zero targetId and no sequence number")}b.store="targetDocuments";b.keyPath=["targetId","path"];b.documentTargetsIndex="documentTargetsIndex";b.documentTargetsKeyPath=["path","targetId"];return b}(),Mc=function(){function b(a,
b,c,e){this.highestTargetId=a;this.highestListenSequenceNumber=b;this.lastRemoteSnapshotVersion=c;this.targetCount=e}b.key="targetGlobalKey";b.store="targetGlobal";return b}(),Cb=function(){function b(a,b){this.collectionId=a;this.parent=b}b.store="collectionParents";b.keyPath=["collectionId","parent"];return b}(),vd=function(){function b(a){this.changes=a}b.store="remoteDocumentChanges";b.keyPath="id";return b}(),Bd=function(){function b(a,b,c,e,h){this.clientId=a;this.updateTimeMs=b;this.networkEnabled=
c;this.inForeground=e;this.lastProcessedDocumentChangeId=h}b.store="clientMetadata";b.keyPath="clientId";return b}(),fe=[Cc.store,Hb.store,Ub.store,Kc.store,Qd.store,pb.store,Mc.store,Vb.store].concat([Bd.store,vd.store]).concat([dd.store]).concat([Cb.store]),lh=function(){function b(){this.collectionParentsCache=new Od}b.prototype.addToCollectionParentIndex=function(a,b){e(1===b.length%2,"Expected a collection path.");if(this.collectionParentsCache.add(b)){e(1<=b.length,"Invalid collection path.");
var d=b.lastSegment();b=b.popLast();return jb.getStore(a,Cb.store).put({collectionId:d,parent:kb(b)})}return R.resolve()};b.prototype.getCollectionParents=function(a,b){var d=[],c=IDBKeyRange.bound([b,""],[b+"\x00",""],!1,!0);return jb.getStore(a,Cb.store).loadAll(c).next(function(a){for(var c=0;c<a.length;c++){var e=a[c];if(e.collectionId!==b)break;d.push(Lb(e.parent))}return d})};return b}(),Ld=function(){function b(a){this.remoteSerializer=a}b.prototype.fromDbRemoteDocument=function(a){if(a.document)return this.remoteSerializer.fromDocument(a.document,
!!a.hasCommittedMutations);if(a.noDocument){var b=pa.fromSegments(a.noDocument.path),c=this.fromDbTimestamp(a.noDocument.readTime);return new xb(b,c,{hasCommittedMutations:!!a.hasCommittedMutations})}return a.unknownDocument?(b=pa.fromSegments(a.unknownDocument.path),c=this.fromDbTimestamp(a.unknownDocument.version),new Sc(b,c)):k("Unexpected DbRemoteDocument")};b.prototype.toDbRemoteDocument=function(a){if(a instanceof da){var b=a.proto?a.proto:this.remoteSerializer.toDocument(a);a=a.hasCommittedMutations;
return new Kc(null,null,b,a)}if(a instanceof xb){b=a.key.path.toArray();var c=this.toDbTimestamp(a.version);a=a.hasCommittedMutations;return new Kc(null,new Fg(b,c),null,a)}return a instanceof Sc?(b=a.key.path.toArray(),c=this.toDbTimestamp(a.version),new Kc(new Ge(b,c),null,null,!0)):k("Unexpected MaybeDocumment")};b.prototype.toDbTimestamp=function(a){a=a.toTimestamp();return new Ze(a.seconds,a.nanoseconds)};b.prototype.fromDbTimestamp=function(a){a=new Da(a.seconds,a.nanoseconds);return Ka.fromTimestamp(a)};
b.prototype.toDbMutationBatch=function(a,b){var d=this,c=b.baseMutations.map(function(a){return d.remoteSerializer.toMutation(a)}),e=b.mutations.map(function(a){return d.remoteSerializer.toMutation(a)});return new Hb(a,b.batchId,b.localWriteTime.toMillis(),c,e)};b.prototype.fromDbMutationBatch=function(a){var b=this,c=(a.baseMutations||[]).map(function(a){return b.remoteSerializer.fromMutation(a)}),e=a.mutations.map(function(a){return b.remoteSerializer.fromMutation(a)}),h=Da.fromMillis(a.localWriteTimeMs);
return new De(a.batchId,h,c,e)};b.prototype.toDbResourcePaths=function(a){var b=[];a.forEach(function(a){b.push(kb(a.path))});return b};b.prototype.fromDbResourcePaths=function(a){for(var b=wa(),c=0;c<a.length;c++)b=b.add(new pa(Lb(a[c])));return b};b.prototype.fromDbTarget=function(a){var b=this.fromDbTimestamp(a.readTime);var c=void 0!==a.query.documents?this.remoteSerializer.fromDocumentsTarget(a.query):this.remoteSerializer.fromQueryTarget(a.query);return new rd(c,a.targetId,vb.Listen,a.lastListenSequenceNumber,
b,a.resumeToken)};b.prototype.toDbTarget=function(a){e(vb.Listen===a.purpose,"Only queries with purpose "+vb.Listen+" may be stored, got "+a.purpose);var b=this.toDbTimestamp(a.snapshotVersion);var c=a.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(a.query):this.remoteSerializer.toQueryTarget(a.query);if(a.resumeToken instanceof Uint8Array){e("YES"===y.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence .");var h=a.resumeToken.toString()}else h=
a.resumeToken;return new Qd(a.targetId,a.query.canonicalId(),b,h,a.sequenceNumber,c)};return b}(),w=function(){function b(a){this.maxElements=a;this.buffer=new nb(Pc);this.previousIndex=0}b.prototype.nextIndex=function(){return++this.previousIndex};b.prototype.addElement=function(a){a=[a,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(a);else{var b=this.buffer.last();0>Pc(a,b)&&(this.buffer=this.buffer.delete(b).add(a))}};Object.defineProperty(b.prototype,"maxValue",
{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0});return b}(),Ha={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},md=function(){function b(a,b,c){this.cacheSizeCollectionThreshold=a;this.percentileToCollect=b;this.maximumSequenceNumbersToCollect=c}b.withCacheSize=function(a){return new b(a,b.DEFAULT_COLLECTION_PERCENTILE,b.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)};b.COLLECTION_DISABLED=-1;b.MINIMUM_CACHE_SIZE_BYTES=1048576;b.DEFAULT_CACHE_SIZE_BYTES=
41943040;b.DEFAULT_COLLECTION_PERCENTILE=10;b.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1E3;b.DEFAULT=new b(b.DEFAULT_CACHE_SIZE_BYTES,b.DEFAULT_COLLECTION_PERCENTILE,b.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);b.DISABLED=new b(b.COLLECTION_DISABLED,0,0);return b}(),Gg=function(){function b(a,b,c){this.garbageCollector=a;this.asyncQueue=b;this.localStore=c;this.gcTask=null}b.prototype.start=function(){e(null===this.gcTask,"Cannot start an already started LruScheduler");this.garbageCollector.params.cacheSizeCollectionThreshold!==
md.COLLECTION_DISABLED&&this.scheduleGC()};b.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)};Object.defineProperty(b.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0});b.prototype.scheduleGC=function(){var a=this;e(null===this.gcTask,"Cannot schedule GC while a task is pending");var b=this.hasRun?3E5:6E4;x("LruGarbageCollector","Garbage collection scheduled in "+b+"ms");this.gcTask=this.asyncQueue.enqueueAfterDelay(Bc.LruGarbageCollection,
b,function(){a.gcTask=null;a.hasRun=!0;return a.localStore.collectGarbage(a.garbageCollector).then(function(){return a.scheduleGC()}).catch(gb)})};return b}(),ed=function(){function b(a,b){this.delegate=a;this.params=b}b.prototype.calculateTargetCount=function(a,b){return this.delegate.getSequenceNumberCount(a).next(function(a){return Math.floor(b/100*a)})};b.prototype.nthSequenceNumber=function(a,b){var d=this;if(0===b)return R.resolve(rc.INVALID);var c=new w(b);return this.delegate.forEachTarget(a,
function(a){return c.addElement(a.sequenceNumber)}).next(function(){return d.delegate.forEachOrphanedDocumentSequenceNumber(a,function(a){return c.addElement(a)})}).next(function(){return c.maxValue})};b.prototype.removeTargets=function(a,b,c){return this.delegate.removeTargets(a,b,c)};b.prototype.removeOrphanedDocuments=function(a,b){return this.delegate.removeOrphanedDocuments(a,b)};b.prototype.collect=function(a,b){var d=this;return this.params.cacheSizeCollectionThreshold===md.COLLECTION_DISABLED?
(x("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(Ha)):this.getCacheSize(a).next(function(c){return c<d.params.cacheSizeCollectionThreshold?(x("LruGarbageCollector","Garbage collection skipped; Cache size "+c+" "+("is lower than threshold "+d.params.cacheSizeCollectionThreshold)),Ha):d.runGarbageCollection(a,b)})};b.prototype.getCacheSize=function(a){return this.delegate.getCacheSize(a)};b.prototype.runGarbageCollection=function(a,b){var d=this,c,e,h,g,f,l,k;var u=Date.now();
return this.calculateTargetCount(a,this.params.percentileToCollect).next(function(b){b>d.params.maximumSequenceNumbersToCollect?(x("LruGarbageCollector","Capping sequence numbers to collect down "+("to the maximum of "+d.params.maximumSequenceNumbersToCollect+" ")+("from "+b)),e=d.params.maximumSequenceNumbersToCollect):e=b;g=Date.now();return d.nthSequenceNumber(a,e)}).next(function(e){c=e;f=Date.now();return d.removeTargets(a,c,b)}).next(function(b){h=b;l=Date.now();return d.removeOrphanedDocuments(a,
c)}).next(function(a){k=Date.now();v()<=Ya.DEBUG&&x("LruGarbageCollector","LRU Garbage Collection\n"+("\tCounted targets in "+(g-u)+"ms\n")+("\tDetermined least recently used "+e+" in ")+(f-g+"ms\n")+("\tRemoved "+h+" targets in ")+(l-f+"ms\n")+("\tRemoved "+a+" documents in ")+(k-l+"ms\n")+("Total Duration: "+(k-u)+"ms"));return R.resolve({didRun:!0,sequenceNumbersCollected:e,targetsRemoved:h,documentsRemoved:a})})};return b}(),Ad="IndexedDbPersistence",ce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",
of=function(b){function a(a,c){var d=b.call(this)||this;d.simpleDbTransaction=a;d.currentSequenceNumber=c;return d}u.__extends(a,b);return a}(function(){return function(){}}()),jb=function(){function b(a,d,c,e,h,g,f){this.persistenceKey=a;this.clientId=d;this.queue=e;this.multiClientParams=f;this.isPrimary=this._started=!1;this.networkEnabled=!0;this.inForeground=!1;this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY;this.primaryStateListener=function(a){return Promise.resolve()};if(!b.isAvailable())throw new P(D.UNIMPLEMENTED,
"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nf(this,g);this.dbName=a+b.MAIN_DATABASE;this.serializer=new Ld(h);this.document=c.document;this.allowTabSynchronization=void 0!==f;this.queryCache=new jg(this.referenceDelegate,this.serializer);this.indexManager=new lh;this.remoteDocumentCache=new Ee(this.serializer,this.indexManager,this.allowTabSynchronization);if(c.window&&c.window.localStorage)this.window=
c.window,this.webStorage=this.window.localStorage;else throw new P(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");}b.getStore=function(a,b){if(a instanceof of)return ee.getStore(a.simpleDbTransaction,b);throw k("IndexedDbPersistence must use instances of IndexedDbTransaction");};b.createIndexedDbPersistence=function(a,d,c,e,h,g){return u.__awaiter(this,void 0,void 0,function(){var m;return u.__generator(this,function(f){switch(f.label){case 0:return m=
new b(a,d,c,e,h,g),[4,m.start()];case 1:return f.sent(),[2,m]}})})};b.createMultiClientIndexedDbPersistence=function(a,d,c,e,h,g,f){return u.__awaiter(this,void 0,void 0,function(){var m;return u.__generator(this,function(l){switch(l.label){case 0:return m=new b(a,d,c,e,h,g,f),[4,m.start()];case 1:return l.sent(),[2,m]}})})};b.prototype.start=function(){var a=this;e(!this.started,"IndexedDbPersistence double-started!");e(null!==this.window,"Expected 'window' to be defined");return ee.openOrCreate(this.dbName,
Fe,new ge(this.serializer)).then(function(b){a.simpleDb=b;return a.updateClientMetadataAndTryBecomePrimary()}).then(function(){a.attachVisibilityHandler();a.attachWindowUnloadHook();a.scheduleClientMetadataAndPrimaryLeaseRefreshes();return a.startRemoteDocumentCache()}).then(function(){return a.simpleDb.runTransaction("readonly",[Mc.store],function(b){return ma(b).next(function(b){a.listenSequence=new rc(b,a.multiClientParams?a.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){a._started=
!0}).catch(function(b){a.simpleDb&&a.simpleDb.close();return Promise.reject(b)})};b.prototype.startRemoteDocumentCache=function(){var a=this;return this.simpleDb.runTransaction("readonly",fe,function(b){return a.remoteDocumentCache.start(b)})};b.prototype.setPrimaryStateListener=function(a){var b=this;this.primaryStateListener=function(d){return u.__awaiter(b,void 0,void 0,function(){return u.__generator(this,function(b){return this.started?[2,a(d)]:[2]})})};return a(this.isPrimary)};b.prototype.setNetworkEnabled=
function(a){var b=this;this.networkEnabled!==a&&(this.networkEnabled=a,this.queue.enqueueAndForget(function(){return u.__awaiter(b,void 0,void 0,function(){return u.__generator(this,function(a){switch(a.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})}))};b.prototype.updateClientMetadataAndTryBecomePrimary=function(){var a=this;return this.simpleDb.runTransaction("readwrite",fe,function(b){return b.store(Bd.store).put(new Bd(a.clientId,
Date.now(),a.networkEnabled,a.inForeground,a.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(a.isPrimary)return a.verifyPrimaryLease(b).next(function(b){b||(a.isPrimary=!1,a.queue.enqueueAndForget(function(){return a.primaryStateListener(!1)}))})}).next(function(){return a.canActAsPrimary(b)}).next(function(d){var c=a.isPrimary;a.isPrimary=d;c!==a.isPrimary&&a.queue.enqueueAndForget(function(){return a.primaryStateListener(a.isPrimary)});if(c&&!a.isPrimary)return a.releasePrimaryLeaseIfHeld(b);
if(a.isPrimary)return a.acquireOrExtendPrimaryLease(b)})})};b.prototype.verifyPrimaryLease=function(a){var b=this;return a.store(pb.store).get(pb.key).next(function(a){return R.resolve(b.isLocalClient(a))})};b.prototype.removeClientMetadata=function(a){return a.store(Bd.store).delete(this.clientId)};b.prototype.maybeGarbageCollectMultiClientState=function(){return u.__awaiter(this,void 0,void 0,function(){var a,d,c=this;return u.__generator(this,function(e){switch(e.label){case 0:if(!this.isPrimary||
this.isWithinAge(this.lastGarbageCollectionTime,18E5))return[3,2];this.lastGarbageCollectionTime=Date.now();d=[];return[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var h=b.getStore(e,Bd.store);return h.loadAll().next(function(b){a=c.filterActiveClients(b,18E5);d=b.filter(function(b){return-1===a.indexOf(b)})}).next(function(){return R.forEach(d,function(a){return h.delete(a.clientId)})}).next(function(){a=a.filter(function(a){return a.clientId!==c.clientId});
if(0<a.length){var b=a.map(function(a){return a.lastProcessedDocumentChangeId||0});b=Math.min.apply(Math,b);return c.remoteDocumentCache.removeDocumentChangesThroughChangeId(e,b)}})})];case 1:e.sent(),d.forEach(function(a){c.window.localStorage.removeItem(c.zombiedClientLocalStorageKey(a.clientId))}),e.label=2;case 2:return[2]}})})};b.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var a=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Bc.ClientMetadataRefresh,4E3,
function(){return a.updateClientMetadataAndTryBecomePrimary().then(function(){return a.maybeGarbageCollectMultiClientState()}).then(function(){return a.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})};b.prototype.isLocalClient=function(a){return a?a.ownerId===this.clientId:!1};b.prototype.canActAsPrimary=function(a){var b=this;return a.store(pb.store).get(pb.key).next(function(d){if(null!==d&&b.isWithinAge(d.leaseTimestampMs,5E3)&&!b.isClientZombied(d.ownerId)){if(b.isLocalClient(d)&&b.networkEnabled)return!0;
if(!b.isLocalClient(d)){if(!d.allowTabSynchronization)throw new P(D.FAILED_PRECONDITION,"Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.");return!1}}return b.networkEnabled&&b.inForeground?!0:a.store(Bd.store).loadAll().next(function(a){return void 0===b.filterActiveClients(a,5E3).find(function(a){if(b.clientId!==a.clientId){var d=!b.inForeground&&a.inForeground,c=b.networkEnabled===
a.networkEnabled;if(!b.networkEnabled&&a.networkEnabled||d&&c)return!0}return!1})})}).next(function(a){b.isPrimary!==a&&x(Ad,"Client "+(a?"is":"is not")+" eligible for a primary lease.");return a})};b.prototype.shutdown=function(){return u.__awaiter(this,void 0,void 0,function(){var a=this;return u.__generator(this,function(b){switch(b.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),
[4,this.simpleDb.runTransaction("readwrite",[pb.store,Bd.store],function(b){return a.releasePrimaryLeaseIfHeld(b).next(function(){return a.removeClientMetadata(b)})})];case 1:return b.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})};b.prototype.filterActiveClients=function(a,b){var d=this;return a.filter(function(a){return d.isWithinAge(a.updateTimeMs,b)&&!d.isClientZombied(a.clientId)})};b.prototype.getActiveClients=function(){var a=this;return this.simpleDb.runTransaction("readonly",
[Bd.store],function(b){return b.store(Bd.store).loadAll().next(function(b){return a.filterActiveClients(b,18E5).map(function(a){return a.clientId})})})};b.clearPersistence=function(a){return u.__awaiter(this,void 0,void 0,function(){var d;return u.__generator(this,function(c){switch(c.label){case 0:if(!b.isAvailable())return[2,Promise.resolve()];d=a+b.MAIN_DATABASE;return[4,ee.delete(d)];case 1:return c.sent(),[2]}})})};Object.defineProperty(b.prototype,"started",{get:function(){return this._started},
enumerable:!0,configurable:!0});b.prototype.getMutationQueue=function(a){e(this.started,"Cannot initialize MutationQueue before persistence is started.");return Lc.forUser(a,this.serializer,this.indexManager,this.referenceDelegate)};b.prototype.getQueryCache=function(){e(this.started,"Cannot initialize QueryCache before persistence is started.");return this.queryCache};b.prototype.getRemoteDocumentCache=function(){e(this.started,"Cannot initialize RemoteDocumentCache before persistence is started.");
return this.remoteDocumentCache};b.prototype.getIndexManager=function(){e(this.started,"Cannot initialize IndexManager before persistence is started.");return this.indexManager};b.prototype.runTransaction=function(a,b,c){var d=this;x(Ad,"Starting transaction:",a);return this.simpleDb.runTransaction("readonly"===b?"readonly":"readwrite",fe,function(e){return"readwrite-primary"===b?d.verifyPrimaryLease(e).next(function(b){if(!b)throw I("Failed to obtain primary lease for action '"+a+"'."),d.isPrimary=
!1,d.queue.enqueueAndForget(function(){return d.primaryStateListener(!1)}),new P(D.FAILED_PRECONDITION,ce);return c(new of(e,d.listenSequence.next()))}).next(function(a){return d.acquireOrExtendPrimaryLease(e).next(function(){return a})}):d.verifyAllowTabSynchronization(e).next(function(){return c(new of(e,d.listenSequence.next()))})})};b.prototype.verifyAllowTabSynchronization=function(a){var b=this;return a.store(pb.store).get(pb.key).next(function(a){if(null!==a&&b.isWithinAge(a.leaseTimestampMs,
5E3)&&!b.isClientZombied(a.ownerId)&&!b.isLocalClient(a)&&!a.allowTabSynchronization)throw new P(D.FAILED_PRECONDITION,"Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.");})};b.prototype.acquireOrExtendPrimaryLease=function(a){var b=new pb(this.clientId,this.allowTabSynchronization,Date.now());return a.store(pb.store).put(pb.key,b)};b.isAvailable=function(){return ee.isAvailable()};
b.buildStoragePrefix=function(a){var b=a.databaseId.projectId;a.databaseId.isDefaultDatabase||(b+="."+a.databaseId.database);return"firestore/"+a.persistenceKey+"/"+b+"/"};b.prototype.releasePrimaryLeaseIfHeld=function(a){var b=this,c=a.store(pb.store);return c.get(pb.key).next(function(a){return b.isLocalClient(a)?(x(Ad,"Releasing primary lease."),c.delete(pb.key)):R.resolve()})};b.prototype.isWithinAge=function(a,b){var d=Date.now();return a<d-b?!1:a>d?(I("Detected an update time that is in the future: "+
a+" \x3e "+d),!1):!0};b.prototype.attachVisibilityHandler=function(){var a=this;null!==this.document&&"function"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){a.queue.enqueueAndForget(function(){a.inForeground="visible"===a.document.visibilityState;return a.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)};b.prototype.detachVisibilityHandler=
function(){this.documentVisibilityHandler&&(e(null!==this.document&&"function"===typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)};b.prototype.attachWindowUnloadHook=function(){var a=this;"function"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){a.markClientZombied();a.queue.enqueueAndForget(function(){return a.shutdown()})},
this.window.addEventListener("unload",this.windowUnloadHandler))};b.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(e("function"===typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)};b.prototype.isClientZombied=function(a){try{var b=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(a));x(Ad,"Client '"+a+"' "+(b?"is":"is not")+
" zombied in LocalStorage");return b}catch(m){return I(Ad,"Failed to get zombied client id.",m),!1}};b.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(a){I("Failed to set zombie client id.",a)}};b.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(a){}};b.prototype.zombiedClientLocalStorageKey=function(a){return"firestore_zombie_"+
this.persistenceKey+"_"+a};b.MAIN_DATABASE="main";return b}(),Nf=function(){function b(a,b){this.db=a;this.garbageCollector=new ed(this,b)}b.prototype.getSequenceNumberCount=function(a){var b=this.orphanedDocmentCount(a);return this.db.getQueryCache().getQueryCount(a).next(function(a){return b.next(function(b){return a+b})})};b.prototype.orphanedDocmentCount=function(a){var b=0;return this.forEachOrphanedDocumentSequenceNumber(a,function(a){b++}).next(function(){return b})};b.prototype.forEachTarget=
function(a,b){return this.db.getQueryCache().forEachTarget(a,b)};b.prototype.forEachOrphanedDocumentSequenceNumber=function(a,b){return this.forEachOrphanedDocument(a,function(a,d){return b(d)})};b.prototype.setInMemoryPins=function(a){this.inMemoryPins=a};b.prototype.addReference=function(a,b){return lb(a,b)};b.prototype.removeReference=function(a,b){return lb(a,b)};b.prototype.removeTargets=function(a,b,c){return this.db.getQueryCache().removeTargets(a,b,c)};b.prototype.removeMutationReference=
function(a,b){return lb(a,b)};b.prototype.isPinned=function(a,b){return this.inMemoryPins.containsKey(b)?R.resolve(!0):Dd(a,b)};b.prototype.removeOrphanedDocuments=function(a,b){var d=this,c=0,e=0,h=[];return this.forEachOrphanedDocument(a,function(g,m){m<=b&&(m=d.isPinned(a,g).next(function(b){if(!b)return c++,d.removeOrphanedDocument(a,g).next(function(a){e+=a})}),h.push(m))}).next(function(){return R.waitFor(h)}).next(function(){return d.db.getRemoteDocumentCache().updateSize(a,-e)}).next(function(){return c})};
b.prototype.removeOrphanedDocument=function(a,b){var d=0,c=this.db.getRemoteDocumentCache();return R.waitFor([Ua(a).delete([0,kb(b.path)]),c.removeEntry(a,b).next(function(a){d+=a})]).next(function(){return d})};b.prototype.removeTarget=function(a,b){b=b.copy({sequenceNumber:a.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(a,b)};b.prototype.updateLimboDocument=function(a,b){return lb(a,b)};b.prototype.forEachOrphanedDocument=function(a,b){a=Ua(a);var d=rc.INVALID,c;return a.iterate({index:Vb.documentTargetsIndex},
function(a,e){var h=e.path;e=e.sequenceNumber;0===a[0]?(d!==rc.INVALID&&b(new pa(Lb(c)),d),d=e,c=h):d=rc.INVALID}).next(function(){d!==rc.INVALID&&b(new pa(Lb(c)),d)})};b.prototype.getCacheSize=function(a){return this.db.getRemoteDocumentCache().getSize(a)};return b}(),mg=function(){function b(a,b,c){this.remoteDocumentCache=a;this.mutationQueue=b;this.indexManager=c}b.prototype.getDocument=function(a,b){var d=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(a,b).next(function(c){return d.getDocumentInternal(a,
b,c)})};b.prototype.getDocumentInternal=function(a,b,c){return this.remoteDocumentCache.getEntry(a,b).next(function(a){for(var d=0;d<c.length;d++)a=c[d].applyToLocalView(b,a);return a})};b.prototype.applyLocalMutationsToDocuments=function(a,b,c){var d=ob;b.forEach(function(a,b){for(var e=0;e<c.length;e++)b=c[e].applyToLocalView(a,b);d=d.insert(a,b)});return d};b.prototype.getDocuments=function(a,b){var d=this;return this.remoteDocumentCache.getEntries(a,b).next(function(b){return d.getLocalViewOfDocuments(a,
b)})};b.prototype.getLocalViewOfDocuments=function(a,b){var d=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(a,b).next(function(c){c=d.applyLocalMutationsToDocuments(a,b,c);var e=ob;c.forEach(function(a,b){b||(b=new xb(a,Ka.forDeletedDoc()));e=e.insert(a,b)});return e})};b.prototype.getDocumentsMatchingQuery=function(a,b){return b.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(a,b.path):b.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(a,
b):this.getDocumentsMatchingCollectionQuery(a,b)};b.prototype.getDocumentsMatchingDocumentQuery=function(a,b){return this.getDocument(a,new pa(b)).next(function(a){var b=kd;a instanceof da&&(b=b.insert(a.key,a));return b})};b.prototype.getDocumentsMatchingCollectionGroupQuery=function(a,b){var d=this;e(b.path.isEmpty(),"Currently we only support collection group queries at the root.");var c=b.collectionGroup,h=kd;return this.indexManager.getCollectionParents(a,c).next(function(e){return R.forEach(e,
function(e){e=b.asCollectionQueryAtPath(e.child(c));return d.getDocumentsMatchingCollectionQuery(a,e).next(function(a){a.forEach(function(a,b){h=h.insert(a,b)})})}).next(function(){return h})})};b.prototype.getDocumentsMatchingCollectionQuery=function(a,b){var d=this,c;return this.remoteDocumentCache.getDocumentsMatchingQuery(a,b).next(function(e){c=e;return d.mutationQueue.getAllMutationBatchesAffectingQuery(a,b)}).next(function(a){for(var d=0;d<a.length;d++)for(var e=a[d],h=0,g=e.mutations;h<g.length;h++){var m=
g[h],f=m.key;if(b.path.isImmediateParentOf(f.path)){var l=c.get(f);m=m.applyToLocalView(l,l,e.localWriteTime);c=m instanceof da?c.insert(f,m):c.remove(f)}}}).next(function(){c.forEach(function(a,d){b.matches(d)||(c=c.remove(a))});return c})};return b}(),zd=function(){function b(){this.refsByKey=new nb(Yb.compareByKey);this.refsByTarget=new nb(Yb.compareByTargetId)}b.prototype.isEmpty=function(){return this.refsByKey.isEmpty()};b.prototype.addReference=function(a,b){a=new Yb(a,b);this.refsByKey=this.refsByKey.add(a);
this.refsByTarget=this.refsByTarget.add(a)};b.prototype.addReferences=function(a,b){var d=this;a.forEach(function(a){return d.addReference(a,b)})};b.prototype.removeReference=function(a,b){this.removeRef(new Yb(a,b))};b.prototype.removeReferences=function(a,b){var d=this;a.forEach(function(a){return d.removeReference(a,b)})};b.prototype.removeReferencesForId=function(a){var b=this,c=pa.EMPTY,e=new Yb(c,a);a=new Yb(c,a+1);var h=[];this.refsByTarget.forEachInRange([e,a],function(a){b.removeRef(a);h.push(a.key)});
return h};b.prototype.removeAllReferences=function(){var a=this;this.refsByKey.forEach(function(b){return a.removeRef(b)})};b.prototype.removeRef=function(a){this.refsByKey=this.refsByKey.delete(a);this.refsByTarget=this.refsByTarget.delete(a)};b.prototype.referencesForId=function(a){var b=pa.EMPTY,c=new Yb(b,a);a=new Yb(b,a+1);var e=wa();this.refsByTarget.forEachInRange([c,a],function(a){e=e.add(a.key)});return e};b.prototype.containsKey=function(a){var b=new Yb(a,0);b=this.refsByKey.firstAfterOrEqual(b);
return null!==b&&a.isEqual(b.key)};return b}(),Yb=function(){function b(a,b){this.key=a;this.targetOrBatchId=b}b.compareByKey=function(a,b){return pa.comparator(a.key,b.key)||qa(a.targetOrBatchId,b.targetOrBatchId)};b.compareByTargetId=function(a,b){return qa(a.targetOrBatchId,b.targetOrBatchId)||pa.comparator(a.key,b.key)};return b}(),Ig=function(){function b(a,b){this.persistence=a;this.localViewReferences=new zd;this.queryDataByTarget={};e(a.started,"LocalStore was passed an unstarted persistence implementation");
this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences);this.mutationQueue=a.getMutationQueue(b);this.remoteDocuments=a.getRemoteDocumentCache();this.queryCache=a.getQueryCache();this.localDocuments=new mg(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}b.prototype.handleUserChange=function(a){var b=this;return this.persistence.runTransaction("Handle user change","readonly",function(d){var c;return b.mutationQueue.getAllMutationBatches(d).next(function(e){c=
e;b.mutationQueue=b.persistence.getMutationQueue(a);b.localDocuments=new mg(b.remoteDocuments,b.mutationQueue,b.persistence.getIndexManager());return b.mutationQueue.getAllMutationBatches(d)}).next(function(a){for(var e=[],h=[],g=wa(),m=0,f=c;m<f.length;m++){var l=f[m];e.push(l.batchId);for(var k=0,B=l.mutations;k<B.length;k++)l=B[k],g=g.add(l.key)}for(m=0;m<a.length;m++)for(l=a[m],h.push(l.batchId),f=0,k=l.mutations;f<k.length;f++)l=k[f],g=g.add(l.key);return b.localDocuments.getDocuments(d,g).next(function(a){return{affectedDocuments:a,
removedBatchIds:e,addedBatchIds:h}})})})};b.prototype.localWrite=function(a){var b=this,c=Da.now(),e=a.reduce(function(a,b){return a.add(b.key)},wa());return this.persistence.runTransaction("Locally write mutations","readwrite",function(d){return b.localDocuments.getDocuments(d,e).next(function(e){for(var h=[],g=0;g<a.length;g++){var m=a[g],f=e.get(m.key);if(!m.isIdempotent){var k=m.fieldMask;k&&(f=f instanceof da?k.applyTo(f.data):yc.EMPTY,h.push(new l(m.key,f,k,Tb.exists(!0))))}}return b.mutationQueue.addMutationBatch(d,
c,h,a).next(function(a){var b=a.applyToLocalDocumentSet(e);return{batchId:a.batchId,changes:b}})})})};b.prototype.lookupMutationDocuments=function(a){var b=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(d){return b.mutationQueue.lookupMutationKeys(d,a).next(function(a){return a?b.localDocuments.getDocuments(d,a):R.resolve(null)})})};b.prototype.acknowledgeBatch=function(a){var b=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",
function(d){var c=a.batch.keys(),e=b.remoteDocuments.newChangeBuffer();return b.mutationQueue.acknowledgeBatch(d,a.batch,a.streamToken).next(function(){return b.applyWriteToRemoteDocuments(d,a,e)}).next(function(){return e.apply(d)}).next(function(){return b.mutationQueue.performConsistencyCheck(d)}).next(function(){return b.localDocuments.getDocuments(d,c)})})};b.prototype.rejectBatch=function(a){var b=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var c;
return b.mutationQueue.lookupMutationBatch(d,a).next(function(a){e(null!==a,"Attempt to reject nonexistent batch!");c=a.keys();return b.mutationQueue.removeMutationBatch(d,a)}).next(function(){return b.mutationQueue.performConsistencyCheck(d)}).next(function(){return b.localDocuments.getDocuments(d,c)})})};b.prototype.getLastStreamToken=function(){var a=this;return this.persistence.runTransaction("Get last stream token","readonly",function(b){return a.mutationQueue.getLastStreamToken(b)})};b.prototype.setLastStreamToken=
function(a){var b=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(d){return b.mutationQueue.setLastStreamToken(d,a)})};b.prototype.getLastRemoteSnapshotVersion=function(){var a=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(b){return a.queryCache.getLastRemoteSnapshotVersion(b)})};b.prototype.applyRemoteEvent=function(a){var d=this,c=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event",
"readwrite-primary",function(h){var g=[],m=wa();fa(a.targetChanges,function(c,e){var f=d.queryDataByTarget[c];if(f){e.addedDocuments.forEach(function(a){m=m.add(a)});e.modifiedDocuments.forEach(function(a){m=m.add(a)});g.push(d.queryCache.removeMatchingKeys(h,e.removedDocuments,c).next(function(){return d.queryCache.addMatchingKeys(h,e.addedDocuments,c)}));var l=e.resumeToken;if(0<l.length){var k=f;f=f.copy({resumeToken:l,snapshotVersion:a.snapshotVersion});d.queryDataByTarget[c]=f;b.shouldPersistQueryData(k,
f,e)&&g.push(d.queryCache.updateQueryData(h,f))}}});var f=ob,l=wa();a.documentUpdates.forEach(function(a,b){l=l.add(a)});g.push(c.getEntries(h,l).next(function(b){a.documentUpdates.forEach(function(e,l){var k=b.get(e);null==k||l.version.isEqual(Ka.MIN)||m.has(l.key)&&!k.hasPendingWrites||0<=l.version.compareTo(k.version)?(c.addEntry(l),f=f.insert(e,l)):x("LocalStore","Ignoring outdated watch update for ",e,". Current version:",k.version," Watch version:",l.version);a.resolvedLimboDocuments.has(e)&&
g.push(d.persistence.referenceDelegate.updateLimboDocument(h,e))})}));var k=a.snapshotVersion;if(!k.isEqual(Ka.MIN)){var u=d.queryCache.getLastRemoteSnapshotVersion(h).next(function(a){e(0<=k.compareTo(a),"Watch stream reverted to previous snapshot?? "+k+" \x3c "+a);return d.queryCache.setTargetsMetadata(h,h.currentSequenceNumber,k)});g.push(u)}return R.waitFor(g).next(function(){return c.apply(h)}).next(function(){return d.localDocuments.getLocalViewOfDocuments(h,f)})})};b.shouldPersistQueryData=
function(a,b,c){return 0===b.resumeToken.length?!1:0===a.resumeToken.length||b.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS?!0:0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size};b.prototype.notifyLocalViewChanges=function(a){var b=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(d){return R.forEach(a,function(a){b.localViewReferences.addReferences(a.addedKeys,a.targetId);b.localViewReferences.removeReferences(a.removedKeys,
a.targetId);return R.forEach(a.removedKeys,function(a){return b.persistence.referenceDelegate.removeReference(d,a)})})})};b.prototype.nextMutationBatch=function(a){var b=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(d){void 0===a&&(a=-1);return b.mutationQueue.getNextMutationBatchAfterBatchId(d,a)})};b.prototype.readDocument=function(a){var b=this;return this.persistence.runTransaction("read document","readonly",function(d){return b.localDocuments.getDocument(d,
a)})};b.prototype.allocateQuery=function(a){var b=this;return this.persistence.runTransaction("Allocate query","readwrite",function(d){var c;return b.queryCache.getQueryData(d,a).next(function(e){return e?(c=e,R.resolve()):b.queryCache.allocateTargetId(d).next(function(e){c=new rd(a,e,vb.Listen,d.currentSequenceNumber);return b.queryCache.addQueryData(d,c)})}).next(function(){e(!b.queryDataByTarget[c.targetId],"Tried to allocate an already allocated query: "+a);return b.queryDataByTarget[c.targetId]=
c})})};b.prototype.releaseQuery=function(a,b){var d=this;return this.persistence.runTransaction("Release query",b?"readwrite":"readwrite-primary",function(c){return d.queryCache.getQueryData(c,a).next(function(h){e(null!=h,"Tried to release nonexistent query: "+a);h=h.targetId;var g=d.queryDataByTarget[h],m=d.localViewReferences.removeReferencesForId(h);delete d.queryDataByTarget[h];return b?R.resolve():R.forEach(m,function(a){return d.persistence.referenceDelegate.removeReference(c,a)}).next(function(){return d.persistence.referenceDelegate.removeTarget(c,
g)})})})};b.prototype.executeQuery=function(a){var b=this;return this.persistence.runTransaction("Execute query","readonly",function(d){return b.localDocuments.getDocumentsMatchingQuery(d,a)})};b.prototype.remoteDocumentKeys=function(a){var b=this;return this.persistence.runTransaction("Remote document keys","readonly",function(d){return b.queryCache.getMatchingKeysForTargetId(d,a)})};b.prototype.getActiveClients=function(){return this.persistence.getActiveClients()};b.prototype.removeCachedMutationBatchMetadata=
function(a){this.mutationQueue.removeCachedMutationKeys(a)};b.prototype.setNetworkEnabled=function(a){this.persistence.setNetworkEnabled(a)};b.prototype.applyWriteToRemoteDocuments=function(a,b,c){var d=this,h=b.batch,g=h.keys(),m=R.resolve();g.forEach(function(d){m=m.next(function(){return c.getEntry(a,d)}).next(function(a){var g=a,m=b.docVersions.get(d);e(null!==m,"ackVersions should contain every doc in the write.");if(!g||0>g.version.compareTo(m))(g=h.applyToRemoteDocument(d,g,b))?c.addEntry(g):
e(!a,"Mutation batch "+h+" applied to document "+a+" resulted in null")})});return m.next(function(){return d.mutationQueue.removeMutationBatch(a,h)})};b.prototype.collectGarbage=function(a){var b=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(d){return a.collect(d,b.queryDataByTarget)})};b.prototype.getQueryForTarget=function(a){var b=this;return this.queryDataByTarget[a]?Promise.resolve(this.queryDataByTarget[a].query):this.persistence.runTransaction("Get query data",
"readonly",function(d){return b.queryCache.getQueryDataForTarget(d,a).next(function(a){return a?a.query:null})})};b.prototype.getNewDocumentChanges=function(){var a=this;return this.persistence.runTransaction("Get new document changes","readonly",function(b){return a.remoteDocuments.getNewDocumentChanges(b)})};b.RESUME_TOKEN_MAX_AGE_MICROS=3E8;return b}(),Pf=function(){function b(a,b){this.indexManager=a;this.referenceDelegate=b;this.mutationQueue=[];this.nextBatchId=1;this.lastStreamToken=S();this.batchesByDocumentKey=
new nb(Yb.compareByKey)}b.prototype.checkEmpty=function(a){return R.resolve(0===this.mutationQueue.length)};b.prototype.acknowledgeBatch=function(a,b,c){a=b.batchId;b=this.indexOfExistingBatchId(a,"acknowledged");e(0===b,"Can only acknowledge the first batch in the mutation queue");b=this.mutationQueue[b];e(a===b.batchId,"Queue ordering failure: expected batch "+a+", got batch "+b.batchId);this.lastStreamToken=c;return R.resolve()};b.prototype.getLastStreamToken=function(a){return R.resolve(this.lastStreamToken)};
b.prototype.setLastStreamToken=function(a,b){this.lastStreamToken=b;return R.resolve()};b.prototype.addMutationBatch=function(a,b,c,h){e(0!==h.length,"Mutation batches should not be empty");var d=this.nextBatchId;this.nextBatchId++;0<this.mutationQueue.length&&e(this.mutationQueue[this.mutationQueue.length-1].batchId<d,"Mutation batchIDs must be monotonically increasing order");b=new De(d,b,c,h);this.mutationQueue.push(b);for(c=0;c<h.length;c++){var g=h[c];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Yb(g.key,
d));this.indexManager.addToCollectionParentIndex(a,g.key.path.popLast())}return R.resolve(b)};b.prototype.lookupMutationBatch=function(a,b){return R.resolve(this.findMutationBatch(b))};b.prototype.lookupMutationKeys=function(a,b){a=this.findMutationBatch(b);e(null!=a,"Failed to find local mutation batch.");return R.resolve(a.keys())};b.prototype.getNextMutationBatchAfterBatchId=function(a,b){a=this.indexOfBatchId(b+1);a=0>a?0:a;return R.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)};
b.prototype.getAllMutationBatches=function(a){return R.resolve(this.mutationQueue.slice())};b.prototype.getAllMutationBatchesAffectingDocumentKey=function(a,b){var d=this;a=new Yb(b,0);var c=new Yb(b,Number.POSITIVE_INFINITY),h=[];this.batchesByDocumentKey.forEachInRange([a,c],function(a){e(b.isEqual(a.key),"Should only iterate over a single key's batches");a=d.findMutationBatch(a.targetOrBatchId);e(null!==a,"Batches in the index must exist in the main table");h.push(a)});return R.resolve(h)};b.prototype.getAllMutationBatchesAffectingDocumentKeys=
function(a,b){var d=this,c=new nb(qa);b.forEach(function(a){var b=new Yb(a,0),h=new Yb(a,Number.POSITIVE_INFINITY);d.batchesByDocumentKey.forEachInRange([b,h],function(b){e(a.isEqual(b.key),"For each key, should only iterate over a single key's batches");c=c.add(b.targetOrBatchId)})});return R.resolve(this.findMutationBatches(c))};b.prototype.getAllMutationBatchesAffectingQuery=function(a,b){e(!b.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var d=b.path,
c=d.length+1;a=d;pa.isDocumentKey(a)||(a=a.child(""));a=new Yb(new pa(a),0);var h=new nb(qa);this.batchesByDocumentKey.forEachWhile(function(a){var b=a.key.path;return d.isPrefixOf(b)?(b.length===c&&(h=h.add(a.targetOrBatchId)),!0):!1},a);return R.resolve(this.findMutationBatches(h))};b.prototype.findMutationBatches=function(a){var b=this,c=[];a.forEach(function(a){a=b.findMutationBatch(a);null!==a&&c.push(a)});return c};b.prototype.removeMutationBatch=function(a,b){var d=this,c=this.indexOfExistingBatchId(b.batchId,
"removed");e(0===c,"Can only remove the first entry of the mutation queue");this.mutationQueue.shift();var h=this.batchesByDocumentKey;return R.forEach(b.mutations,function(c){var e=new Yb(c.key,b.batchId);h=h.delete(e);return d.referenceDelegate.removeMutationReference(a,c.key)}).next(function(){d.batchesByDocumentKey=h})};b.prototype.removeCachedMutationKeys=function(a){};b.prototype.containsKey=function(a,b){a=new Yb(b,0);a=this.batchesByDocumentKey.firstAfterOrEqual(a);return R.resolve(b.isEqual(a&&
a.key))};b.prototype.performConsistencyCheck=function(a){0===this.mutationQueue.length&&e(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty.");return R.resolve()};b.prototype.indexOfExistingBatchId=function(a,b){a=this.indexOfBatchId(a);e(0<=a&&a<this.mutationQueue.length,"Batches must exist to be "+b);return a};b.prototype.indexOfBatchId=function(a){return 0===this.mutationQueue.length?0:a-this.mutationQueue[0].batchId};b.prototype.findMutationBatch=
function(a){var b=this.indexOfBatchId(a);if(0>b||b>=this.mutationQueue.length)return null;b=this.mutationQueue[b];e(b.batchId===a,"If found batch must match");return b};return b}(),jh=function(){function b(a){this.persistence=a;this.queries=new bd(function(a){return a.canonicalId()});this.lastRemoteSnapshotVersion=Ka.MIN;this.highestSequenceNumber=this.highestTargetId=0;this.references=new zd;this.targetCount=0;this.targetIdGenerator=$d.forQueryCache()}b.prototype.getTargetCount=function(a){return R.resolve(this.targetCount)};
b.prototype.forEachTarget=function(a,b){this.queries.forEach(function(a,d){return b(d)});return R.resolve()};b.prototype.getLastRemoteSnapshotVersion=function(a){return R.resolve(this.lastRemoteSnapshotVersion)};b.prototype.getHighestSequenceNumber=function(a){return R.resolve(this.highestSequenceNumber)};b.prototype.allocateTargetId=function(a){this.highestTargetId=a=this.targetIdGenerator.after(this.highestTargetId);return R.resolve(a)};b.prototype.setTargetsMetadata=function(a,b,c){c&&(this.lastRemoteSnapshotVersion=
c);b>this.highestSequenceNumber&&(this.highestSequenceNumber=b);return R.resolve()};b.prototype.saveQueryData=function(a){this.queries.set(a.query,a);var b=a.targetId;b>this.highestTargetId&&(this.highestTargetId=b);a.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=a.sequenceNumber)};b.prototype.addQueryData=function(a,b){e(!this.queries.has(b.query),"Adding a query that already exists");this.saveQueryData(b);this.targetCount+=1;return R.resolve()};b.prototype.updateQueryData=
function(a,b){e(this.queries.has(b.query),"Updating a non-existent query");this.saveQueryData(b);return R.resolve()};b.prototype.removeQueryData=function(a,b){e(0<this.targetCount,"Removing a target from an empty cache");e(this.queries.has(b.query),"Removing a non-existent target from the cache");this.queries.delete(b.query);this.references.removeReferencesForId(b.targetId);--this.targetCount;return R.resolve()};b.prototype.removeTargets=function(a,b,c){var d=this,e=0,h=[];this.queries.forEach(function(g,
m){m.sequenceNumber<=b&&!c[m.targetId]&&(d.queries.delete(g),h.push(d.removeMatchingKeysForTargetId(a,m.targetId)),e++)});return R.waitFor(h).next(function(){return e})};b.prototype.getQueryCount=function(a){return R.resolve(this.targetCount)};b.prototype.getQueryData=function(a,b){a=this.queries.get(b)||null;return R.resolve(a)};b.prototype.getQueryDataForTarget=function(a,b){return k("Not yet implemented.")};b.prototype.addMatchingKeys=function(a,b,c){this.references.addReferences(b,c);var d=this.persistence.referenceDelegate,
e=[];d&&b.forEach(function(b){e.push(d.addReference(a,b))});return R.waitFor(e)};b.prototype.removeMatchingKeys=function(a,b,c){this.references.removeReferences(b,c);var d=this.persistence.referenceDelegate,e=[];d&&b.forEach(function(b){e.push(d.removeReference(a,b))});return R.waitFor(e)};b.prototype.removeMatchingKeysForTargetId=function(a,b){this.references.removeReferencesForId(b);return R.resolve()};b.prototype.getMatchingKeysForTargetId=function(a,b){a=this.references.referencesForId(b);return R.resolve(a)};
b.prototype.containsKey=function(a,b){return R.resolve(this.references.containsKey(b))};return b}(),nh=function(){function b(a,b){this.indexManager=a;this.sizer=b;this.docs=new cb(pa.comparator);this.newDocumentChanges=wa();this.size=0}b.prototype.addEntries=function(a,b,c){for(var d=[],e=0;e<b.length;e++){var h=b[e],g=h.maybeDocument.key;this.docs=this.docs.insert(g,h);this.newDocumentChanges=this.newDocumentChanges.add(g);d.push(this.indexManager.addToCollectionParentIndex(a,g.path.popLast()))}this.size+=
c;return R.waitFor(d)};b.prototype.removeEntry=function(a,b){return(a=this.docs.get(b))?(this.docs=this.docs.remove(b),this.size-=a.size,R.resolve(a.size)):R.resolve(0)};b.prototype.getEntry=function(a,b){a=this.docs.get(b);return R.resolve(a?a.maybeDocument:null)};b.prototype.getSizedEntry=function(a,b){return R.resolve(this.docs.get(b))};b.prototype.getEntries=function(a,b){var d=this,c=ob;b.forEach(function(a){var b=d.docs.get(a);c=c.insert(a,b?b.maybeDocument:null)});return R.resolve(c)};b.prototype.getSizedEntries=
function(a,b){var d=this,c=ob,e=new cb(pa.comparator);b.forEach(function(a){var b=d.docs.get(a);c=c.insert(a,b?b.maybeDocument:null);e=e.insert(a,b?b.size:0)});return R.resolve({maybeDocuments:c,sizeMap:e})};b.prototype.getDocumentsMatchingQuery=function(a,b){e(!b.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");a=kd;var d=new pa(b.path.child(""));for(d=this.docs.getIteratorFrom(d);d.hasNext();){var c=d.getNext(),h=c.value.maybeDocument;if(!b.path.isPrefixOf(c.key.path))break;
h instanceof da&&b.matches(h)&&(a=a.insert(h.key,h))}return R.resolve(a)};b.prototype.forEachDocumentKey=function(a,b){return R.forEach(this.docs,function(a){return b(a)})};b.prototype.getNewDocumentChanges=function(a){var b=this,c=ob;this.newDocumentChanges.forEach(function(a){var d=b.docs.get(a);d=d?d.maybeDocument:new xb(a,Ka.forDeletedDoc());c=c.insert(a,d)});this.newDocumentChanges=wa();return R.resolve(c)};b.prototype.newChangeBuffer=function(){return new oh(this.sizer,this)};b.prototype.getSize=
function(a){return R.resolve(this.size)};return b}(),oh=function(b){function a(a,c){var d=b.call(this)||this;d.sizer=a;d.documentCache=c;return d}u.__extends(a,b);a.prototype.applyChanges=function(a){var b=this,d=0,c=[];this.assertChanges().forEach(function(a,h){var g=b.documentSizes.get(a);e(void 0!==g,"Attempting to change document "+a.toString()+" without having read it first");a=b.sizer(h);d+=a-g;c.push({maybeDocument:h,size:a})});return this.documentCache.addEntries(a,c,d)};a.prototype.getFromCache=
function(a,b){return this.documentCache.getSizedEntry(a,b)};a.prototype.getAllFromCache=function(a,b){return this.documentCache.getSizedEntries(a,b)};return a}(wd),ph=function(){function b(a,b){var d=this;this.clientId=a;this.mutationQueues={};this.listenSequence=new rc(0);this._started=!1;this._started=!0;this.referenceDelegate=b(this);this.queryCache=new jh(this);this.indexManager=new Pd;this.remoteDocumentCache=new nh(this.indexManager,function(a){return d.referenceDelegate.documentSize(a)})}b.createLruPersistence=
function(a,d,c){return new b(a,function(a){return new Jg(a,new Ld(d),c)})};b.createEagerPersistence=function(a){return new b(a,function(a){return new qh(a)})};b.prototype.shutdown=function(){this._started=!1;return Promise.resolve()};Object.defineProperty(b.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0});b.prototype.getActiveClients=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(a){return[2,[this.clientId]]})})};
b.prototype.setPrimaryStateListener=function(a){return a(!0)};b.prototype.setNetworkEnabled=function(a){};b.prototype.getIndexManager=function(){return this.indexManager};b.prototype.getMutationQueue=function(a){var b=this.mutationQueues[a.toKey()];b||(b=new Pf(this.indexManager,this.referenceDelegate),this.mutationQueues[a.toKey()]=b);return b};b.prototype.getQueryCache=function(){return this.queryCache};b.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache};b.prototype.runTransaction=
function(a,b,c){var d=this;x("MemoryPersistence","Starting transaction:",a);var e=new og(this.listenSequence.next());this.referenceDelegate.onTransactionStarted();return c(e).next(function(a){return d.referenceDelegate.onTransactionCommitted(e).next(function(){return a})}).toPromise()};b.prototype.mutationQueuesContainKey=function(a,b){return R.or(O(this.mutationQueues).map(function(d){return function(){return d.containsKey(a,b)}}))};return b}(),og=function(){return function(b){this.currentSequenceNumber=
b}}(),qh=function(){function b(a){this.persistence=a}b.prototype.setInMemoryPins=function(a){this.inMemoryPins=a};b.prototype.addReference=function(a,b){this.orphanedDocuments.delete(b);return R.resolve()};b.prototype.removeReference=function(a,b){this.orphanedDocuments.add(b);return R.resolve()};b.prototype.removeMutationReference=function(a,b){this.orphanedDocuments.add(b);return R.resolve()};b.prototype.removeTarget=function(a,b){var d=this,c=this.persistence.getQueryCache();return c.getMatchingKeysForTargetId(a,
b.targetId).next(function(a){a.forEach(function(a){return d.orphanedDocuments.add(a)})}).next(function(){return c.removeQueryData(a,b)})};b.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set};b.prototype.onTransactionCommitted=function(a){var b=this,c=this.persistence.getRemoteDocumentCache();return R.forEach(this.orphanedDocuments,function(d){return b.isReferenced(a,d).next(function(b){return b?R.resolve():c.removeEntry(a,d).next(function(){})})})};b.prototype.updateLimboDocument=
function(a,b){var d=this;return this.isReferenced(a,b).next(function(a){a?d.orphanedDocuments.delete(b):d.orphanedDocuments.add(b)})};b.prototype.documentSize=function(a){return 0};b.prototype.isReferenced=function(a,b){var d=this;return R.or([function(){return d.persistence.getQueryCache().containsKey(a,b)},function(){return d.persistence.mutationQueuesContainKey(a,b)},function(){return R.resolve(d.inMemoryPins.containsKey(b))}])};return b}(),Jg=function(){function b(a,b,c){this.persistence=a;this.serializer=
b;this.orphanedSequenceNumbers=new bd(function(a){return kb(a.path)});this.garbageCollector=new ed(this,c)}b.prototype.onTransactionStarted=function(){};b.prototype.onTransactionCommitted=function(a){return R.resolve()};b.prototype.forEachTarget=function(a,b){return this.persistence.getQueryCache().forEachTarget(a,b)};b.prototype.getSequenceNumberCount=function(a){var b=this.orphanedDocumentCount(a);return this.persistence.getQueryCache().getTargetCount(a).next(function(a){return b.next(function(b){return a+
b})})};b.prototype.orphanedDocumentCount=function(a){var b=0;return this.forEachOrphanedDocumentSequenceNumber(a,function(a){b++}).next(function(){return b})};b.prototype.forEachOrphanedDocumentSequenceNumber=function(a,b){var d=this;return R.forEach(this.orphanedSequenceNumbers,function(c,e){return d.isPinned(a,c,e).next(function(a){return a?R.resolve():b(e)})})};b.prototype.setInMemoryPins=function(a){this.inMemoryPins=a};b.prototype.removeTargets=function(a,b,c){return this.persistence.getQueryCache().removeTargets(a,
b,c)};b.prototype.removeOrphanedDocuments=function(a,b){var d=this,c=0,e=this.persistence.getRemoteDocumentCache();return e.forEachDocumentKey(a,function(h){return d.isPinned(a,h,b).next(function(b){if(b)return R.resolve();c++;return e.removeEntry(a,h).next()})}).next(function(){return c})};b.prototype.removeMutationReference=function(a,b){this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber);return R.resolve()};b.prototype.removeTarget=function(a,b){b=b.copy({sequenceNumber:a.currentSequenceNumber});
return this.persistence.getQueryCache().updateQueryData(a,b)};b.prototype.addReference=function(a,b){this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber);return R.resolve()};b.prototype.removeReference=function(a,b){this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber);return R.resolve()};b.prototype.updateLimboDocument=function(a,b){this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber);return R.resolve()};b.prototype.documentSize=function(a){a=this.serializer.toDbRemoteDocument(a);
if(a.document)a=a.document;else if(a.unknownDocument)a=a.unknownDocument;else if(a.noDocument)a=a.noDocument;else throw k("Unknown remote document type");return JSON.stringify(a).length};b.prototype.isPinned=function(a,b,c){var d=this;return R.or([function(){return d.persistence.mutationQueuesContainKey(a,b)},function(){return R.resolve(d.inMemoryPins.containsKey(b))},function(){return d.persistence.getQueryCache().containsKey(a,b)},function(){var a=d.orphanedSequenceNumbers.get(b);return R.resolve(void 0!==
a&&a>c)}])};b.prototype.getCacheSize=function(a){return this.persistence.getRemoteDocumentCache().getSize(a)};return b}(),ie=function(){function b(a,b,c,e,h){this.queue=a;this.timerId=b;this.initialDelayMs=c;this.backoffFactor=e;this.maxDelayMs=h;this.timerPromise=null;this.lastAttemptTime=Date.now();this.reset()}b.prototype.reset=function(){this.currentBaseMs=0};b.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs};b.prototype.backoffAndRun=function(a){var b=this;this.cancel();var c=
Math.floor(this.currentBaseMs+this.jitterDelayMs()),e=Math.max(0,Date.now()-this.lastAttemptTime),h=Math.max(0,c-e);0<this.currentBaseMs&&x("ExponentialBackoff","Backing off for "+h+" ms "+("(base delay: "+this.currentBaseMs+" ms, ")+("delay with jitter: "+c+" ms, ")+("last attempt: "+e+" ms ago)"));this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,h,function(){b.lastAttemptTime=Date.now();return a()});this.currentBaseMs*=this.backoffFactor;this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=
this.initialDelayMs);this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)};b.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)};b.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs};return b}(),hb;(function(b){b[b.Initial=0]="Initial";b[b.Starting=1]="Starting";b[b.Open=2]="Open";b[b.Error=3]="Error";b[b.Backoff=4]="Backoff"})(hb||(hb={}));var $e=function(){function b(a,b,c,e,h,g){this.queue=a;
this.idleTimerId=c;this.connection=e;this.credentialsProvider=h;this.listener=g;this.state=hb.Initial;this.closeCount=0;this.stream=this.idleTimer=null;this.backoff=new ie(a,b,1E3,1.5,6E4)}b.prototype.isStarted=function(){return this.state===hb.Starting||this.state===hb.Open||this.state===hb.Backoff};b.prototype.isOpen=function(){return this.state===hb.Open};b.prototype.start=function(){this.state===hb.Error?this.performBackoff():(e(this.state===hb.Initial,"Already started"),this.auth())};b.prototype.stop=
function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(a){switch(a.label){case 0:return this.isStarted()?[4,this.close(hb.Initial)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})};b.prototype.inhibitBackoff=function(){e(!this.isStarted(),"Can only inhibit backoff in a stopped state");this.state=hb.Initial;this.backoff.reset()};b.prototype.markIdle=function(){var a=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,
6E4,function(){return a.handleIdleCloseTimer()}))};b.prototype.sendRequest=function(a){this.cancelIdleCheck();this.stream.send(a)};b.prototype.handleIdleCloseTimer=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(a){return this.isOpen()?[2,this.close(hb.Initial)]:[2]})})};b.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)};b.prototype.close=function(a,b){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,
function(d){switch(d.label){case 0:return e(this.isStarted(),"Only started streams should be closed."),e(a===hb.Error||V(b),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,a!==hb.Error?this.backoff.reset():b&&b.code===D.RESOURCE_EXHAUSTED?(I(b.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):b&&b.code===D.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==
this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=a,[4,this.listener.onClose(b)];case 1:return d.sent(),[2]}})})};b.prototype.tearDown=function(){};b.prototype.auth=function(){var a=this;e(this.state===hb.Initial,"Must be in initial state to auth");this.state=hb.Starting;var b=this.getCloseGuardedDispatcher(this.closeCount),c=this.closeCount;this.credentialsProvider.getToken().then(function(b){a.closeCount===c&&a.startStream(b)},function(d){b(function(){var b=new P(D.UNKNOWN,
"Fetching auth token failed: "+d.message);return a.handleStreamClose(b)})})};b.prototype.startStream=function(a){var b=this;e(this.state===hb.Starting,"Trying to start stream in a non-starting state");var c=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(a);this.stream.onOpen(function(){c(function(){e(b.state===hb.Starting,"Expected stream to be in state Starting, but was "+b.state);b.state=hb.Open;return b.listener.onOpen()})});this.stream.onClose(function(a){c(function(){return b.handleStreamClose(a)})});
this.stream.onMessage(function(a){c(function(){return b.onMessage(a)})})};b.prototype.performBackoff=function(){var a=this;e(this.state===hb.Error,"Should only perform backoff when in Error state");this.state=hb.Backoff;this.backoff.backoffAndRun(function(){return u.__awaiter(a,void 0,void 0,function(){return u.__generator(this,function(a){e(this.state===hb.Backoff,"Backoff elapsed but state is now: "+this.state);this.state=hb.Initial;this.start();e(this.isStarted(),"PersistentStream should have started");
return[2]})})})};b.prototype.handleStreamClose=function(a){e(this.isStarted(),"Can't handle server close on non-started stream");x("PersistentStream","close with error: "+a);this.stream=null;return this.close(hb.Error,a)};b.prototype.getCloseGuardedDispatcher=function(a){var b=this;return function(d){b.queue.enqueueAndForget(function(){if(b.closeCount===a)return d();x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher.");return Promise.resolve()})}};return b}(),Qf=function(b){function a(a,
c,e,h,g){a=b.call(this,a,Bc.ListenStreamConnectionBackoff,Bc.ListenStreamIdle,c,e,g)||this;a.serializer=h;return a}u.__extends(a,b);a.prototype.startRpc=function(a){return this.connection.openStream("Listen",a)};a.prototype.onMessage=function(a){this.backoff.reset();var b=this.serializer.fromWatchChange(a);a=this.serializer.versionFromListenResponse(a);return this.listener.onWatchChange(b,a)};a.prototype.watch=function(a){var b={};b.database=this.serializer.encodedDatabaseId;b.addTarget=this.serializer.toTarget(a);
if(a=this.serializer.toListenRequestLabels(a))b.labels=a;this.sendRequest(b)};a.prototype.unwatch=function(a){var b={};b.database=this.serializer.encodedDatabaseId;b.removeTarget=a;this.sendRequest(b)};return a}($e),He=function(b){function a(a,c,e,h,g){a=b.call(this,a,Bc.WriteStreamConnectionBackoff,Bc.WriteStreamIdle,c,e,g)||this;a.serializer=h;a.handshakeComplete_=!1;return a}u.__extends(a,b);Object.defineProperty(a.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,
configurable:!0});a.prototype.start=function(){this.handshakeComplete_=!1;b.prototype.start.call(this)};a.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])};a.prototype.startRpc=function(a){return this.connection.openStream("Write",a)};a.prototype.onMessage=function(a){e(!!a.streamToken,"Got a write response without a stream token");this.lastStreamToken=a.streamToken;if(this.handshakeComplete_){this.backoff.reset();var b=this.serializer.fromWriteResults(a.writeResults,
a.commitTime);a=this.serializer.fromVersion(a.commitTime);return this.listener.onMutationResult(a,b)}e(!a.writeResults||0===a.writeResults.length,"Got mutation results for handshake");this.handshakeComplete_=!0;return this.listener.onHandshakeComplete()};a.prototype.writeHandshake=function(){e(this.isOpen(),"Writing handshake requires an opened stream");e(!this.handshakeComplete_,"Handshake already completed");var a={};a.database=this.serializer.encodedDatabaseId;this.sendRequest(a)};a.prototype.writeMutations=
function(a){var b=this;e(this.isOpen(),"Writing mutations requires an opened stream");e(this.handshakeComplete_,"Handshake must be complete before writing mutations");e(0<this.lastStreamToken.length,"Trying to write mutation without a token");a={streamToken:this.lastStreamToken,writes:a.map(function(a){return b.serializer.toMutation(a)})};this.sendRequest(a)};return a}($e),Kg=function(){function b(a,b,c,e){this.queue=a;this.connection=b;this.credentials=c;this.serializer=e}b.prototype.newPersistentWriteStream=
function(a){return new He(this.queue,this.connection,this.credentials,this.serializer,a)};b.prototype.newPersistentWatchStream=function(a){return new Qf(this.queue,this.connection,this.credentials,this.serializer,a)};b.prototype.commit=function(a){var b=this;a={database:this.serializer.encodedDatabaseId,writes:a.map(function(a){return b.serializer.toMutation(a)})};return this.invokeRPC("Commit",a).then(function(a){return b.serializer.fromWriteResults(a.writeResults,a.commitTime)})};b.prototype.lookup=
function(a){var b=this,c={database:this.serializer.encodedDatabaseId,documents:a.map(function(a){return b.serializer.toName(a)})};return this.invokeStreamingRPC("BatchGetDocuments",c).then(function(c){var d=ob;c.forEach(function(a){a=b.serializer.fromMaybeDocument(a);d=d.insert(a.key,a)});var h=[];a.forEach(function(a){var b=d.get(a);e(!!b,"Missing entity in write response for "+a);h.push(b)});return h})};b.prototype.invokeRPC=function(a,b){var c=this;return this.credentials.getToken().then(function(d){return c.connection.invokeRPC(a,
b,d)}).catch(function(a){a.code===D.UNAUTHENTICATED&&c.credentials.invalidateToken();throw a;})};b.prototype.invokeStreamingRPC=function(a,b){var c=this;return this.credentials.getToken().then(function(d){return c.connection.invokeStreamingRPC(a,b,d)}).catch(function(a){a.code===D.UNAUTHENTICATED&&c.credentials.invalidateToken();throw a;})};return b}(),sf=function(){function b(a){this.datastore=a;this.readVersions=Kd;this.mutations=[];this.committed=!1}b.prototype.recordVersion=function(a){if(a instanceof
da)var b=a.version;else if(a instanceof xb)b=Ka.forDeletedDoc();else throw k("Document in a transaction was a "+a.constructor.name);var c=this.readVersions.get(a.key);if(null!==c){if(!b.isEqual(c))throw new P(D.ABORTED,"Document version changed between two reads.");}else this.readVersions=this.readVersions.insert(a.key,b)};b.prototype.lookup=function(a){var b=this;return this.committed?Promise.reject("Transaction has already completed."):0<this.mutations.length?Promise.reject("Transactions lookups are invalid after writes."):
this.datastore.lookup(a).then(function(a){a.forEach(function(a){a instanceof xb||a instanceof da?b.recordVersion(a):k("Document in a transaction was a "+a.constructor.name)});return a})};b.prototype.write=function(a){if(this.committed)throw new P(D.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(a)};b.prototype.precondition=function(a){return(a=this.readVersions.get(a))?Tb.updateTime(a):Tb.NONE};b.prototype.preconditionForUpdate=function(a){if((a=this.readVersions.get(a))&&
a.isEqual(Ka.forDeletedDoc()))throw new P(D.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return a?Tb.updateTime(a):Tb.exists(!0)};b.prototype.set=function(a,b){this.write(b.toMutations(a,this.precondition(a)))};b.prototype.update=function(a,b){this.write(b.toMutations(a,this.preconditionForUpdate(a)))};b.prototype.delete=function(a){this.write([new g(a,this.precondition(a))]);this.readVersions=this.readVersions.insert(a,Ka.forDeletedDoc())};b.prototype.commit=function(){var a=
this,b=this.readVersions;this.mutations.forEach(function(a){b=b.remove(a.key)});return b.isEmpty()?this.datastore.commit(this.mutations).then(function(){a.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))};return b}(),qb;(function(b){b[b.Unknown=0]="Unknown";b[b.Online=1]="Online";b[b.Offline=2]="Offline"})(qb||(qb={}));var Ne;(function(b){b[b.RemoteStore=0]="RemoteStore";b[b.SharedClientState=1]="SharedClientState"})(Ne||(Ne={}));var gd=function(){function b(a,
b){this.asyncQueue=a;this.onlineStateHandler=b;this.state=qb.Unknown;this.watchStreamFailures=0;this.onlineStateTimer=null;this.shouldWarnClientIsOffline=!0}b.prototype.handleWatchStreamStart=function(){var a=this;0===this.watchStreamFailures&&(this.setAndBroadcast(qb.Unknown),e(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Bc.OnlineStateTimeout,1E4,function(){a.onlineStateTimer=null;e(a.state===qb.Unknown,"Timer should be canceled if we transitioned to a different state.");
a.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds.");a.setAndBroadcast(qb.Offline);return Promise.resolve()}))};b.prototype.handleWatchStreamFailure=function(a){this.state===qb.Online?(this.setAndBroadcast(qb.Unknown),e(0===this.watchStreamFailures,"watchStreamFailures must be 0"),e(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+
a.toString()),this.setAndBroadcast(qb.Offline)))};b.prototype.set=function(a){this.clearOnlineStateTimer();this.watchStreamFailures=0;a===qb.Online&&(this.shouldWarnClientIsOffline=!1);this.setAndBroadcast(a)};b.prototype.setAndBroadcast=function(a){a!==this.state&&(this.state=a,this.onlineStateHandler(a))};b.prototype.logClientOfflineWarningIfNecessary=function(a){a="Could not reach Cloud Firestore backend. "+a+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";
this.shouldWarnClientIsOffline?(I(a),this.shouldWarnClientIsOffline=!1):x("OnlineStateTracker",a)};b.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)};return b}(),Ib=function(){function b(a,b,c,e){this.localStore=a;this.datastore=b;this.writePipeline=[];this.listenTargets={};this.watchChangeAggregator=null;this.isPrimary=this.networkEnabled=!1;this.onlineStateTracker=new gd(c,e);this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),
onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)});this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}b.prototype.start=function(){return this.enableNetwork()};b.prototype.enableNetwork=function(){return u.__awaiter(this,void 0,void 0,function(){var a;return u.__generator(this,
function(b){switch(b.label){case 0:this.networkEnabled=!0;if(!this.canUseNetwork())return[3,3];a=this.writeStream;return[4,this.localStore.getLastStreamToken()];case 1:return a.lastStreamToken=b.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(qb.Unknown),[4,this.fillWritePipeline()];case 2:b.sent(),b.label=3;case 3:return[2]}})})};b.prototype.disableNetwork=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(a){switch(a.label){case 0:return this.networkEnabled=
!1,[4,this.disableNetworkInternal()];case 1:return a.sent(),this.onlineStateTracker.set(qb.Offline),[2]}})})};b.prototype.disableNetworkInternal=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(a){switch(a.label){case 0:return[4,this.writeStream.stop()];case 1:return a.sent(),[4,this.watchStream.stop()];case 2:return a.sent(),0<this.writePipeline.length&&(x("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=
[]),this.cleanUpWatchStreamState(),[2]}})})};b.prototype.shutdown=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(a){switch(a.label){case 0:return x("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return a.sent(),this.onlineStateTracker.set(qb.Unknown),[2]}})})};b.prototype.listen=function(a){e(!Object.prototype.hasOwnProperty.call(this.listenTargets,a.targetId),"listen called with duplicate targetId!");
this.listenTargets[a.targetId]=a;this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(a)};b.prototype.unlisten=function(a){e(Object.prototype.hasOwnProperty.call(this.listenTargets,a),"unlisten called without assigned target ID!");delete this.listenTargets[a];this.watchStream.isOpen()&&this.sendUnwatchRequest(a);W(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(qb.Unknown))};
b.prototype.getQueryDataForTarget=function(a){return this.listenTargets[a]||null};b.prototype.getRemoteKeysForTarget=function(a){return this.syncEngine.getRemoteKeysForTarget(a)};b.prototype.sendWatchRequest=function(a){this.watchChangeAggregator.recordPendingTargetRequest(a.targetId);this.watchStream.watch(a)};b.prototype.sendUnwatchRequest=function(a){this.watchChangeAggregator.recordPendingTargetRequest(a);this.watchStream.unwatch(a)};b.prototype.startWatchStream=function(){e(this.shouldStartWatchStream(),
"startWatchStream() called when shouldStartWatchStream() is false.");this.watchChangeAggregator=new Cg(this);this.watchStream.start();this.onlineStateTracker.handleWatchStreamStart()};b.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!W(this.listenTargets)};b.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled};b.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null};b.prototype.onWatchStreamOpen=
function(){return u.__awaiter(this,void 0,void 0,function(){var a=this;return u.__generator(this,function(b){fa(this.listenTargets,function(b,c){a.sendWatchRequest(c)});return[2]})})};b.prototype.onWatchStreamClose=function(a){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(b){void 0===a&&e(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed.");this.cleanUpWatchStreamState();this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(a),
this.startWatchStream()):this.onlineStateTracker.set(qb.Unknown);return[2]})})};b.prototype.onWatchStreamChange=function(a,b){return u.__awaiter(this,void 0,void 0,function(){var c;return u.__generator(this,function(d){switch(d.label){case 0:this.onlineStateTracker.set(qb.Online);if(a instanceof $c&&a.state===bb.Removed&&a.cause)return[2,this.handleTargetError(a)];a instanceof qc?this.watchChangeAggregator.handleDocumentChange(a):a instanceof oa?this.watchChangeAggregator.handleExistenceFilter(a):
(e(a instanceof $c,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(a));return b.isEqual(Ka.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()];case 1:return c=d.sent(),0<=b.compareTo(c)?[4,this.raiseWatchSnapshot(b)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}})})};b.prototype.raiseWatchSnapshot=function(a){var b=this;e(!a.isEqual(Ka.MIN),"Can't raise event for unknown SnapshotVersion");var c=this.watchChangeAggregator.createRemoteEvent(a);
fa(c.targetChanges,function(c,d){if(0<d.resumeToken.length){var e=b.listenTargets[c];e&&(b.listenTargets[c]=e.copy({resumeToken:d.resumeToken,snapshotVersion:a}))}});c.targetMismatches.forEach(function(a){var c=b.listenTargets[a];c&&(b.listenTargets[a]=c.copy({resumeToken:S()}),b.sendUnwatchRequest(a),a=new rd(c.query,a,vb.ExistenceFilterMismatch,c.sequenceNumber),b.sendWatchRequest(a))});return this.syncEngine.applyRemoteEvent(c)};b.prototype.handleTargetError=function(a){var b=this;e(!!a.cause,
"Handling target error without a cause");var c=a.cause,h=Promise.resolve();a.targetIds.forEach(function(a){h=h.then(function(){return u.__awaiter(b,void 0,void 0,function(){return u.__generator(this,function(b){return Object.prototype.hasOwnProperty.call(this.listenTargets,a)?(delete this.listenTargets[a],this.watchChangeAggregator.removeTarget(a),[2,this.syncEngine.rejectListen(a,c)]):[2]})})})});return h};b.prototype.fillWritePipeline=function(){return u.__awaiter(this,void 0,void 0,function(){var a,
b;return u.__generator(this,function(c){switch(c.label){case 0:if(!this.canAddToWritePipeline())return[3,4];a=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1;return[4,this.localStore.nextMutationBatch(a)];case 1:b=c.sent();if(null!==b)return[3,2];0===this.writePipeline.length&&this.writeStream.markIdle();return[3,4];case 2:return this.addToWritePipeline(b),[4,this.fillWritePipeline()];case 3:c.sent(),c.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),
[2]}})})};b.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&10>this.writePipeline.length};b.prototype.outstandingWrites=function(){return this.writePipeline.length};b.prototype.addToWritePipeline=function(a){e(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full");this.writePipeline.push(a);this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(a.mutations)};b.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&
!this.writeStream.isStarted()&&0<this.writePipeline.length};b.prototype.startWriteStream=function(){e(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false.");this.writeStream.start()};b.prototype.onWriteStreamOpen=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(a){this.writeStream.writeHandshake();return[2]})})};b.prototype.onWriteHandshakeComplete=function(){var a=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var b=
0,c=a.writePipeline;b<c.length;b++)a.writeStream.writeMutations(c[b].mutations)}).catch(gb)};b.prototype.onMutationResult=function(a,b){var c=this;e(0<this.writePipeline.length,"Got result for empty write pipeline");var d=this.writePipeline.shift();a=Nd.from(d,a,b,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(a).then(function(){return c.fillWritePipeline()})};b.prototype.onWriteStreamClose=function(a){return u.__awaiter(this,void 0,void 0,function(){var b,c=this;return u.__generator(this,
function(d){void 0===a&&e(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed.");return a&&0<this.writePipeline.length?(b=void 0,b=this.writeStream.handshakeComplete?this.handleWriteError(a):this.handleHandshakeError(a),[2,b.then(function(){c.shouldStartWriteStream()&&c.startWriteStream()})]):[2]})})};b.prototype.handleHandshakeError=function(a){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(b){return Jb(a.code)?(x("RemoteStore",
"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=S(),[2,this.localStore.setLastStreamToken(S()).catch(gb)]):[2]})})};b.prototype.handleWriteError=function(a){return u.__awaiter(this,void 0,void 0,function(){var b,c=this;return u.__generator(this,function(d){return Ab(a.code)?(b=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(b.batchId,a).then(function(){return c.fillWritePipeline()})]):
[2]})})};b.prototype.createTransaction=function(){return new sf(this.datastore)};b.prototype.handleCredentialChange=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(a){switch(a.label){case 0:if(!this.canUseNetwork())return[3,3];x("RemoteStore","RemoteStore restarting streams for new credential");this.networkEnabled=!1;return[4,this.disableNetworkInternal()];case 1:return a.sent(),this.onlineStateTracker.set(qb.Unknown),[4,this.enableNetwork()];case 2:a.sent(),
a.label=3;case 3:return[2]}})})};b.prototype.applyPrimaryState=function(a){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(b){switch(b.label){case 0:return(this.isPrimary=a)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return b.sent(),[3,4];case 2:return a?[3,4]:[4,this.disableNetworkInternal()];case 3:b.sent(),this.onlineStateTracker.set(qb.Unknown),b.label=4;case 4:return[2]}})})};return b}(),Tf=function(){return function(){this.listeners=[]}}(),
sg=function(){function b(a){this.syncEngine=a;this.queries=new bd(function(a){return a.canonicalId()});this.onlineState=qb.Unknown;this.syncEngine.subscribe(this)}b.prototype.listen=function(a){var b=a.query,c=!1,e=this.queries.get(b);e||(c=!0,e=new Tf,this.queries.set(b,e));e.listeners.push(a);a.applyOnlineStateChange(this.onlineState);if(e.viewSnap)a.onViewSnapshot(e.viewSnap);return c?this.syncEngine.listen(b).then(function(a){return e.targetId=a}):Promise.resolve(e.targetId)};b.prototype.unlisten=
function(a){return u.__awaiter(this,void 0,void 0,function(){var b,c,e,h;return u.__generator(this,function(d){b=a.query;c=!1;if(e=this.queries.get(b))h=e.listeners.indexOf(a),0<=h&&(e.listeners.splice(h,1),c=0===e.listeners.length);return c?(this.queries.delete(b),[2,this.syncEngine.unlisten(b)]):[2]})})};b.prototype.onWatchChange=function(a){for(var b=0;b<a.length;b++){var c=a[b],e=this.queries.get(c.query);if(e){for(var h=0,g=e.listeners;h<g.length;h++)g[h].onViewSnapshot(c);e.viewSnap=c}}};b.prototype.onWatchError=
function(a,b){var c=this.queries.get(a);if(c){var d=0;for(c=c.listeners;d<c.length;d++)c[d].onError(b)}this.queries.delete(a)};b.prototype.onOnlineStateChange=function(a){this.onlineState=a;this.queries.forEach(function(b,c){b=0;for(c=c.listeners;b<c.length;b++)c[b].applyOnlineStateChange(a)})};return b}(),xf=function(){function b(a,b,c){this.query=a;this.queryObserver=b;this.raisedInitialEvent=!1;this.onlineState=qb.Unknown;this.options=c||{}}b.prototype.onViewSnapshot=function(a){e(0<a.docChanges.length||
a.syncStateChanged,"We got a new snapshot with no changes?");if(!this.options.includeMetadataChanges){for(var b=[],c=0,h=a.docChanges;c<h.length;c++){var g=h[c];g.type!==Aa.Metadata&&b.push(g)}a=new Ae(a.query,a.docs,a.oldDocs,b,a.mutatedKeys,a.fromCache,a.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(a)&&this.queryObserver.next(a):this.shouldRaiseInitialEvent(a,this.onlineState)&&this.raiseInitialEvent(a);this.snap=a};b.prototype.onError=function(a){this.queryObserver.error(a)};
b.prototype.applyOnlineStateChange=function(a){this.onlineState=a;this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,a)&&this.raiseInitialEvent(this.snap)};b.prototype.shouldRaiseInitialEvent=function(a,b){e(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event");if(!a.fromCache)return!0;var c=b!==qb.Offline;return this.options.waitForSyncWhenOnline&&c?(e(a.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!a.docs.isEmpty()||
b===qb.Offline};b.prototype.shouldRaiseEvent=function(a){if(0<a.docChanges.length)return!0;var b=this.snap&&this.snap.hasPendingWrites!==a.hasPendingWrites;return a.syncStateChanged||b?!0===this.options.includeMetadataChanges:!1};b.prototype.raiseInitialEvent=function(a){e(!this.raisedInitialEvent,"Trying to raise initial events for second time");a=Ae.fromInitialDocuments(a.query,a.docs,a.mutatedKeys,a.fromCache);this.raisedInitialEvent=!0;this.queryObserver.next(a)};return b}(),Sg=function(){function b(a,
b,c){this.targetId=a;this.addedKeys=b;this.removedKeys=c}b.fromSnapshot=function(a,c){var d=wa(),e=wa(),h=0;for(c=c.docChanges;h<c.length;h++){var g=c[h];switch(g.type){case Aa.Added:d=d.add(g.doc.key);break;case Aa.Removed:e=e.add(g.doc.key)}}return new b(a,d,e)};return b}(),Uf=function(){return function(b){this.key=b}}(),bf=function(){return function(b){this.key=b}}(),yf=function(){function b(a,b){this.query=a;this._syncedDocuments=b;this.syncState=null;this.current=!1;this.limboDocuments=wa();
this.mutatedKeys=wa();this.documentSet=new Ea(a.docComparator.bind(a))}Object.defineProperty(b.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0});b.prototype.computeDocChanges=function(a,b){var c=this,d=b?b.changeSet:new pc,h=b?b.documentSet:this.documentSet,g=b?b.mutatedKeys:this.mutatedKeys,f=h,l=!1,k=this.query.hasLimit()&&h.size===this.query.limit?h.last():null;a.inorderTraversal(function(a,b){var m=h.get(a);if(b=b instanceof da?b:null)e(a.isEqual(b.key),
"Mismatching keys found in document changes: "+a+" !\x3d "+b.key),b=c.query.matches(b)?b:null;var u=m?c.mutatedKeys.has(m.key):!1,H=b?b.hasLocalMutations||c.mutatedKeys.has(b.key)&&b.hasCommittedMutations:!1,q=!1;m&&b?m.data.isEqual(b.data)?u!==H&&(d.track({type:Aa.Metadata,doc:b}),q=!0):c.shouldWaitForSyncedDocument(m,b)||(d.track({type:Aa.Modified,doc:b}),q=!0,k&&0<c.query.docComparator(b,k)&&(l=!0)):!m&&b?(d.track({type:Aa.Added,doc:b}),q=!0):m&&!b&&(d.track({type:Aa.Removed,doc:m}),q=!0,k&&(l=
!0));q&&(b?(f=f.add(b),g=H?g.add(a):g.delete(a)):(f=f.delete(a),g=g.delete(a)))});if(this.query.hasLimit())for(;f.size>this.query.limit;)a=f.last(),f=f.delete(a.key),g=g.delete(a.key),d.track({type:Aa.Removed,doc:a});e(!l||!b,"View was refilled using docs that themselves needed refilling.");return{documentSet:f,changeSet:d,needsRefill:l,mutatedKeys:g}};b.prototype.shouldWaitForSyncedDocument=function(a,b){return a.hasLocalMutations&&b.hasCommittedMutations&&!b.hasLocalMutations};b.prototype.applyChanges=
function(a,b,c){var d=this;e(!a.needsRefill,"Cannot apply changes that need a refill");var h=this.documentSet;this.documentSet=a.documentSet;this.mutatedKeys=a.mutatedKeys;var g=a.changeSet.getChanges();g.sort(function(a,b){return Db(a.type,b.type)||d.query.docComparator(a.doc,b.doc)});this.applyTargetChange(c);b=b?this.updateLimboDocuments():[];c=0===this.limboDocuments.size&&this.current?pe.Synced:pe.Local;var f=c!==this.syncState;this.syncState=c;return 0!==g.length||f?{snapshot:new Ae(this.query,
a.documentSet,h,g,a.mutatedKeys,c===pe.Local,f,!1),limboChanges:b}:{limboChanges:b}};b.prototype.applyOnlineStateChange=function(a){return this.current&&a===qb.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new pc,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}};b.prototype.shouldBeInLimbo=function(a){return this._syncedDocuments.has(a)||!this.documentSet.has(a)||this.documentSet.get(a).hasLocalMutations?!1:!0};b.prototype.applyTargetChange=
function(a){var b=this;a&&(a.addedDocuments.forEach(function(a){return b._syncedDocuments=b._syncedDocuments.add(a)}),a.modifiedDocuments.forEach(function(a){return e(b._syncedDocuments.has(a),"Modified document "+a+" not found in view.")}),a.removedDocuments.forEach(function(a){return b._syncedDocuments=b._syncedDocuments.delete(a)}),this.current=a.current)};b.prototype.updateLimboDocuments=function(){var a=this;if(!this.current)return[];var b=this.limboDocuments;this.limboDocuments=wa();this.documentSet.forEach(function(b){a.shouldBeInLimbo(b.key)&&
(a.limboDocuments=a.limboDocuments.add(b.key))});var c=[];b.forEach(function(b){a.limboDocuments.has(b)||c.push(new bf(b))});this.limboDocuments.forEach(function(a){b.has(a)||c.push(new Uf(a))});return c};b.prototype.synchronizeWithPersistedState=function(a,b){this._syncedDocuments=b;this.limboDocuments=wa();a=this.computeDocChanges(a);return this.applyChanges(a,!0)};b.prototype.computeInitialSnapshot=function(){return Ae.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===
pe.Local)};return b}(),Td=function(){return function(b,a,c){this.query=b;this.targetId=a;this.view=c}}(),Je=function(){return function(b){this.key=b}}(),se=function(){function b(a,b,c,e){this.localStore=a;this.remoteStore=b;this.sharedClientState=c;this.currentUser=e;this.syncEngineListener=null;this.queryViewsByQuery=new bd(function(a){return a.canonicalId()});this.queryViewsByTarget={};this.limboTargetsByKey=new cb(pa.comparator);this.limboResolutionsByTarget={};this.limboDocumentRefs=new zd;this.mutationUserCallbacks=
{};this.limboTargetIdGenerator=$d.forSyncEngine();this.isPrimary=void 0;this.onlineState=qb.Unknown}Object.defineProperty(b.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0});b.prototype.subscribe=function(a){e(null!==a,"SyncEngine listener cannot be null");e(null===this.syncEngineListener,"SyncEngine already has a subscriber.");this.syncEngineListener=a};b.prototype.listen=function(a){return u.__awaiter(this,void 0,void 0,function(){var b,c,e,h,
g;return u.__generator(this,function(d){switch(d.label){case 0:this.assertSubscribed("listen()");e=this.queryViewsByQuery.get(a);if(!e)return[3,1];b=e.targetId;this.sharedClientState.addLocalQueryTarget(b);c=e.view.computeInitialSnapshot();return[3,4];case 1:return[4,this.localStore.allocateQuery(a)];case 2:return h=d.sent(),g=this.sharedClientState.addLocalQueryTarget(h.targetId),b=h.targetId,[4,this.initializeViewAndComputeSnapshot(h,"current"===g)];case 3:c=d.sent(),this.isPrimary&&this.remoteStore.listen(h),
d.label=4;case 4:return this.syncEngineListener.onWatchChange([c]),[2,b]}})})};b.prototype.initializeViewAndComputeSnapshot=function(a,b){var c=this,d=a.query;return this.localStore.executeQuery(d).then(function(h){return c.localStore.remoteDocumentKeys(a.targetId).then(function(g){g=new yf(d,g);var f=g.computeDocChanges(h),m=If.createSynthesizedTargetChangeForCurrentChange(a.targetId,b&&c.onlineState!==qb.Offline);f=g.applyChanges(f,!0===c.isPrimary,m);e(0===f.limboChanges.length,"View returned limbo docs before target ack from the server.");
e(!!f.snapshot,"applyChanges for new view should always return a snapshot");g=new Td(d,a.targetId,g);c.queryViewsByQuery.set(d,g);c.queryViewsByTarget[a.targetId]=g;return f.snapshot})})};b.prototype.synchronizeViewAndComputeSnapshot=function(a){var b=this;return this.localStore.executeQuery(a.query).then(function(c){return b.localStore.remoteDocumentKeys(a.targetId).then(function(d){return u.__awaiter(b,void 0,void 0,function(){var b;return u.__generator(this,function(e){b=a.view.synchronizeWithPersistedState(c,
d);this.isPrimary&&this.updateTrackedLimbos(a.targetId,b.limboChanges);return[2,b]})})})})};b.prototype.unlisten=function(a){return u.__awaiter(this,void 0,void 0,function(){var b,c,h=this;return u.__generator(this,function(d){switch(d.label){case 0:this.assertSubscribed("unlisten()");b=this.queryViewsByQuery.get(a);e(!!b,"Trying to unlisten on query not found:"+a);if(!this.isPrimary)return[3,3];this.sharedClientState.removeLocalQueryTarget(b.targetId);return(c=this.sharedClientState.isActiveQueryTarget(b.targetId))?
[3,2]:[4,this.localStore.releaseQuery(a,!1).then(function(){h.sharedClientState.clearQueryState(b.targetId);h.remoteStore.unlisten(b.targetId);h.removeAndCleanupQuery(b)}).catch(gb)];case 1:d.sent(),d.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(b),[4,this.localStore.releaseQuery(a,!0)];case 4:d.sent(),d.label=5;case 5:return[2]}})})};b.prototype.write=function(a,b){var c=this;this.assertSubscribed("write()");return this.localStore.localWrite(a).then(function(a){c.sharedClientState.addPendingMutation(a.batchId);
c.addMutationCallback(a.batchId,b);return c.emitNewSnapsAndNotifyLocalStore(a.changes)}).then(function(){return c.remoteStore.fillWritePipeline()})};b.prototype.wrapUpdateFunctionError=function(a){return a};b.prototype.runTransaction=function(a,b){var c=this;void 0===b&&(b=5);e(0<=b,"Got negative number of retries for transaction.");var d=this.remoteStore.createTransaction();return function(){try{var b=a(d);return!V(b)&&b.catch&&b.then?b.catch(function(a){return Promise.reject(c.wrapUpdateFunctionError(a))}):
Promise.reject(Error("Transaction callback must return a Promise"))}catch(Vd){return Promise.reject(c.wrapUpdateFunctionError(Vd))}}().then(function(e){return d.commit().then(function(){return e}).catch(function(d){return 0===b?Promise.reject(d):c.runTransaction(a,b-1)})})};b.prototype.applyRemoteEvent=function(a){var b=this;this.assertSubscribed("applyRemoteEvent()");return this.localStore.applyRemoteEvent(a).then(function(c){F(a.targetChanges,function(a,c){if(a=b.limboResolutionsByTarget[a])e(1>=
c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size,"Limbo resolution for single document contains multiple changes."),0<c.addedDocuments.size?a.receivedDocument=!0:0<c.modifiedDocuments.size?e(a.receivedDocument,"Received change for limbo target document without add."):0<c.removedDocuments.size&&(e(a.receivedDocument,"Received remove for limbo target document without add."),a.receivedDocument=!1)});return b.emitNewSnapsAndNotifyLocalStore(c,a)}).catch(gb)};b.prototype.applyOnlineStateChange=
function(a,b){if(this.isPrimary&&b===Ne.RemoteStore||!this.isPrimary&&b===Ne.SharedClientState){var c=[];this.queryViewsByQuery.forEach(function(b,d){b=d.view.applyOnlineStateChange(a);e(0===b.limboChanges.length,"OnlineState should not affect limbo documents.");b.snapshot&&c.push(b.snapshot)});this.syncEngineListener.onOnlineStateChange(a);this.syncEngineListener.onWatchChange(c);this.onlineState=a;this.isPrimary&&this.sharedClientState.setOnlineState(a)}};b.prototype.rejectListen=function(a,b){return u.__awaiter(this,
void 0,void 0,function(){var c,d,h,g,f,l,k=this;return u.__generator(this,function(m){switch(m.label){case 0:this.assertSubscribed("rejectListens()");this.sharedClientState.updateQueryState(a,"rejected",b);d=(c=this.limboResolutionsByTarget[a])&&c.key;if(!d)return[3,1];this.limboTargetsByKey=this.limboTargetsByKey.remove(d);delete this.limboResolutionsByTarget[a];h=new cb(pa.comparator);h=h.insert(d,new xb(d,Ka.forDeletedDoc()));g=wa().add(d);f=new Gf(Ka.MIN,{},new nb(qa),h,g);return[2,this.applyRemoteEvent(f)];
case 1:return l=this.queryViewsByTarget[a],e(!!l,"Unknown targetId: "+a),[4,this.localStore.releaseQuery(l.query,!1).then(function(){return k.removeAndCleanupQuery(l)}).catch(gb)];case 2:m.sent(),this.syncEngineListener.onWatchError(l.query,b),m.label=3;case 3:return[2]}})})};b.prototype.applyBatchState=function(a,b,c){return u.__awaiter(this,void 0,void 0,function(){var d;return u.__generator(this,function(e){switch(e.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(a)];
case 1:return d=e.sent(),null===d?(x("SyncEngine","Cannot apply mutation batch with id: "+a),[2]):"pending"!==b?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return e.sent(),[3,4];case 3:"acknowledged"===b||"rejected"===b?(this.processUserCallback(a,c?c:null),this.localStore.removeCachedMutationBatchMetadata(a)):k("Unknown batchState: "+b),e.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(d)];case 5:return e.sent(),[2]}})})};b.prototype.applySuccessfulWrite=function(a){var b=
this;this.assertSubscribed("applySuccessfulWrite()");var c=a.batch.batchId;this.processUserCallback(c,null);return this.localStore.acknowledgeBatch(a).then(function(a){b.sharedClientState.updateMutationState(c,"acknowledged");return b.emitNewSnapsAndNotifyLocalStore(a)}).catch(gb)};b.prototype.rejectFailedWrite=function(a,b){var c=this;this.assertSubscribed("rejectFailedWrite()");this.processUserCallback(a,b);return this.localStore.rejectBatch(a).then(function(d){c.sharedClientState.updateMutationState(a,
"rejected",b);return c.emitNewSnapsAndNotifyLocalStore(d)}).catch(gb)};b.prototype.addMutationCallback=function(a,b){var c=this.mutationUserCallbacks[this.currentUser.toKey()];c||(c=new cb(qa));c=c.insert(a,b);this.mutationUserCallbacks[this.currentUser.toKey()]=c};b.prototype.processUserCallback=function(a,b){var c=this.mutationUserCallbacks[this.currentUser.toKey()];if(c){var d=c.get(a);d&&(e(a===c.minKey(),"Mutation callbacks processed out-of-order?"),b?d.reject(b):d.resolve(),c=c.remove(a));this.mutationUserCallbacks[this.currentUser.toKey()]=
c}};b.prototype.removeAndCleanupQuery=function(a){var b=this;this.sharedClientState.removeLocalQueryTarget(a.targetId);this.queryViewsByQuery.delete(a.query);delete this.queryViewsByTarget[a.targetId];if(this.isPrimary){var c=this.limboDocumentRefs.referencesForId(a.targetId);this.limboDocumentRefs.removeReferencesForId(a.targetId);c.forEach(function(a){b.limboDocumentRefs.containsKey(a)||b.removeLimboTarget(a)})}};b.prototype.removeLimboTarget=function(a){var b=this.limboTargetsByKey.get(a);null!==
b&&(this.remoteStore.unlisten(b),this.limboTargetsByKey=this.limboTargetsByKey.remove(a),delete this.limboResolutionsByTarget[b])};b.prototype.updateTrackedLimbos=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d instanceof Uf?(this.limboDocumentRefs.addReference(d.key,a),this.trackLimboChange(d)):d instanceof bf?(x("SyncEngine","Document no longer in limbo: "+d.key),this.limboDocumentRefs.removeReference(d.key,a),this.limboDocumentRefs.containsKey(d.key)||this.removeLimboTarget(d.key)):k("Unknown limbo change: "+
JSON.stringify(d))}};b.prototype.trackLimboChange=function(a){a=a.key;if(!this.limboTargetsByKey.get(a)){x("SyncEngine","New document in limbo: "+a);var b=this.limboTargetIdGenerator.next(),c=Za.atPath(a.path);this.limboResolutionsByTarget[b]=new Je(a);this.remoteStore.listen(new rd(c,b,vb.LimboResolution,rc.INVALID));this.limboTargetsByKey=this.limboTargetsByKey.insert(a,b)}};b.prototype.currentLimboDocs=function(){return this.limboTargetsByKey};b.prototype.emitNewSnapsAndNotifyLocalStore=function(a,
b){return u.__awaiter(this,void 0,void 0,function(){var c,d,e,h=this;return u.__generator(this,function(g){switch(g.label){case 0:return c=[],d=[],e=[],this.queryViewsByQuery.forEach(function(g,f){e.push(Promise.resolve().then(function(){var b=f.view.computeDocChanges(a);return b.needsRefill?h.localStore.executeQuery(f.query).then(function(a){return f.view.computeDocChanges(a,b)}):b}).then(function(a){a=f.view.applyChanges(a,!0===h.isPrimary,b&&b.targetChanges[f.targetId]);h.updateTrackedLimbos(f.targetId,
a.limboChanges);a.snapshot&&(h.isPrimary&&h.sharedClientState.updateQueryState(f.targetId,a.snapshot.fromCache?"not-current":"current"),c.push(a.snapshot),a=Sg.fromSnapshot(f.targetId,a.snapshot),d.push(a))}))}),[4,Promise.all(e)];case 1:return g.sent(),this.syncEngineListener.onWatchChange(c),[4,this.localStore.notifyLocalViewChanges(d)];case 2:return g.sent(),[2]}})})};b.prototype.assertSubscribed=function(a){e(null!==this.syncEngineListener,"Trying to call "+a+" before calling subscribe().")};
b.prototype.handleCredentialChange=function(a){return u.__awaiter(this,void 0,void 0,function(){var b,c;return u.__generator(this,function(d){switch(d.label){case 0:return b=!this.currentUser.isEqual(a),this.currentUser=a,b?[4,this.localStore.handleUserChange(a)]:[3,3];case 1:return c=d.sent(),this.sharedClientState.handleUserChange(a,c.removedBatchIds,c.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(c.affectedDocuments)];case 2:d.sent(),d.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];
case 4:return d.sent(),[2]}})})};b.prototype.applyPrimaryState=function(a){return u.__awaiter(this,void 0,void 0,function(){var b,c,e,h,g,f,l,k=this;return u.__generator(this,function(d){switch(d.label){case 0:if(!0!==a||!0===this.isPrimary)return[3,3];this.isPrimary=!0;return[4,this.remoteStore.applyPrimaryState(!0)];case 1:return d.sent(),b=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(b.toArray())];case 2:c=d.sent();e=0;for(h=c;e<h.length;e++)g=
h[e],this.remoteStore.listen(g);return[3,7];case 3:if(!1!==a||!1===this.isPrimary)return[3,7];this.isPrimary=!1;f=[];l=Promise.resolve();fa(this.queryViewsByTarget,function(a,b){k.sharedClientState.isLocalQueryTarget(a)?f.push(a):l=l.then(function(){return k.unlisten(b.query)});k.remoteStore.unlisten(b.targetId)});return[4,l];case 4:return d.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(f)];case 5:return d.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:d.sent(),
d.label=7;case 7:return[2]}})})};b.prototype.resetLimboDocuments=function(){var a=this;fa(this.limboResolutionsByTarget,function(b){a.remoteStore.unlisten(b)});this.limboDocumentRefs.removeAllReferences();this.limboResolutionsByTarget=[];this.limboTargetsByKey=new cb(pa.comparator)};b.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(a){for(var b=this,c=Promise.resolve(),h=[],g=[],f=function(a){c=c.then(function(){return u.__awaiter(b,void 0,void 0,function(){var b,c,d,f;return u.__generator(this,
function(m){switch(m.label){case 0:return(c=this.queryViewsByTarget[a])?[4,this.localStore.releaseQuery(c.query,!0)]:[3,4];case 1:return m.sent(),[4,this.localStore.allocateQuery(c.query)];case 2:return b=m.sent(),[4,this.synchronizeViewAndComputeSnapshot(c)];case 3:return d=m.sent(),d.snapshot&&g.push(d.snapshot),[3,8];case 4:return e(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(a)];case 5:return f=m.sent(),
e(!!f,"Query data for target "+a+" not found"),[4,this.localStore.allocateQuery(f)];case 6:return b=m.sent(),[4,this.initializeViewAndComputeSnapshot(b,!1)];case 7:m.sent(),m.label=8;case 8:return h.push(b),[2]}})})})},l=0;l<a.length;l++)f(a[l]);return c.then(function(){b.syncEngineListener.onWatchChange(g);return h})};b.prototype.getActiveClients=function(){return this.localStore.getActiveClients()};b.prototype.applyTargetState=function(a,b,c){return u.__awaiter(this,void 0,void 0,function(){var d,
e,h=this;return u.__generator(this,function(g){switch(g.label){case 0:if(this.isPrimary)return x("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[a])return[3,5];d=b;switch(d){case "current":return[3,1];case "not-current":return[3,1];case "rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(c){return u.__awaiter(h,void 0,void 0,function(){var d;return u.__generator(this,function(e){switch(e.label){case 0:return d=
Gf.createSynthesizedRemoteEventForCurrentChange(a,"current"===b),[4,this.emitNewSnapsAndNotifyLocalStore(c,d)];case 1:return e.sent(),[2]}})})},function(a){return u.__awaiter(h,void 0,void 0,function(){var b;return u.__generator(this,function(c){switch(c.label){case 0:if(a.code!==D.DATA_LOSS||"The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views."!==a.message)return[3,2];b=[];fa(this.queryViewsByTarget,function(a){return b.push(a)});
return[4,this.synchronizeQueryViewsAndRaiseSnapshots(b)];case 1:return c.sent(),[3,3];case 2:throw a;case 3:return[2]}})})})];case 2:return e=this.queryViewsByTarget[a],this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(e.query,!0)];case 3:return g.sent(),this.syncEngineListener.onWatchError(e.query,c),[3,5];case 4:k("Unexpected target state: "+b),g.label=5;case 5:return[2]}})})};b.prototype.applyActiveTargetsChange=function(a,b){return u.__awaiter(this,void 0,void 0,function(){var c,d,
h,g,f,l,k,H,q,n=this;return u.__generator(this,function(m){switch(m.label){case 0:if(!this.isPrimary)return[2];c=0;d=a;m.label=1;case 1:if(!(c<d.length))return[3,6];h=d[c];e(!this.queryViewsByTarget[h],"Trying to add an already active target");return[4,this.localStore.getQueryForTarget(h)];case 2:return g=m.sent(),e(!!g,"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(g)];case 3:return f=m.sent(),[4,this.initializeViewAndComputeSnapshot(f,!1)];case 4:m.sent(),this.remoteStore.listen(f),
m.label=5;case 5:return c++,[3,1];case 6:l=function(a){var b;return u.__generator(this,function(c){switch(c.label){case 0:return(b=k.queryViewsByTarget[a])?[4,k.localStore.releaseQuery(b.query,!1).then(function(){n.remoteStore.unlisten(a);n.removeAndCleanupQuery(b)}).catch(gb)]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})},k=this,H=0,q=b,m.label=7;case 7:if(!(H<q.length))return[3,10];h=q[H];return[5,l(h)];case 8:m.sent(),m.label=9;case 9:return H++,[3,7];case 10:return[2]}})})};b.prototype.enableNetwork=
function(){this.localStore.setNetworkEnabled(!0);return this.remoteStore.enableNetwork()};b.prototype.disableNetwork=function(){this.localStore.setNetworkEnabled(!1);return this.remoteStore.disableNetwork()};b.prototype.getRemoteKeysForTarget=function(a){var b=this.limboResolutionsByTarget[a];return b&&b.receivedDocument?wa().add(b.key):this.queryViewsByTarget[a]?this.queryViewsByTarget[a].view.syncedDocuments:wa()};return b}(),te=function(){function b(a){this.uid=a}b.prototype.isAuthenticated=function(){return null!=
this.uid};b.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"};b.prototype.isEqual=function(a){return a.uid===this.uid};b.UNAUTHENTICATED=new b(null);b.GOOGLE_CREDENTIALS=new b("google-credentials-uid");b.FIRST_PARTY=new b("first-party-uid");return b}(),Ug=function(){function b(a,b,c,h){this.user=a;this.batchId=b;this.state=c;this.error=h;e(void 0!==h===("rejected"===c),"MutationMetadata must contain an error iff state is 'rejected'")}b.fromWebStorageEntry=
function(a,c,e){var d=JSON.parse(e),h="object"===typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"===typeof d.error),g=void 0;h&&d.error&&(h="string"===typeof d.error.message&&"string"===typeof d.error.code)&&(g=new P(d.error.code,d.error.message));if(h)return new b(a,c,d.state,g);I("SharedClientState","Failed to parse mutation state for ID '"+c+"': "+e);return null};b.prototype.toWebStorageJSON=function(){var a={state:this.state,updateTimeMs:Date.now()};
this.error&&(a.error={code:this.error.code,message:this.error.message});return JSON.stringify(a)};return b}(),Xf=function(){function b(a,b,c){this.targetId=a;this.state=b;this.error=c;e(void 0!==c===("rejected"===b),"QueryTargetMetadata must contain an error iff state is 'rejected'")}b.fromWebStorageEntry=function(a,c){var d=JSON.parse(c),e="object"===typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"===typeof d.error),h=void 0;e&&d.error&&(e="string"===
typeof d.error.message&&"string"===typeof d.error.code)&&(h=new P(d.error.code,d.error.message));if(e)return new b(a,d.state,h);I("SharedClientState","Failed to parse target state for ID '"+a+"': "+c);return null};b.prototype.toWebStorageJSON=function(){var a={state:this.state,updateTimeMs:Date.now()};this.error&&(a.error={code:this.error.code,message:this.error.message});return JSON.stringify(a)};return b}(),Tg=function(){function b(a,b){this.clientId=a;this.activeTargetIds=b}b.fromWebStorageEntry=
function(a,c){for(var d=JSON.parse(c),e="object"===typeof d&&d.activeTargetIds instanceof Array,h=be,g=0;e&&g<d.activeTargetIds.length;++g)e=db(d.activeTargetIds[g]),h=h.add(d.activeTargetIds[g]);if(e)return new b(a,h);I("SharedClientState","Failed to parse client data for instance '"+a+"': "+c);return null};return b}(),Vf=function(){function b(a,b){this.clientId=a;this.onlineState=b}b.fromWebStorageEntry=function(a){var c=JSON.parse(a);if("object"===typeof c&&void 0!==qb[c.onlineState]&&"string"===
typeof c.clientId)return new b(c.clientId,qb[c.onlineState]);I("SharedClientState","Failed to parse online state: "+a);return null};return b}(),tf=function(){function b(){this.activeTargetIds=be}b.prototype.addQueryTarget=function(a){e(!this.activeTargetIds.has(a),"Target with ID '"+a+"' already active.");this.activeTargetIds=this.activeTargetIds.add(a)};b.prototype.removeQueryTarget=function(a){this.activeTargetIds=this.activeTargetIds.delete(a)};b.prototype.toWebStorageJSON=function(){var a={activeTargetIds:this.activeTargetIds.toArray(),
updateTimeMs:Date.now()};return JSON.stringify(a)};return b}(),Rf=function(){function b(a,c,e,g,h){this.queue=a;this.platform=c;this.persistenceKey=e;this.localClientId=g;this.sequenceNumberHandler=this.onlineStateHandler=this.syncEngine=null;this.activeClients={};this.storageListener=this.handleWebStorageEvent.bind(this);this.started=!1;this.earlyEvents=[];if(!b.isAvailable(this.platform))throw new P(D.UNIMPLEMENTED,"LocalStorage is not available on this platform.");a=e.replace(/[.*+?^${}()|[\]\\]/g,
"\\$\x26");this.storage=this.platform.window.localStorage;this.currentUser=h;this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId);this.sequenceNumberKey="firestore_sequence_number_"+e;this.activeClients[this.localClientId]=new tf;this.clientStateKeyRe=new RegExp("^firestore_clients_"+a+"_([^_]*)$");this.mutationBatchKeyRe=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$");this.queryTargetKeyRe=new RegExp("^firestore_targets_"+a+"_(\\d+)$");this.onlineStateKey="firestore_online_state_"+
e;this.platform.window.addEventListener("storage",this.storageListener)}b.isAvailable=function(a){return!(!a.window||null==a.window.localStorage)};b.prototype.start=function(){return u.__awaiter(this,void 0,void 0,function(){var a,b,c,g,h,f,l,k,H,q,n,p=this;return u.__generator(this,function(d){switch(d.label){case 0:return e(!this.started,"WebStorageSharedClientState already started"),e(null!==this.syncEngine,"syncEngine property must be set before calling start()"),e(null!==this.onlineStateHandler,
"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:a=d.sent();b=0;for(c=a;b<c.length;b++)g=c[b],g!==this.localClientId&&(h=this.getItem(this.toWebStorageClientStateKey(g)))&&(f=Tg.fromWebStorageEntry(g,h))&&(this.activeClients[f.clientId]=f);this.persistClientState();(l=this.storage.getItem(this.onlineStateKey))&&(k=this.fromWebStorageOnlineState(l))&&this.handleOnlineStateEvent(k);H=0;for(q=this.earlyEvents;H<q.length;H++)n=q[H],this.handleWebStorageEvent(n);
this.earlyEvents=[];this.platform.window.addEventListener("unload",function(){return p.shutdown()});this.started=!0;return[2]}})})};b.prototype.writeSequenceNumber=function(a){this.setItem(this.sequenceNumberKey,JSON.stringify(a))};b.prototype.getAllActiveQueryTargets=function(){var a=be;F(this.activeClients,function(b,c){a=a.unionWith(c.activeTargetIds)});return a};b.prototype.isActiveQueryTarget=function(a){for(var b in this.activeClients)if(this.activeClients.hasOwnProperty(b)&&this.activeClients[b].activeTargetIds.has(a))return!0;
return!1};b.prototype.addPendingMutation=function(a){this.persistMutationState(a,"pending")};b.prototype.updateMutationState=function(a,b,c){this.persistMutationState(a,b,c);this.removeMutationState(a)};b.prototype.addLocalQueryTarget=function(a){var b="not-current";if(this.isActiveQueryTarget(a)){var c=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(a));c&&(c=Xf.fromWebStorageEntry(a,c))&&(b=c.state)}this.localClientState.addQueryTarget(a);this.persistClientState();return b};b.prototype.removeLocalQueryTarget=
function(a){this.localClientState.removeQueryTarget(a);this.persistClientState()};b.prototype.isLocalQueryTarget=function(a){return this.localClientState.activeTargetIds.has(a)};b.prototype.clearQueryState=function(a){this.removeItem(this.toWebStorageQueryTargetMetadataKey(a))};b.prototype.updateQueryState=function(a,b,c){this.persistQueryTargetState(a,b,c)};b.prototype.handleUserChange=function(a,b,c){var d=this;b.forEach(function(a){d.removeMutationState(a)});this.currentUser=a;c.forEach(function(a){d.addPendingMutation(a)})};
b.prototype.setOnlineState=function(a){this.persistOnlineState(a)};b.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)};b.prototype.getItem=function(a){var b=this.storage.getItem(a);x("SharedClientState","READ",a,b);return b};b.prototype.setItem=function(a,b){x("SharedClientState","SET",a,b);this.storage.setItem(a,b)};b.prototype.removeItem=function(a){x("SharedClientState",
"REMOVE",a);this.storage.removeItem(a)};b.prototype.handleWebStorageEvent=function(a){var b=this;a.storageArea===this.storage&&(x("SharedClientState","EVENT",a.key,a.newValue),a.key===this.localClientStorageKey?I("Received WebStorage notification for local change. Another client might have garbage-collected our state"):this.queue.enqueueAndForget(function(){return u.__awaiter(b,void 0,void 0,function(){var b,c,d,g,h,f;return u.__generator(this,function(m){if(!this.started)return this.earlyEvents.push(a),
[2];if(null===a.key)return[2];if(this.clientStateKeyRe.test(a.key))if(null!=a.newValue){if(b=this.fromWebStorageClientState(a.key,a.newValue))return[2,this.handleClientStateEvent(b.clientId,b)]}else return c=this.fromWebStorageClientStateKey(a.key),[2,this.handleClientStateEvent(c,null)];else if(this.mutationBatchKeyRe.test(a.key)){if(null!==a.newValue&&(d=this.fromWebStorageMutationMetadata(a.key,a.newValue)))return[2,this.handleMutationBatchEvent(d)]}else if(this.queryTargetKeyRe.test(a.key)){if(null!==
a.newValue&&(g=this.fromWebStorageQueryTargetMetadata(a.key,a.newValue)))return[2,this.handleQueryTargetEvent(g)]}else if(a.key===this.onlineStateKey){if(null!==a.newValue&&(h=this.fromWebStorageOnlineState(a.newValue)))return[2,this.handleOnlineStateEvent(h)]}else if(a.key===this.sequenceNumberKey){e(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler");m=a.newValue;var l=rc.INVALID;if(null!=m)try{var k=JSON.parse(m);e("number"===typeof k,"Found non-numeric sequence number");l=k}catch(vf){I("SharedClientState",
"Failed to read sequence number from WebStorage",vf)}f=l;f!==rc.INVALID&&this.sequenceNumberHandler(f)}return[2]})})}))};Object.defineProperty(b.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0});b.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())};b.prototype.persistMutationState=function(a,b,c){b=new Ug(this.currentUser,a,b,c);a=this.toWebStorageMutationBatchKey(a);
this.setItem(a,b.toWebStorageJSON())};b.prototype.removeMutationState=function(a){a=this.toWebStorageMutationBatchKey(a);this.removeItem(a)};b.prototype.persistOnlineState=function(a){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:qb[a]}))};b.prototype.persistQueryTargetState=function(a,b,c){var d=this.toWebStorageQueryTargetMetadataKey(a);a=new Xf(a,b,c);this.setItem(d,a.toWebStorageJSON())};b.prototype.toWebStorageClientStateKey=function(a){e(-1===
a.indexOf("_"),"Client key cannot contain '_', but was '"+a+"'");return"firestore_clients_"+this.persistenceKey+"_"+a};b.prototype.toWebStorageQueryTargetMetadataKey=function(a){return"firestore_targets_"+this.persistenceKey+"_"+a};b.prototype.toWebStorageMutationBatchKey=function(a){a="firestore_mutations_"+this.persistenceKey+"_"+a;this.currentUser.isAuthenticated()&&(a+="_"+this.currentUser.uid);return a};b.prototype.fromWebStorageClientStateKey=function(a){return(a=this.clientStateKeyRe.exec(a))?
a[1]:null};b.prototype.fromWebStorageClientState=function(a,b){var c=this.fromWebStorageClientStateKey(a);e(null!==c,"Cannot parse client state key '"+a+"'");return Tg.fromWebStorageEntry(c,b)};b.prototype.fromWebStorageMutationMetadata=function(a,b){var c=this.mutationBatchKeyRe.exec(a);e(null!==c,"Cannot parse mutation batch key '"+a+"'");a=Number(c[1]);return Ug.fromWebStorageEntry(new te(void 0!==c[2]?c[2]:null),a,b)};b.prototype.fromWebStorageQueryTargetMetadata=function(a,b){var c=this.queryTargetKeyRe.exec(a);
e(null!==c,"Cannot parse query target key '"+a+"'");return Xf.fromWebStorageEntry(Number(c[1]),b)};b.prototype.fromWebStorageOnlineState=function(a){return Vf.fromWebStorageEntry(a)};b.prototype.handleMutationBatchEvent=function(a){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(b){return a.user.uid!==this.currentUser.uid?(x("SharedClientState","Ignoring mutation for non-active user "+a.user.uid),[2]):[2,this.syncEngine.applyBatchState(a.batchId,a.state,a.error)]})})};
b.prototype.handleQueryTargetEvent=function(a){return this.syncEngine.applyTargetState(a.targetId,a.state,a.error)};b.prototype.handleClientStateEvent=function(a,b){var c=this,d=this.getAllActiveQueryTargets();b?this.activeClients[a]=b:delete this.activeClients[a];var e=this.getAllActiveQueryTargets(),g=[],h=[];e.forEach(function(a){return u.__awaiter(c,void 0,void 0,function(){return u.__generator(this,function(b){d.has(a)||g.push(a);return[2]})})});d.forEach(function(a){return u.__awaiter(c,void 0,
void 0,function(){return u.__generator(this,function(b){e.has(a)||h.push(a);return[2]})})});return this.syncEngine.applyActiveTargetsChange(g,h)};b.prototype.handleOnlineStateEvent=function(a){if(this.activeClients[a.clientId])this.onlineStateHandler(a.onlineState)};return b}(),je=function(){function b(){this.localState=new tf;this.queryState={};this.sequenceNumberHandler=this.onlineStateHandler=this.syncEngine=null}b.prototype.addPendingMutation=function(a){};b.prototype.updateMutationState=function(a,
b,c){};b.prototype.addLocalQueryTarget=function(a){this.localState.addQueryTarget(a);return this.queryState[a]||"not-current"};b.prototype.updateQueryState=function(a,b,c){this.queryState[a]=b};b.prototype.removeLocalQueryTarget=function(a){this.localState.removeQueryTarget(a)};b.prototype.isLocalQueryTarget=function(a){return this.localState.activeTargetIds.has(a)};b.prototype.clearQueryState=function(a){delete this.queryState[a]};b.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds};
b.prototype.isActiveQueryTarget=function(a){return this.localState.activeTargetIds.has(a)};b.prototype.start=function(){this.localState=new tf;return Promise.resolve()};b.prototype.handleUserChange=function(a,b,c){};b.prototype.setOnlineState=function(a){};b.prototype.shutdown=function(){};b.prototype.writeSequenceNumber=function(a){};return b}(),zf=function(){function b(a,b){this.cacheSizeBytes=a;this.experimentalTabSynchronization=b}b.prototype.lruParams=function(){return md.withCacheSize(this.cacheSizeBytes)};
return b}(),ef=function(){return function(){}}(),Wf=function(){function b(a,b,c,e){this.platform=a;this.databaseInfo=b;this.credentials=c;this.asyncQueue=e;this.clientId=dc.newId();this.isShutdown=!1}b.prototype.start=function(a){var b=this;this.verifyNotShutdown();var c=new Hc,e=new Hc,g=!1;this.credentials.setChangeListener(function(d){g?b.asyncQueue.enqueueAndForget(function(){return b.handleCredentialChange(d)}):(g=!0,b.initializePersistence(a,e,d).then(function(a){return b.initializeRest(d,a)}).then(c.resolve,
c.reject))});this.asyncQueue.enqueueAndForget(function(){return c.promise});return e.promise};b.prototype.enableNetwork=function(){var a=this;this.verifyNotShutdown();return this.asyncQueue.enqueue(function(){return a.syncEngine.enableNetwork()})};b.prototype.initializePersistence=function(a,b,c){var d=this;if(a instanceof zf)return this.startIndexedDbPersistence(c,a).then(function(a){b.resolve();return a}).catch(function(a){b.reject(a);if(!d.canFallback(a))throw a;console.warn("Error enabling offline storage. Falling back to storage disabled: "+
a);return d.startMemoryPersistence()});b.resolve();return this.startMemoryPersistence()};b.prototype.canFallback=function(a){return a instanceof P?a.code===D.FAILED_PRECONDITION||a.code===D.UNIMPLEMENTED:"undefined"!==typeof DOMException&&a instanceof DOMException?22===a.code||20===a.code:!0};b.prototype.verifyNotShutdown=function(){if(this.isShutdown)throw new P(D.FAILED_PRECONDITION,"The client has already been shutdown.");};b.prototype.startIndexedDbPersistence=function(a,b){var c=this,d=jb.buildStoragePrefix(this.databaseInfo),
e=new jf(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return u.__awaiter(c,void 0,void 0,function(){var c,g;return u.__generator(this,function(h){switch(h.label){case 0:if(b.experimentalTabSynchronization&&!Rf.isAvailable(this.platform))throw new P(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");g=b.lruParams();if(!b.experimentalTabSynchronization)return[3,2];this.sharedClientState=new Rf(this.asyncQueue,
this.platform,d,this.clientId,a);return[4,jb.createMultiClientIndexedDbPersistence(d,this.clientId,this.platform,this.asyncQueue,e,g,{sequenceNumberSyncer:this.sharedClientState})];case 1:return c=h.sent(),[3,4];case 2:return this.sharedClientState=new je,[4,jb.createIndexedDbPersistence(d,this.clientId,this.platform,this.asyncQueue,e,g)];case 3:c=h.sent(),h.label=4;case 4:return this.persistence=c,[2,c.referenceDelegate.garbageCollector]}})})})};b.prototype.startMemoryPersistence=function(){this.persistence=
ph.createEagerPersistence(this.clientId);this.sharedClientState=new je;return Promise.resolve(null)};b.prototype.initializeRest=function(a,b){var c=this;x("FirestoreClient","Initializing. user\x3d",a.uid);return this.platform.loadConnection(this.databaseInfo).then(function(d){return u.__awaiter(c,void 0,void 0,function(){var c,e,g,h,f=this;return u.__generator(this,function(m){switch(m.label){case 0:return this.localStore=new Ig(this.persistence,a),b&&(this.lruScheduler=new Gg(b,this.asyncQueue,this.localStore)),
c=this.platform.newSerializer(this.databaseInfo.databaseId),e=new Kg(this.asyncQueue,d,this.credentials,c),g=function(a){return f.syncEngine.applyOnlineStateChange(a,Ne.RemoteStore)},h=function(a){return f.syncEngine.applyOnlineStateChange(a,Ne.SharedClientState)},this.remoteStore=new Ib(this.localStore,e,this.asyncQueue,g),this.syncEngine=new se(this.localStore,this.remoteStore,this.sharedClientState,a),this.sharedClientState.onlineStateHandler=h,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=
this.syncEngine,this.eventMgr=new sg(this.syncEngine),[4,this.sharedClientState.start()];case 1:return m.sent(),[4,this.remoteStore.start()];case 2:return m.sent(),[4,this.persistence.setPrimaryStateListener(function(a){return u.__awaiter(f,void 0,void 0,function(){return u.__generator(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.applyPrimaryState(a)];case 1:return b.sent(),this.lruScheduler&&(a&&!this.lruScheduler.started?this.lruScheduler.start():a||this.lruScheduler.stop()),
[2]}})})})];case 3:return m.sent(),[2]}})})})};b.prototype.handleCredentialChange=function(a){this.asyncQueue.verifyOperationInProgress();x("FirestoreClient","Credential Changed. Current user: "+a.uid);return this.syncEngine.handleCredentialChange(a)};b.prototype.disableNetwork=function(){var a=this;this.verifyNotShutdown();return this.asyncQueue.enqueue(function(){return a.syncEngine.disableNetwork()})};b.prototype.shutdown=function(){var a=this;return!0===this.isShutdown?Promise.resolve():this.asyncQueue.enqueue(function(){return u.__awaiter(a,
void 0,void 0,function(){return u.__generator(this,function(a){switch(a.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return a.sent(),[4,this.sharedClientState.shutdown()];case 2:return a.sent(),[4,this.persistence.shutdown()];case 3:return a.sent(),this.credentials.removeChangeListener(),this.isShutdown=!0,[2]}})})})};b.prototype.listen=function(a,b,c){var d=this;this.verifyNotShutdown();var e=new xf(a,b,c);this.asyncQueue.enqueueAndForget(function(){return d.eventMgr.listen(e)});
return e};b.prototype.unlisten=function(a){var b=this;this.verifyNotShutdown();this.asyncQueue.enqueueAndForget(function(){return b.eventMgr.unlisten(a)})};b.prototype.getDocumentFromLocalCache=function(a){var b=this;this.verifyNotShutdown();return this.asyncQueue.enqueue(function(){return b.localStore.readDocument(a)}).then(function(a){if(a instanceof da)return a;if(a instanceof xb)return null;throw new P(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)");
})};b.prototype.getDocumentsFromLocalCache=function(a){var b=this;this.verifyNotShutdown();return this.asyncQueue.enqueue(function(){return b.localStore.executeQuery(a)}).then(function(b){var c=wa();c=new yf(a,c);b=c.computeDocChanges(b);return c.applyChanges(b,!1).snapshot})};b.prototype.write=function(a){var b=this;this.verifyNotShutdown();var c=new Hc;this.asyncQueue.enqueueAndForget(function(){return b.syncEngine.write(a,c)});return c.promise};b.prototype.databaseId=function(){return this.databaseInfo.databaseId};
b.prototype.transaction=function(a){var b=this;this.verifyNotShutdown();return this.asyncQueue.enqueue(function(){return u.__awaiter(b,void 0,void 0,function(){return u.__generator(this,function(a){return[2]})})}).then(function(){return b.syncEngine.runTransaction(a)})};return b}(),Af=function(){function b(a){this.observer=a;this.muted=!1}b.prototype.next=function(a){this.scheduleEvent(this.observer.next,a)};b.prototype.error=function(a){this.scheduleEvent(this.observer.error,a)};b.prototype.mute=
function(){this.muted=!0};b.prototype.scheduleEvent=function(a,b){var c=this;this.muted||setTimeout(function(){c.muted||a(b)},0)};return b}(),Ud=function(){function b(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(!(a instanceof Array)||1>a.length)throw new P(D.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+(ja(1,"element")+"."));for(b=0;b<a.length;++b)if(ka("FieldPath","string",b,a[b]),0===a[b].length)throw new P(D.INVALID_ARGUMENT,
"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Va(a)}b.documentId=function(){return b._DOCUMENT_ID};b.prototype.isEqual=function(a){if(!(a instanceof b))throw ca("isEqual","FieldPath",1,a);return this._internalPath.isEqual(a._internalPath)};b._DOCUMENT_ID=new b(Va.keyField().canonicalString());return b}(),Lg=/[~\*/\[\]]/,re=function(){return function(b,a){this.user=a;this.type="OAuth";this.authHeaders={Authorization:"Bearer "+b}}}(),rh=function(){function b(){this.changeListener=
null}b.prototype.getToken=function(){return Promise.resolve(null)};b.prototype.invalidateToken=function(){};b.prototype.setChangeListener=function(a){e(!this.changeListener,"Can only call setChangeListener() once.");this.changeListener=a;a(te.UNAUTHENTICATED)};b.prototype.removeChangeListener=function(){e(null!==this.changeListener,"removeChangeListener() when no listener registered");this.changeListener=null};return b}(),Lh=function(){function b(a){var b=this;this.app=a;this.tokenListener=null;this.tokenCounter=
0;this.changeListener=null;this.forceRefresh=!1;this.tokenListener=function(){b.tokenCounter++;b.currentUser=b.getUser();b.changeListener&&b.changeListener(b.currentUser)};this.tokenCounter=0;this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}b.prototype.getToken=function(){var a=this;e(null!=this.tokenListener,"getToken cannot be called after listener removed.");var b=this.tokenCounter,c=this.forceRefresh;this.forceRefresh=!1;return this.app.INTERNAL.getToken(c).then(function(c){if(a.tokenCounter!==
b)throw new P(D.ABORTED,"getToken aborted due to token change.");return c?(e("string"===typeof c.accessToken,"Invalid tokenData returned from getToken():"+c),new re(c.accessToken,a.currentUser)):null})};b.prototype.invalidateToken=function(){this.forceRefresh=!0};b.prototype.setChangeListener=function(a){e(!this.changeListener,"Can only call setChangeListener() once.");this.changeListener=a;this.currentUser&&a(this.currentUser)};b.prototype.removeChangeListener=function(){e(null!=this.tokenListener,
"removeChangeListener() called twice");e(null!==this.changeListener,"removeChangeListener() called when no listener registered");this.app.INTERNAL.removeAuthTokenListener(this.tokenListener);this.changeListener=this.tokenListener=null};b.prototype.getUser=function(){var a=this.app.INTERNAL.getUid();e(null===a||"string"===typeof a,"Received invalid UID: "+a);return new te(a)};return b}(),dg=function(){function b(a,b){this.gapi=a;this.sessionIndex=b;this.type="FirstParty";this.user=te.FIRST_PARTY}Object.defineProperty(b.prototype,
"authHeaders",{get:function(){var a={"X-Goog-AuthUser":this.sessionIndex},b=this.gapi.auth.getAuthHeaderValueForFirstParty([]);b&&(a.Authorization=b);return a},enumerable:!0,configurable:!0});return b}(),cf=function(){function b(a,b){this.gapi=a;this.sessionIndex=b}b.prototype.getToken=function(){return Promise.resolve(new dg(this.gapi,this.sessionIndex))};b.prototype.setChangeListener=function(a){a(te.FIRST_PARTY)};b.prototype.removeChangeListener=function(){};b.prototype.invalidateToken=function(){};
return b}(),ue=function(){function b(a){this._methodName=a}b.delete=function(){K("FieldValue.delete",arguments);return Bf.instance};b.serverTimestamp=function(){K("FieldValue.serverTimestamp",arguments);return uf.instance};b.arrayUnion=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];ba("FieldValue.arrayUnion",arguments,1);return new Mh(a)};b.arrayRemove=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];ba("FieldValue.arrayRemove",arguments,1);return new Qh(a)};
b.increment=function(a){ka("FieldValue.increment","number",1,a);ia("FieldValue.increment",arguments,1);return new Vg(a)};b.prototype.isEqual=function(a){return this===a};return b}(),Bf=function(b){function a(){return b.call(this,"FieldValue.delete")||this}u.__extends(a,b);a.instance=new a;return a}(ue),uf=function(b){function a(){return b.call(this,"FieldValue.serverTimestamp")||this}u.__extends(a,b);a.instance=new a;return a}(ue),Mh=function(b){function a(a){var c=b.call(this,"FieldValue.arrayUnion")||
this;c._elements=a;return c}u.__extends(a,b);return a}(ue),Qh=function(b){function a(a){var c=b.call(this,"FieldValue.arrayRemove")||this;c._elements=a;return c}u.__extends(a,b);return a}(ue),Vg=function(b){function a(a){var c=b.call(this,"FieldValue.increment")||this;c._operand=a;return c}u.__extends(a,b);return a}(ue),Mg=Z(ue,"Use FieldValue.\x3cfield\x3e() instead."),Ie=/^__.*__$/,tg=function(){function c(a,b,c){this.data=a;this.fieldMask=b;this.fieldTransforms=c}c.prototype.toMutations=function(a,
c){var d=[];null!==this.fieldMask?d.push(new l(a,this.data,this.fieldMask,c)):d.push(new Jc(a,this.data,c));0<this.fieldTransforms.length&&d.push(new b(a,this.fieldTransforms));return d};return c}(),wh=function(){function c(a,b,c){this.data=a;this.fieldMask=b;this.fieldTransforms=c}c.prototype.toMutations=function(a,c){c=[new l(a,this.data,this.fieldMask,c)];0<this.fieldTransforms.length&&c.push(new b(a,this.fieldTransforms));return c};return c}(),Zb;(function(b){b[b.Set=0]="Set";b[b.Update=1]="Update";
b[b.MergeSet=2]="MergeSet";b[b.Argument=3]="Argument"})(Zb||(Zb={}));var Ke=function(){function b(a,b,c,e,g,h){this.dataSource=a;this.methodName=b;this.path=c;this.arrayElement=e;void 0===g&&this.validatePath();this.arrayElement=void 0!==e?e:!1;this.fieldTransforms=g||[];this.fieldMask=h||[]}b.prototype.childContextForField=function(a){var c=null==this.path?null:this.path.child(a);c=new b(this.dataSource,this.methodName,c,!1,this.fieldTransforms,this.fieldMask);c.validatePathSegment(a);return c};
b.prototype.childContextForFieldPath=function(a){a=null==this.path?null:this.path.child(a);a=new b(this.dataSource,this.methodName,a,!1,this.fieldTransforms,this.fieldMask);a.validatePath();return a};b.prototype.childContextForArray=function(a){return new b(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)};b.prototype.createError=function(a){var b=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new P(D.INVALID_ARGUMENT,"Function "+
this.methodName+"() called with invalid data. "+a+b)};b.prototype.contains=function(a){return void 0!==this.fieldMask.find(function(b){return a.isPrefixOf(b)})||void 0!==this.fieldTransforms.find(function(b){return a.isPrefixOf(b.field)})};b.prototype.validatePath=function(){if(null!==this.path)for(var a=0;a<this.path.length;a++)this.validatePathSegment(this.path.get(a))};b.prototype.validatePathSegment=function(a){if(bc(this.dataSource)&&Ie.test(a))throw this.createError("Document fields cannot begin and end with __");
};return b}(),ve=function(){return function(b,a){this.databaseId=b;this.key=a}}(),ki=function(){function b(a){this.preConverter=a}b.prototype.parseSetData=function(a,b){a=new Ke(Zb.Set,a,Va.EMPTY_PATH);Eb("Data must be an object, but it was:",a,b);b=this.parseData(b,a);return new tg(b,null,a.fieldTransforms)};b.prototype.parseMergeData=function(a,b,c){var d=new Ke(Zb.MergeSet,a,Va.EMPTY_PATH);Eb("Data must be an object, but it was:",d,b);b=this.parseData(b,d);if(c){for(var e=new nb(Va.comparator),
g=0;g<c.length;g++){var h=c[g],f=void 0;if(h instanceof Ud)f=h._internalPath;else if("string"===typeof h)f=Fc(a,h);else throw k("Expected stringOrFieldPath to be a string or a FieldPath");if(!d.contains(f))throw new P(D.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");e=e.add(f)}var m=zc.fromSet(e);a=d.fieldTransforms.filter(function(a){return m.covers(a.field)})}else m=zc.fromArray(d.fieldMask),a=d.fieldTransforms;return new tg(b,m,a)};b.prototype.parseUpdateData=
function(a,b){var c=this,d=new Ke(Zb.Update,a,Va.EMPTY_PATH);Eb("Data must be an object, but it was:",d,b);var e=new nb(Va.comparator),g=yc.EMPTY;F(b,function(b,h){b=Fc(a,b);var f=d.childContextForFieldPath(b);h=c.runPreConverter(h,f);h instanceof Bf?e=e.add(b):(h=c.parseData(h,f),null!=h&&(e=e.add(b),g=g.set(b,h)))});b=zc.fromSet(e);return new wh(g,b,d.fieldTransforms)};b.prototype.parseUpdateVarargs=function(a,b,c,e){var d=new Ke(Zb.Update,a,Va.EMPTY_PATH);b=[lc(a,b)];c=[c];if(0!==e.length%2)throw new P(D.INVALID_ARGUMENT,
"Function "+a+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var g=0;g<e.length;g+=2)b.push(lc(a,e[g])),c.push(e[g+1]);e=new nb(Va.comparator);a=yc.EMPTY;for(g=0;g<b.length;++g){var h=b[g],f=d.childContextForFieldPath(h),m=this.runPreConverter(c[g],f);m instanceof Bf?e=e.add(h):(f=this.parseData(m,f),null!=f&&(e=e.add(h),a=a.set(h,f)))}b=zc.fromSet(e);return new wh(a,b,d.fieldTransforms)};b.prototype.parseQueryValue=function(a,b){a=new Ke(Zb.Argument,
a,Va.EMPTY_PATH);b=this.parseData(b,a);e(null!=b,"Parsed data should not be null.");e(0===a.fieldTransforms.length,"Field transforms should have been disallowed.");return b};b.prototype.runPreConverter=function(a,b){try{return this.preConverter(a)}catch(m){throw b.createError(m instanceof Error?m.message:m.toString());}};b.prototype.parseData=function(a,b){a=this.runPreConverter(a,b);if(Nb(a))return Eb("Unsupported field value:",b,a),this.parseObject(a,b);if(a instanceof ue)return this.parseSentinelFieldValue(a,
b),null;b.path&&b.fieldMask.push(b.path);if(a instanceof Array){if(b.arrayElement)throw b.createError("Nested arrays are not supported");return this.parseArray(a,b)}return this.parseScalarValue(a,b)};b.prototype.parseObject=function(a,b){var c=this,d=new cb(qa);W(a)?b.path&&0<b.path.length&&b.fieldMask.push(b.path):F(a,function(a,e){e=c.parseData(e,b.childContextForField(a));null!=e&&(d=d.insert(a,e))});return new yc(d)};b.prototype.parseArray=function(a,b){for(var c=[],d=0,e=0;e<a.length;e++){var g=
this.parseData(a[e],b.childContextForArray(d));null==g&&(g=Yd.INSTANCE);c.push(g);d++}return new Uc(c)};b.prototype.parseSentinelFieldValue=function(a,b){if(!bc(b.dataSource))throw b.createError(a._methodName+"() can only be used with update() and set()");if(null===b.path)throw b.createError(a._methodName+"() is not currently supported inside arrays");if(a instanceof Bf)if(b.dataSource===Zb.MergeSet)b.fieldMask.push(b.path);else{if(b.dataSource===Zb.Update)throw e(0<b.path.length,"FieldValue.delete() at the top level should have already been handled."),
b.createError("FieldValue.delete() can only appear at the top level of your update data");throw b.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");}else a instanceof uf?b.fieldTransforms.push(new id(b.path,t.instance)):a instanceof Mh?(a=this.parseArrayTransformElements(a._methodName,a._elements),a=new Q(a),b.fieldTransforms.push(new id(b.path,a))):a instanceof Qh?(a=this.parseArrayTransformElements(a._methodName,a._elements),a=new oc(a),b.fieldTransforms.push(new id(b.path,
a))):a instanceof Vg?(a=this.parseQueryValue("FieldValue.increment",a._operand),a=new ud(a),b.fieldTransforms.push(new id(b.path,a))):k("Unknown FieldValue type: "+a)};b.prototype.parseScalarValue=function(a,b){if(null===a)return Yd.INSTANCE;if("number"===typeof a)return db(a)?new xc(a):new yb(a);if("boolean"===typeof a)return sb.of(a);if("string"===typeof a)return new gc(a);if(a instanceof Date)return new Tc(Da.fromDate(a));if(a instanceof Da)return new Tc(new Da(a.seconds,1E3*Math.floor(a.nanoseconds/
1E3)));if(a instanceof Qb)return new Pe(a);if(a instanceof Rc)return new Fd(a);if(a instanceof ve)return new Gb(a.databaseId,a.key);throw b.createError("Unsupported field value: "+X(a));};b.prototype.parseArrayTransformElements=function(a,b){var c=this;return b.map(function(b,d){var e=new Ke(Zb.Argument,a,Va.EMPTY_PATH);return c.parseData(b,e.childContextForArray(d))})};return b}(),Yf=md.COLLECTION_DISABLED,Le=function(){function b(a){if(void 0===a.host){if(void 0!==a.ssl)throw new P(D.INVALID_ARGUMENT,
"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com";this.ssl=!0}else U("settings","non-empty string","host option",a.host),this.host=a.host,Qa("settings","boolean","ssl",a.ssl),this.ssl=za(a.ssl,!0);Ra("settings",a,"host ssl credentials timestampsInSnapshots cacheSizeBytes experimentalForceLongPolling".split(" "));Qa("settings","object","credentials",a.credentials);this.credentials=a.credentials;Qa("settings","boolean","timestampsInSnapshots",a.timestampsInSnapshots);
!0===a.timestampsInSnapshots?I("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===a.timestampsInSnapshots&&I("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date \x3d snapshot.get('created_at');\n  // New:\n  const timestamp \x3d snapshot.get('created_at'); const date \x3d\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior.");
this.timestampsInSnapshots=za(a.timestampsInSnapshots,!0);Qa("settings","number","cacheSizeBytes",a.cacheSizeBytes);if(void 0===a.cacheSizeBytes)this.cacheSizeBytes=md.DEFAULT_CACHE_SIZE_BYTES;else{if(a.cacheSizeBytes!==Yf&&a.cacheSizeBytes<md.MINIMUM_CACHE_SIZE_BYTES)throw new P(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+md.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=a.cacheSizeBytes}Qa("settings","boolean","experimentalForceLongPolling",a.experimentalForceLongPolling);this.forceLongPolling=
void 0===a.experimentalForceLongPolling?!1:a.experimentalForceLongPolling}b.prototype.isEqual=function(a){return this.host===a.host&&this.ssl===a.ssl&&this.timestampsInSnapshots===a.timestampsInSnapshots&&this.credentials===a.credentials&&this.cacheSizeBytes===a.cacheSizeBytes&&this.forceLongPolling===a.forceLongPolling};return b}(),df=function(){return function(){}}(),Cf=function(){function b(a){var c=this;this._queue=new ad;this.INTERNAL={delete:function(){return u.__awaiter(c,void 0,void 0,function(){return u.__generator(this,
function(a){switch(a.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return a.sent(),this.clientRunning=!1,[2]}})})}};this.clientRunning=!1;var e=new df;if("object"===typeof a.options)e.firebaseApp=a,e.databaseId=b.databaseIdFromApp(a),e.persistenceKey=e.firebaseApp.name,e.credentials=new Lh(a);else{if(!a.projectId)throw new P(D.INVALID_ARGUMENT,"Must provide projectId");e.databaseId=new vc(a.projectId,a.database);e.persistenceKey="[DEFAULT]";e.credentials=
new rh}e.settings=new Le({});this._config=e;this._databaseId=e.databaseId}b.prototype.settings=function(a){ia("Firestore.settings",arguments,1);ka("Firestore.settings","object",1,a);if(Object.prototype.hasOwnProperty.call(a,"persistence"))throw new P(D.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var b=new Le(a);if(this._firestoreClient&&!this._config.settings.isEqual(b))throw new P(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");
this._config.settings=b;if(void 0!==b.credentials){var c=this._config;a:if(b=b.credentials)switch(b.type){case "gapi":var g=b.client;e(!("object"!==typeof g||null===g||!g.auth||!g.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface");b=new cf(g,b.sessionIndex||"0");break a;case "provider":b=b.client;break a;default:throw new P(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type");}else b=new rh;c.credentials=b}};b.prototype.enableNetwork=function(){this.ensureClientConfigured();
return this._firestoreClient.enableNetwork()};b.prototype.disableNetwork=function(){this.ensureClientConfigured();return this._firestoreClient.disableNetwork()};b.prototype.enablePersistence=function(a){if(this._firestoreClient)throw new P(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new zf(this._config.settings.cacheSizeBytes,
void 0!==a&&za(a.experimentalTabSynchronization,!1)))};b.prototype._clearPersistence=function(){if(this.clientRunning)throw new P(D.FAILED_PRECONDITION,"Persistence cannot be cleared while the client is running");var a=jb.buildStoragePrefix(this.makeDatabaseInfo());return jb.clearPersistence(a)};b.prototype.ensureClientConfigured=function(){this._firestoreClient||this.configureClient(new ef);return this._firestoreClient};b.prototype.makeDatabaseInfo=function(){return new Xd(this._config.databaseId,
this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)};b.prototype.configureClient=function(a){var b=this;e(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey");e(!this._firestoreClient,"configureClient() called multiple times");this.clientRunning=!0;var c=this.makeDatabaseInfo();this._dataConverter=new ki(function(a){if(a instanceof le){var c=b._config.databaseId,d=a.firestore._config.databaseId;if(!d.isEqual(c))throw new P(D.INVALID_ARGUMENT,
"Document reference is for database "+(d.projectId+"/"+d.database+" but should be ")+("for database "+c.projectId+"/"+c.database));return new ve(b._config.databaseId,a._key)}return a});this._firestoreClient=new Wf(cc.getPlatform(),c,this._config.credentials,this._queue);return this._firestoreClient.start(a)};b.databaseIdFromApp=function(a){a=a.options;if(!Object.prototype.hasOwnProperty.call(a,"projectId"))throw new P(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');a=a.projectId;
if(!a||"string"!==typeof a)throw new P(D.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new vc(a)};Object.defineProperty(b.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new P(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0});b.prototype.collection=function(a){ia("Firestore.collection",arguments,1);ka("Firestore.collection","non-empty string",
1,a);this.ensureClientConfigured();return new ff(Ma.fromString(a),this)};b.prototype.doc=function(a){ia("Firestore.doc",arguments,1);ka("Firestore.doc","non-empty string",1,a);this.ensureClientConfigured();return le.forPath(Ma.fromString(a),this)};b.prototype._collectionGroup=function(a){ia("Firestore.collectionGroup",arguments,1);ka("Firestore.collectionGroup","non-empty string",1,a);if(0<=a.indexOf("/"))throw new P(D.INVALID_ARGUMENT,"Invalid collection ID '"+a+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");
this.ensureClientConfigured();return new ke(new Za(Ma.EMPTY_PATH,a),this)};b.prototype.runTransaction=function(a){var b=this;ia("Firestore.runTransaction",arguments,1);ka("Firestore.runTransaction","function",1,a);return this.ensureClientConfigured().transaction(function(c){return a(new eb(b,c))})};b.prototype.batch=function(){this.ensureClientConfigured();return new af(this)};Object.defineProperty(b,"logLevel",{get:function(){switch(v()){case Ya.DEBUG:return"debug";case Ya.ERROR:return"error";case Ya.SILENT:return"silent";
default:return k("Unknown log level: "+v())}},enumerable:!0,configurable:!0});b.setLogLevel=function(a){ia("Firestore.setLogLevel",arguments,1);ka("Firestore.setLogLevel","non-empty string",1,a);switch(a){case "debug":p(Ya.DEBUG);break;case "error":p(Ya.ERROR);break;case "silent":p(Ya.SILENT);break;default:throw new P(D.INVALID_ARGUMENT,"Invalid log level: "+a);}};b.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots};return b}(),eb=function(){function b(a,
b){this._firestore=a;this._transaction=b}b.prototype.get=function(a){var b=this;ia("Transaction.get",arguments,1);var c=sa("Transaction.get",a,this._firestore);return this._transaction.lookup([c._key]).then(function(a){if(!a||1!==a.length)return k("Mismatch in docs returned from document lookup.");a=a[0];if(a instanceof xb)return new ze(b._firestore,c._key,null,!1,!1);if(a instanceof da)return new ze(b._firestore,c._key,a,!1,!1);throw k("BatchGetDocumentsRequest returned unexpected document type: "+
a.constructor.name);})};b.prototype.set=function(a,b,c){ha("Transaction.set",arguments,2,3);var d=sa("Transaction.set",a,this._firestore);c=Ob("Transaction.set",c);var e=c.merge||c.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",b,c.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",b);this._transaction.set(d._key,e);return this};b.prototype.update=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];"string"===typeof b||b instanceof
Ud?(ba("Transaction.update",arguments,3),e=sa("Transaction.update",a,this._firestore),d=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",b,c,d)):(ia("Transaction.update",arguments,2),e=sa("Transaction.update",a,this._firestore),d=this._firestore._dataConverter.parseUpdateData("Transaction.update",b));this._transaction.update(e._key,d);return this};b.prototype.delete=function(a){ia("Transaction.delete",arguments,1);var b=sa("Transaction.delete",a,this._firestore);this._transaction.delete(b._key);
return this};return b}(),af=function(){function b(a){this._firestore=a;this._mutations=[];this._committed=!1}b.prototype.set=function(a,b,c){ha("WriteBatch.set",arguments,2,3);this.verifyNotCommitted();var d=sa("WriteBatch.set",a,this._firestore);c=Ob("WriteBatch.set",c);var e=c.merge||c.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",b,c.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",b);this._mutations=this._mutations.concat(e.toMutations(d._key,
Tb.NONE));return this};b.prototype.update=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];this.verifyNotCommitted();"string"===typeof b||b instanceof Ud?(ba("WriteBatch.update",arguments,3),e=sa("WriteBatch.update",a,this._firestore),d=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",b,c,d)):(ia("WriteBatch.update",arguments,2),e=sa("WriteBatch.update",a,this._firestore),d=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",b));this._mutations=
this._mutations.concat(d.toMutations(e._key,Tb.exists(!0)));return this};b.prototype.delete=function(a){ia("WriteBatch.delete",arguments,1);this.verifyNotCommitted();var b=sa("WriteBatch.delete",a,this._firestore);this._mutations=this._mutations.concat(new g(b._key,Tb.NONE));return this};b.prototype.commit=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(a){this.verifyNotCommitted();this._committed=!0;return 0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:
[2]})})};b.prototype.verifyNotCommitted=function(){if(this._committed)throw new P(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.");};return b}(),le=function(){function b(a,b){this._key=a;this.firestore=b;this._firestoreClient=this.firestore.ensureClientConfigured()}b.forPath=function(a,c){if(0!==a.length%2)throw new P(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+(a.canonicalString()+" has "+
a.length));return new b(new pa(a),c)};Object.defineProperty(b.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"parent",{get:function(){return new ff(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0});b.prototype.collection=function(a){ia("DocumentReference.collection",
arguments,1);ka("DocumentReference.collection","non-empty string",1,a);if(!a)throw new P(D.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var b=Ma.fromString(a);return new ff(this._key.path.child(b),this.firestore)};b.prototype.isEqual=function(a){if(!(a instanceof b))throw ca("isEqual","DocumentReference",1,a);return this.firestore===a.firestore&&this._key.isEqual(a._key)};b.prototype.set=function(a,b){ha("DocumentReference.set",arguments,1,2);b=Ob("DocumentReference.set",
b);var c=b.merge||b.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",a,b.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",a);return this._firestoreClient.write(c.toMutations(this._key,Tb.NONE))};b.prototype.update=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];"string"===typeof a||a instanceof Ud?(ba("DocumentReference.update",arguments,2),c=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",
a,b,c)):(ia("DocumentReference.update",arguments,1),c=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",a));return this._firestoreClient.write(c.toMutations(this._key,Tb.exists(!0)))};b.prototype.delete=function(){ia("DocumentReference.delete",arguments,0);return this._firestoreClient.write([new g(this._key,Tb.NONE)])};b.prototype.onSnapshot=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];ha("DocumentReference.onSnapshot",arguments,1,4);var c={includeMetadataChanges:!1};
b=0;"object"!==typeof a[b]||Xb(a[b])||(c=a[b],Ra("DocumentReference.onSnapshot",c,["includeMetadataChanges"]),Qa("DocumentReference.onSnapshot","boolean","includeMetadataChanges",c.includeMetadataChanges),b++);c={includeMetadataChanges:c.includeMetadataChanges};Xb(a[b])?a=a[b]:(ka("DocumentReference.onSnapshot","function",b,a[b]),xa("DocumentReference.onSnapshot","function",b+1,a[b+1]),xa("DocumentReference.onSnapshot","function",b+2,a[b+2]),a={next:a[b],error:a[b+1],complete:a[b+2]});return this.onSnapshotInternal(c,
a)};b.prototype.onSnapshotInternal=function(a,b){var c=this,d=function(a){console.error("Uncaught Error in onSnapshot:",a)};b.error&&(d=b.error.bind(b));var g=new Af({next:function(a){if(b.next){e(1>=a.docs.size,"Too many documents returned on a document query");var d=a.docs.get(c._key);b.next(new ze(c.firestore,c._key,d,a.fromCache,a.hasPendingWrites))}},error:d}),h=this._firestoreClient.listen(Za.atPath(this._key.path),g,a);return function(){g.mute();c._firestoreClient.unlisten(h)}};b.prototype.get=
function(a){var b=this;ha("DocumentReference.get",arguments,0,1);uc("DocumentReference.get",a);return new Promise(function(c,d){a&&"cache"===a.source?b.firestore.ensureClientConfigured().getDocumentFromLocalCache(b._key).then(function(a){c(new ze(b.firestore,b._key,a,!0,a instanceof da?a.hasLocalMutations:!1))},d):b.getViaSnapshotListener(c,d,a)})};b.prototype.getViaSnapshotListener=function(a,b,c){var d=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(e){d();
!e.exists&&e.metadata.fromCache?b(new P(D.UNAVAILABLE,"Failed to get document because the client is offline.")):e.exists&&e.metadata.fromCache&&c&&"server"===c.source?b(new P(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a(e)},error:b})};return b}(),Sd=function(){function b(a,b){this.hasPendingWrites=a;this.fromCache=b}b.prototype.isEqual=function(a){return this.hasPendingWrites===
a.hasPendingWrites&&this.fromCache===a.fromCache};return b}(),ze=function(){function b(a,b,c,e,g){this._firestore=a;this._key=b;this._document=c;this._fromCache=e;this._hasPendingWrites=g}b.prototype.data=function(a){ha("DocumentSnapshot.data",arguments,0,1);a=mb("DocumentSnapshot.data",a);return this._document?this.convertObject(this._document.data,xe.fromSnapshotOptions(a,this._firestore._areTimestampsInSnapshotsEnabled())):void 0};b.prototype.get=function(a,b){ha("DocumentSnapshot.get",arguments,
1,2);b=mb("DocumentSnapshot.get",b);if(this._document){var c=this._document.data.field(lc("DocumentSnapshot.get",a));if(void 0!==c)return this.convertValue(c,xe.fromSnapshotOptions(b,this._firestore._areTimestampsInSnapshotsEnabled()))}};Object.defineProperty(b.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"ref",{get:function(){return new le(this._key,this._firestore)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"metadata",{get:function(){return new Sd(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0});b.prototype.isEqual=function(a){if(!(a instanceof b))throw ca("isEqual","DocumentSnapshot",1,a);return this._firestore===a._firestore&&this._fromCache===a._fromCache&&this._key.isEqual(a._key)&&(null===this._document?null===a._document:this._document.isEqual(a._document))};
b.prototype.convertObject=function(a,b){var c=this,d={};a.forEach(function(a,e){d[a]=c.convertValue(e,b)});return d};b.prototype.convertValue=function(a,b){if(a instanceof yc)return this.convertObject(a,b);if(a instanceof Uc)return this.convertArray(a,b);if(a instanceof Gb){b=a.value(b);var c=this._firestore.ensureClientConfigured().databaseId();a.databaseId.isEqual(c)||I("Document "+this._key.path+" contains a document reference within a different database ("+(a.databaseId.projectId+"/"+a.databaseId.database+
") which is not ")+"supported. It will be treated as a reference in the current "+("database ("+c.projectId+"/"+c.database+") ")+"instead.");return new le(b,this._firestore)}return a.value(b)};b.prototype.convertArray=function(a,b){var c=this;return a.internalValue.map(function(a){return c.convertValue(a,b)})};return b}(),Me=function(b){function a(a,c,e,g,h){return b.call(this,a,c,e,g,h)||this}u.__extends(a,b);a.prototype.data=function(a){a=b.prototype.data.call(this,a);e("object"===typeof a,"Document in a QueryDocumentSnapshot should exist");
return a};return a}(ze),ke=function(){function b(a,b){this._query=a;this.firestore=b}b.prototype.where=function(a,c,e){ia("Query.where",arguments,3);na("Query.where",3,e);q("Query.where","\x3c \x3c\x3d \x3d\x3d \x3e\x3d \x3e array-contains".split(" "),2,c);var d=lc("Query.where",a),g=Pa.fromString(c);if(d.isKeyField()){if(g===Pa.ARRAY_CONTAINS)throw new P(D.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"===
typeof e){if(""===e)throw new P(D.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new P(D.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but "+("'"+e+"' contains a slash."));var h=this._query.path.child(Ma.fromString(e));
if(!pa.isDocumentKey(h))throw new P(D.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, "+("but '"+h+"' is not because it has an odd number of segments ("+h.length+")."));h=new Gb(this.firestore._databaseId,new pa(h))}else if(e instanceof le)h=new Gb(this.firestore._databaseId,e._key);else throw new P(D.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+
(X(e)+"."));}else h=this.firestore._dataConverter.parseQueryValue("Query.where",e);d=Wc.create(d,g,h);this.validateNewFilter(d);return new b(this._query.addFilter(d),this.firestore)};b.prototype.orderBy=function(a,c){ha("Query.orderBy",arguments,1,2);xa("Query.orderBy","non-empty string",2,c);if(void 0===c||"asc"===c)var d=$a.ASCENDING;else if("desc"===c)d=$a.DESCENDING;else throw new P(D.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+c+"', expected 'asc' or 'desc'.");if(null!==
this._query.startAt)throw new P(D.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new P(D.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var e=lc("Query.orderBy",a);d=new ab(e,d);this.validateNewOrderBy(d);return new b(this._query.addOrderBy(d),this.firestore)};b.prototype.limit=function(a){ia("Query.limit",arguments,
1);ka("Query.limit","number",1,a);if(0>=a)throw new P(D.INVALID_ARGUMENT,"Invalid Query. Query limit ("+a+") is invalid. Limit must be positive.");return new b(this._query.withLimit(a),this.firestore)};b.prototype.startAt=function(a){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];ba("Query.startAt",arguments,1);c=this.boundFromDocOrFields("Query.startAt",a,c,!0);return new b(this._query.withStartAt(c),this.firestore)};b.prototype.startAfter=function(a){for(var c=[],e=1;e<arguments.length;e++)c[e-
1]=arguments[e];ba("Query.startAfter",arguments,1);c=this.boundFromDocOrFields("Query.startAfter",a,c,!1);return new b(this._query.withStartAt(c),this.firestore)};b.prototype.endBefore=function(a){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];ba("Query.endBefore",arguments,1);c=this.boundFromDocOrFields("Query.endBefore",a,c,!0);return new b(this._query.withEndAt(c),this.firestore)};b.prototype.endAt=function(a){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];ba("Query.endAt",
arguments,1);c=this.boundFromDocOrFields("Query.endAt",a,c,!1);return new b(this._query.withEndAt(c),this.firestore)};b.prototype.isEqual=function(a){if(!(a instanceof b))throw ca("isEqual","Query",1,a);return this.firestore===a.firestore&&this._query.isEqual(a._query)};b.prototype.boundFromDocOrFields=function(a,b,c,e){na(a,1,b);if(b instanceof ze){if(0<c.length)throw new P(D.INVALID_ARGUMENT,"Too many arguments provided to "+a+"().");if(!b.exists)throw new P(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+
(a+"()."));return this.boundFromDocument(a,b._document,e)}b=[b].concat(c);return this.boundFromFields(a,b,e)};b.prototype.boundFromDocument=function(a,b,c){a=[];for(var d=0,e=this._query.orderBy;d<e.length;d++){var g=e[d];if(g.field.isKeyField())a.push(new Gb(this.firestore._databaseId,b.key));else{var h=b.field(g.field);if(h instanceof Ed)throw new P(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');
if(void 0!==h)a.push(h);else throw b=g.field.canonicalString(),new P(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a "+("document for which the field '"+b+"' (used as the ")+"orderBy) does not exist.");}}return new Re(a,c)};b.prototype.boundFromFields=function(a,b,c){var d=this._query.explicitOrderBy;if(b.length>d.length)throw new P(D.INVALID_ARGUMENT,"Too many arguments provided to "+a+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");
for(var e=[],g=0;g<b.length;g++){var h=b[g];if(d[g].field.isKeyField()){if("string"!==typeof h)throw new P(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+(a+"(), but got a "+typeof h));if(!this._query.isCollectionGroupQuery()&&-1!==h.indexOf("/"))throw new P(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), "+("the value passed to "+a+"() must be a plain document ID, but ")+("'"+h+"' contains a slash."));h=this._query.path.child(Ma.fromString(h));
if(!pa.isDocumentKey(h))throw new P(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by "+("FieldPath.documentId(), the value passed to "+a+"() must result in a ")+("valid document path, but '"+h+"' is not because it contains an odd number ")+"of segments.");h=new pa(h);e.push(new Gb(this.firestore._databaseId,h))}else h=this.firestore._dataConverter.parseQueryValue(a,h),e.push(h)}return new Re(e,c)};b.prototype.onSnapshot=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=
arguments[b];ha("Query.onSnapshot",arguments,1,4);b={};var c=0;"object"!==typeof a[c]||Xb(a[c])||(b=a[c],Ra("Query.onSnapshot",b,["includeMetadataChanges"]),Qa("Query.onSnapshot","boolean","includeMetadataChanges",b.includeMetadataChanges),c++);Xb(a[c])?a=a[c]:(ka("Query.onSnapshot","function",c,a[c]),xa("Query.onSnapshot","function",c+1,a[c+1]),xa("Query.onSnapshot","function",c+2,a[c+2]),a={next:a[c],error:a[c+1],complete:a[c+2]});return this.onSnapshotInternal(b,a)};b.prototype.onSnapshotInternal=
function(a,b){var c=this,d=function(a){console.error("Uncaught Error in onSnapshot:",a)};b.error&&(d=b.error.bind(b));var e=new Af({next:function(a){b.next&&b.next(new Zf(c.firestore,c._query,a))},error:d}),g=this.firestore.ensureClientConfigured(),h=g.listen(this._query,e,a);return function(){e.mute();g.unlisten(h)}};b.prototype.get=function(a){var b=this;ha("Query.get",arguments,0,1);uc("Query.get",a);return new Promise(function(c,d){a&&"cache"===a.source?b.firestore.ensureClientConfigured().getDocumentsFromLocalCache(b._query).then(function(a){c(new Zf(b.firestore,
b._query,a))},d):b.getViaSnapshotListener(c,d,a)})};b.prototype.getViaSnapshotListener=function(a,b,c){var d=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(e){d();e.metadata.fromCache&&c&&"server"===c.source?b(new P(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a(e)},error:b})};b.prototype.validateNewFilter=function(a){if(a instanceof
Xc)if(a.isInequality()){var b=this._query.getInequalityFilterField();if(null!==b&&!b.isEqual(a.field))throw new P(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (\x3c, \x3c\x3d, \x3e, or \x3e\x3d) must be on the same field. But you have"+(" inequality filters on '"+b.toString()+"'")+(" and '"+a.field.toString()+"'"));b=this._query.getFirstOrderByField();null!==b&&this.validateOrderByAndInequalityMatch(a.field,b)}else if(a.op===Pa.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new P(D.INVALID_ARGUMENT,
"Invalid query. Queries only support a single array-contains filter.");};b.prototype.validateNewOrderBy=function(a){if(null===this._query.getFirstOrderByField()){var b=this._query.getInequalityFilterField();null!==b&&this.validateOrderByAndInequalityMatch(b,a.field)}};b.prototype.validateOrderByAndInequalityMatch=function(a,b){if(!b.isEqual(a))throw new P(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality "+("(\x3c, \x3c\x3d, \x3e, or \x3e\x3d) on field '"+a.toString()+
"' ")+("and so you must also use '"+a.toString()+"' ")+"as your first Query.orderBy(), but your first Query.orderBy() "+("is on field '"+b.toString()+"' instead."));};return b}(),Zf=function(){function b(a,b,c){this._firestore=a;this._originalQuery=b;this._snapshot=c;this._cachedChangesIncludeMetadataChanges=this._cachedChanges=null;this.metadata=new Sd(c.hasPendingWrites,c.fromCache)}Object.defineProperty(b.prototype,"docs",{get:function(){var a=[];this.forEach(function(b){return a.push(b)});return a},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0});b.prototype.forEach=function(a,b){var c=this;ha("QuerySnapshot.forEach",arguments,1,2);ka("QuerySnapshot.forEach","function",1,a);this._snapshot.docs.forEach(function(d){a.call(b,c.convertToDocumentImpl(d))})};Object.defineProperty(b.prototype,
"query",{get:function(){return new ke(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0});b.prototype.docChanges=function(a){a&&(Ra("QuerySnapshot.docChanges",a,["includeMetadataChanges"]),Qa("QuerySnapshot.docChanges","boolean","includeMetadataChanges",a.includeMetadataChanges));if((a=!(!a||!a.includeMetadataChanges))&&this._snapshot.excludesMetadataChanges)throw new P(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");
this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=hd(this._firestore,a,this._snapshot),this._cachedChangesIncludeMetadataChanges=a);return this._cachedChanges};b.prototype.isEqual=function(a){if(!(a instanceof b))throw ca("isEqual","QuerySnapshot",1,a);return this._firestore===a._firestore&&this._originalQuery.isEqual(a._originalQuery)&&this._snapshot.isEqual(a._snapshot)};b.prototype.convertToDocumentImpl=function(a){return new Me(this._firestore,a.key,a,this.metadata.fromCache,
this._snapshot.mutatedKeys.has(a.key))};return b}();["length","forEach","map"].concat("undefined"!==typeof Symbol?[Symbol.iterator]:[]).forEach(function(b){try{Object.defineProperty(Zf.prototype.docChanges,b,{get:function(){throw new P(D.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"');}})}catch(a){}});var ff=function(b){function a(a,c){c=b.call(this,Za.atPath(a),c)||this;
if(1!==a.length%2)throw new P(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+(a.canonicalString()+" has "+a.length));return c}u.__extends(a,b);Object.defineProperty(a.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"parent",{get:function(){var a=this._query.path.popLast();return a.isEmpty()?null:new le(new pa(a),this.firestore)},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0});a.prototype.doc=function(a){ha("CollectionReference.doc",arguments,0,1);0===arguments.length&&(a=dc.newId());ka("CollectionReference.doc","non-empty string",1,a);if(""===a)throw new P(D.INVALID_ARGUMENT,"Document path must be a non-empty string");var b=Ma.fromString(a);return le.forPath(this._query.path.child(b),this.firestore)};a.prototype.add=function(a){ia("CollectionReference.add",
arguments,1);ka("CollectionReference.add","object",1,a);var b=this.doc();return b.set(a).then(function(){return b})};return a}(ke),xh=Z(Cf,"Use firebase.firestore() instead."),Xg=Z(eb,"Use firebase.firestore().runTransaction() instead."),Wg=Z(af,"Use firebase.firestore().batch() instead."),Yg=Z(le,"Use firebase.firestore().doc() instead."),ug=Z(ze),Zg=Z(Me),$f=Z(ke),Rh=Z(Zf),wi=Z(ff,"Use firebase.firestore().collection() instead."),yh={Firestore:xh,GeoPoint:Qb,Timestamp:Da,Blob:ec,Transaction:Xg,
WriteBatch:Wg,DocumentReference:Yg,DocumentSnapshot:ug,Query:$f,QueryDocumentSnapshot:Zg,QuerySnapshot:Rh,CollectionReference:wi,FieldPath:Ud,FieldValue:Mg,setLogLevel:Cf.setLogLevel,CACHE_SIZE_UNLIMITED:Yf};Gc(Qc);f.registerFirestore=function(b){Gc(b)}};
shadow$provide[154]=function(n,y,c,r,f,z){function v(c){if(200<=c&&300>c)return"ok";switch(c){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function p(c,e){var f={},k;for(k in c)c.hasOwnProperty(k)&&
(f[k]=e(c[k]));return f}function x(c){return new Promise(function(e,f){setTimeout(function(){f(new S("deadline-exceeded","deadline-exceeded"))},c)})}function I(c,e,f){return new fa(c,f)}function Y(c){c.INTERNAL.registerService("functions",I,{Functions:fa},void 0,!0)}Object.defineProperty(f,"__esModule",{value:!0});n=function(c){return c&&"object"===typeof c&&"default"in c?c["default"]:c}(c(148));var k=c(146),e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",
NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=function(c){function e(f,k,n){k=c.call(this,k)||this;Object.setPrototypeOf(k,e.prototype);k.code=f;k.details=n;return k}k.__extends(e,c);return e}(Error),
Z=function(){function c(c){this.app=c}c.prototype.getAuthToken=function(){return k.__awaiter(this,void 0,void 0,function(){var c;return k.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(c=e.sent())?[2,c.accessToken]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})};c.prototype.getInstanceIdToken=function(){return k.__awaiter(this,void 0,void 0,function(){var c,e;return k.__generator(this,function(f){switch(f.label){case 0:f.trys.push([0,
2,,3]);if(!this.app.messaging)return[2,void 0];c=this.app.messaging();return[4,c.getToken()];case 1:return(e=f.sent())?[2,e]:[2,void 0];case 2:return f.sent(),[2,void 0];case 3:return[2]}})})};c.prototype.getContext=function(){return k.__awaiter(this,void 0,void 0,function(){var c,e;return k.__generator(this,function(f){switch(f.label){case 0:return[4,this.getAuthToken()];case 1:return c=f.sent(),[4,this.getInstanceIdToken()];case 2:return e=f.sent(),[2,{authToken:c,instanceIdToken:e}]}})})};return c}(),
za=function(){function c(){}c.prototype.encode=function(c){var e=this;if(null===c||void 0===c)return null;c instanceof Number&&(c=c.valueOf());if("number"===typeof c&&isFinite(c)||!0===c||!1===c||"[object String]"===Object.prototype.toString.call(c))return c;if(Array.isArray(c))return c.map(function(c){return e.encode(c)});if("function"===typeof c||"object"===typeof c)return p(c,function(c){return e.encode(c)});throw Error("Data cannot be encoded in JSON: "+c);};c.prototype.decode=function(c){var e=
this;if(null===c)return c;if(c["@type"])switch(c["@type"]){case "type.googleapis.com/google.protobuf.Int64Value":case "type.googleapis.com/google.protobuf.UInt64Value":var f=parseFloat(c.value);if(isNaN(f))throw Error("Data cannot be decoded from JSON: "+c);return f;default:throw Error("Data cannot be decoded from JSON: "+c);}return Array.isArray(c)?c.map(function(c){return e.decode(c)}):"function"===typeof c||"object"===typeof c?p(c,function(c){return e.decode(c)}):c};return c}(),fa=function(){function c(c,
e){var f=this;void 0===e&&(e="us-central1");this.app_=c;this.region_=e;this.serializer=new za;this.emulatorOrigin=null;this.INTERNAL={delete:function(){return f.deleteService()}};this.contextProvider=new Z(c);this.cancelAllRequests=new Promise(function(c){f.deleteService=function(){return c()}})}Object.defineProperty(c.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0});c.prototype._url=function(c){var e=this.app_.options.projectId,f=this.region_;return null!==this.emulatorOrigin?
this.emulatorOrigin+"/"+e+"/"+f+"/"+c:"https://"+f+"-"+e+".cloudfunctions.net/"+c};c.prototype.useFunctionsEmulator=function(c){this.emulatorOrigin=c};c.prototype.httpsCallable=function(c,e){var f=this;return function(k){return f.call(c,k,e||{})}};c.prototype.postJSON=function(c,e,f){return k.__awaiter(this,void 0,void 0,function(){var n,p;return k.__generator(this,function(k){switch(k.label){case 0:f.append("Content-Type","application/json"),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,fetch(c,
{method:"POST",body:JSON.stringify(e),headers:f})];case 2:return n=k.sent(),[3,4];case 3:return k.sent(),[2,{status:0,json:null}];case 4:p=null,k.label=5;case 5:return k.trys.push([5,7,,8]),[4,n.json()];case 6:return p=k.sent(),[3,8];case 7:return k.sent(),[3,8];case 8:return[2,{status:n.status,json:p}]}})})};c.prototype.call=function(c,f,n){return k.__awaiter(this,void 0,void 0,function(){var p,r,y,z,N,F,I,L,E;return k.__generator(this,function(k){switch(k.label){case 0:return p=this._url(c),f=this.serializer.encode(f),
r={data:f},y=new Headers,[4,this.contextProvider.getContext()];case 1:return z=k.sent(),z.authToken&&y.append("Authorization","Bearer "+z.authToken),z.instanceIdToken&&y.append("Firebase-Instance-ID-Token",z.instanceIdToken),N=n.timeout||7E4,[4,Promise.race([this.postJSON(p,r,y),x(N),this.cancelAllRequests])];case 2:F=k.sent();if(!F)throw new S("cancelled","Firebase Functions instance was deleted.");a:{k=F.json;var q=this.serializer,G=v(F.status),X=G,na=void 0;try{var K=k.error;if(K){var ca=K.status;
if("string"===typeof ca){if(!e[ca]){I=new S("internal","internal");break a}G=e[ca]}X=ca;var O=K.message;"string"===typeof O&&(X=O);na=K.details;void 0!==na&&(na=q.decode(na))}}catch(ja){}I="ok"===G?null:new S(G,X,na)}if(I)throw I;if(!F.json)throw new S("internal","Response is not valid JSON object.");L=F.json.data;"undefined"===typeof L&&(L=F.json.result);if("undefined"===typeof L)throw new S("internal","Response is missing data field.");E=this.serializer.decode(L);return[2,{data:E}]}})})};return c}();
Y(n);f.registerFunctions=Y};
shadow$provide[155]=function(n,y,c,r,f,z){function v(c,e){if(null==c||null==e)return!1;if(c===e)return!0;if(c.byteLength!==e.byteLength)return!1;var f=new DataView(c);e=new DataView(e);for(var k=0;k<c.byteLength;k++)if(f.getUint8(k)!==e.getUint8(k))return!1;return!0}function p(c){c=new Uint8Array(c);return btoa(String.fromCharCode.apply(String,F.__spread(c))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function x(c){var e="\x3d".repeat((4-c.length%4)%4);c=(c+e).replace(/\-/g,"+").replace(/_/g,
"/");c=atob(c);e=new Uint8Array(c.length);for(var f=0;f<c.length;++f)e[f]=c.charCodeAt(f);return e}function I(c){if(c.objectStoreNames.contains("fcm_token_object_Store")){var e=c.transaction("fcm_token_object_Store").objectStore("fcm_token_object_Store"),f=new ka,k=e.openCursor();k.onerror=function(c){console.warn("Unable to cleanup old IDB.",c)};k.onsuccess=function(){var e=k.result;if(e){var n=e.value;f.deleteToken(n.fcmSenderId,n.fcmToken,n.fcmPushSet);e.continue()}else c.close(),indexedDB.deleteDatabase("undefined")}}}
function Y(){var c=indexedDB.open("undefined");c.onerror=function(c){};c.onsuccess=function(e){I(c.result)}}function k(c){return new Promise(function(e,f){c.onsuccess=function(){e(c.result)};c.onerror=function(){f(c.error)}})}function e(c){if(c.fcmToken&&("string"!==typeof c.fcmToken||0===c.fcmToken.length))throw K.create("bad-token");if(c.swScope&&("string"!==typeof c.swScope||0===c.swScope.length))throw K.create("bad-scope");if(c.vapidKey&&!(c.vapidKey instanceof Uint8Array&&65===c.vapidKey.length))throw K.create("bad-vapid-key");
if(c.endpoint&&("string"!==typeof c.endpoint||0===c.endpoint.length))throw K.create("bad-subscription");if(c.auth&&!(c.auth instanceof ArrayBuffer))throw K.create("bad-subscription");if(c.p256dh&&!(c.p256dh instanceof ArrayBuffer))throw K.create("bad-subscription");if(c.fcmSenderId&&("string"!==typeof c.fcmSenderId||0===c.fcmSenderId.length))throw K.create("bad-sender-id");if(c.fcmPushSet&&("string"!==typeof c.fcmPushSet||0===c.fcmPushSet.length))throw K.create("bad-push-set");}function S(){return self.clients.matchAll({type:"window",
includeUncontrolled:!0})}function Z(c,e){var f;return f={},f[ba.TYPE_OF_MSG]=c,f[ba.DATA]=e,f}function za(){return F.__awaiter(this,void 0,void 0,function(){var c,e,f;return F.__generator(this,function(k){switch(k.label){case 0:c=document.querySelector('link[rel\x3d"manifest"]');if(!c)return[2];k.label=1;case 1:return k.trys.push([1,4,,5]),[4,fetch(c.href)];case 2:return f=k.sent(),[4,f.json()];case 3:return e=k.sent(),[3,5];case 4:return k.sent(),[2];case 5:if(!e||!e.gcm_sender_id)return[2];if("103953800507"!==
e.gcm_sender_id)throw K.create("incorrect-gcm-sender-id");return[2]}})})}function fa(c){c.INTERNAL.registerService("messaging",function(c){if(!O())throw K.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new L(c):new E(c)},{isSupported:O})}function O(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&
"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Object.defineProperty(f,"__esModule",{value:!0});n=function(c){return c&&"object"===typeof c&&"default"in c?c["default"]:c}(c(148));var F=c(146),W=c(147),N;c=(N={},N["only-available-in-window"]="This method is available in a Window context.",N["only-available-in-sw"]="This method is available in a service worker context.",
N["should-be-overriden"]="This method should be overriden by extended classes.",N["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",N["permission-default"]="The required permissions were not granted and dismissed instead.",N["permission-blocked"]="The required permissions were not granted and blocked instead.",N["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",N["notifications-blocked"]=
"Notifications have been blocked.",N["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",N["sw-registration-expected"]="A service worker registration was the expected input.",N["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",N["invalid-saved-token"]="Unable to access details of the saved token.",N["sw-reg-redundant"]="The service worker being used for push was made redundant.",N["token-subscribe-failed"]=
"A problem occured while subscribing the user to FCM: {$message}",N["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",N["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",N["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$message}",N["token-update-failed"]="A problem occured while updating the user from FCM: {$message}",N["token-update-no-token"]="FCM returned no token when updating the user to push.",
N["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",N["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",N["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",N["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",
N["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",N["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",N["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",N["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",
N["failed-to-delete-token"]="Unable to delete the currently saved token.",N["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",N["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",N["bad-scope"]="The service worker scope must be a string with at least one character.",N["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",
N["bad-subscription"]="The subscription must be a valid PushSubscription.",N["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",N["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",N["failed-delete-vapid-key"]="The VAPID key could not be deleted.",N["invalid-public-vapid-key"]="The public VAPID key must be a string.",N["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",
N["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",N);var K=new W.ErrorFactory("messaging","Messaging",c),ia=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),ba;(function(c){c.TYPE_OF_MSG="firebase-messaging-msg-type";c.DATA="firebase-messaging-msg-data"})(ba||
(ba={}));var ha;(function(c){c.PUSH_MSG_RECEIVED="push-msg-received";c.NOTIFICATION_CLICKED="notification-clicked"})(ha||(ha={}));var ka=function(){function c(){}c.prototype.getToken=function(c,e,f){return F.__awaiter(this,void 0,void 0,function(){var k,n,q,r,G,x,y,X,z;return F.__generator(this,function(U){switch(U.label){case 0:k=p(e.getKey("p256dh")),n=p(e.getKey("auth")),q="authorized_entity\x3d"+c+"\x26"+("endpoint\x3d"+e.endpoint+"\x26")+("encryption_key\x3d"+k+"\x26")+("encryption_auth\x3d"+
n),v(f.buffer,ia.buffer)||(r=p(f),q+="\x26application_pub_key\x3d"+r),G=new Headers,G.append("Content-Type","application/x-www-form-urlencoded"),x={method:"POST",headers:G,body:q},U.label=1;case 1:return U.trys.push([1,4,,5]),[4,fetch("https://fcm.googleapis.com/fcm/connect/subscribe",x)];case 2:return X=U.sent(),[4,X.json()];case 3:return y=U.sent(),[3,5];case 4:throw U.sent(),K.create("token-subscribe-failed");case 5:if(y.error)throw z=y.error.message,K.create("token-subscribe-failed",{message:z});
if(!y.token)throw K.create("token-subscribe-no-token");if(!y.pushSet)throw K.create("token-subscribe-no-push-set");return[2,{token:y.token,pushSet:y.pushSet}]}})})};c.prototype.updateToken=function(c,e,f,k,n){return F.__awaiter(this,void 0,void 0,function(){var q,r,G,x,y,X,z,U,N;return F.__generator(this,function(db){switch(db.label){case 0:q=p(k.getKey("p256dh")),r=p(k.getKey("auth")),G="push_set\x3d"+f+"\x26"+("token\x3d"+e+"\x26")+("authorized_entity\x3d"+c+"\x26")+("endpoint\x3d"+k.endpoint+"\x26")+
("encryption_key\x3d"+q+"\x26")+("encryption_auth\x3d"+r),v(n.buffer,ia.buffer)||(x=p(n),G+="\x26application_pub_key\x3d"+x),y=new Headers,y.append("Content-Type","application/x-www-form-urlencoded"),X={method:"POST",headers:y,body:G},db.label=1;case 1:return db.trys.push([1,4,,5]),[4,fetch("https://fcm.googleapis.com/fcm/connect/subscribe",X)];case 2:return U=db.sent(),[4,U.json()];case 3:return z=db.sent(),[3,5];case 4:throw db.sent(),K.create("token-update-failed");case 5:if(z.error)throw N=z.error.message,
K.create("token-update-failed",{message:N});if(!z.token)throw K.create("token-update-no-token");return[2,z.token]}})})};c.prototype.deleteToken=function(c,e,f){return F.__awaiter(this,void 0,void 0,function(){var k,n,q,p,r,G;return F.__generator(this,function(v){switch(v.label){case 0:k="authorized_entity\x3d"+c+"\x26"+("token\x3d"+e+"\x26")+("pushSet\x3d"+f),n=new Headers,n.append("Content-Type","application/x-www-form-urlencoded"),q={method:"POST",headers:n,body:k},v.label=1;case 1:return v.trys.push([1,
4,,5]),[4,fetch("https://fcm.googleapis.com/fcm/connect/unsubscribe",q)];case 2:return p=v.sent(),[4,p.json()];case 3:r=v.sent();if(r.error)throw G=r.error.message,K.create("token-unsubscribe-failed",{message:G});return[3,5];case 4:throw v.sent(),K.create("token-unsubscribe-failed");case 5:return[2]}})})};return c}();N=function(){function c(){this.dbPromise=null}c.prototype.get=function(c){return this.createTransaction(function(e){return e.get(c)})};c.prototype.getIndex=function(c,e){return this.createTransaction(function(f){return f.index(c).get(e)})};
c.prototype.put=function(c){return this.createTransaction(function(e){return e.put(c)},"readwrite")};c.prototype.delete=function(c){return this.createTransaction(function(e){return e.delete(c)},"readwrite")};c.prototype.closeDatabase=function(){return F.__awaiter(this,void 0,void 0,function(){var c;return F.__generator(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:c=e.sent(),c.close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})};c.prototype.createTransaction=
function(c,e){void 0===e&&(e="readonly");return F.__awaiter(this,void 0,void 0,function(){var f,n,q,p;return F.__generator(this,function(r){switch(r.label){case 0:return[4,this.getDb()];case 1:return f=r.sent(),n=f.transaction(this.objectStoreName,e),q=n.objectStore(this.objectStoreName),[4,k(c(q))];case 2:return p=r.sent(),[2,new Promise(function(c,e){n.oncomplete=function(){c(p)};n.onerror=function(){e(n.error)}})]}})})};c.prototype.getDb=function(){var c=this;this.dbPromise||(this.dbPromise=new Promise(function(e,
f){var k=indexedDB.open(c.dbName,c.dbVersion);k.onsuccess=function(){e(k.result)};k.onerror=function(){c.dbPromise=null;f(k.error)};k.onupgradeneeded=function(e){return c.onDbUpgrade(k,e)}}));return this.dbPromise};return c}();var xa=function(c){function f(){var e=null!==c&&c.apply(this,arguments)||this;e.dbName="fcm_token_details_db";e.dbVersion=3;e.objectStoreName="fcm_token_object_Store";return e}F.__extends(f,c);f.prototype.onDbUpgrade=function(c,e){var f=c.result;switch(e.oldVersion){case 0:e=
f.createObjectStore(this.objectStoreName,{keyPath:"swScope"}),e.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),e.createIndex("fcmToken","fcmToken",{unique:!0});case 1:Y();case 2:e=c.transaction.objectStore(this.objectStoreName);var k=e.openCursor();k.onsuccess=function(){var c=k.result;if(c){var e=c.value,f=F.__assign({},e);e.createTime||(f.createTime=Date.now());"string"===typeof e.vapidKey&&(f.vapidKey=x(e.vapidKey));"string"===typeof e.auth&&(f.auth=x(e.auth).buffer);"string"===typeof e.auth&&
(f.p256dh=x(e.p256dh).buffer);c.update(f);c.continue()}}}};f.prototype.getTokenDetailsFromToken=function(c){return F.__awaiter(this,void 0,void 0,function(){return F.__generator(this,function(f){if(!c)throw K.create("bad-token");e({fcmToken:c});return[2,this.getIndex("fcmToken",c)]})})};f.prototype.getTokenDetailsFromSWScope=function(c){return F.__awaiter(this,void 0,void 0,function(){return F.__generator(this,function(f){if(!c)throw K.create("bad-scope");e({swScope:c});return[2,this.get(c)]})})};
f.prototype.saveTokenDetails=function(c){return F.__awaiter(this,void 0,void 0,function(){return F.__generator(this,function(f){if(!c.swScope)throw K.create("bad-scope");if(!c.vapidKey)throw K.create("bad-vapid-key");if(!c.endpoint||!c.auth||!c.p256dh)throw K.create("bad-subscription");if(!c.fcmSenderId)throw K.create("bad-sender-id");if(!c.fcmToken)throw K.create("bad-token");if(!c.fcmPushSet)throw K.create("bad-push-set");e(c);return[2,this.put(c)]})})};f.prototype.deleteToken=function(c){return F.__awaiter(this,
void 0,void 0,function(){var e;return F.__generator(this,function(f){switch(f.label){case 0:return"string"!==typeof c||0===c.length?[2,Promise.reject(K.create("invalid-delete-token"))]:[4,this.getTokenDetailsFromToken(c)];case 1:e=f.sent();if(!e)throw K.create("delete-token-not-found");return[4,this.delete(e.swScope)];case 2:return f.sent(),[2,e]}})})};return f}(N),Qa=function(c){function e(){var e=null!==c&&c.apply(this,arguments)||this;e.dbName="fcm_vapid_details_db";e.dbVersion=1;e.objectStoreName=
"fcm_vapid_object_Store";return e}F.__extends(e,c);e.prototype.onDbUpgrade=function(c){c.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})};e.prototype.getVapidFromSWScope=function(c){return F.__awaiter(this,void 0,void 0,function(){var e;return F.__generator(this,function(f){switch(f.label){case 0:if("string"!==typeof c||0===c.length)throw K.create("bad-scope");return[4,this.get(c)];case 1:return e=f.sent(),[2,e?e.vapidKey:void 0]}})})};e.prototype.saveVapidDetails=function(c,e){return F.__awaiter(this,
void 0,void 0,function(){var f;return F.__generator(this,function(k){if("string"!==typeof c||0===c.length)throw K.create("bad-scope");if(null===e||65!==e.length)throw K.create("bad-vapid-key");f={swScope:c,vapidKey:e};return[2,this.put(f)]})})};e.prototype.deleteVapidDetails=function(c){return F.__awaiter(this,void 0,void 0,function(){var e;return F.__generator(this,function(f){switch(f.label){case 0:return[4,this.getVapidFromSWScope(c)];case 1:e=f.sent();if(!e)throw K.create("delete-scope-not-found");
return[4,this.delete(c)];case 2:return f.sent(),[2,e]}})})};return e}(N);N=function(){function c(c){var e=this;if(!c.options.messagingSenderId||"string"!==typeof c.options.messagingSenderId)throw K.create("bad-sender-id");this.messagingSenderId=c.options.messagingSenderId;this.tokenDetailsModel=new xa;this.vapidDetailsModel=new Qa;this.iidModel=new ka;this.app=c;this.INTERNAL={delete:function(){return e.delete()}}}c.prototype.getToken=function(){return F.__awaiter(this,void 0,void 0,function(){var c,
e,f,k,n;return F.__generator(this,function(p){switch(p.label){case 0:c=this.getNotificationPermission_();if("denied"===c)throw K.create("notifications-blocked");return"granted"!==c?[2,null]:[4,this.getSWRegistration_()];case 1:return e=p.sent(),[4,this.getPublicVapidKey_()];case 2:return f=p.sent(),[4,this.getPushSubscription(e,f)];case 3:return k=p.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return(n=p.sent())?[2,this.manageExistingToken(e,k,f,n)]:[2,this.getNewToken(e,
k,f)]}})})};c.prototype.manageExistingToken=function(c,e,f,k){return F.__awaiter(this,void 0,void 0,function(){var n,p;return F.__generator(this,function(q){switch(q.label){case 0:if(k.vapidKey&&v(f.buffer,k.vapidKey.buffer)){q=e.endpoint===k.endpoint;var r=v(e.getKey("auth"),k.auth),x=v(e.getKey("p256dh"),k.p256dh);n=q&&r&&x}else n=!1;return n?(p=Date.now(),p<k.createTime+6048E5?[2,k.fcmToken]:[2,this.updateToken(c,e,f,k)]):[4,this.deleteTokenFromDB(k.fcmToken)];case 1:return q.sent(),[2,this.getNewToken(c,
e,f)]}})})};c.prototype.updateToken=function(c,e,f,k){return F.__awaiter(this,void 0,void 0,function(){var n,p,q;return F.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,k.fcmToken,k.fcmPushSet,e,f)];case 1:return n=r.sent(),p={swScope:c.scope,vapidKey:f,fcmSenderId:this.messagingSenderId,fcmToken:n,fcmPushSet:k.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},
[4,this.tokenDetailsModel.saveTokenDetails(p)];case 2:return r.sent(),[4,this.vapidDetailsModel.saveVapidDetails(c.scope,f)];case 3:return r.sent(),[2,n];case 4:return q=r.sent(),[4,this.deleteToken(k.fcmToken)];case 5:throw r.sent(),q;case 6:return[2]}})})};c.prototype.getNewToken=function(c,e,f){return F.__awaiter(this,void 0,void 0,function(){var k,n;return F.__generator(this,function(p){switch(p.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,f)];case 1:return k=p.sent(),
n={swScope:c.scope,vapidKey:f,fcmSenderId:this.messagingSenderId,fcmToken:k.token,fcmPushSet:k.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(n)];case 2:return p.sent(),[4,this.vapidDetailsModel.saveVapidDetails(c.scope,f)];case 3:return p.sent(),[2,k.token]}})})};c.prototype.deleteToken=function(c){return F.__awaiter(this,void 0,void 0,function(){var e,f;return F.__generator(this,function(k){switch(k.label){case 0:return[4,
this.deleteTokenFromDB(c)];case 1:return k.sent(),[4,this.getSWRegistration_()];case 2:return(e=k.sent())?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(f=k.sent())return[2,f.unsubscribe()];k.label=4;case 4:return[2,!0]}})})};c.prototype.deleteTokenFromDB=function(c){return F.__awaiter(this,void 0,void 0,function(){var e;return F.__generator(this,function(f){switch(f.label){case 0:return[4,this.tokenDetailsModel.deleteToken(c)];case 1:return e=f.sent(),[4,this.iidModel.deleteToken(e.fcmSenderId,
e.fcmToken,e.fcmPushSet)];case 2:return f.sent(),[2]}})})};c.prototype.getPushSubscription=function(c,e){return c.pushManager.getSubscription().then(function(f){return f?f:c.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})};c.prototype.requestPermission=function(){throw K.create("only-available-in-window");};c.prototype.useServiceWorker=function(c){throw K.create("only-available-in-window");};c.prototype.usePublicVapidKey=function(c){throw K.create("only-available-in-window");
};c.prototype.onMessage=function(c,e,f){throw K.create("only-available-in-window");};c.prototype.onTokenRefresh=function(c,e,f){throw K.create("only-available-in-window");};c.prototype.setBackgroundMessageHandler=function(c){throw K.create("only-available-in-sw");};c.prototype.delete=function(){return F.__awaiter(this,void 0,void 0,function(){return F.__generator(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];
case 1:return c.sent(),[2]}})})};c.prototype.getNotificationPermission_=function(){return Notification.permission};c.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel};c.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel};c.prototype.getIidModel=function(){return this.iidModel};return c}();var L=function(c){function e(e){var f=c.call(this,e)||this;f.bgMessageHandler=null;self.addEventListener("push",function(c){f.onPush(c)});self.addEventListener("pushsubscriptionchange",
function(c){f.onSubChange(c)});self.addEventListener("notificationclick",function(c){f.onNotificationClick(c)});return f}F.__extends(e,c);e.prototype.onPush=function(c){c.waitUntil(this.onPush_(c))};e.prototype.onSubChange=function(c){c.waitUntil(this.onSubChange_(c))};e.prototype.onNotificationClick=function(c){c.waitUntil(this.onNotificationClick_(c))};e.prototype.onPush_=function(c){return F.__awaiter(this,void 0,void 0,function(){var e,f,k,n,p,q,r;return F.__generator(this,function(v){switch(v.label){case 0:if(!c.data)return[2];
try{e=c.data.json()}catch(La){return[2]}return[4,this.hasVisibleClients_()];case 1:if(f=v.sent())return[2,this.sendMessageToWindowClients_(e)];k=this.getNotificationData_(e);if(!k)return[3,3];n=k.title||"";return[4,this.getSWRegistration_()];case 2:return p=v.sent(),q=k.actions,r=Notification.maxActions,q&&r&&q.length>r&&console.warn("This browser only supports "+r+" actions.The remaining actions will not be displayed."),[2,p.showNotification(n,k)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:
[3,5];case 4:return v.sent(),[2];case 5:return[2]}})})};e.prototype.onSubChange_=function(c){return F.__awaiter(this,void 0,void 0,function(){var c,e,f,k,n;return F.__generator(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return c=p.sent(),[3,3];case 2:throw e=p.sent(),K.create("unable-to-resubscribe",{message:e});case 3:return p.trys.push([3,5,,8]),[4,c.pushManager.getSubscription()];case 4:return p.sent(),[3,8];case 5:return f=p.sent(),
k=this.getTokenDetailsModel(),[4,k.getTokenDetailsFromSWScope(c.scope)];case 6:n=p.sent();if(!n)throw f;return[4,this.deleteToken(n.fcmToken)];case 7:throw p.sent(),f;case 8:return[2]}})})};e.prototype.onNotificationClick_=function(c){return F.__awaiter(this,void 0,void 0,function(){var e,f,k,n;return F.__generator(this,function(p){switch(p.label){case 0:if(!c.notification||!c.notification.data||!c.notification.data.FCM_MSG||c.action)return[2];c.stopImmediatePropagation();c.notification.close();e=
c.notification.data.FCM_MSG;return e.notification?(f=e.fcmOptions&&e.fcmOptions.link||e.notification.click_action)?[4,this.getWindowClient_(f)]:[2]:[2];case 1:return(k=p.sent())?[3,3]:[4,self.clients.openWindow(f)];case 2:return k=p.sent(),[3,5];case 3:return[4,k.focus()];case 4:k=p.sent(),p.label=5;case 5:if(!k)return[2];delete e.notification;delete e.fcmOptions;n=Z(ha.NOTIFICATION_CLICKED,e);return[2,this.attemptToMessageClient_(k,n)]}})})};e.prototype.getNotificationData_=function(c){var e;if(c&&
"object"===typeof c.notification){var f=F.__assign({},c.notification);f.data=F.__assign({},c.notification.data,(e={},e.FCM_MSG=c,e));return f}};e.prototype.setBackgroundMessageHandler=function(c){if(!c||"function"!==typeof c)throw K.create("bg-handler-function-expected");this.bgMessageHandler=c};e.prototype.getWindowClient_=function(c){return F.__awaiter(this,void 0,void 0,function(){var e,f,k,n,p;return F.__generator(this,function(q){switch(q.label){case 0:return e=(new URL(c,self.location.href)).href,
[4,S()];case 1:f=q.sent();k=null;for(n=0;n<f.length;n++)if(p=(new URL(f[n].url,self.location.href)).href,p===e){k=f[n];break}return[2,k]}})})};e.prototype.attemptToMessageClient_=function(c,e){return F.__awaiter(this,void 0,void 0,function(){return F.__generator(this,function(f){if(!c)throw K.create("no-window-client-to-msg");c.postMessage(e);return[2]})})};e.prototype.hasVisibleClients_=function(){return F.__awaiter(this,void 0,void 0,function(){var c;return F.__generator(this,function(e){switch(e.label){case 0:return[4,
S()];case 1:return c=e.sent(),[2,c.some(function(c){return"visible"===c.visibilityState&&!c.url.startsWith("chrome-extension://")})]}})})};e.prototype.sendMessageToWindowClients_=function(c){return F.__awaiter(this,void 0,void 0,function(){var e,f,k=this;return F.__generator(this,function(n){switch(n.label){case 0:return[4,S()];case 1:return e=n.sent(),f=Z(ha.PUSH_MSG_RECEIVED,c),[4,Promise.all(e.map(function(c){return k.attemptToMessageClient_(c,f)}))];case 2:return n.sent(),[2]}})})};e.prototype.getSWRegistration_=
function(){return F.__awaiter(this,void 0,void 0,function(){return F.__generator(this,function(c){return[2,self.registration]})})};e.prototype.getPublicVapidKey_=function(){return F.__awaiter(this,void 0,void 0,function(){var c,e;return F.__generator(this,function(f){switch(f.label){case 0:return[4,this.getSWRegistration_()];case 1:c=f.sent();if(!c)throw K.create("sw-registration-expected");return[4,this.getVapidDetailsModel().getVapidFromSWScope(c.scope)];case 2:return e=f.sent(),null==e?[2,ia]:
[2,e]}})})};return e}(N),E=function(c){function e(e){var f=c.call(this,e)||this;f.registrationToUse=null;f.publicVapidKeyToUse=null;f.manifestCheckPromise=null;f.messageObserver=null;f.tokenRefreshObserver=null;f.onMessageInternal=W.createSubscribe(function(c){f.messageObserver=c});f.onTokenRefreshInternal=W.createSubscribe(function(c){f.tokenRefreshObserver=c});f.setupSWMessageListener_();return f}F.__extends(e,c);e.prototype.getToken=function(){return F.__awaiter(this,void 0,void 0,function(){return F.__generator(this,
function(e){switch(e.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=za()),[4,this.manifestCheckPromise];case 1:return e.sent(),[2,c.prototype.getToken.call(this)]}})})};e.prototype.requestPermission=function(){return F.__awaiter(this,void 0,void 0,function(){var c;return F.__generator(this,function(e){switch(e.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:c=e.sent();if("granted"!==c){if("denied"===c)throw K.create("permission-blocked");
throw K.create("permission-default");}return[2]}})})};e.prototype.useServiceWorker=function(c){if(!(c instanceof ServiceWorkerRegistration))throw K.create("sw-registration-expected");if(null!=this.registrationToUse)throw K.create("use-sw-before-get-token");this.registrationToUse=c};e.prototype.usePublicVapidKey=function(c){if("string"!==typeof c)throw K.create("invalid-public-vapid-key");if(null!=this.publicVapidKeyToUse)throw K.create("use-public-key-before-get-token");c=x(c);if(65!==c.length)throw K.create("public-vapid-key-decryption-failed");
this.publicVapidKeyToUse=c};e.prototype.onMessage=function(c,e,f){return"function"===typeof c?this.onMessageInternal(c,e,f):this.onMessageInternal(c)};e.prototype.onTokenRefresh=function(c,e,f){return"function"===typeof c?this.onTokenRefreshInternal(c,e,f):this.onTokenRefreshInternal(c)};e.prototype.waitForRegistrationToActivate_=function(c){var e=c.installing||c.waiting||c.active;return new Promise(function(f,k){if(e)if("activated"===e.state)f(c);else if("redundant"===e.state)k(K.create("sw-reg-redundant"));
else{var n=function(){if("activated"===e.state)f(c);else if("redundant"===e.state)k(K.create("sw-reg-redundant"));else return;e.removeEventListener("statechange",n)};e.addEventListener("statechange",n)}else k(K.create("no-sw-in-reg"))})};e.prototype.getSWRegistration_=function(){var c=this;if(this.registrationToUse)return this.waitForRegistrationToActivate_(this.registrationToUse);this.registrationToUse=null;return navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(c){throw K.create("failed-serviceworker-registration",
{browserErrorMessage:c.message});}).then(function(e){return c.waitForRegistrationToActivate_(e).then(function(){c.registrationToUse=e;e.update();return e})})};e.prototype.getPublicVapidKey_=function(){return F.__awaiter(this,void 0,void 0,function(){return F.__generator(this,function(c){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,ia]})})};e.prototype.setupSWMessageListener_=function(){var c=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[ba.TYPE_OF_MSG])switch(e=
e.data,e[ba.TYPE_OF_MSG]){case ha.PUSH_MSG_RECEIVED:case ha.NOTIFICATION_CLICKED:e=e[ba.DATA],c.messageObserver&&c.messageObserver.next(e)}},!1)};return e}(N);fa(n);f.isSupported=O;f.registerMessaging=fa};
shadow$provide[156]=function(n,y,c,r,f,z){function v(){return new Wa(ma.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function p(){return new Wa(ma.CANCELED,"User canceled the upload/download.")}function x(){return new Wa(ma.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function I(c,e,f){return new Wa(ma.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+c+": "+f)}function Y(){return new Wa(ma.APP_DELETED,"The Firebase app was deleted.")}
function k(c,e){return new Wa(ma.INVALID_FORMAT,"String does not match format '"+c+"': "+e)}function e(c){throw new Wa(ma.INTERNAL_ERROR,"Internal error: "+c);}function S(c){switch(c){case Ua.RAW:case Ua.BASE64:case Ua.BASE64URL:case Ua.DATA_URL:break;default:throw"Expected one of the event types: ["+Ua.RAW+", "+Ua.BASE64+", "+Ua.BASE64URL+", "+Ua.DATA_URL+"].";}}function Z(c,e){switch(c){case Ua.RAW:return new Mb(za(e));case Ua.BASE64:case Ua.BASE64URL:return new Mb(fa(c,e));case Ua.DATA_URL:c=new kc(e);
if(c.base64)var f=fa(Ua.BASE64,c.rest);else{try{f=decodeURIComponent(c.rest)}catch(mc){throw k(Ua.DATA_URL,"Malformed data URL.");}f=za(f)}e=(new kc(e)).contentType;return new Mb(f,e)}throw v();}function za(c){for(var e=[],f=0;f<c.length;f++){var k=c.charCodeAt(f);if(127>=k)e.push(k);else if(2047>=k)e.push(192|k>>6,128|k&63);else if(55296==(k&64512))if(f<c.length-1&&56320==(c.charCodeAt(f+1)&64512)){var u=c.charCodeAt(++f);k=65536|(k&1023)<<10|u&1023;e.push(240|k>>18,128|k>>12&63,128|k>>6&63,128|
k&63)}else e.push(239,191,189);else 56320==(k&64512)?e.push(239,191,189):e.push(224|k>>12,128|k>>6&63,128|k&63)}return new Uint8Array(e)}function fa(c,e){switch(c){case Ua.BASE64:var f=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(f||u)throw k(c,"Invalid character '"+(f?"-":"_")+"' found: is it base64url encoded?");break;case Ua.BASE64URL:f=-1!==e.indexOf("+");u=-1!==e.indexOf("/");if(f||u)throw k(c,"Invalid character '"+(f?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,
"/")}try{var n=atob(e)}catch(Ya){throw k(c,"Invalid character found");}c=new Uint8Array(n.length);for(e=0;e<n.length;e++)c[e]=n.charCodeAt(e);return c}function O(c){switch(c){case Ca.RUNNING:case Ca.PAUSING:case Ca.CANCELING:return Ia.RUNNING;case Ca.PAUSED:return Ia.PAUSED;case Ca.SUCCESS:return Ia.SUCCESS;case Ca.CANCELED:return Ia.CANCELED;case Ca.ERROR:return Ia.ERROR;default:return Ia.ERROR}}function F(c,e){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&e(f,c[f])}function W(c){if(null==
c)return{};var e={};F(c,function(c,f){e[c]=f});return e}function N(c){return void 0!==c}function K(c){return"object"===typeof c}function ia(c){return"string"===typeof c||c instanceof String}function ba(c){return ha()&&c instanceof Blob}function ha(){return"undefined"!==typeof Blob}function ka(c){try{var e=JSON.parse(c)}catch(Wd){return null}c=e;return K(c)&&!Array.isArray(c)?e:null}function xa(c,e){e=e.split("/").filter(function(c){return 0<c.length}).join("/");return 0===c.length?e:c+"/"+e}function Qa(c){var e=
c.lastIndexOf("/",c.length-2);return-1===e?c:c.slice(e+1)}function L(c){return"https://firebasestorage.googleapis.com/v0"+c}function E(c){var e=encodeURIComponent,f="?";F(c,function(c,k){c=e(c)+"\x3d"+e(k);f=f+c+"\x26"});return f=f.slice(0,-1)}function q(c,e){return e}function U(){if(Db)return Db;var c=[];c.push(new lb("bucket"));c.push(new lb("generation"));c.push(new lb("metageneration"));c.push(new lb("name","fullPath",!0));var e=new lb("name");e.xform=function(c,e){c=!ia(e)||2>e.length?e:Qa(e);
return c};c.push(e);e=new lb("size");e.xform=function(c,e){return null!=e?+e:e};c.push(e);c.push(new lb("timeCreated"));c.push(new lb("updated"));c.push(new lb("md5Hash",null,!0));c.push(new lb("cacheControl",null,!0));c.push(new lb("contentDisposition",null,!0));c.push(new lb("contentEncoding",null,!0));c.push(new lb("contentLanguage",null,!0));c.push(new lb("contentType",null,!0));c.push(new lb("metadata","customMetadata",!0));return Db=c}function G(c,e){Object.defineProperty(c,"ref",{get:function(){var f=
new Fa(c.bucket,c.fullPath);return e.makeStorageReference(f)}})}function X(c,e,f){e=ka(e);if(null===e)return null;for(var k={type:"file"},u=f.length,n=0;n<u;n++){var H=f[n];k[H.local]=H.xform(k,e[H.server])}G(k,c);return k}function na(c,e){e=ka(e);if(null===e||!ia(e.downloadTokens))return null;e=e.downloadTokens;if(0===e.length)return null;var f=encodeURIComponent;return e.split(",").map(function(e){var k=c.fullPath;k="/b/"+f(c.bucket)+"/o/"+f(k);k=L(k);e=E({alt:"media",token:e});return k+e})[0]}
function Ra(c,e){for(var f={},k=e.length,u=0;u<k;u++){var n=e[u];n.writable&&(f[n.server]=c[n.local])}return JSON.stringify(f)}function ca(c){if(!c||!K(c))throw"Expected Metadata object.";for(var e in c){var f=c[e];if("customMetadata"===e){if(!K(f))throw"Expected object for 'customMetadata' mapping.";}else if(K(f)&&null!==f)throw"Mapping for '"+e+"' cannot be an object.";}}function ta(c,e,f){for(var k=e.length,u=e.length,n=0;n<e.length;n++)if(e[n].optional){k=n;break}if(!(k<=f.length&&f.length<=u))throw k===
u?(e=k,k=1===k?"argument":"arguments"):(e="between "+k+" and "+u,k="arguments"),new Wa(ma.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+c+"`: Expected "+e+" "+k+", received "+f.length+".");for(n=0;n<f.length;n++)try{e[n].validator(f[n])}catch(cc){if(cc instanceof Error)throw I(n,c,cc.message);throw I(n,c,cc);}}function ja(c,e){return function(f){c(f);e(f)}}function qa(c,e){function f(c){if(!ia(c))throw"Expected string.";}c=c?ja(f,c):f;return new Xb(c,e)}function Oa(){return new Xb(function(c){if(!(c instanceof
Uint8Array||c instanceof ArrayBuffer||ha()&&c instanceof Blob))throw"Expected Blob or File.";})}function La(){return new Xb(function(c){if(!(("number"===typeof c||c instanceof Number)&&0<=c))throw"Expected a number 0 or greater.";})}function Na(c,e){return new Xb(function(e){if(!(null===e||null!=e&&e instanceof Object))throw"Expected an Object.";void 0!==c&&null!==c&&c(e)},e)}function Ja(c){return new Xb(function(c){if(null!==c&&"function"!==typeof c)throw"Expected a Function.";},c)}function V(){for(var c=
[],e=0;e<arguments.length;e++)c[e]=arguments[e];e="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){e=new e;for(var f=0;f<c.length;f++)e.append(c[f]);return e.getBlob()}if(ha())return new Blob(c);throw Error("This browser doesn't seem to support creating Blobs");}function db(c){if(!c)throw v();}function Jb(c,e){return function(f,k){f=X(c,k,e);db(null!==f);return f}}function Ab(c,e){return function(f,k){f=X(c,k,e);db(null!==
f);return na(f,k)}}function Kb(c){return function(e,f){e=401===e.getStatus()?new Wa(ma.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Wa(ma.QUOTA_EXCEEDED,"Quota for bucket '"+c.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Wa(ma.UNAUTHORIZED,"User does not have permission to access '"+c.path+"'."):f;e.setServerResponseProp(f.serverResponseProp());return e}}
function Bb(c){var e=Kb(c);return function(f,k){var n=e(f,k);404===f.getStatus()&&(n=new Wa(ma.OBJECT_NOT_FOUND,"Object '"+c.path+"' does not exist."));n.setServerResponseProp(k.serverResponseProp());return n}}function Ba(c,e,f){var k=e.fullServerUrl();k=L(k);var n=c.maxOperationRetryTime();c=new Nb(k,"GET",Jb(c,f),n);c.errorHandler=Bb(e);return c}function wa(c,e,f){var k=e.fullServerUrl();k=L(k);var n=c.maxOperationRetryTime();c=new Nb(k,"GET",Ab(c,f),n);c.errorHandler=Bb(e);return c}function Ta(c,
e){var f=e.fullServerUrl();f=L(f);c=c.maxOperationRetryTime();c=new Nb(f,"DELETE",function(c,e){},c);c.successCodes=[200,204];c.errorHandler=Bb(e);return c}function la(c,e,f){f=W(f);f.fullPath=c.path;f.size=e.size();f.contentType||(f.contentType=e&&e.type()||"application/octet-stream");return f}function ra(c,e,f,k,n){var u=e.bucketOnlyServerUrl(),H={"X-Goog-Upload-Protocol":"multipart"};var p="";for(var q=0;2>q;q++)p+=Math.random().toString().slice(2);H["Content-Type"]="multipart/related; boundary\x3d"+
p;n=la(e,k,n);q=Ra(n,f);k=bc.getBlob("--"+p+"\r\nContent-Type: application/json; charset\x3dutf-8\r\n\r\n"+q+"\r\n--"+p+"\r\nContent-Type: "+n.contentType+"\r\n\r\n",k,"\r\n--"+p+"--");if(null===k)throw x();n={name:n.fullPath};u=L(u);p=c.maxUploadRetryTime();c=new Nb(u,"POST",Jb(c,f),p);c.urlParams=n;c.headers=H;c.body=k.uploadData();c.errorHandler=Kb(e);return c}function kb(c,e){try{var f=c.getResponseHeader("X-Goog-Upload-Status")}catch(mc){db(!1)}db(-1!==(e||["active"]).indexOf(f));return f}function Lb(c,
e,f,k,n){var u=e.bucketOnlyServerUrl(),p=la(e,k,n);n={name:p.fullPath};u=L(u);k={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":k.size(),"X-Goog-Upload-Header-Content-Type":p.contentType,"Content-Type":"application/json; charset\x3dutf-8"};f=Ra(p,f);c=c.maxUploadRetryTime();c=new Nb(u,"POST",function(c,e){kb(c);try{var f=c.getResponseHeader("X-Goog-Upload-URL")}catch(Rc){db(!1)}db(ia(f));return f},c);c.urlParams=n;c.headers=k;c.body=f;c.errorHandler=
Kb(e);return c}function sc(c,e,f,k){c=c.maxUploadRetryTime();f=new Nb(f,"POST",function(c,e){e=kb(c,["active","final"]);try{var f=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch(D){db(!1)}c=parseInt(f,10);db(!isNaN(c));return new Eb(c,k.size(),"final"===e)},c);f.headers={"X-Goog-Upload-Command":"query"};f.errorHandler=Kb(e);return f}function Dd(c,e,f,k,n,p,q,r){var u=new Eb(0,0);q?(u.current=q.current,u.total=q.total):(u.current=0,u.total=k.size());if(k.size()!==u.total)throw new Wa(ma.SERVER_FILE_WRONG_SIZE,
"Server recorded incorrect upload file size, please retry the upload.");var H=q=u.total-u.current;0<n&&(H=Math.min(H,n));var v=u.current;n={"X-Goog-Upload-Command":H===q?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current};q=k.slice(v,v+H);if(null===q)throw x();v=e.maxUploadRetryTime();f=new Nb(f,"POST",function(c,f){var n=kb(c,["active","final"]),q=u.current+H,r=k.size();c="final"===n?Jb(e,p)(c,f):null;return new Eb(q,r,"final"===n,c)},v);f.headers=n;f.body=q.uploadData();f.progressCallback=
r||null;f.errorHandler=Kb(c);return f}function jc(c){return function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];Promise.resolve(!0).then(function(){c.apply(null,e)})}}function Nc(c,e,f){function k(){x||(x=!0,e.apply(null,arguments))}function n(e){q=setTimeout(function(){q=null;c(u,2===v)},e)}function u(c){for(var e=1;e<arguments.length;e++);x||(c?k.apply(null,arguments):2===v||r?k.apply(null,arguments):(64>H&&(H*=2),1===v?(v=2,e=0):e=1E3*(H+Math.random()),n(e)))}function p(c){y||
(y=!0,x||(null!==q?(c||(v=2),clearTimeout(q),n(0)):c||(v=1)))}var H=1,q=null,r=!1,v=0,x=!1,y=!1;n(0);setTimeout(function(){r=!0;p(!0)},f);return p}function fb(c,e,f){var k=E(c.urlParams);k=c.url+k;var n=W(c.headers);null!==e&&0<e.length&&(n.Authorization="Firebase "+e);n["X-Firebase-Storage-Version"]="webjs/"+("undefined"!==typeof tc?tc.SDK_VERSION:"AppManager");return new od(k,c.method,n,c.body,c.successCodes,c.additionalRetryCodes,c.handler,c.errorHandler,c.timeout,c.progressCallback,f)}function rb(c,
e,f){return new Qc(c,new gb,f)}function ac(c){c.INTERNAL.registerService("storage",rb,{TaskState:Ia,TaskEvent:Wb,StringFormat:Ua,Storage:Qc,Reference:mb},void 0,!0)}Object.defineProperty(f,"__esModule",{value:!0});var tc=function(c){return c&&"object"===typeof c&&"default"in c?c["default"]:c}(c(148)),Wa=function(){function c(c,e){this.code_="storage/"+c;this.message_="Firebase Storage: "+e;this.serverResponse_=null;this.name_="FirebaseError"}c.prototype.codeProp=function(){return this.code};c.prototype.codeEquals=
function(c){return"storage/"+c===this.codeProp()};c.prototype.serverResponseProp=function(){return this.serverResponse_};c.prototype.setServerResponseProp=function(c){this.serverResponse_=c};Object.defineProperty(c.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"message",{get:function(){return this.message_},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0});return c}(),ma={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",
INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},Ua={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",
DATA_URL:"data_url"},Mb=function(){return function(c,e){this.data=c;this.contentType=e||null}}(),kc=function(){return function(c){this.base64=!1;this.contentType=null;var e=c.match(/^data:([^,]+)?,/);if(null===e)throw k(Ua.DATA_URL,"Must be formatted 'data:[\x3cmediatype\x3e][;base64],\x3cdata\x3e");e=e[1]||null;if(null!=e){var f=7<=e.length?";base64"===e.substring(e.length-7):!1;this.contentType=(this.base64=f)?e.substring(0,e.length-7):e}this.rest=c.substring(c.indexOf(",")+1)}}(),Wb={STATE_CHANGED:"state_changed"},
Ca={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Ia={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},Oc;(function(c){c[c.NO_ERROR=0]="NO_ERROR";c[c.NETWORK_ERROR=1]="NETWORK_ERROR";c[c.ABORT=2]="ABORT"})(Oc||(Oc={}));var Pc=function(){function c(){var c=this;this.sent_=!1;this.xhr_=new XMLHttpRequest;this.errorCode_=Oc.NO_ERROR;this.sendPromise_=new Promise(function(e,f){c.xhr_.addEventListener("abort",
function(f){c.errorCode_=Oc.ABORT;e(c)});c.xhr_.addEventListener("error",function(f){c.errorCode_=Oc.NETWORK_ERROR;e(c)});c.xhr_.addEventListener("load",function(f){e(c)})})}c.prototype.send=function(c,f,k,n){var u=this;if(this.sent_)throw e("cannot .send() more than once");this.sent_=!0;this.xhr_.open(f,c,!0);null!=n&&F(n,function(c,e){u.xhr_.setRequestHeader(c,e.toString())});null!=k?this.xhr_.send(k):this.xhr_.send();return this.sendPromise_};c.prototype.getErrorCode=function(){if(!this.sent_)throw e("cannot .getErrorCode() before sending");
return this.errorCode_};c.prototype.getStatus=function(){if(!this.sent_)throw e("cannot .getStatus() before sending");try{return this.xhr_.status}catch(H){return-1}};c.prototype.getResponseText=function(){if(!this.sent_)throw e("cannot .getResponseText() before sending");return this.xhr_.responseText};c.prototype.abort=function(){this.xhr_.abort()};c.prototype.getResponseHeader=function(c){return this.xhr_.getResponseHeader(c)};c.prototype.addUploadProgressListener=function(c){null!=this.xhr_.upload&&
this.xhr_.upload.addEventListener("progress",c)};c.prototype.removeUploadProgressListener=function(c){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",c)};return c}(),gb=function(){function c(){}c.prototype.createXhrIo=function(){return new Pc};return c}(),Fa=function(){function c(c,e){this.bucket=c;this.path_=e}Object.defineProperty(c.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0});c.prototype.fullServerUrl=function(){var c=encodeURIComponent;
return"/b/"+c(this.bucket)+"/o/"+c(this.path)};c.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"};c.makeFromBucketSpec=function(e){try{var f=c.makeFromUrl(e)}catch(mc){return new c(e,"")}if(""===f.path)return f;throw new Wa(ma.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.");};c.makeFromUrl=function(e){for(var f=null,k="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),n=[{regex:/^gs:\/\/([A-Za-z0-9.\-_]+)(\/(.*))?$/i,indices:{bucket:1,path:3},
postModify:function(c){"/"===c.path.charAt(c.path.length-1)&&(c.path_=c.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+k+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(c){c.path_=decodeURIComponent(c.path)}}],u=0;u<n.length;u++){k=n[u];var p=k.regex.exec(e);if(p){f=p[k.indices.bucket];(p=p[k.indices.path])||(p="");f=new c(f,p);k.postModify(f);break}}if(null==f)throw new Wa(ma.INVALID_URL,"Invalid URL '"+e+"'.");return f};return c}(),
lb=function(){return function(c,e,f,k){this.server=c;this.local=e||c;this.writable=!!f;this.xform=k||q}}(),Db=null,Xb=function(){return function(c,e){var f=this;this.validator=function(e){f.optional&&!N(e)||c(e)};this.optional=!!e}}(),bc=function(){function c(c,e){var f=0,k="";ba(c)?(this.data_=c,f=c.size,k=c.type):c instanceof ArrayBuffer?(e?this.data_=new Uint8Array(c):(this.data_=new Uint8Array(c.byteLength),this.data_.set(new Uint8Array(c))),f=this.data_.length):c instanceof Uint8Array&&(e?this.data_=
c:(this.data_=new Uint8Array(c.length),this.data_.set(c)),f=c.length);this.size_=f;this.type_=k}c.prototype.size=function(){return this.size_};c.prototype.type=function(){return this.type_};c.prototype.slice=function(e,f){if(ba(this.data_)){var k=this.data_;e=k.webkitSlice?k.webkitSlice(e,f):k.mozSlice?k.mozSlice(e,f):k.slice?k.slice(e,f):null;return null===e?null:new c(e)}e=new Uint8Array(this.data_.buffer,e,f-e);return new c(e,!0)};c.getBlob=function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=
arguments[f];if(ha())return e=e.map(function(e){return e instanceof c?e.data_:e}),new c(V.apply(null,e));e=e.map(function(c){return ia(c)?Z(Ua.RAW,c).data:c.data_});var k=0;e.forEach(function(c){k+=c.byteLength});var n=new Uint8Array(k),p=0;e.forEach(function(c){for(var e=0;e<c.length;e++)n[p++]=c[e]});return new c(n,!0)};c.prototype.uploadData=function(){return this.data_};return c}(),Nb=function(){return function(c,e,f,k){this.url=c;this.method=e;this.handler=f;this.timeout=k;this.urlParams={};
this.headers={};this.progressCallback=this.errorHandler=this.body=null;this.successCodes=[200];this.additionalRetryCodes=[]}}(),Eb=function(){return function(c,e,f,k){this.current=c;this.total=e;this.finalized=!!f;this.metadata=k||null}}(),lc=function(){return function(c,e,f){"function"===typeof c||null!=e||null!=f?(this.next=c,this.error=e||null,this.complete=f||null):(this.next=c.next||null,this.error=c.error||null,this.complete=c.complete||null)}}(),Fc=function(){return function(c,e,f,k,n,p){this.bytesTransferred=
c;this.totalBytes=e;this.state=f;this.metadata=k;this.task=n;this.ref=p}}(),Ob=function(){function c(c,e,f,k,n,p){var q=this;void 0===p&&(p=null);this.transferred_=0;this.needToFetchMetadata_=this.needToFetchStatus_=!1;this.observers_=[];this.request_=this.uploadUrl_=this.error_=null;this.chunkMultiplier_=1;this.reject_=this.resolve_=null;this.ref_=c;this.authWrapper_=e;this.location_=f;this.blob_=n;this.metadata_=p;this.mappings_=k;this.resumable_=this.shouldDoResumable_(this.blob_);this.state_=
Ca.RUNNING;this.errorHandler_=function(c){q.request_=null;q.chunkMultiplier_=1;c.codeEquals(ma.CANCELED)?(q.needToFetchStatus_=!0,q.completeTransitions_()):(q.error_=c,q.transition_(Ca.ERROR))};this.metadataErrorHandler_=function(c){q.request_=null;c.codeEquals(ma.CANCELED)?q.completeTransitions_():(q.error_=c,q.transition_(Ca.ERROR))};this.promise_=new Promise(function(c,e){q.resolve_=c;q.reject_=e;q.start_()});this.promise_.then(null,function(){})}c.prototype.makeProgressCallback_=function(){var c=
this,e=this.transferred_;return function(f,k){c.updateProgress_(e+f)}};c.prototype.shouldDoResumable_=function(c){return 262144<c.size()};c.prototype.start_=function(){if(this.state_===Ca.RUNNING&&null===this.request_)if(this.resumable_)null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_();else this.oneShotUpload_()};c.prototype.resolveToken_=function(c){var e=this;this.authWrapper_.getAuthToken().then(function(f){switch(e.state_){case Ca.RUNNING:c(f);
break;case Ca.CANCELING:e.transition_(Ca.CANCELED);break;case Ca.PAUSING:e.transition_(Ca.PAUSED)}})};c.prototype.createResumable_=function(){var c=this;this.resolveToken_(function(e){var f=Lb(c.authWrapper_,c.location_,c.mappings_,c.blob_,c.metadata_);e=c.authWrapper_.makeRequest(f,e);c.request_=e;e.getPromise().then(function(e){c.request_=null;c.uploadUrl_=e;c.needToFetchStatus_=!1;c.completeTransitions_()},c.errorHandler_)})};c.prototype.fetchStatus_=function(){var c=this,e=this.uploadUrl_;this.resolveToken_(function(f){var k=
sc(c.authWrapper_,c.location_,e,c.blob_);f=c.authWrapper_.makeRequest(k,f);c.request_=f;f.getPromise().then(function(e){c.request_=null;c.updateProgress_(e.current);c.needToFetchStatus_=!1;e.finalized&&(c.needToFetchMetadata_=!0);c.completeTransitions_()},c.errorHandler_)})};c.prototype.continueUpload_=function(){var c=this,e=262144*this.chunkMultiplier_,f=new Eb(this.transferred_,this.blob_.size()),k=this.uploadUrl_;this.resolveToken_(function(n){try{var p=Dd(c.location_,c.authWrapper_,k,c.blob_,
e,c.mappings_,f,c.makeProgressCallback_())}catch(D){c.error_=D;c.transition_(Ca.ERROR);return}n=c.authWrapper_.makeRequest(p,n);c.request_=n;n.getPromise().then(function(e){c.increaseMultiplier_();c.request_=null;c.updateProgress_(e.current);e.finalized?(c.metadata_=e.metadata,c.transition_(Ca.SUCCESS)):c.completeTransitions_()},c.errorHandler_)})};c.prototype.increaseMultiplier_=function(){33554432>262144*this.chunkMultiplier_&&(this.chunkMultiplier_*=2)};c.prototype.fetchMetadata_=function(){var c=
this;this.resolveToken_(function(e){var f=Ba(c.authWrapper_,c.location_,c.mappings_);e=c.authWrapper_.makeRequest(f,e);c.request_=e;e.getPromise().then(function(e){c.request_=null;c.metadata_=e;c.transition_(Ca.SUCCESS)},c.metadataErrorHandler_)})};c.prototype.oneShotUpload_=function(){var c=this;this.resolveToken_(function(e){var f=ra(c.authWrapper_,c.location_,c.mappings_,c.blob_,c.metadata_);e=c.authWrapper_.makeRequest(f,e);c.request_=e;e.getPromise().then(function(e){c.request_=null;c.metadata_=
e;c.updateProgress_(c.blob_.size());c.transition_(Ca.SUCCESS)},c.errorHandler_)})};c.prototype.updateProgress_=function(c){var e=this.transferred_;this.transferred_=c;this.transferred_!==e&&this.notifyObservers_()};c.prototype.transition_=function(c){if(this.state_!==c)switch(c){case Ca.CANCELING:this.state_=c;null!==this.request_&&this.request_.cancel();break;case Ca.PAUSING:this.state_=c;null!==this.request_&&this.request_.cancel();break;case Ca.RUNNING:var e=this.state_===Ca.PAUSED;this.state_=
c;e&&(this.notifyObservers_(),this.start_());break;case Ca.PAUSED:this.state_=c;this.notifyObservers_();break;case Ca.CANCELED:this.error_=p();this.state_=c;this.notifyObservers_();break;case Ca.ERROR:this.state_=c;this.notifyObservers_();break;case Ca.SUCCESS:this.state_=c,this.notifyObservers_()}};c.prototype.completeTransitions_=function(){switch(this.state_){case Ca.PAUSING:this.transition_(Ca.PAUSED);break;case Ca.CANCELING:this.transition_(Ca.CANCELED);break;case Ca.RUNNING:this.start_()}};
Object.defineProperty(c.prototype,"snapshot",{get:function(){var c=O(this.state_);return new Fc(this.transferred_,this.blob_.size(),c,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0});c.prototype.on=function(c,e,f,k){function n(c){try{q(c);return}catch(Qb){}try{if(u(c),!(N(c.next)||N(c.error)||N(c.complete)))throw"";}catch(Qb){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";}}function p(c){return function(e,f,n){null!==c&&ta("on",c,arguments);
var p=new lc(e,f,k);v.addObserver_(p);return function(){v.removeObserver_(p)}}}void 0===e&&(e=void 0);void 0===f&&(f=void 0);void 0===k&&(k=void 0);var q=Ja(!0).validator,u=Na(null,!0).validator,r=[qa(function(e){if(c!==Wb.STATE_CHANGED)throw"Expected one of the event types: ["+Wb.STATE_CHANGED+"].";}),Na(n,!0),Ja(!0),Ja(!0)];ta("on",r,arguments);var v=this;r=[Na(function(c){if(null===c)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";n(c)}),Ja(!0),Ja(!0)];
return N(e)||N(f)||N(k)?p(null)(e,f,k):p(r)};c.prototype.then=function(c,e){return this.promise_.then(c,e)};c.prototype.catch=function(c){return this.then(null,c)};c.prototype.addObserver_=function(c){this.observers_.push(c);this.notifyObserver_(c)};c.prototype.removeObserver_=function(c){var e=this.observers_;c=e.indexOf(c);-1!==c&&e.splice(c,1)};c.prototype.notifyObservers_=function(){var c=this;this.finishPromise_();Array.prototype.slice.call(this.observers_).forEach(function(e){c.notifyObserver_(e)})};
c.prototype.finishPromise_=function(){if(null!==this.resolve_){var c=!0;switch(O(this.state_)){case Ia.SUCCESS:jc(this.resolve_.bind(null,this.snapshot))();break;case Ia.CANCELED:case Ia.ERROR:jc(this.reject_.bind(null,this.error_))();break;default:c=!1}c&&(this.reject_=this.resolve_=null)}};c.prototype.notifyObserver_=function(c){switch(O(this.state_)){case Ia.RUNNING:case Ia.PAUSED:null!==c.next&&jc(c.next.bind(c,this.snapshot))();break;case Ia.SUCCESS:null!==c.complete&&jc(c.complete.bind(c))();
break;case Ia.CANCELED:case Ia.ERROR:null!==c.error&&jc(c.error.bind(c,this.error_))();break;default:null!==c.error&&jc(c.error.bind(c,this.error_))()}};c.prototype.resume=function(){ta("resume",[],arguments);var c=this.state_===Ca.PAUSED||this.state_===Ca.PAUSING;c&&this.transition_(Ca.RUNNING);return c};c.prototype.pause=function(){ta("pause",[],arguments);var c=this.state_===Ca.RUNNING;c&&this.transition_(Ca.PAUSING);return c};c.prototype.cancel=function(){ta("cancel",[],arguments);var c=this.state_===
Ca.RUNNING||this.state_===Ca.PAUSING;c&&this.transition_(Ca.CANCELING);return c};return c}(),mb=function(){function c(c,e){this.authWrapper=c;this.location=e instanceof Fa?e:Fa.makeFromUrl(e)}c.prototype.toString=function(){ta("toString",[],arguments);return"gs://"+this.location.bucket+"/"+this.location.path};c.prototype.newRef=function(e,f){return new c(e,f)};c.prototype.mappings=function(){return U()};c.prototype.child=function(c){ta("child",[qa()],arguments);var e=xa(this.location.path,c);e=new Fa(this.location.bucket,
e);return this.newRef(this.authWrapper,e)};Object.defineProperty(c.prototype,"parent",{get:function(){var c=this.location.path;if(0==c.length)c=null;else{var e=c.lastIndexOf("/");c=-1===e?"":c.slice(0,e)}if(null===c)return null;c=new Fa(this.location.bucket,c);return this.newRef(this.authWrapper,c)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"root",{get:function(){var c=new Fa(this.location.bucket,"");return this.newRef(this.authWrapper,c)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"name",{get:function(){return Qa(this.location.path)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0});c.prototype.put=function(c,e){void 0===e&&(e=null);
ta("put",[Oa(),new Xb(ca,!0)],arguments);this.throwIfRoot_("put");return new Ob(this,this.authWrapper,this.location,this.mappings(),new bc(c),e)};c.prototype.putString=function(c,e,f){void 0===e&&(e=Ua.RAW);ta("putString",[qa(),qa(S,!0),new Xb(ca,!0)],arguments);this.throwIfRoot_("putString");var k=Z(e,c),n=W(f);null==n.contentType&&null!=k.contentType&&(n.contentType=k.contentType);return new Ob(this,this.authWrapper,this.location,this.mappings(),new bc(k.data,!0),n)};c.prototype.delete=function(){ta("delete",
[],arguments);this.throwIfRoot_("delete");var c=this;return this.authWrapper.getAuthToken().then(function(e){var f=Ta(c.authWrapper,c.location);return c.authWrapper.makeRequest(f,e).getPromise()})};c.prototype.getMetadata=function(){ta("getMetadata",[],arguments);this.throwIfRoot_("getMetadata");var c=this;return this.authWrapper.getAuthToken().then(function(e){var f=Ba(c.authWrapper,c.location,c.mappings());return c.authWrapper.makeRequest(f,e).getPromise()})};c.prototype.updateMetadata=function(c){ta("updateMetadata",
[new Xb(ca,void 0)],arguments);this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(f){var k=e.authWrapper,n=e.location,p=c,q=e.mappings(),u=n.fullServerUrl();u=L(u);p=Ra(p,q);var r=k.maxOperationRetryTime();k=new Nb(u,"PATCH",Jb(k,q),r);k.headers={"Content-Type":"application/json; charset\x3dutf-8"};k.body=p;k.errorHandler=Bb(n);return e.authWrapper.makeRequest(k,f).getPromise()})};c.prototype.getDownloadURL=function(){ta("getDownloadURL",[],arguments);
this.throwIfRoot_("getDownloadURL");var c=this;return this.authWrapper.getAuthToken().then(function(e){var f=wa(c.authWrapper,c.location,c.mappings());return c.authWrapper.makeRequest(f,e).getPromise().then(function(c){if(null===c)throw new Wa(ma.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return c})})};c.prototype.throwIfRoot_=function(c){if(""===this.location.path)throw new Wa(ma.INVALID_ROOT_OPERATION,"The operation '"+c+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').");
};return c}(),uc=function(){function c(c){this.promise_=Promise.reject(c)}c.prototype.getPromise=function(){return this.promise_};c.prototype.cancel=function(c){};return c}(),sa=function(){function c(){this.map_={};this.id_=-9007199254740991}c.prototype.addRequest=function(c){function e(){delete k.map_[f]}var f=this.id_;this.id_++;this.map_[f]=c;var k=this;c.getPromise().then(e,e)};c.prototype.clear=function(){F(this.map_,function(c,e){e&&e.cancel(!0)});this.map_={}};return c}(),hd=function(){function c(e,
f,k,n,p){this.bucket_=null;this.deleted_=!1;this.app_=e;null!==this.app_&&(e=this.app_.options,null!=e&&(this.bucket_=c.extractBucket_(e)));this.storageRefMaker_=f;this.requestMaker_=k;this.pool_=p;this.service_=n;this.maxOperationRetryTime_=12E4;this.maxUploadRetryTime_=6E4;this.requestMap_=new sa}c.extractBucket_=function(c){c=c.storageBucket||null;return null==c?null:Fa.makeFromBucketSpec(c).bucket};c.prototype.getAuthToken=function(){return null!==this.app_&&null!=this.app_.INTERNAL&&null!=this.app_.INTERNAL.getToken?
this.app_.INTERNAL.getToken().then(function(c){return null!==c?c.accessToken:null},function(c){return null}):Promise.resolve(null)};c.prototype.bucket=function(){if(this.deleted_)throw Y();return this.bucket_};c.prototype.service=function(){return this.service_};c.prototype.makeStorageReference=function(c){return this.storageRefMaker_(this,c)};c.prototype.makeRequest=function(c,e){if(this.deleted_)return new uc(Y());c=this.requestMaker_(c,e,this.pool_);this.requestMap_.addRequest(c);return c};c.prototype.deleteApp=
function(){this.deleted_=!0;this.app_=null;this.requestMap_.clear()};c.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_};c.prototype.setMaxUploadRetryTime=function(c){this.maxUploadRetryTime_=c};c.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_};c.prototype.setMaxOperationRetryTime=function(c){this.maxOperationRetryTime_=c};return c}(),od=function(){function c(c,e,f,k,n,p,q,u,r,v,x){this.reject_=this.resolve_=this.backoffId_=this.pendingXhr_=null;
this.appDelete_=this.canceled_=!1;this.url_=c;this.method_=e;this.headers_=f;this.body_=k;this.successCodes_=n.slice();this.additionalRetryCodes_=p.slice();this.callback_=q;this.errorCallback_=u;this.progressCallback_=v;this.timeout_=r;this.pool_=x;var y=this;this.promise_=new Promise(function(c,e){y.resolve_=c;y.reject_=e;y.start_()})}c.prototype.start_=function(){function c(c,e){function k(c){var e=c.loaded;c=c.lengthComputable?c.total:-1;null!==f.progressCallback_&&f.progressCallback_(e,c)}e?c(!1,
new Gc(!1,null,!0)):(e=f.pool_.createXhrIo(),f.pendingXhr_=e,null!==f.progressCallback_&&e.addUploadProgressListener(k),e.send(f.url_,f.method_,f.body_,f.headers_).then(function(e){null!==f.progressCallback_&&e.removeUploadProgressListener(k);f.pendingXhr_=null;var n=e.getErrorCode()===Oc.NO_ERROR,p=e.getStatus();!n||f.isRetryStatusCode_(p)?(e=e.getErrorCode()===Oc.ABORT,c(!1,new Gc(!1,null,e))):(n=-1!==f.successCodes_.indexOf(p),c(!0,new Gc(n,e)))}))}function e(c,e){var k=f.resolve_;c=f.reject_;
var n=e.xhr;if(e.wasSuccessCode)try{var q=f.callback_(n,n.getResponseText());N(q)?k(q):k()}catch(dc){c(dc)}else null!==n?(e=v(),e.setServerResponseProp(n.getResponseText()),f.errorCallback_?c(f.errorCallback_(n,e)):c(e)):(e=e.canceled?f.appDelete_?Y():p():new Wa(ma.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."),c(e))}var f=this;this.canceled_?e(!1,new Gc(!1,null,!0)):this.backoffId_=Nc(c,e,this.timeout_)};c.prototype.getPromise=function(){return this.promise_};c.prototype.cancel=
function(c){this.canceled_=!0;this.appDelete_=c||!1;null!==this.backoffId_&&(0,this.backoffId_)(!1);null!==this.pendingXhr_&&this.pendingXhr_.abort()};c.prototype.isRetryStatusCode_=function(c){var e=500<=c&&600>c,f=-1!==[408,429].indexOf(c);c=-1!==this.additionalRetryCodes_.indexOf(c);return e||f||c};return c}(),Gc=function(){return function(c,e,f){this.wasSuccessCode=c;this.xhr=e;this.canceled=!!f}}(),Qc=function(){function c(c,e,f){this.bucket_=null;this.authWrapper_=new hd(c,function(c,e){return new mb(c,
e)},fb,this,e);this.app_=c;null!=f?this.bucket_=Fa.makeFromBucketSpec(f):(c=this.authWrapper_.bucket(),null!=c&&(this.bucket_=new Fa(c,"")));this.internals_=new Sa(this)}c.prototype.ref=function(c){ta("ref",[qa(function(c){if(/^[A-Za-z]+:\/\//.test(c))throw"Expected child path but got a URL, use refFromURL instead.";},!0)],arguments);if(null==this.bucket_)throw Error("No Storage Bucket defined in Firebase Options.");var e=new mb(this.authWrapper_,this.bucket_);return null!=c?e.child(c):e};c.prototype.refFromURL=
function(c){ta("refFromURL",[qa(function(c){if(!/^[A-Za-z]+:\/\//.test(c))throw"Expected full URL but got a child path, use ref instead.";try{Fa.makeFromUrl(c)}catch(mc){throw"Expected valid full URL but got an invalid one.";}},!1)],arguments);return new mb(this.authWrapper_,c)};Object.defineProperty(c.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0});c.prototype.setMaxUploadRetryTime=function(c){ta("setMaxUploadRetryTime",
[La()],arguments);this.authWrapper_.setMaxUploadRetryTime(c)};c.prototype.setMaxOperationRetryTime=function(c){ta("setMaxOperationRetryTime",[La()],arguments);this.authWrapper_.setMaxOperationRetryTime(c)};Object.defineProperty(c.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0});return c}(),Sa=function(){function c(c){this.service_=c}c.prototype.delete=
function(){this.service_.authWrapper_.deleteApp();return Promise.resolve(void 0)};return c}();ac(tc);f.registerStorage=ac};
shadow$provide[157]=function(n,y,c,r,f,z){(function(c,n){"object"===typeof f&&"undefined"!==typeof r?n(f):"function"===typeof define&&define.amd?define(["exports"],n):(c=c||self,n(c.idb={}))})(this,function(c){function f(c){return new Promise(function(e,f){c.onsuccess=function(){e(c.result)};c.onerror=function(){f(c.error)}})}function n(c,e,k){var n,p=new Promise(function(p,r){n=c[e].apply(c,k);f(n).then(p,r)});p.request=n;return p}function r(c,e,f){var k=n(c,e,f);return k.then(function(c){if(c)return new za(c,
k.request)})}function v(c,e,f){f.forEach(function(f){Object.defineProperty(c.prototype,f,{get:function(){return this[e][f]},set:function(c){this[e][f]=c}})})}function k(c,e,f,k){k.forEach(function(k){k in f.prototype&&(c.prototype[k]=function(){return n(this[e],k,arguments)})})}function e(c,e,f,k){k.forEach(function(k){k in f.prototype&&(c.prototype[k]=function(){return this[e][k].apply(this[e],arguments)})})}function y(c,e,f,k){k.forEach(function(k){k in f.prototype&&(c.prototype[k]=function(){return r(this[e],
k,arguments)})})}function z(c){this._index=c}function za(c,e){this._cursor=c;this._request=e}function fa(c){this._store=c}function O(c){this._tx=c;this.complete=new Promise(function(e,f){c.oncomplete=function(){e()};c.onerror=function(){f(c.error)};c.onabort=function(){f(c.error)}})}function F(c,e,f){this._db=c;this.oldVersion=e;this.transaction=new O(f)}function W(c){this._db=c}v(z,"_index",["name","keyPath","multiEntry","unique"]);k(z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);
y(z,"_index",IDBIndex,["openCursor","openKeyCursor"]);v(za,"_cursor",["direction","key","primaryKey","value"]);k(za,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(c){c in IDBCursor.prototype&&(za.prototype[c]=function(){var e=this,k=arguments;return Promise.resolve().then(function(){e._cursor[c].apply(e._cursor,k);return f(e._request).then(function(c){if(c)return new za(c,e._request)})})})});fa.prototype.createIndex=function(){return new z(this._store.createIndex.apply(this._store,
arguments))};fa.prototype.index=function(){return new z(this._store.index.apply(this._store,arguments))};v(fa,"_store",["name","keyPath","indexNames","autoIncrement"]);k(fa,"_store",IDBObjectStore,"put add delete clear get getAll getKey getAllKeys count".split(" "));y(fa,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);e(fa,"_store",IDBObjectStore,["deleteIndex"]);O.prototype.objectStore=function(){return new fa(this._tx.objectStore.apply(this._tx,arguments))};v(O,"_tx",["objectStoreNames",
"mode"]);e(O,"_tx",IDBTransaction,["abort"]);F.prototype.createObjectStore=function(){return new fa(this._db.createObjectStore.apply(this._db,arguments))};v(F,"_db",["name","version","objectStoreNames"]);e(F,"_db",IDBDatabase,["deleteObjectStore","close"]);W.prototype.transaction=function(){return new O(this._db.transaction.apply(this._db,arguments))};v(W,"_db",["name","version","objectStoreNames"]);e(W,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(c){[fa,z].forEach(function(e){c in
e.prototype&&(e.prototype[c.replace("open","iterate")]=function(){var e=Array.prototype.slice.call(arguments),f=e[e.length-1],k=this._store||this._index,n=k[c].apply(k,e.slice(0,-1));n.onsuccess=function(){f(n.result)}})})});[z,fa].forEach(function(c){c.prototype.getAll||(c.prototype.getAll=function(c,e){var f=this,k=[];return new Promise(function(n){f.iterateCursor(c,function(c){c?(k.push(c.value),void 0!==e&&k.length==e?n(k):c.continue()):n(k)})})})});c.openDb=function(c,e,f){c=n(indexedDB,"open",
[c,e]);var k=c.request;k&&(k.onupgradeneeded=function(c){f&&f(new F(k.result,c.oldVersion,k.transaction))});return c.then(function(c){return new W(c)})};c.deleteDb=function(c){return n(indexedDB,"deleteDatabase",[c])};Object.defineProperty(c,"__esModule",{value:!0})})};
shadow$provide[158]=function(n,y,c,r,f,z){function v(c,e,f,k){return new (f||(f=Promise))(function(n,p){function q(c){try{v(k.next(c))}catch(kb){p(kb)}}function r(c){try{v(k["throw"](c))}catch(kb){p(kb)}}function v(c){c.done?n(c.value):(new f(function(e){e(c.value)})).then(q,r)}v((k=k.apply(c,e||[])).next())})}function p(c,e){function f(c){return function(e){return k([c,e])}}function k(f){if(p)throw new TypeError("Generator is already executing.");for(;n;)try{if(p=1,q&&(r=f[0]&2?q["return"]:f[0]?
q["throw"]||((r=q["return"])&&r.call(q),0):q.next)&&!(r=r.call(q,f[1])).done)return r;if(q=0,r)f=[f[0]&2,r.value];switch(f[0]){case 0:case 1:r=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++;q=f[1];f=[0];continue;case 7:f=n.ops.pop();n.trys.pop();continue;default:if(!(r=n.trys,r=0<r.length&&r[r.length-1])&&(6===f[0]||2===f[0])){n=0;continue}if(3===f[0]&&(!r||f[1]>r[0]&&f[1]<r[3]))n.label=f[1];else if(6===f[0]&&n.label<r[1])n.label=r[1],r=f;else if(r&&n.label<r[2])n.label=r[2],
n.ops.push(f);else{r[2]&&n.ops.pop();n.trys.pop();continue}}f=e.call(c,n)}catch(kb){f=[6,kb],q=0}finally{p=r=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},p,q,r,v;return v={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v}function x(c){var e="function"===typeof Symbol&&c[Symbol.iterator],f=0;return e?e.call(c):{next:function(){c&&f>=c.length&&
(c=void 0);return{value:c&&c[f++],done:!c}}}}function I(c,e){var f="function"===typeof Symbol&&c[Symbol.iterator];if(!f)return c;c=f.call(c);var k,n=[];try{for(;(void 0===e||0<e--)&&!(k=c.next()).done;)n.push(k.value)}catch(wa){var p={error:wa}}finally{try{k&&!k.done&&(f=c["return"])&&f.call(c)}finally{if(p)throw p.error;}}return n}function Y(){for(var c=[],e=0;e<arguments.length;e++)c=c.concat(I(arguments[e]));return c}function k(c){return this instanceof k?(this.v=c,this):new k(c)}function e(c){return c instanceof
qa.FirebaseError&&c.code.includes("request-failed")}function S(c){if(!c||!c.options)throw Ja.create("missing-app-config-values");var e=c.name,f=c.options;c=f.projectId;var k=f.apiKey;f=f.appId;if(!(e&&c&&k&&f))throw Ja.create("missing-app-config-values");return{appName:e,projectId:c,apiKey:k,appId:f}}function Z(c){return"https://firebaseinstallations.googleapis.com/v1/projects/"+c.projectId+"/installations"}function za(c){return{token:c.token,requestStatus:2,expiresIn:Number(c.expiresIn.replace("s",
"000")),creationTime:Date.now()}}function fa(c,e){return v(this,void 0,void 0,function(){var f,k;return p(this,function(n){switch(n.label){case 0:return[4,e.json()];case 1:return f=n.sent(),k=f.error,[2,Ja.create("request-failed",{requestName:c,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})]}})})}function O(c){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":c.apiKey})}function F(c,e){e=e.refreshToken;c=O(c);c.append("Authorization",
"FIS_v2 "+e);return c}function W(c,e){var f=e.fid;return v(this,void 0,void 0,function(){var e,k,n,q,r,v,x;return p(this,function(p){switch(p.label){case 0:return e=Z(c),k=O(c),n={fid:f,authVersion:"FIS_v2",appId:c.appId,sdkVersion:"w:0.1.0"},q={method:"POST",headers:k,body:JSON.stringify(n)},[4,fetch(e,q)];case 1:return r=p.sent(),r.ok?[4,r.json()]:[3,3];case 2:return v=p.sent(),x={fid:f,registrationStatus:2,refreshToken:v.refreshToken,authToken:za(v.authToken)},[2,x];case 3:throw fa("Create Installation",
r);}})})}function N(c){return new Promise(function(e){setTimeout(e,c)})}function K(c,e){return v(this,void 0,void 0,function(){var f,k,n;return p(this,function(p){switch(p.label){case 0:return f=c.appName+"!"+c.appId,[4,V];case 1:return k=p.sent(),n=k.transaction("firebase-installations-store","readwrite"),n.objectStore("firebase-installations-store").put(e,f),[4,n.complete];case 2:return p.sent(),[2,e]}})})}function ia(c){return v(this,void 0,void 0,function(){var e,f,k;return p(this,function(n){switch(n.label){case 0:return e=
c.appName+"!"+c.appId,[4,V];case 1:return f=n.sent(),k=f.transaction("firebase-installations-store","readwrite"),k.objectStore("firebase-installations-store").delete(e),[2,k.complete]}})})}function ba(c,e){return v(this,void 0,void 0,function(){var f,k,n,q,r,v;return p(this,function(p){switch(p.label){case 0:return f=c.appName+"!"+c.appId,[4,V];case 1:return k=p.sent(),n=k.transaction("firebase-installations-store","readwrite"),q=n.objectStore("firebase-installations-store"),[4,q.get(f)];case 2:r=
p.sent();v=e(r);if(v===r)return[2,v];void 0===v?q.delete(f):q.put(v,f);return[4,n.complete];case 3:return p.sent(),[2,v]}})})}function ha(c){return v(this,void 0,void 0,function(){var e,f;return p(this,function(k){switch(k.label){case 0:return f={},[4,ba(c,function(f){f||(f=new Uint8Array(17),crypto.getRandomValues(f),f[0]=112+f[0]%16,f=f instanceof Uint8Array?f:new Uint8Array(f),f={fid:btoa(String.fromCharCode.apply(String,Y(f))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22),registrationStatus:0});
f=1===f.registrationStatus&&f.registrationTime+1E4<Date.now()?{fid:f.fid,registrationStatus:0}:f;if(0===f.registrationStatus)if(navigator.onLine){f={fid:f.fid,registrationStatus:1,registrationTime:Date.now()};var k=ka(c,f);f={installationEntry:f,registrationPromise:k}}else k=Promise.reject(Ja.create("app-offline")),f={installationEntry:f,registrationPromise:k};else f=1===f.registrationStatus?{installationEntry:f,registrationPromise:xa(c)}:{installationEntry:f};e=f.registrationPromise;return f.installationEntry})];
case 1:return[2,(f.installationEntry=k.sent(),f.registrationPromise=e,f)]}})})}function ka(c,f){return v(this,void 0,void 0,function(){var k,n;return p(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,8]),[4,W(c,f)];case 1:return k=p.sent(),[4,K(c,k)];case 2:return p.sent(),[3,8];case 3:return n=p.sent(),e(n)&&409===n.serverCode?[4,ia(c)]:[3,5];case 4:return p.sent(),[3,7];case 5:return[4,K(c,{fid:f.fid,registrationStatus:0})];case 6:p.sent(),p.label=7;case 7:throw n;case 8:return[2]}})})}
function xa(c){return v(this,void 0,void 0,function(){var e;return p(this,function(f){switch(f.label){case 0:return[4,Qa(c)];case 1:e=f.sent(),f.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,N(100)];case 3:return f.sent(),[4,Qa(c)];case 4:return e=f.sent(),[3,2];case 5:if(0===e.registrationStatus)throw Ja.create("create-installation-failed");return[2]}})})}function Qa(c){return ba(c,function(c){if(!c)throw Ja.create("installation-not-found");return 1===c.registrationStatus&&c.registrationTime+
1E4<Date.now()?{fid:c.fid,registrationStatus:0}:c})}function L(c){return v(this,void 0,void 0,function(){var e,f,k,n;return p(this,function(p){switch(p.label){case 0:return e=S(c),[4,ha(e)];case 1:return f=p.sent(),k=f.installationEntry,(n=f.registrationPromise)&&n.catch(function(){}),[2,k.fid]}})})}function E(c,e){return v(this,void 0,void 0,function(){var f,k,n,q,r,v,x;return p(this,function(p){switch(p.label){case 0:return p=e.fid,f=Z(c)+"/"+p+"/authTokens:generate",k=F(c,e),n={installation:{sdkVersion:"w:0.1.0"}},
q={method:"POST",headers:k,body:JSON.stringify(n)},[4,fetch(f,q)];case 1:return r=p.sent(),r.ok?[4,r.json()]:[3,3];case 2:return v=p.sent(),x=za(v),[2,x];case 3:throw fa("Generate Auth Token",r);}})})}function q(c){return v(this,void 0,void 0,function(){var e;return p(this,function(f){switch(f.label){case 0:return e=S(c),[4,U(e)];case 1:return f.sent(),[2,G(e)]}})})}function U(c){return v(this,void 0,void 0,function(){var e,f,k;return p(this,function(n){switch(n.label){case 0:return[4,ha(c)];case 1:return e=
n.sent(),f=e.installationEntry,(k=e.registrationPromise)?[4,k]:[3,3];case 2:return n.sent(),[3,4];case 3:if(2!==f.registrationStatus)throw Ja.create("create-installation-failed");n.label=4;case 4:return[2]}})})}function G(c){return v(this,void 0,void 0,function(){var e,f,k,n;return p(this,function(p){switch(p.label){case 0:return[4,ba(c,function(f){if(void 0===f||2!==f.registrationStatus)throw Ja.create("not-registered");var k=f.authToken,n;(n=2!==k.requestStatus)||(n=Date.now(),n=n<k.creationTime||
k.creationTime+k.expiresIn<n+36E5);if(n){if(1===k.requestStatus)return e=X(c),f;if(!navigator.onLine)throw Ja.create("app-offline");k={requestStatus:1,requestTime:Date.now()};f=La({},f,{authToken:k});e=Ra(c,f)}return f})];case 1:return f=p.sent(),e?[4,e]:[3,3];case 2:return n=p.sent(),[3,4];case 3:n=f.authToken,p.label=4;case 4:return k=n,[2,k.token]}})})}function X(c){return v(this,void 0,void 0,function(){var e,f;return p(this,function(k){switch(k.label){case 0:return[4,na(c)];case 1:e=k.sent(),
k.label=2;case 2:return 1!==e.authToken.requestStatus?[3,5]:[4,N(100)];case 3:return k.sent(),[4,na(c)];case 4:return e=k.sent(),[3,2];case 5:f=e.authToken;if(0===f.requestStatus)throw Ja.create("generate-token-failed");return[2,f]}})})}function na(c){return ba(c,function(c){if(void 0===c||2!==c.registrationStatus)throw Ja.create("not-registered");var e=c.authToken;return 1===e.requestStatus&&e.requestTime+1E4<Date.now()?La({},c,{authToken:{requestStatus:0}}):c})}function Ra(c,f){return v(this,void 0,
void 0,function(){var k,n,q;return p(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,8]),[4,E(c,f)];case 1:return k=p.sent(),n=La({},f,{authToken:k}),[4,K(c,n)];case 2:return p.sent(),[2,k];case 3:return q=p.sent(),!e(q)||401!==q.serverCode&&404!==q.serverCode?[3,5]:[4,ia(c)];case 4:return p.sent(),[3,7];case 5:return n=La({},f,{authToken:{requestStatus:0}}),[4,K(c,n)];case 6:p.sent(),p.label=7;case 7:throw q;case 8:return[2]}})})}function ca(c,e){return v(this,void 0,void 0,function(){var f,
k,n,q;return p(this,function(p){switch(p.label){case 0:return p=e.fid,f=Z(c)+"/"+p,k=F(c,e),n={method:"DELETE",headers:k},[4,fetch(f,n)];case 1:q=p.sent();if(!q.ok)throw fa("Delete Installation",q);return[2]}})})}function ta(c){return v(this,void 0,void 0,function(){var e,f;return p(this,function(k){switch(k.label){case 0:return e=S(c),[4,ba(e,function(c){if(!c||0!==c.registrationStatus)return c})];case 1:f=k.sent();if(!f)return[3,6];if(1!==f.registrationStatus)return[3,2];throw Ja.create("delete-pending-registration");
case 2:if(2!==f.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Ja.create("app-offline");case 3:return[4,ca(e,f)];case 4:return k.sent(),[4,ia(e)];case 5:k.sent(),k.label=6;case 6:return[2]}})})}function ja(c){c.INTERNAL.registerService("installations",function(c){S(c);return{app:c,getId:function(){return L(c)},getToken:function(){return q(c)},delete:function(){return ta(c)}}})}Object.defineProperty(f,"__esModule",{value:!0});n=function(c){return c&&"object"===typeof c&&"default"in
c?c["default"]:c}(c(148));var qa=c(147);c=c(157);var Oa=function(c,e){Oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)e.hasOwnProperty(f)&&(c[f]=e[f])};return Oa(c,e)},La=function(){La=Object.assign||function(c){for(var e,f=1,k=arguments.length;f<k;f++){e=arguments[f];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(c[n]=e[n])}return c};return La.apply(this,arguments)};Object.freeze({__extends:function(c,e){function f(){this.constructor=
c}Oa(c,e);c.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)},get __assign(){return La},__rest:function(c,e){var f={},k;for(k in c)Object.prototype.hasOwnProperty.call(c,k)&&0>e.indexOf(k)&&(f[k]=c[k]);if(null!=c&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(k=Object.getOwnPropertySymbols(c);n<k.length;n++)0>e.indexOf(k[n])&&(f[k[n]]=c[k[n]])}return f},__decorate:function(c,e,f,k){var n=arguments.length,p=3>n?e:null===k?k=Object.getOwnPropertyDescriptor(e,f):k,
q;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)p=Reflect.decorate(c,e,f,k);else for(var r=c.length-1;0<=r;r--)if(q=c[r])p=(3>n?q(p):3<n?q(e,f,p):q(e,f))||p;return 3<n&&p&&Object.defineProperty(e,f,p),p},__param:function(c,e){return function(f,k){e(f,k,c)}},__metadata:function(c,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(c,e)},__awaiter:v,__generator:p,__exportStar:function(c,e){for(var f in c)e.hasOwnProperty(f)||(e[f]=c[f])},
__values:x,__read:I,__spread:Y,__await:k,__asyncGenerator:function(c,e,f){function n(c){x[c]&&(y[c]=function(e){return new Promise(function(f,k){1<z.push([c,e,f,k])||p(c,e)})})}function p(c,e){try{var f=x[c](e);f.value instanceof k?Promise.resolve(f.value.v).then(q,r):v(z[0][2],f)}catch(jc){v(z[0][3],jc)}}function q(c){p("next",c)}function r(c){p("throw",c)}function v(c,e){(c(e),z.shift(),z.length)&&p(z[0][0],z[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");
var x=f.apply(c,e||[]),y,z=[];return y={},n("next"),n("throw"),n("return"),y[Symbol.asyncIterator]=function(){return this},y},__asyncDelegator:function(c){function e(e,p){f[e]=c[e]?function(f){return(n=!n)?{value:k(c[e](f)),done:"return"===e}:p?p(f):f}:p}var f,n;return f={},e("next"),e("throw",function(c){throw c;}),e("return"),f[Symbol.iterator]=function(){return this},f},__asyncValues:function(c){function e(e){n[e]=c[e]&&function(k){return new Promise(function(n,p){k=c[e](k);f(n,p,k.done,k.value)})}}
function f(c,e,f,k){Promise.resolve(k).then(function(e){c({value:e,done:f})},e)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k=c[Symbol.asyncIterator],n;return k?k.call(c):(c="function"===typeof x?x(c):c[Symbol.iterator](),n={},e("next"),e("throw"),e("return"),n[Symbol.asyncIterator]=function(){return this},n)},__makeTemplateObject:function(c,e){Object.defineProperty?Object.defineProperty(c,"raw",{value:e}):c.raw=e;return c},__importStar:function(c){if(c&&
c.__esModule)return c;var e={};if(null!=c)for(var f in c)Object.hasOwnProperty.call(c,f)&&(e[f]=c[f]);e.default=c;return e},__importDefault:function(c){return c&&c.__esModule?c:{default:c}}});var Na;y=(Na={},Na["missing-app-config-values"]="Missing App configuration values.",Na["create-installation-failed"]="Could not register Firebase Installation.",Na["generate-token-failed"]="Could not generate Auth Token.",Na["not-registered"]="Firebase Installation is not registered.",Na["installation-not-found"]=
"Firebase Installation not found.",Na["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Na["app-offline"]="Could not process request. Application offline.",Na["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Na);var Ja=new qa.ErrorFactory("installations","Installations",y),V=c.openDb("firebase-installations-database",1,function(c){switch(c.oldVersion){case 0:c.createObjectStore("firebase-installations-store")}});
ja(n);f.registerInstallations=ja};
shadow$provide[159]=function(n,y,c,r,f,z){function v(){var c=ja.getInstance().firebaseAppInstance.installations().getId();c.then(function(c){qa=c});return c}function p(){var c=ja.getInstance().firebaseAppInstance.installations().getToken();c.then(function(c){});return c}function x(){switch(ca.getInstance().document.visibilityState){case "visible":return Oa.VISIBLE;case "hidden":return Oa.HIDDEN;case "prerender":return Oa.PRERENDER;default:return Oa.UNKNOWN}}function I(){var c=ca.getInstance().navigator.connection;
switch(c&&c.effectiveType){case "slow-2g":return 1;case "2g":return 2;case "3g":return 3;case "4g":return 4;default:return 0}}function Y(c){var f=k();return f?(S(f),Promise.resolve()):e(c).then(function(c){return S(c)}).then(function(c){if(c){var e=ca.getInstance().localStorage;e.setItem("@firebase/performance/config",JSON.stringify(c));e.setItem("@firebase/performance/configexpire",String(Date.now()+36E5*ja.getInstance().configTimeToLive))}},function(){})}function k(){var c=ca.getInstance().localStorage,
e=c.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()&&(c=c.getItem("@firebase/performance/config")))try{return JSON.parse(c)}catch(ra){}}function e(c){return p().then(function(e){var f="https://firebaseremoteconfig.googleapis.com/v1/projects/"+ja.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key\x3d"+ja.getInstance().getApiKey();e=new Request(f,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:c,app_instance_id_token:e,
app_id:ja.getInstance().getAppId(),app_version:"0.2.1",sdk_version:"0.0.1"})});return fetch(e).then(function(c){if(c.ok)return c.json();throw na.create("RC response not ok");})}).catch(function(){La.info(Ja)})}function S(c){if(!c)return c;var e=ja.getInstance(),f=c.entries||{};e.loggingEnabled=void 0!==f.fpr_enabled?"true"===String(f.fpr_enabled):Na.loggingEnabled;f.fpr_log_source&&(e.logSource=Number(f.fpr_log_source));f.fpr_log_endpoint_url&&(e.logEndPointUrl=f.fpr_log_endpoint_url);void 0!==f.fpr_vc_network_request_sampling_rate&&
(e.networkRequestsSamplingRate=Number(f.fpr_vc_network_request_sampling_rate));void 0!==f.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(f.fpr_vc_trace_sampling_rate));e.logTraceAfterSampling=Math.random()<=e.tracesSamplingRate;e.logNetworkAfterSampling=Math.random()<=e.networkRequestsSamplingRate;return c}function Z(){V=2;return db=db||za()}function za(){return fa().then(function(){return v()}).then(function(c){return Y(c)}).then(function(){V=3},function(){V=3})}function fa(){var c=ca.getInstance().document;
return new Promise(function(e){if(c&&"complete"!==c.readyState){var f=function(){"complete"===c.readyState&&(c.removeEventListener("readystatechange",f),e())};c.addEventListener("readystatechange",f)}else e()})}function O(c){setTimeout(function(){if(0!==Jb){if(!Ab.length)return O(1E4);var c=Ab.slice();Ab=[];var e=c.map(function(c){return{source_extension_json:c.message,event_time_ms:String(c.eventTime)}});e={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ja.getInstance().logSource,
log_event:e};fetch(ja.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(e)}).then(function(c){c.ok||La.info("Call to Firebase backend failed.");return c.json()}).then(function(c){c=Math.max(1E4,parseInt(c.next_request_wait_millis,10));Jb=3;O(c)}).catch(function(){Ab=c.concat(Ab);Jb--;La.info("Tries left: "+Jb+".");O(1E4)})}},c)}function F(c){return function(e,f){for(var k=[],n=2;n<arguments.length;n++)k[n-2]=arguments[n];k={message:c.apply(void 0,k),eventTime:Date.now()};if(!k.eventTime||
!k.message)throw na.create("invalid cc log");Ab=Ab.concat([k])}}function W(){if(Kb)return Kb;var c=F(ba);Kb=new G.Logger("@firebase/performance/cc");Kb.logHandler=c;return Kb}function N(c){var e=ja.getInstance();if(e.instrumentationEnabled||!c.isAuto)if(e.dataCollectionEnabled||c.isAuto)c.isAuto&&x()!==Oa.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===V?K(c):Z().then(function(){return K(c)},function(){return K(c)}))}function K(c){qa&&setTimeout(function(){return W().log(c,1)},0)}function ia(c){var e=
ja.getInstance();e.instrumentationEnabled&&c.url!==e.logEndPointUrl.split("?")[0]&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return W().log(c,0)},0)}function ba(c,e){if(0===e)return c={url:c.url,http_method:1,http_response_code:200,response_payload_bytes:c.responsePayloadBytes,client_start_time_us:c.startTimeUs,time_to_response_initiated_us:c.timeToResponseInitiatedUs,time_to_response_completed_us:c.timeToResponseCompletedUs},c={application_info:ha(),network_request_metric:c},
JSON.stringify(c);e={name:c.name,is_auto:c.isAuto,client_start_time_us:c.startTimeUs,duration_us:c.durationUs};0!==Object.keys(c.counters).length&&(e.counters=ka(c.counters));c=c.getAttributes();0!==Object.keys(c).length&&(e.custom_attributes=ka(c));c={application_info:ha(),trace_metric:e};return JSON.stringify(c)}function ha(){var c=ja.getInstance().getAppId(),e=qa,f=ca.getInstance().getUrl(),k=ca.getInstance().navigator;return{google_app_id:c,app_instance_id:e,web_app_info:{sdk_version:"0.2.1",
page_url:f,service_worker_status:"serviceWorker"in k?k.serviceWorker.controller?2:3:1,visibility_state:x(),effective_connection_type:I()},application_process_state:0}}function ka(c){return Object.keys(c).map(function(e){return{key:e,value:c[e]}})}function xa(c){if(c&&void 0!==c.responseStart){var e=ca.getInstance().getTimeOrigin();e=Math.floor(1E3*(c.startTime+e));var f=c.responseStart?Math.floor(1E3*(c.responseStart-c.startTime)):void 0,k=Math.floor(1E3*(c.responseEnd-c.startTime));c={url:c.name&&
c.name.split("?")[0],responsePayloadBytes:c.transferSize,startTimeUs:e,timeToResponseInitiatedUs:f,timeToResponseCompletedUs:k};ia(c)}}function Qa(){qa&&(setTimeout(function(){return L()},0),setTimeout(function(){for(var c=ca.getInstance(),e=0,f=c.getEntriesByType("resource");e<f.length;e++)xa(f[e]);c.setupObserver("resource",xa)},0),setTimeout(function(){for(var c=ca.getInstance(),e=0,f=c.getEntriesByType("measure");e<f.length;e++)E(f[e]);c.setupObserver("measure",E)},0))}function L(){var c=ca.getInstance(),
e=c.getEntriesByType("navigation"),f=c.getEntriesByType("paint");if(c.onFirstInputDelay){var k=setTimeout(function(){Bb.createOobTrace(e,f);k=void 0},5E3);c.onFirstInputDelay(function(c){k&&(clearTimeout(k),Bb.createOobTrace(e,f,c))})}else Bb.createOobTrace(e,f)}function E(c){c=c.name;"FB-PERF-TRACE-MEASURE"!==c.substring(0,21)&&Bb.createUserTimingTrace(c)}function q(c){c.INTERNAL.registerService("performance",function(c){if("[DEFAULT]"!==c.name)throw na.create("FB not default");ja.getInstance().firebaseAppInstance=
c;return new Ba(c)},{})}Object.defineProperty(f,"__esModule",{value:!0});n=function(c){return c&&"object"===typeof c&&"default"in c?c["default"]:c}(c(148));var U=c(146);y=c(147);c(158);var G=c(150),X;c=(X={},X["trace started"]="Trace {$traceName} was started before.",X["trace stopped"]="Trace {$traceName} is not running.",X["no window"]="Window is not available.",X["no app id"]="App id is not available.",X["no project id"]="Project id is not available.",X["no api key"]="Api key is not available.",
X["invalid cc log"]="Attempted to queue invalid cc event",X["FB not default"]="Performance can only start when Firebase app instance is the default one.",X["RC response not ok"]="RC response is not ok",X);var na=new y.ErrorFactory("performance","Performance",c),Ra,ca=function(){function c(c){if(!c)throw na.create("no window");this.performance=c.performance;this.PerformanceObserver=c.PerformanceObserver;this.windowLocation=c.location;this.navigator=c.navigator;this.document=c.document;this.localStorage=
c.localStorage;c.perfMetrics&&c.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=c.perfMetrics.onFirstInputDelay)}c.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]};c.prototype.mark=function(c){this.performance&&this.performance.mark&&this.performance.mark(c)};c.prototype.measure=function(c,e,f){this.performance&&this.performance.measure&&this.performance.measure(c,e,f)};c.prototype.getEntriesByType=function(c){return this.performance&&this.performance.getEntriesByType?
this.performance.getEntriesByType(c):[]};c.prototype.getEntriesByName=function(c){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(c):[]};c.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)};c.prototype.setupObserver=function(c,e){this.PerformanceObserver&&(new this.PerformanceObserver(function(c){var f=0;for(c=c.getEntries();f<c.length;f++)e(c[f])})).observe({entryTypes:[c]})};
c.getInstance=function(){void 0===Ra&&(Ra=new c(wa));return Ra};return c}(),ta,ja=function(){function c(){this.dataCollectionEnabled=this.instrumentationEnabled=!0;this.loggingEnabled=!1;this.networkRequestsSamplingRate=this.tracesSamplingRate=1;this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format\x3djson_proto";this.logSource=462;this.logNetworkAfterSampling=this.logTraceAfterSampling=!1;this.configTimeToLive=12}c.prototype.getAppId=function(){var c=this.firebaseAppInstance&&
this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!c)throw na.create("no app id");return c};c.prototype.getProjectId=function(){var c=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!c)throw na.create("no project id");return c};c.prototype.getApiKey=function(){var c=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!c)throw na.create("no api key");return c};c.getInstance=
function(){void 0===ta&&(ta=new c);return ta};return c}(),qa,Oa;(function(c){c[c.UNKNOWN=0]="UNKNOWN";c[c.VISIBLE=1]="VISIBLE";c[c.HIDDEN=2]="HIDDEN";c[c.PRERENDER=3]="PRERENDER";c[c.UNLOADED=4]="UNLOADED"})(Oa||(Oa={}));var La=new G.Logger("Performance");La.logLevel=G.LogLevel.INFO;var Na={loggingEnabled:!0},Ja="Could not fetch config, will use default configs",V=1,db,Jb=3,Ab=[];O(5500);var Kb,Bb=function(){function c(c,e,f){void 0===e&&(e=!1);this.name=c;this.isAuto=e;this.state=1;this.customAttributes=
{};this.counters={};this.api=ca.getInstance();this.randomId=Math.floor(1E6*Math.random());this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=f||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,f&&this.calculateTraceMetrics())}c.prototype.start=function(){if(1!==this.state)throw na.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark);this.state=2};
c.prototype.stop=function(){if(2!==this.state)throw na.create("trace stopped",{traceName:this.name});this.state=3;this.api.mark(this.traceStopMark);this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark);this.calculateTraceMetrics();N(this)};c.prototype.record=function(c,e,f){this.durationUs=Math.floor(1E3*e);this.startTimeUs=Math.floor(1E3*c);f&&f.attributes&&(this.customAttributes=U.__assign({},f.attributes));if(f&&f.metrics)for(c=0,e=Object.keys(f.metrics);c<e.length;c++){var k=
e[c];isNaN(Number(f.metrics[k]))||(this.counters[k]=Number(Math.floor(f.metrics[k])))}N(this)};c.prototype.incrementMetric=function(c,e){void 0===e&&(e=1);void 0===this.counters[c]&&(this.counters[c]=0);this.counters[c]+=e};c.prototype.putMetric=function(c,e){this.counters[c]=e};c.prototype.getMetric=function(c){return this.counters[c]||0};c.prototype.putAttribute=function(c,e){this.customAttributes[c]=e};c.prototype.getAttribute=function(c){return this.customAttributes[c]};c.prototype.removeAttribute=
function(c){void 0!==this.customAttributes[c]&&delete this.customAttributes[c]};c.prototype.getAttributes=function(){return U.__assign({},this.customAttributes)};c.prototype.setStartTime=function(c){this.startTimeUs=c};c.prototype.setDuration=function(c){this.durationUs=c};c.prototype.calculateTraceMetrics=function(){var c=this.api.getEntriesByName(this.traceMeasure);if(c=c&&c[0])this.durationUs=Math.floor(1E3*c.duration),this.startTimeUs=Math.floor(1E3*(c.startTime+this.api.getTimeOrigin()))};c.createOobTrace=
function(e,f,k){var n=ca.getInstance().getUrl();if(n){n=new c("_wt_"+n,!0);var p=Math.floor(1E3*ca.getInstance().getTimeOrigin());n.setStartTime(p);e&&e[0]&&(n.setDuration(Math.floor(1E3*e[0].duration)),n.incrementMetric("domInteractive",Math.floor(1E3*e[0].domInteractive)),n.incrementMetric("domContentLoadedEventEnd",Math.floor(1E3*e[0].domContentLoadedEventEnd)),n.incrementMetric("loadEventEnd",Math.floor(1E3*e[0].loadEventEnd)));f&&((e=f.find(function(c){return"first-paint"===c.name}))&&e.startTime&&
n.incrementMetric("_fp",Math.floor(1E3*e.startTime)),(f=f.find(function(c){return"first-contentful-paint"===c.name}))&&f.startTime&&n.incrementMetric("_fcp",Math.floor(1E3*f.startTime)),k&&n.incrementMetric("_fid",Math.floor(1E3*k)));N(n)}};c.createUserTimingTrace=function(e){e=new c(e,!1,e);N(e)};return c}(),Ba=function(){function c(c){this.app=c;Z().then(Qa,Qa)}c.prototype.trace=function(c){return new Bb(c)};Object.defineProperty(c.prototype,"instrumentationEnabled",{get:function(){return ja.getInstance().instrumentationEnabled},
set:function(c){ja.getInstance().instrumentationEnabled=c},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"dataCollectionEnabled",{get:function(){return ja.getInstance().dataCollectionEnabled},set:function(c){ja.getInstance().dataCollectionEnabled=c},enumerable:!0,configurable:!0});return c}();if(window&&fetch&&Promise){var wa=window;q(n)}else La.info("Firebase Performance cannot start if browser does not support fetch and Promise.");f.registerPerformance=q};
shadow$provide[160]=function(n,y,c,r,f,z){c(145);n=(n=c(148))&&"object"===typeof n&&"default"in n?n["default"]:n;c(149);c(151);c(153);c(154);c(155);c(156);c(159);console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace \x3cPACKAGE\x3e with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase \x3d require('firebase/app');\nrequire('firebase/\x3cPACKAGE\x3e');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/\x3cPACKAGE\x3e';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/\x3cPACKAGE\x3e';\n");
r.exports=n};
var g,ca=this;
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"function"==da(a)}function ha(a){return a[ia]||(a[ia]=++ja)}var ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}
function ma(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function na(a,b,c){na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:ma;return na.apply(null,arguments)};function oa(a,b){this.bits_=[];this.Qd=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.bits_[d]=e,c=!1)}}var va={};function wa(a){if(-128<=a&&128>a){var b=va[a];if(b)return b}b=new oa([a|0],0>a?-1:0);-128<=a&&128>a&&(va[a]=b);return b}function xa(a){if(isNaN(a)||!isFinite(a))return ya;if(0>a)return za(xa(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=Aa;return new oa(b,0)}var Aa=4294967296,ya=wa(0),Ba=wa(1),Ca=wa(16777216);
function Da(a){if(-1==a.Qd)return-Da(za(a));for(var b=0,c=1,d=0;d<a.bits_.length;d++){var e=Ea(a,d);b+=(0<=e?e:Aa+e)*c;c*=Aa}return b}g=oa.prototype;g.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(Fa(this))return"0";if(-1==this.Qd)return"-"+za(this).toString(a);for(var b=xa(Math.pow(a,6)),c=this,d="";;){var e=Ga(c,b),f=e.multiply(b);c=c.add(za(f));f=((0<c.bits_.length?c.bits_[0]:c.Qd)>>>0).toString(a);c=e;if(Fa(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
function Ea(a,b){return 0>b?0:b<a.bits_.length?a.bits_[b]:a.Qd}function Fa(a){if(0!=a.Qd)return!1;for(var b=0;b<a.bits_.length;b++)if(0!=a.bits_[b])return!1;return!0}g.equals=function(a){if(this.Qd!=a.Qd)return!1;for(var b=Math.max(this.bits_.length,a.bits_.length),c=0;c<b;c++)if(Ea(this,c)!=Ea(a,c))return!1;return!0};g.compare=function(a){a=this.add(za(a));return-1==a.Qd?-1:Fa(a)?0:1};function za(a){for(var b=a.bits_.length,c=[],d=0;d<b;d++)c[d]=~a.bits_[d];return(new oa(c,~a.Qd)).add(Ba)}
g.add=function(a){for(var b=Math.max(this.bits_.length,a.bits_.length),c=[],d=0,e=0;e<=b;e++){var f=d+(Ea(this,e)&65535)+(Ea(a,e)&65535),h=(f>>>16)+(Ea(this,e)>>>16)+(Ea(a,e)>>>16);d=h>>>16;f&=65535;h&=65535;c[e]=h<<16|f}return new oa(c,c[c.length-1]&-2147483648?-1:0)};
g.multiply=function(a){if(Fa(this)||Fa(a))return ya;if(-1==this.Qd)return-1==a.Qd?za(this).multiply(za(a)):za(za(this).multiply(a));if(-1==a.Qd)return za(this.multiply(za(a)));if(0>this.compare(Ca)&&0>a.compare(Ca))return xa(Da(this)*Da(a));for(var b=this.bits_.length+a.bits_.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.bits_.length;d++)for(var e=0;e<a.bits_.length;e++){var f=Ea(this,d)>>>16,h=Ea(this,d)&65535,k=Ea(a,e)>>>16,l=Ea(a,e)&65535;c[2*d+2*e]+=h*l;Ha(c,2*d+2*e);c[2*d+2*e+1]+=f*l;Ha(c,
2*d+2*e+1);c[2*d+2*e+1]+=h*k;Ha(c,2*d+2*e+1);c[2*d+2*e+2]+=f*k;Ha(c,2*d+2*e+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new oa(c,0)};function Ha(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}
function Ga(a,b){if(Fa(b))throw Error("division by zero");if(Fa(a))return ya;if(-1==a.Qd)return-1==b.Qd?Ga(za(a),za(b)):za(Ga(za(a),b));if(-1==b.Qd)return za(Ga(a,za(b)));if(30<a.bits_.length){if(-1==a.Qd||-1==b.Qd)throw Error("slowDivide_ only works with positive integers.");for(var c=Ba;0>=b.compare(a);)c=c.shiftLeft(1),b=b.shiftLeft(1);var d=Ia(c,1),e=Ia(b,1);b=Ia(b,2);for(c=Ia(c,2);!Fa(b);){var f=e.add(b);0>=f.compare(a)&&(d=d.add(c),e=f);b=Ia(b,1);c=Ia(c,1)}return d}for(c=ya;0<=a.compare(b);){d=
Math.max(1,Math.floor(Da(a)/Da(b)));e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=xa(d);for(var h=f.multiply(b);-1==h.Qd||0<h.compare(a);)d-=e,f=xa(d),h=f.multiply(b);Fa(f)&&(f=Ba);c=c.add(f);a=a.add(za(h))}return c}g.and=function(a){for(var b=Math.max(this.bits_.length,a.bits_.length),c=[],d=0;d<b;d++)c[d]=Ea(this,d)&Ea(a,d);return new oa(c,this.Qd&a.Qd)};
g.or=function(a){for(var b=Math.max(this.bits_.length,a.bits_.length),c=[],d=0;d<b;d++)c[d]=Ea(this,d)|Ea(a,d);return new oa(c,this.Qd|a.Qd)};g.xor=function(a){for(var b=Math.max(this.bits_.length,a.bits_.length),c=[],d=0;d<b;d++)c[d]=Ea(this,d)^Ea(a,d);return new oa(c,this.Qd^a.Qd)};g.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.bits_.length+b+(0<a?1:0),d=[],e=0;e<c;e++)d[e]=0<a?Ea(this,e-b)<<a|Ea(this,e-b-1)>>>32-a:Ea(this,e-b);return new oa(d,this.Qd)};
function Ia(a,b){var c=b>>5;b%=32;for(var d=a.bits_.length-c,e=[],f=0;f<d;f++)e[f]=0<b?Ea(a,f+c)>>>b|Ea(a,f+c+1)<<32-b:Ea(a,f+c);return new oa(e,a.Qd)};function Ja(a){return-1!=Ka.toLowerCase().indexOf(a.toLowerCase())};function La(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};function Ma(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Pa(a,b){a.sort(b||Sa)}function Ua(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||Sa;Pa(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function Sa(a,b){return a>b?1:a<b?-1:0};function Va(a,b){null!=a&&this.append.apply(this,arguments)}g=Va.prototype;g.Re="";g.set=function(a){this.Re=""+a};g.append=function(a,b,c){this.Re+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.Re+=arguments[d];return this};g.clear=function(){this.Re=""};g.getLength=function(){return this.Re.length};g.toString=function(){return this.Re};var Wa={},Xa={},Ya;if("undefined"===typeof Wa||"undefined"===typeof Xa||"undefined"===typeof n)var n={};if("undefined"===typeof Wa||"undefined"===typeof Xa||"undefined"===typeof Za)var Za=null;if("undefined"===typeof Wa||"undefined"===typeof Xa||"undefined"===typeof $a)var $a=null;var ab=null;if("undefined"===typeof Wa||"undefined"===typeof Xa||"undefined"===typeof bb)var bb=null;function cb(){return new p(null,5,[db,!0,eb,!0,fb,!1,gb,!1,ib,null],null)}
function jb(){Za=function(){return console.log.apply(console,Ma(arguments))};$a=function(){return console.error.apply(console,Ma(arguments))}}function t(a){return null!=a&&!1!==a}function kb(a){return null==a}function lb(a){return a instanceof Array}function mb(a){return null==a?!0:!1===a?!0:!1}function v(a,b){return a[da(null==b?null:b)]?!0:a._?!0:!1}function nb(a){return null==a?null:a.constructor}
function ob(a,b){var c=nb(b);c=t(t(c)?c.fg:c)?c.Kf:da(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function pb(a){var b=a.Kf;return t(b)?b:y.hd(a)}var qb="undefined"!==typeof Symbol&&"function"===da(Symbol)?Symbol.iterator:"@@iterator";function rb(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function sb(a){function b(d,e){d.push(e);return d}var c=[];return tb?tb(b,c,a):ub.call(null,b,c,a)}function vb(){}function wb(){}
function xb(){}var yb=function yb(a){if(null!=a&&null!=a.Jd)return a.Jd(a);var c=yb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=yb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("ICounted.-count",a);};function zb(){}var Ab=function Ab(a){if(null!=a&&null!=a.Od)return a.Od(a);var c=Ab[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Ab._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IEmptyableCollection.-empty",a);};function Bb(){}
var Cb=function Cb(a,b){if(null!=a&&null!=a.Nd)return a.Nd(a,b);var d=Cb[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Cb._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("ICollection.-conj",a);};function Db(){}var Fb=function Fb(a){switch(arguments.length){case 2:return Fb.jd(arguments[0],arguments[1]);case 3:return Fb.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};
Fb.jd=function(a,b){if(null!=a&&null!=a.zd)return a.zd(a,b);var c=Fb[da(null==a?null:a)];if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);c=Fb._;if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);throw ob("IIndexed.-nth",a);};Fb.kd=function(a,b,c){if(null!=a&&null!=a.Td)return a.Td(a,b,c);var d=Fb[da(null==a?null:a)];if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);d=Fb._;if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);throw ob("IIndexed.-nth",a);};Fb.ud=3;function Gb(){}
var Hb=function Hb(a){if(null!=a&&null!=a.Vd)return a.Vd(a);var c=Hb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Hb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("ISeq.-first",a);},Ib=function Ib(a){if(null!=a&&null!=a.Zd)return a.Zd(a);var c=Ib[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Ib._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("ISeq.-rest",a);};function Jb(){}
var Kb=function Kb(a){if(null!=a&&null!=a.Ud)return a.Ud(a);var c=Kb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Kb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("INext.-next",a);};function Lb(){}var Mb=function Mb(a){switch(arguments.length){case 2:return Mb.jd(arguments[0],arguments[1]);case 3:return Mb.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};
Mb.jd=function(a,b){if(null!=a&&null!=a.Kd)return a.Kd(a,b);var c=Mb[da(null==a?null:a)];if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);c=Mb._;if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);throw ob("ILookup.-lookup",a);};Mb.kd=function(a,b,c){if(null!=a&&null!=a.wd)return a.wd(a,b,c);var d=Mb[da(null==a?null:a)];if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);d=Mb._;if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);throw ob("ILookup.-lookup",a);};Mb.ud=3;
var Nb=function Nb(a,b,c){if(null!=a&&null!=a.he)return a.he(a,b,c);var e=Nb[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=Nb._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw ob("IAssociative.-assoc",a);},Ob=function Ob(a,b){if(null!=a&&null!=a.ef)return a.ef(a,b);var d=Ob[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Ob._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("IFind.-find",a);};function Pb(){}
var Qb=function Qb(a,b){if(null!=a&&null!=a.ff)return a.ff(a,b);var d=Qb[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Qb._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("IMap.-dissoc",a);},Rb=function Rb(a){if(null!=a&&null!=a.xg)return a.key;var c=Rb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Rb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IMapEntry.-key",a);},Sb=function Sb(a){if(null!=a&&null!=a.yg)return a.val;var c=
Sb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Sb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IMapEntry.-val",a);};function Tb(){}
var Ub=function Ub(a,b){if(null!=a&&null!=a.dg)return a.dg(a,b);var d=Ub[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Ub._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("ISet.-disjoin",a);},Vb=function Vb(a){if(null!=a&&null!=a.Ve)return a.Ve(a);var c=Vb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Vb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IStack.-peek",a);},Wb=function Wb(a){if(null!=a&&null!=a.We)return a.We(a);var c=
Wb[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Wb._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IStack.-pop",a);};function Xb(){}var Yb=function Yb(a,b,c){if(null!=a&&null!=a.Xe)return a.Xe(a,b,c);var e=Yb[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=Yb._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw ob("IVector.-assoc-n",a);};function Zb(){}
var $b=function $b(a){if(null!=a&&null!=a.ze)return a.ze(a);var c=$b[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=$b._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IDeref.-deref",a);};function ac(){}
var bc=function bc(a){if(null!=a&&null!=a.Gd)return a.Gd(a);var c=bc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=bc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IMeta.-meta",a);},cc=function cc(a,b){if(null!=a&&null!=a.Id)return a.Id(a,b);var d=cc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=cc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("IWithMeta.-with-meta",a);};function dc(){}
var ec=function ec(a){switch(arguments.length){case 2:return ec.jd(arguments[0],arguments[1]);case 3:return ec.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};ec.jd=function(a,b){if(null!=a&&null!=a.Xd)return a.Xd(a,b);var c=ec[da(null==a?null:a)];if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);c=ec._;if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);throw ob("IReduce.-reduce",a);};
ec.kd=function(a,b,c){if(null!=a&&null!=a.Yd)return a.Yd(a,b,c);var d=ec[da(null==a?null:a)];if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);d=ec._;if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);throw ob("IReduce.-reduce",a);};ec.ud=3;function fc(){}
var gc=function gc(a,b,c){if(null!=a&&null!=a.Se)return a.Se(a,b,c);var e=gc[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=gc._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw ob("IKVReduce.-kv-reduce",a);},hc=function hc(a,b){if(null!=a&&null!=a.Bd)return a.Bd(a,b);var d=hc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=hc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("IEquiv.-equiv",a);},ic=function ic(a){if(null!=
a&&null!=a.Dd)return a.Dd(a);var c=ic[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=ic._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IHash.-hash",a);};function jc(){}var kc=function kc(a){if(null!=a&&null!=a.Hd)return a.Hd(a);var c=kc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=kc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("ISeqable.-seq",a);};function lc(){}function mc(){}function nc(){}function oc(){}
var pc=function pc(a){if(null!=a&&null!=a.pf)return a.pf(a);var c=pc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=pc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IReversible.-rseq",a);},qc=function qc(a,b){if(null!=a&&null!=a.eg)return a.eg(a,b);var d=qc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=qc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("IWriter.-write",a);};function rc(){}
var sc=function sc(a,b,c){if(null!=a&&null!=a.Cd)return a.Cd(a,b,c);var e=sc[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=sc._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw ob("IPrintWithWriter.-pr-writer",a);},tc=function tc(a,b,c){if(null!=a&&null!=a.rf)return a.rf(a,b,c);var e=tc[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=tc._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw ob("IWatchable.-add-watch",a);},
uc=function uc(a,b){if(null!=a&&null!=a.sf)return a.sf(a,b);var d=uc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=uc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("IWatchable.-remove-watch",a);},vc=function vc(a){if(null!=a&&null!=a.df)return a.df(a);var c=vc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=vc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IEditableCollection.-as-transient",a);},wc=function wc(a,b){if(null!=a&&
null!=a.hf)return a.hf(a,b);var d=wc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=wc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("ITransientCollection.-conj!",a);},xc=function xc(a){if(null!=a&&null!=a.qf)return a.qf(a);var c=xc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=xc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("ITransientCollection.-persistent!",a);},yc=function yc(a,b,c){if(null!=a&&null!=a.gf)return a.gf(a,
b,c);var e=yc[da(null==a?null:a)];if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);e=yc._;if(null!=e)return e.kd?e.kd(a,b,c):e.call(null,a,b,c);throw ob("ITransientAssociative.-assoc!",a);};function zc(){}
var Ac=function Ac(a,b){if(null!=a&&null!=a.Ue)return a.Ue(a,b);var d=Ac[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Ac._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("IComparable.-compare",a);},Bc=function Bc(a){if(null!=a&&null!=a.Rf)return a.Rf(a);var c=Bc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Bc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IChunk.-drop-first",a);},Cc=function Cc(a){if(null!=a&&null!=a.Df)return a.Df(a);
var c=Cc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Cc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IChunkedSeq.-chunked-first",a);},Dc=function Dc(a){if(null!=a&&null!=a.bf)return a.bf(a);var c=Dc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Dc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IChunkedSeq.-chunked-rest",a);},Ec=function Ec(a){if(null!=a&&null!=a.bg)return a.name;var c=Ec[da(null==a?null:a)];if(null!=c)return c.hd?
c.hd(a):c.call(null,a);c=Ec._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("INamed.-name",a);},Fc=function Fc(a){if(null!=a&&null!=a.cg)return a.ae;var c=Fc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Fc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("INamed.-namespace",a);},Gc=function Gc(a,b){if(null!=a&&null!=a.fe)return a.fe(a,b);var d=Gc[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=Gc._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,
a,b);throw ob("IReset.-reset!",a);},Hc=function Hc(a){switch(arguments.length){case 2:return Hc.jd(arguments[0],arguments[1]);case 3:return Hc.kd(arguments[0],arguments[1],arguments[2]);case 4:return Hc.sd(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Hc.Fd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};
Hc.jd=function(a,b){if(null!=a&&null!=a.Ff)return a.Ff(a,b);var c=Hc[da(null==a?null:a)];if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);c=Hc._;if(null!=c)return c.jd?c.jd(a,b):c.call(null,a,b);throw ob("ISwap.-swap!",a);};Hc.kd=function(a,b,c){if(null!=a&&null!=a.Gf)return a.Gf(a,b,c);var d=Hc[da(null==a?null:a)];if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);d=Hc._;if(null!=d)return d.kd?d.kd(a,b,c):d.call(null,a,b,c);throw ob("ISwap.-swap!",a);};
Hc.sd=function(a,b,c,d){if(null!=a&&null!=a.Hf)return a.Hf(a,b,c,d);var e=Hc[da(null==a?null:a)];if(null!=e)return e.sd?e.sd(a,b,c,d):e.call(null,a,b,c,d);e=Hc._;if(null!=e)return e.sd?e.sd(a,b,c,d):e.call(null,a,b,c,d);throw ob("ISwap.-swap!",a);};
Hc.Fd=function(a,b,c,d,e){if(null!=a&&null!=a.If)return a.If(a,b,c,d,e);var f=Hc[da(null==a?null:a)];if(null!=f)return f.Fd?f.Fd(a,b,c,d,e):f.call(null,a,b,c,d,e);f=Hc._;if(null!=f)return f.Fd?f.Fd(a,b,c,d,e):f.call(null,a,b,c,d,e);throw ob("ISwap.-swap!",a);};Hc.ud=5;function Ic(){}
var Jc=function Jc(a){if(null!=a&&null!=a.de)return a.de(a);var c=Jc[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=Jc._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IIterable.-iterator",a);};function Kc(a){this.sb=a;this.md=1073741824;this.vd=0}Kc.prototype.eg=function(a,b){return this.sb.append(b)};function Lc(a){var b=new Va;a.Cd(null,new Kc(b),cb());return y.hd(b)}
var Mc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Nc(a){a=Mc(a|0,-862048943);return Mc(a<<15|a>>>-15,461845907)}function Oc(a,b){a=(a|0)^(b|0);return Mc(a<<13|a>>>-13,5)+-430675100|0}function Pc(a,b){a=(a|0)^b;a=Mc(a^a>>>16,-2048144789);a=Mc(a^a>>>13,-1028477387);return a^a>>>16}
function Qc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Oc(c,Nc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return Pc(1===(a.length&1)?b^Nc(a.charCodeAt(a.length-1)):b,Mc(2,a.length))}var Rc={},Sc=0;function Tc(a){255<Sc&&(Rc={},Sc=0);if(null==a)return 0;var b=Rc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Mc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Rc[a]=b;Sc+=1;a=b}return a}
function Uc(a){if(null!=a&&(a.md&4194304||n===a.Qg))return ic(a)^0;if("number"===typeof a){if(t(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Tc(a),a=0===a?a:Pc(Oc(0,Nc(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:ic(a)^0,a}function Vc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}function Wc(a,b){return b instanceof a}
function Xc(a,b){if(a.we===b.we)return 0;var c=mb(a.ae);if(t(c?b.ae:c))return-1;if(t(a.ae)){if(mb(b.ae))return 1;c=Sa(a.ae,b.ae);return 0===c?Sa(a.name,b.name):c}return Sa(a.name,b.name)}function Yc(a,b,c,d,e){this.ae=a;this.name=b;this.we=c;this.af=d;this.se=e;this.md=2154168321;this.vd=4096}g=Yc.prototype;g.toString=function(){return this.we};g.Bd=function(a,b){return b instanceof Yc?this.we===b.we:!1};
g.call=function(){function a(d,e,f){return A.kd?A.kd(e,this,f):A.call(null,e,this,f)}function b(d,e){return A.jd?A.jd(e,this):A.call(null,e,this)}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+(arguments.length-1));};c.jd=b;c.kd=a;return c}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.hd=function(a){return A.jd?A.jd(a,this):A.call(null,a,this)};
g.jd=function(a,b){return A.kd?A.kd(a,this,b):A.call(null,a,this,b)};g.Gd=function(){return this.se};g.Id=function(a,b){return new Yc(this.ae,this.name,this.we,this.af,b)};g.Dd=function(){var a=this.af;return null!=a?a:this.af=a=Vc(Qc(this.name),Tc(this.ae))};g.bg=function(){return this.name};g.cg=function(){return this.ae};g.Cd=function(a,b){return qc(b,this.we)};
var Zc=function Zc(a){switch(arguments.length){case 1:return Zc.hd(arguments[0]);case 2:return Zc.jd(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Zc.hd=function(a){for(;;){if(a instanceof Yc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Zc.jd(null,a):Zc.jd(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof B)a=a.ee;else throw Error("no conversion to symbol");}};
Zc.jd=function(a,b){var c=null!=a?[y.hd(a),"/",y.hd(b)].join(""):b;return new Yc(a,b,c,null,null)};Zc.ud=2;function $c(a){return null!=a?a.vd&131072||n===a.Rg?!0:a.vd?!1:v(Ic,a):v(Ic,a)}function C(a){if(null==a)return null;if(null!=a&&(a.md&8388608||n===a.Bg))return kc(a);if(lb(a)||"string"===typeof a)return 0===a.length?null:new ad(a,0,null);if(v(jc,a))return kc(a);throw Error([y.hd(a)," is not ISeqable"].join(""));}
function F(a){if(null==a)return null;if(null!=a&&(a.md&64||n===a.Ed))return Hb(a);a=C(a);return null==a?null:Hb(a)}function bd(a){return null!=a?null!=a&&(a.md&64||n===a.Ed)?Ib(a):(a=C(a))?a.Zd(null):cd:cd}function G(a){return null==a?null:null!=a&&(a.md&128||n===a.nf)?Kb(a):C(bd(a))}
var H=function H(a){switch(arguments.length){case 1:return H.hd(arguments[0]);case 2:return H.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(2),0,null);return H.od(arguments[0],arguments[1],c)}};H.hd=function(){return!0};H.jd=function(a,b){return null==a?null==b:a===b||hc(a,b)};H.od=function(a,b,c){for(;;)if(H.jd(a,b))if(G(c))a=b,b=F(c),c=G(c);else return H.jd(b,F(c));else return!1};
H.td=function(a){var b=F(a),c=G(a);a=F(c);c=G(c);return this.od(b,a,c)};H.ud=2;function dd(a){this.s=a}dd.prototype.next=function(){if(null!=this.s){var a=F(this.s);this.s=G(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function ed(a){return new dd(C(a))}function fd(a){var b=0,c=1;for(a=C(a);;)if(null!=a)b+=1,c=Mc(31,c)+Uc(F(a))|0,a=G(a);else return Pc(Oc(0,Nc(c)),b)}var gd=Pc(Oc(0,Nc(1)),0);
function hd(a){var b=0,c=0;for(a=C(a);;)if(null!=a)b+=1,c=c+Uc(F(a))|0,a=G(a);else return Pc(Oc(0,Nc(c)),b)}var id=Pc(Oc(0,Nc(0)),0);xb["null"]=!0;yb["null"]=function(){return 0};Date.prototype.Bd=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.cf=n;Date.prototype.Ue=function(a,b){if(b instanceof Date)return Sa(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};hc.number=function(a,b){return a===b};
vb["function"]=!0;ac["function"]=!0;bc["function"]=function(){return null};ic._=function(a){return ha(a)};function jd(a){return a+1}function kd(){this.val=!1;this.md=32768;this.vd=0}kd.prototype.ze=function(){return this.val};function md(a){return a instanceof kd}function nd(a){return $b(a)}function od(a,b){var c=yb(a);if(0===c)return b.rd?b.rd():b.call(null);for(var d=Fb.jd(a,0),e=1;;)if(e<c){var f=Fb.jd(a,e);d=b.jd?b.jd(d,f):b.call(null,d,f);if(md(d))return $b(d);e+=1}else return d}
function pd(a,b,c){var d=yb(a),e=c;for(c=0;;)if(c<d){var f=Fb.jd(a,c);e=b.jd?b.jd(e,f):b.call(null,e,f);if(md(e))return $b(e);c+=1}else return e}function qd(a,b){var c=a.length;if(0===a.length)return b.rd?b.rd():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.jd?b.jd(d,f):b.call(null,d,f);if(md(d))return $b(d);e+=1}else return d}function rd(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.jd?b.jd(e,f):b.call(null,e,f);if(md(e))return $b(e);c+=1}else return e}
function sd(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.jd?b.jd(c,f):b.call(null,c,f);if(md(c))return $b(c);d+=1}else return c}function td(a){return null!=a?a.md&2||n===a.og?!0:a.md?!1:v(xb,a):v(xb,a)}function ud(a){return null!=a?a.md&16||n===a.$f?!0:a.md?!1:v(Db,a):v(Db,a)}function I(a,b,c){var d=J.hd?J.hd(a):J.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(H.jd(vd?vd(a,c):wd.call(null,a,c),b))return c;c+=1}else return-1}
function xd(a,b,c){var d=J.hd?J.hd(a):J.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(H.jd(vd?vd(a,c):wd.call(null,a,c),b))return c;--c}else return-1}function yd(a,b){this.ld=a;this.i=b}yd.prototype.hasNext=function(){return this.i<this.ld.length};yd.prototype.next=function(){var a=this.ld[this.i];this.i+=1;return a};function ad(a,b,c){this.ld=a;this.i=b;this.meta=c;this.md=166592766;this.vd=139264}g=ad.prototype;g.toString=function(){return Lc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J.hd?J.hd(this):J.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.zd=function(a,b){a=b+this.i;if(0<=a&&a<this.ld.length)return this.ld[a];throw Error("Index out of bounds");};g.Td=function(a,b,c){a=b+this.i;return 0<=a&&a<this.ld.length?this.ld[a]:c};
g.de=function(){return new yd(this.ld,this.i)};g.Gd=function(){return this.meta};g.Ud=function(){return this.i+1<this.ld.length?new ad(this.ld,this.i+1,null):null};g.Jd=function(){var a=this.ld.length-this.i;return 0>a?0:a};g.pf=function(){var a=this.Jd(null);return 0<a?new zd(this,a-1,null):null};g.Dd=function(){return fd(this)};g.Bd=function(a,b){return Ad.jd?Ad.jd(this,b):Ad.call(null,this,b)};g.Od=function(){return cd};g.Xd=function(a,b){return sd(this.ld,b,this.ld[this.i],this.i+1)};
g.Yd=function(a,b,c){return sd(this.ld,b,c,this.i)};g.Vd=function(){return this.ld[this.i]};g.Zd=function(){return this.i+1<this.ld.length?new ad(this.ld,this.i+1,null):cd};g.Hd=function(){return this.i<this.ld.length?this:null};g.Id=function(a,b){return b===this.meta?this:new ad(this.ld,this.i,b)};g.Nd=function(a,b){return Bd.jd?Bd.jd(b,this):Bd.call(null,b,this)};ad.prototype[qb]=function(){return ed(this)};function Cd(a){return 0<a.length?new ad(a,0,null):null}
function zd(a,b,c){this.Cf=a;this.i=b;this.meta=c;this.md=32374990;this.vd=8192}g=zd.prototype;g.toString=function(){return Lc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J.hd?J.hd(this):J.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){return 0<this.i?new zd(this.Cf,this.i-1,null):null};g.Jd=function(){return this.i+1};g.Dd=function(){return fd(this)};
g.Bd=function(a,b){return Ad.jd?Ad.jd(this,b):Ad.call(null,this,b)};g.Od=function(){return cd};g.Xd=function(a,b){return Dd?Dd(b,this):Ed.call(null,b,this)};g.Yd=function(a,b,c){return Gd?Gd(b,c,this):Ed.call(null,b,c,this)};g.Vd=function(){return Fb.jd(this.Cf,this.i)};g.Zd=function(){return 0<this.i?new zd(this.Cf,this.i-1,null):cd};g.Hd=function(){return this};g.Id=function(a,b){return b===this.meta?this:new zd(this.Cf,this.i,b)};g.Nd=function(a,b){return Bd.jd?Bd.jd(b,this):Bd.call(null,b,this)};
zd.prototype[qb]=function(){return ed(this)};function Hd(a){return F(G(a))}function Id(a){for(;;){var b=G(a);if(null!=b)a=b;else return F(a)}}hc._=function(a,b){return a===b};var Jd=function Jd(a){switch(arguments.length){case 0:return Jd.rd();case 1:return Jd.hd(arguments[0]);case 2:return Jd.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(2),0,null);return Jd.od(arguments[0],arguments[1],c)}};Jd.rd=function(){return Kd};
Jd.hd=function(a){return a};Jd.jd=function(a,b){return null!=a?Cb(a,b):new Ld(null,b,null,1,null)};Jd.od=function(a,b,c){for(;;)if(t(c))a=Jd.jd(a,b),b=F(c),c=G(c);else return Jd.jd(a,b)};Jd.td=function(a){var b=F(a),c=G(a);a=F(c);c=G(c);return this.od(b,a,c)};Jd.ud=2;function Md(a){return null==a?null:null!=a&&(a.md&4||n===a.qg)?Ab(a):(null!=a?a.md&4||n===a.qg||(a.md?0:v(zb,a)):v(zb,a))?Ab(a):null}
function J(a){if(null!=a)if(null!=a&&(a.md&2||n===a.og))a=yb(a);else if(lb(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.md&8388608||n===a.Bg))a:{a=C(a);for(var b=0;;){if(td(a)){a=b+yb(a);break a}a=G(a);b+=1}}else a=yb(a);else a=0;return a}function Nd(a,b,c){for(;;){if(null==a)return c;if(0===b)return C(a)?F(a):c;if(ud(a))return Fb.kd(a,b,c);if(C(a))a=G(a),--b;else return c}}
function wd(a){switch(arguments.length){case 2:return vd(arguments[0],arguments[1]);case 3:return Q(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}
function vd(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.md&16||n===a.$f))return Fb.jd(a,b);if(lb(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.md&64||n===a.Ed)||null!=a&&(a.md&16777216||n===a.Tf)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(C(a)){a=F(a);break a}throw Error("Index out of bounds");}if(ud(a)){a=Fb.jd(a,b);break a}if(C(a))a=G(a),--b;else throw Error("Index out of bounds");}return a}if(v(Db,a))return Fb.jd(a,b);throw Error(["nth not supported on this type ",y.hd(pb(nb(a)))].join(""));}
function Q(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.md&16||n===a.$f))return Fb.kd(a,b,c);if(lb(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.md&64||n===a.Ed)||null!=a&&(a.md&16777216||n===a.Tf))return 0>b?c:Nd(a,b,c);if(v(Db,a))return Fb.kd(a,b,c);throw Error(["nth not supported on this type ",y.hd(pb(nb(a)))].join(""));}
var A=function A(a){switch(arguments.length){case 2:return A.jd(arguments[0],arguments[1]);case 3:return A.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};A.jd=function(a,b){return null==a?null:null!=a&&(a.md&256||n===a.vg)?Mb.jd(a,b):lb(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&b<a.length?a.charAt(b|0):null:v(Lb,a)?Mb.jd(a,b):null};
A.kd=function(a,b,c){return null!=a?null!=a&&(a.md&256||n===a.vg)?Mb.kd(a,b,c):lb(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:v(Lb,a)?Mb.kd(a,b,c):c:c};A.ud=3;var Od=function Od(a){switch(arguments.length){case 3:return Od.kd(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(3),0,null);return Od.od(arguments[0],arguments[1],arguments[2],c)}};
Od.kd=function(a,b,c){return null!=a?Nb(a,b,c):Pd([b,c])};Od.od=function(a,b,c,d){for(;;)if(a=Od.kd(a,b,c),t(d))b=F(d),c=Hd(d),d=G(G(d));else return a};Od.td=function(a){var b=F(a),c=G(a);a=F(c);var d=G(c);c=F(d);d=G(d);return this.od(b,a,c,d)};Od.ud=3;
var Qd=function Qd(a){switch(arguments.length){case 1:return Qd.hd(arguments[0]);case 2:return Qd.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(2),0,null);return Qd.od(arguments[0],arguments[1],c)}};Qd.hd=function(a){return a};Qd.jd=function(a,b){return null==a?null:Qb(a,b)};Qd.od=function(a,b,c){for(;;){if(null==a)return null;a=Qd.jd(a,b);if(t(c))b=F(c),c=G(c);else return a}};
Qd.td=function(a){var b=F(a),c=G(a);a=F(c);c=G(c);return this.od(b,a,c)};Qd.ud=2;function Rd(a){var b=ea(a);return b?b:null!=a?n===a.ng?!0:a.Uf?!1:v(vb,a):v(vb,a)}function Sd(a,b){this.nd=a;this.meta=b;this.md=393217;this.vd=0}g=Sd.prototype;g.Gd=function(){return this.meta};g.Id=function(a,b){return new Sd(this.nd,b)};g.ng=n;
g.call=function(){function a(D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra,Ta,hb){D=this;return Td.Ef?Td.Ef(D.nd,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra,Ta,hb):Td.call(null,D.nd,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra,Ta,hb)}function b(D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra,Ta){D=this;return D.nd.Ke?D.nd.Ke(K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra,Ta):D.nd.call(null,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra,Ta)}function c(D,K,M,P,O,N,T,V,ba,W,aa,la,
fa,pa,ra,ta,Na,Oa,Qa,Ra){D=this;return D.nd.Je?D.nd.Je(K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra):D.nd.call(null,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra)}function d(D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa){D=this;return D.nd.Ie?D.nd.Ie(K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa):D.nd.call(null,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa)}function e(D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa){D=this;return D.nd.He?D.nd.He(K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa):D.nd.call(null,
K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa)}function f(D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na){D=this;return D.nd.Ge?D.nd.Ge(K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na):D.nd.call(null,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na)}function h(D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta){D=this;return D.nd.Fe?D.nd.Fe(K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta):D.nd.call(null,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta)}function k(D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra){D=this;return D.nd.Ee?D.nd.Ee(K,M,P,O,N,T,V,ba,W,aa,la,fa,
pa,ra):D.nd.call(null,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra)}function l(D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa){D=this;return D.nd.De?D.nd.De(K,M,P,O,N,T,V,ba,W,aa,la,fa,pa):D.nd.call(null,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa)}function m(D,K,M,P,O,N,T,V,ba,W,aa,la,fa){D=this;return D.nd.Ce?D.nd.Ce(K,M,P,O,N,T,V,ba,W,aa,la,fa):D.nd.call(null,K,M,P,O,N,T,V,ba,W,aa,la,fa)}function q(D,K,M,P,O,N,T,V,ba,W,aa,la){D=this;return D.nd.Be?D.nd.Be(K,M,P,O,N,T,V,ba,W,aa,la):D.nd.call(null,K,M,P,O,N,T,V,ba,W,aa,la)}function r(D,
K,M,P,O,N,T,V,ba,W,aa){D=this;return D.nd.Ae?D.nd.Ae(K,M,P,O,N,T,V,ba,W,aa):D.nd.call(null,K,M,P,O,N,T,V,ba,W,aa)}function u(D,K,M,P,O,N,T,V,ba,W){D=this;return D.nd.Ne?D.nd.Ne(K,M,P,O,N,T,V,ba,W):D.nd.call(null,K,M,P,O,N,T,V,ba,W)}function w(D,K,M,P,O,N,T,V,ba){D=this;return D.nd.Me?D.nd.Me(K,M,P,O,N,T,V,ba):D.nd.call(null,K,M,P,O,N,T,V,ba)}function x(D,K,M,P,O,N,T,V){D=this;return D.nd.Le?D.nd.Le(K,M,P,O,N,T,V):D.nd.call(null,K,M,P,O,N,T,V)}function z(D,K,M,P,O,N,T){D=this;return D.nd.be?D.nd.be(K,
M,P,O,N,T):D.nd.call(null,K,M,P,O,N,T)}function E(D,K,M,P,O,N){D=this;return D.nd.Fd?D.nd.Fd(K,M,P,O,N):D.nd.call(null,K,M,P,O,N)}function R(D,K,M,P,O){D=this;return D.nd.sd?D.nd.sd(K,M,P,O):D.nd.call(null,K,M,P,O)}function X(D,K,M,P){D=this;return D.nd.kd?D.nd.kd(K,M,P):D.nd.call(null,K,M,P)}function Y(D,K,M){D=this;return D.nd.jd?D.nd.jd(K,M):D.nd.call(null,K,M)}function qa(D,K){D=this;return D.nd.hd?D.nd.hd(K):D.nd.call(null,K)}function ua(D){D=this;return D.nd.rd?D.nd.rd():D.nd.call(null)}var sa=
null;sa=function(D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra,Ta,hb){switch(arguments.length){case 1:return ua.call(this,D);case 2:return qa.call(this,D,K);case 3:return Y.call(this,D,K,M);case 4:return X.call(this,D,K,M,P);case 5:return R.call(this,D,K,M,P,O);case 6:return E.call(this,D,K,M,P,O,N);case 7:return z.call(this,D,K,M,P,O,N,T);case 8:return x.call(this,D,K,M,P,O,N,T,V);case 9:return w.call(this,D,K,M,P,O,N,T,V,ba);case 10:return u.call(this,D,K,M,P,O,N,T,V,ba,W);case 11:return r.call(this,
D,K,M,P,O,N,T,V,ba,W,aa);case 12:return q.call(this,D,K,M,P,O,N,T,V,ba,W,aa,la);case 13:return m.call(this,D,K,M,P,O,N,T,V,ba,W,aa,la,fa);case 14:return l.call(this,D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa);case 15:return k.call(this,D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra);case 16:return h.call(this,D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta);case 17:return f.call(this,D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na);case 18:return e.call(this,D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa);case 19:return d.call(this,D,
K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa);case 20:return c.call(this,D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra);case 21:return b.call(this,D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra,Ta);case 22:return a.call(this,D,K,M,P,O,N,T,V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra,Ta,hb)}throw Error("Invalid arity: "+(arguments.length-1));};sa.hd=ua;sa.jd=qa;sa.kd=Y;sa.sd=X;sa.Fd=R;sa.be=E;sa.Le=z;sa.Me=x;sa.Ne=w;sa.Ae=u;sa.Be=r;sa.Ce=q;sa.De=m;sa.Ee=l;sa.Fe=k;sa.Ge=h;sa.He=f;sa.Ie=e;sa.Je=d;
sa.Ke=c;sa.ug=b;sa.Ef=a;return sa}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.rd=function(){return this.nd.rd?this.nd.rd():this.nd.call(null)};g.hd=function(a){return this.nd.hd?this.nd.hd(a):this.nd.call(null,a)};g.jd=function(a,b){return this.nd.jd?this.nd.jd(a,b):this.nd.call(null,a,b)};g.kd=function(a,b,c){return this.nd.kd?this.nd.kd(a,b,c):this.nd.call(null,a,b,c)};g.sd=function(a,b,c,d){return this.nd.sd?this.nd.sd(a,b,c,d):this.nd.call(null,a,b,c,d)};
g.Fd=function(a,b,c,d,e){return this.nd.Fd?this.nd.Fd(a,b,c,d,e):this.nd.call(null,a,b,c,d,e)};g.be=function(a,b,c,d,e,f){return this.nd.be?this.nd.be(a,b,c,d,e,f):this.nd.call(null,a,b,c,d,e,f)};g.Le=function(a,b,c,d,e,f,h){return this.nd.Le?this.nd.Le(a,b,c,d,e,f,h):this.nd.call(null,a,b,c,d,e,f,h)};g.Me=function(a,b,c,d,e,f,h,k){return this.nd.Me?this.nd.Me(a,b,c,d,e,f,h,k):this.nd.call(null,a,b,c,d,e,f,h,k)};
g.Ne=function(a,b,c,d,e,f,h,k,l){return this.nd.Ne?this.nd.Ne(a,b,c,d,e,f,h,k,l):this.nd.call(null,a,b,c,d,e,f,h,k,l)};g.Ae=function(a,b,c,d,e,f,h,k,l,m){return this.nd.Ae?this.nd.Ae(a,b,c,d,e,f,h,k,l,m):this.nd.call(null,a,b,c,d,e,f,h,k,l,m)};g.Be=function(a,b,c,d,e,f,h,k,l,m,q){return this.nd.Be?this.nd.Be(a,b,c,d,e,f,h,k,l,m,q):this.nd.call(null,a,b,c,d,e,f,h,k,l,m,q)};
g.Ce=function(a,b,c,d,e,f,h,k,l,m,q,r){return this.nd.Ce?this.nd.Ce(a,b,c,d,e,f,h,k,l,m,q,r):this.nd.call(null,a,b,c,d,e,f,h,k,l,m,q,r)};g.De=function(a,b,c,d,e,f,h,k,l,m,q,r,u){return this.nd.De?this.nd.De(a,b,c,d,e,f,h,k,l,m,q,r,u):this.nd.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u)};g.Ee=function(a,b,c,d,e,f,h,k,l,m,q,r,u,w){return this.nd.Ee?this.nd.Ee(a,b,c,d,e,f,h,k,l,m,q,r,u,w):this.nd.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,w)};
g.Fe=function(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x){return this.nd.Fe?this.nd.Fe(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x):this.nd.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,w,x)};g.Ge=function(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z){return this.nd.Ge?this.nd.Ge(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z):this.nd.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z)};g.He=function(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E){return this.nd.He?this.nd.He(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E):this.nd.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E)};
g.Ie=function(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R){return this.nd.Ie?this.nd.Ie(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R):this.nd.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R)};g.Je=function(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X){return this.nd.Je?this.nd.Je(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X):this.nd.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X)};
g.Ke=function(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y){return this.nd.Ke?this.nd.Ke(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y):this.nd.call(null,a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y)};g.ug=function(a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y,qa){return Td.Ef?Td.Ef(this.nd,a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y,qa):Td.call(null,this.nd,a,b,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y,qa)};function Ud(a,b){return ea(a)?new Sd(a,b):null==a?null:cc(a,b)}
function Vd(a){var b=null!=a;return(b?null!=a?a.md&131072||n===a.zg||(a.md?0:v(ac,a)):v(ac,a):b)?bc(a):null}function Wd(a){return null==a?null:Vb(a)}function Xd(a){return null==a?null:Wb(a)}var Yd=function Yd(a){switch(arguments.length){case 1:return Yd.hd(arguments[0]);case 2:return Yd.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(2),0,null);return Yd.od(arguments[0],arguments[1],c)}};Yd.hd=function(a){return a};
Yd.jd=function(a,b){return null==a?null:Ub(a,b)};Yd.od=function(a,b,c){for(;;){if(null==a)return null;a=Yd.jd(a,b);if(t(c))b=F(c),c=G(c);else return a}};Yd.td=function(a){var b=F(a),c=G(a);a=F(c);c=G(c);return this.od(b,a,c)};Yd.ud=2;function Zd(a){return null==a||mb(C(a))}function $d(a){return null==a?!1:null!=a?a.md&8||n===a.Ng?!0:a.md?!1:v(Bb,a):v(Bb,a)}function ae(a){return null==a?!1:null!=a?a.md&4096||n===a.Cg?!0:a.md?!1:v(Tb,a):v(Tb,a)}
function be(a){return null!=a?a.md&16777216||n===a.Tf?!0:a.md?!1:v(lc,a):v(lc,a)}function ce(a){return null==a?!1:null!=a?a.md&1024||n===a.wg?!0:a.md?!1:v(Pb,a):v(Pb,a)}function de(a){return null!=a?a.md&67108864||n===a.Vg?!0:a.md?!1:v(nc,a):v(nc,a)}function ee(a){return null!=a?a.md&16384||n===a.Xg?!0:a.md?!1:v(Xb,a):v(Xb,a)}function fe(a){return null!=a?a.vd&512||n===a.Mg?!0:!1:!1}function ge(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var he={};
function ie(a){return null==a?!1:null!=a?a.md&64||n===a.Ed?!0:a.md?!1:v(Gb,a):v(Gb,a)}function je(a){return null==a?!1:!1===a?!1:!0}function ke(a){var b=Rd(a);return b?b:null!=a?a.md&1||n===a.Pg?!0:a.md?!1:v(wb,a):v(wb,a)}function le(a,b){return A.kd(a,b,he)===he?!1:!0}
function me(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return Sa(a,b);throw Error(["Cannot compare ",y.hd(a)," to ",y.hd(b)].join(""));}if(null!=a?a.vd&2048||n===a.cf||(a.vd?0:v(zc,a)):v(zc,a))return Ac(a,b);if("string"!==typeof a&&!lb(a)&&!0!==a&&!1!==a||nb(a)!==nb(b))throw Error(["Cannot compare ",y.hd(a)," to ",y.hd(b)].join(""));return Sa(a,b)}
function ne(a,b){var c=J(a),d=J(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=me(vd(a,d),vd(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function oe(a){return H.jd(a,me)?me:function(b,c){var d=a.jd?a.jd(b,c):a.call(null,b,c);return"number"===typeof d?d:t(d)?-1:t(a.jd?a.jd(c,b):a.call(null,c,b))?1:0}}function pe(a,b){return C(b)?(b=qe.hd?qe.hd(b):qe.call(null,b),a=oe(a),Ua(b,a),C(b)):cd}function re(a,b){return se(a,b)}
function se(a,b){return pe(function(c,d){c=a.hd?a.hd(c):a.call(null,c);d=a.hd?a.hd(d):a.call(null,d);var e=oe(me);return e.jd?e.jd(c,d):e.call(null,c,d)},b)}function Ed(a){switch(arguments.length){case 2:return Dd(arguments[0],arguments[1]);case 3:return Gd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function Dd(a,b){var c=C(b);return c?(b=F(c),c=G(c),tb?tb(a,b,c):ub.call(null,a,b,c)):a.rd?a.rd():a.call(null)}
function Gd(a,b,c){for(c=C(c);;)if(c){var d=F(c);b=a.jd?a.jd(b,d):a.call(null,b,d);if(md(b))return $b(b);c=G(c)}else return b}function te(a,b){a=Jc(a);if(t(a.hasNext()))for(var c=a.next();;)if(a.hasNext()){var d=a.next();c=b.jd?b.jd(c,d):b.call(null,c,d);if(md(c))return $b(c)}else return c;else return b.rd?b.rd():b.call(null)}function ue(a,b,c){for(a=Jc(a);;)if(a.hasNext()){var d=a.next();c=b.jd?b.jd(c,d):b.call(null,c,d);if(md(c))return $b(c)}else return c}
function ub(a){switch(arguments.length){case 2:return ve(arguments[0],arguments[1]);case 3:return tb(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function ve(a,b){return null!=b&&(b.md&524288||n===b.Ag)?ec.jd(b,a):lb(b)?qd(b,a):"string"===typeof b?qd(b,a):v(dc,b)?ec.jd(b,a):$c(b)?te(b,a):Dd(a,b)}
function tb(a,b,c){return null!=c&&(c.md&524288||n===c.Ag)?ec.kd(c,a,b):lb(c)?rd(c,a,b):"string"===typeof c?rd(c,a,b):v(dc,c)?ec.kd(c,a,b):$c(c)?ue(c,a,b):Gd(a,b,c)}function we(a,b,c){return null!=c?gc(c,a,b):b}function xe(a){return a}function ye(a,b,c,d){a=a.hd?a.hd(b):a.call(null,b);c=tb(a,c,d);return a.hd?a.hd(c):a.call(null,c)}
var ze=function ze(a){switch(arguments.length){case 0:return ze.rd();case 1:return ze.hd(arguments[0]);case 2:return ze.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(2),0,null);return ze.od(arguments[0],arguments[1],c)}};ze.rd=function(){return 0};ze.hd=function(a){return a};ze.jd=function(a,b){return a+b};ze.od=function(a,b,c){return tb(ze,a+b,c)};
ze.td=function(a){var b=F(a),c=G(a);a=F(c);c=G(c);return this.od(b,a,c)};ze.ud=2;function Ae(a){return a-1}var Be=function Be(a){switch(arguments.length){case 1:return Be.hd(arguments[0]);case 2:return Be.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(2),0,null);return Be.od(arguments[0],arguments[1],c)}};Be.hd=function(a){return a};Be.jd=function(a,b){return a>b?a:b};
Be.od=function(a,b,c){return tb(Be,a>b?a:b,c)};Be.td=function(a){var b=F(a),c=G(a);a=F(c);c=G(c);return this.od(b,a,c)};Be.ud=2;function Ce(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function De(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}
var y=function y(a){switch(arguments.length){case 0:return y.rd();case 1:return y.hd(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(1),0,null);return y.od(arguments[0],c)}};y.rd=function(){return""};y.hd=function(a){return null==a?"":[a].join("")};y.od=function(a,b){for(a=new Va(y.hd(a));;)if(t(b))a=a.append(y.hd(F(b))),b=G(b);else return a.toString()};y.td=function(a){var b=F(a);a=G(a);return this.od(b,a)};y.ud=1;
function Ad(a,b){if(be(b))if(td(a)&&td(b)&&J(a)!==J(b))a=!1;else a:for(a=C(a),b=C(b);;){if(null==a){a=null==b;break a}if(null!=b&&H.jd(F(a),F(b)))a=G(a),b=G(b);else{a=!1;break a}}else a=null;return je(a)}function Ld(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.qd=e;this.md=65937646;this.vd=8192}g=Ld.prototype;g.toString=function(){return Lc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){return 1===this.count?null:this.rest};g.Jd=function(){return this.count};g.Ve=function(){return this.first};g.We=function(){return this.Zd(null)};
g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cc(cd,this.meta)};g.Xd=function(a,b){return Dd(b,this)};g.Yd=function(a,b,c){return Gd(b,c,this)};g.Vd=function(){return this.first};g.Zd=function(){return 1===this.count?cd:this.rest};g.Hd=function(){return this};g.Id=function(a,b){return b===this.meta?this:new Ld(b,this.first,this.rest,this.count,this.qd)};
g.Nd=function(a,b){return new Ld(this.meta,b,this,this.count+1,null)};Ld.prototype[qb]=function(){return ed(this)};function Ee(a){this.meta=a;this.md=65937614;this.vd=8192}g=Ee.prototype;g.toString=function(){return Lc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){return null};g.Jd=function(){return 0};g.Ve=function(){return null};g.We=function(){throw Error("Can't pop empty list");};g.Dd=function(){return gd};
g.Bd=function(a,b){return(null!=b?b.md&33554432||n===b.Tg||(b.md?0:v(mc,b)):v(mc,b))||be(b)?null==C(b):!1};g.Od=function(){return this};g.Xd=function(a,b){return Dd(b,this)};g.Yd=function(a,b,c){return Gd(b,c,this)};g.Vd=function(){return null};g.Zd=function(){return cd};g.Hd=function(){return null};g.Id=function(a,b){return b===this.meta?this:new Ee(b)};g.Nd=function(a,b){return new Ld(this.meta,b,null,1,null)};var cd=new Ee(null);Ee.prototype[qb]=function(){return ed(this)};
function Fe(a){return(null!=a?a.md&134217728||n===a.Wg||(a.md?0:v(oc,a)):v(oc,a))?(a=pc(a))?a:cd:tb(Jd,cd,a)}function Ge(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.qd=d;this.md=65929452;this.vd=8192}g=Ge.prototype;g.toString=function(){return Lc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){return null==this.rest?null:C(this.rest)};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cd};
g.Xd=function(a,b){return Dd(b,this)};g.Yd=function(a,b,c){return Gd(b,c,this)};g.Vd=function(){return this.first};g.Zd=function(){return null==this.rest?cd:this.rest};g.Hd=function(){return this};g.Id=function(a,b){return b===this.meta?this:new Ge(b,this.first,this.rest,this.qd)};g.Nd=function(a,b){return new Ge(null,b,this,null)};Ge.prototype[qb]=function(){return ed(this)};
function Bd(a,b){return null==b?new Ld(null,a,null,1,null):null!=b&&(b.md&64||n===b.Ed)?new Ge(null,a,b,null):new Ge(null,a,C(b),null)}function He(a,b){if(a.ee===b.ee)return 0;var c=mb(a.ae);if(t(c?b.ae:c))return-1;if(t(a.ae)){if(mb(b.ae))return 1;c=Sa(a.ae,b.ae);return 0===c?Sa(a.name,b.name):c}return Sa(a.name,b.name)}function B(a,b,c,d){this.ae=a;this.name=b;this.ee=c;this.af=d;this.md=2153775105;this.vd=4096}g=B.prototype;g.toString=function(){return[":",y.hd(this.ee)].join("")};
g.Bd=function(a,b){return b instanceof B?this.ee===b.ee:!1};g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return A.jd(c,this);case 3:return A.kd(c,this,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return A.jd(c,this)};a.kd=function(b,c,d){return A.kd(c,this,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.hd=function(a){return A.jd(a,this)};g.jd=function(a,b){return A.kd(a,this,b)};
g.Dd=function(){var a=this.af;return null!=a?a:this.af=a=Vc(Qc(this.name),Tc(this.ae))+2654435769|0};g.bg=function(){return this.name};g.cg=function(){return this.ae};g.Cd=function(a,b){return qc(b,[":",y.hd(this.ee)].join(""))};function Ie(a,b){return a===b?!0:a instanceof B&&b instanceof B?a.ee===b.ee:!1}
var Je=function Je(a){switch(arguments.length){case 1:return Je.hd(arguments[0]);case 2:return Je.jd(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};
Je.hd=function(a){if(a instanceof B)return a;if(a instanceof Yc){if(null!=a&&(a.vd&4096||n===a.ag))var b=Fc(a);else throw Error(["Doesn't support namespace: ",y.hd(a)].join(""));return new B(b,Le.hd?Le.hd(a):Le.call(null,a),a.we,null)}return"string"===typeof a?(b=a.split("/"),2===b.length?new B(b[0],b[1],a,null):new B(null,b[0],a,null)):null};
Je.jd=function(a,b){a=a instanceof B?Le.hd?Le.hd(a):Le.call(null,a):a instanceof Yc?Le.hd?Le.hd(a):Le.call(null,a):a;b=b instanceof B?Le.hd?Le.hd(b):Le.call(null,b):b instanceof Yc?Le.hd?Le.hd(b):Le.call(null,b):b;return new B(a,b,[t(a)?[y.hd(a),"/"].join(""):null,y.hd(b)].join(""),null)};Je.ud=2;function Me(a,b,c){this.meta=a;this.tf=b;this.s=null;this.qd=c;this.md=32374988;this.vd=1}g=Me.prototype;g.toString=function(){return Lc(this)};
function Ne(a){null!=a.tf&&(a.s=a.tf.rd?a.tf.rd():a.tf.call(null),a.tf=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){this.Hd(null);return null==this.s?null:G(this.s)};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){return Ad(this,b)};
g.Od=function(){return cc(cd,this.meta)};g.Xd=function(a,b){return Dd(b,this)};g.Yd=function(a,b,c){return Gd(b,c,this)};g.Vd=function(){this.Hd(null);return null==this.s?null:F(this.s)};g.Zd=function(){this.Hd(null);return null!=this.s?bd(this.s):cd};g.Hd=function(){Ne(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Me)a=Ne(a);else return this.s=a,C(this.s)};g.Id=function(a,b){return b===this.meta?this:new Me(b,function(c){return function(){return c.Hd(null)}}(this),this.qd)};
g.Nd=function(a,b){return Bd(b,this)};Me.prototype[qb]=function(){return ed(this)};function Oe(a){this.Of=a;this.end=0;this.md=2;this.vd=0}Oe.prototype.add=function(a){this.Of[this.end]=a;return this.end+=1};Oe.prototype.yd=function(){var a=new Pe(this.Of,0,this.end);this.Of=null;return a};Oe.prototype.Jd=function(){return this.end};function Qe(a){return new Oe(Array(a))}function Pe(a,b,c){this.ld=a;this.off=b;this.end=c;this.md=524306;this.vd=0}g=Pe.prototype;g.Jd=function(){return this.end-this.off};
g.zd=function(a,b){return this.ld[this.off+b]};g.Td=function(a,b,c){return 0<=b&&b<this.end-this.off?this.ld[this.off+b]:c};g.Rf=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Pe(this.ld,this.off+1,this.end)};g.Xd=function(a,b){return sd(this.ld,b,this.ld[this.off],this.off+1)};g.Yd=function(a,b,c){return sd(this.ld,b,c,this.off)};function Re(a,b,c,d){this.yd=a;this.pe=b;this.meta=c;this.qd=d;this.md=31850732;this.vd=1536}g=Re.prototype;g.toString=function(){return Lc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){return 1<yb(this.yd)?new Re(Bc(this.yd),this.pe,null,null):null==this.pe?null:kc(this.pe)};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};
g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cd};g.Vd=function(){return Fb.jd(this.yd,0)};g.Zd=function(){return 1<yb(this.yd)?new Re(Bc(this.yd),this.pe,null,null):null==this.pe?cd:this.pe};g.Hd=function(){return this};g.Df=function(){return this.yd};g.bf=function(){return null==this.pe?cd:this.pe};g.Id=function(a,b){return b===this.meta?this:new Re(this.yd,this.pe,b,this.qd)};g.Nd=function(a,b){return Bd(b,this)};g.Sf=function(){return null==this.pe?null:this.pe};
Re.prototype[qb]=function(){return ed(this)};function Se(a,b){return 0===yb(a)?b:new Re(a,b,null,null)}function Te(a,b){a.add(b)}function qe(a){var b=[];for(a=C(a);;)if(null!=a)b.push(F(a)),a=G(a);else return b}function Ue(a,b){if(td(b))return J(b);var c=0;for(b=C(b);;)if(null!=b&&c<a)c+=1,b=G(b);else return c}
var Ve=function Ve(a){if(null==a)return null;var c=G(a);return null==c?C(F(a)):Bd(F(a),Ve.hd?Ve.hd(c):Ve.call(null,c))},We=function We(a){switch(arguments.length){case 0:return We.rd();case 1:return We.hd(arguments[0]);case 2:return We.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(2),0,null);return We.od(arguments[0],arguments[1],c)}};We.rd=function(){return new Me(null,function(){return null},null)};
We.hd=function(a){return new Me(null,function(){return a},null)};We.jd=function(a,b){return new Me(null,function(){var c=C(a);return c?fe(c)?Se(Cc(c),We.jd(Dc(c),b)):Bd(F(c),We.jd(bd(c),b)):b},null)};We.od=function(a,b,c){return function h(e,f){return new Me(null,function(){var k=C(e);return k?fe(k)?Se(Cc(k),h(Dc(k),f)):Bd(F(k),h(bd(k),f)):t(f)?h(F(f),G(f)):null},null)}(We.jd(a,b),c)};We.td=function(a){var b=F(a),c=G(a);a=F(c);c=G(c);return this.od(b,a,c)};We.ud=2;
var Xe=function Xe(a){switch(arguments.length){case 0:return Xe.rd();case 1:return Xe.hd(arguments[0]);case 2:return Xe.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(2),0,null);return Xe.od(arguments[0],arguments[1],c)}};Xe.rd=function(){return vc(Kd)};Xe.hd=function(a){return a};Xe.jd=function(a,b){return wc(a,b)};Xe.od=function(a,b,c){for(;;)if(a=wc(a,b),t(c))b=F(c),c=G(c);else return a};
Xe.td=function(a){var b=F(a),c=G(a);a=F(c);c=G(c);return this.od(b,a,c)};Xe.ud=2;
function Ye(a,b,c){var d=C(c);if(0===b)return a.rd?a.rd():a.call(null);c=Hb(d);var e=Ib(d);if(1===b)return a.hd?a.hd(c):a.call(null,c);d=Hb(e);var f=Ib(e);if(2===b)return a.jd?a.jd(c,d):a.call(null,c,d);e=Hb(f);var h=Ib(f);if(3===b)return a.kd?a.kd(c,d,e):a.call(null,c,d,e);f=Hb(h);var k=Ib(h);if(4===b)return a.sd?a.sd(c,d,e,f):a.call(null,c,d,e,f);h=Hb(k);var l=Ib(k);if(5===b)return a.Fd?a.Fd(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Hb(l);var m=Ib(l);if(6===b)return a.be?a.be(c,d,e,f,h,k):a.call(null,
c,d,e,f,h,k);l=Hb(m);var q=Ib(m);if(7===b)return a.Le?a.Le(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=Hb(q);var r=Ib(q);if(8===b)return a.Me?a.Me(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);q=Hb(r);var u=Ib(r);if(9===b)return a.Ne?a.Ne(c,d,e,f,h,k,l,m,q):a.call(null,c,d,e,f,h,k,l,m,q);r=Hb(u);var w=Ib(u);if(10===b)return a.Ae?a.Ae(c,d,e,f,h,k,l,m,q,r):a.call(null,c,d,e,f,h,k,l,m,q,r);u=Hb(w);var x=Ib(w);if(11===b)return a.Be?a.Be(c,d,e,f,h,k,l,m,q,r,u):a.call(null,c,d,e,f,h,k,l,m,q,r,u);w=Hb(x);
var z=Ib(x);if(12===b)return a.Ce?a.Ce(c,d,e,f,h,k,l,m,q,r,u,w):a.call(null,c,d,e,f,h,k,l,m,q,r,u,w);x=Hb(z);var E=Ib(z);if(13===b)return a.De?a.De(c,d,e,f,h,k,l,m,q,r,u,w,x):a.call(null,c,d,e,f,h,k,l,m,q,r,u,w,x);z=Hb(E);var R=Ib(E);if(14===b)return a.Ee?a.Ee(c,d,e,f,h,k,l,m,q,r,u,w,x,z):a.call(null,c,d,e,f,h,k,l,m,q,r,u,w,x,z);E=Hb(R);var X=Ib(R);if(15===b)return a.Fe?a.Fe(c,d,e,f,h,k,l,m,q,r,u,w,x,z,E):a.call(null,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E);R=Hb(X);var Y=Ib(X);if(16===b)return a.Ge?a.Ge(c,
d,e,f,h,k,l,m,q,r,u,w,x,z,E,R):a.call(null,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R);X=Hb(Y);var qa=Ib(Y);if(17===b)return a.He?a.He(c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X):a.call(null,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X);Y=Hb(qa);var ua=Ib(qa);if(18===b)return a.Ie?a.Ie(c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y):a.call(null,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y);qa=Hb(ua);ua=Ib(ua);if(19===b)return a.Je?a.Je(c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y,qa):a.call(null,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y,qa);var sa=Hb(ua);Ib(ua);
if(20===b)return a.Ke?a.Ke(c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y,qa,sa):a.call(null,c,d,e,f,h,k,l,m,q,r,u,w,x,z,E,R,X,Y,qa,sa);throw Error("Only up to 20 arguments supported on functions");}function Ze(a){return null!=a&&(a.md&128||n===a.nf)?a.Ud(null):C(bd(a))}function $e(a,b,c){return null==c?a.hd?a.hd(b):a.call(a,b):af(a,b,Hb(c),Ze(c))}function af(a,b,c,d){return null==d?a.jd?a.jd(b,c):a.call(a,b,c):bf(a,b,c,Hb(d),Ze(d))}
function bf(a,b,c,d,e){return null==e?a.kd?a.kd(b,c,d):a.call(a,b,c,d):cf(a,b,c,d,Hb(e),Ze(e))}
function cf(a,b,c,d,e,f){if(null==f)return a.sd?a.sd(b,c,d,e):a.call(a,b,c,d,e);var h=Hb(f),k=G(f);if(null==k)return a.Fd?a.Fd(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Hb(k);var l=G(k);if(null==l)return a.be?a.be(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Hb(l);var m=G(l);if(null==m)return a.Le?a.Le(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=Hb(m);var q=G(m);if(null==q)return a.Me?a.Me(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=Hb(q);var r=G(q);if(null==r)return a.Ne?a.Ne(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,
f,k,l,m);q=Hb(r);var u=G(r);if(null==u)return a.Ae?a.Ae(b,c,d,e,h,f,k,l,m,q):a.call(a,b,c,d,e,h,f,k,l,m,q);r=Hb(u);var w=G(u);if(null==w)return a.Be?a.Be(b,c,d,e,h,f,k,l,m,q,r):a.call(a,b,c,d,e,h,f,k,l,m,q,r);u=Hb(w);var x=G(w);if(null==x)return a.Ce?a.Ce(b,c,d,e,h,f,k,l,m,q,r,u):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u);w=Hb(x);var z=G(x);if(null==z)return a.De?a.De(b,c,d,e,h,f,k,l,m,q,r,u,w):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,w);x=Hb(z);var E=G(z);if(null==E)return a.Ee?a.Ee(b,c,d,e,h,f,k,l,m,q,r,u,w,x):
a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,w,x);z=Hb(E);var R=G(E);if(null==R)return a.Fe?a.Fe(b,c,d,e,h,f,k,l,m,q,r,u,w,x,z):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,w,x,z);E=Hb(R);var X=G(R);if(null==X)return a.Ge?a.Ge(b,c,d,e,h,f,k,l,m,q,r,u,w,x,z,E):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,w,x,z,E);R=Hb(X);var Y=G(X);if(null==Y)return a.He?a.He(b,c,d,e,h,f,k,l,m,q,r,u,w,x,z,E,R):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,w,x,z,E,R);X=Hb(Y);var qa=G(Y);if(null==qa)return a.Ie?a.Ie(b,c,d,e,h,f,k,l,m,q,r,u,w,x,z,E,R,X):a.call(a,b,
c,d,e,h,f,k,l,m,q,r,u,w,x,z,E,R,X);Y=Hb(qa);var ua=G(qa);if(null==ua)return a.Je?a.Je(b,c,d,e,h,f,k,l,m,q,r,u,w,x,z,E,R,X,Y):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,w,x,z,E,R,X,Y);qa=Hb(ua);ua=G(ua);if(null==ua)return a.Ke?a.Ke(b,c,d,e,h,f,k,l,m,q,r,u,w,x,z,E,R,X,Y,qa):a.call(a,b,c,d,e,h,f,k,l,m,q,r,u,w,x,z,E,R,X,Y,qa);b=[b,c,d,e,h,f,k,l,m,q,r,u,w,x,z,E,R,X,Y,qa];for(c=ua;;)if(c)b.push(Hb(c)),c=G(c);else break;return a.apply(a,b)}
function Td(a){switch(arguments.length){case 2:return df(arguments[0],arguments[1]);case 3:return ef(arguments[0],arguments[1],arguments[2]);case 4:return ff(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return gf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new ad(b.slice(5),0,null);return hf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function df(a,b){if(a.td){var c=a.ud,d=Ue(c+1,b);return d<=c?Ye(a,d,b):a.td(b)}b=C(b);return null==b?a.rd?a.rd():a.call(a):$e(a,Hb(b),Ze(b))}function ef(a,b,c){if(a.td){b=Bd(b,c);var d=a.ud;c=Ue(d,c)+1;return c<=d?Ye(a,c,b):a.td(b)}return $e(a,b,C(c))}function ff(a,b,c,d){return a.td?(b=Bd(b,Bd(c,d)),c=a.ud,d=2+Ue(c-1,d),d<=c?Ye(a,d,b):a.td(b)):af(a,b,c,C(d))}function gf(a,b,c,d,e){return a.td?(b=Bd(b,Bd(c,Bd(d,e))),c=a.ud,e=3+Ue(c-2,e),e<=c?Ye(a,e,b):a.td(b)):bf(a,b,c,d,C(e))}
function hf(a,b,c,d,e,f){return a.td?(f=Ve(f),b=Bd(b,Bd(c,Bd(d,Bd(e,f)))),c=a.ud,f=4+Ue(c-3,f),f<=c?Ye(a,f,b):a.td(b)):cf(a,b,c,d,e,Ve(f))}function jf(a,b){return!H.jd(a,b)}function kf(a){return C(a)?a:null}
function lf(){if("undefined"===typeof Wa||"undefined"===typeof Xa||"undefined"===typeof Ya)Ya=function(a){this.Hg=a;this.md=393216;this.vd=0},Ya.prototype.Id=function(a,b){return new Ya(b)},Ya.prototype.Gd=function(){return this.Hg},Ya.prototype.hasNext=function(){return!1},Ya.prototype.next=function(){return Error("No such element")},Ya.prototype.remove=function(){return Error("Unsupported operation")},Ya.Yg=function(){return new S(null,1,5,U,[mf],null)},Ya.fg=!0,Ya.Kf="cljs.core/t_cljs$core6605",
Ya.Dg=function(a){return qc(a,"cljs.core/t_cljs$core6605")};return new Ya(nf)}var of={},pf={};function qf(a){this.lf=of;this._next=a}qf.prototype.hasNext=function(){this.lf===of?(this.lf=pf,this._next=C(this._next)):this.lf===this._next&&(this._next=G(this.lf));return null!=this._next};qf.prototype.next=function(){if(this.hasNext())return this.lf=this._next,F(this._next);throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};
function rf(a,b){for(;;){if(null==C(b))return!0;var c=F(b);c=a.hd?a.hd(c):a.call(null,c);if(t(c))b=G(b);else return!1}}function sf(a,b){for(;;)if(b=C(b)){var c=F(b);c=a.hd?a.hd(c):a.call(null,c);if(t(c))return c;b=G(b)}else return null}
function tf(a){return function(){function b(h,k){return mb(a.jd?a.jd(h,k):a.call(null,h,k))}function c(h){return mb(a.hd?a.hd(h):a.call(null,h))}function d(){return mb(a.rd?a.rd():a.call(null))}var e=null,f=function(){function h(l,m,q){var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new ad(u,0,null)}return k.call(this,l,m,r)}function k(l,m,q){return mb(ff(a,l,m,q))}h.ud=2;h.td=function(l){var m=F(l);l=G(l);var q=F(l);l=bd(l);return k(m,
q,l)};h.od=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var q=Array(arguments.length-2);m<q.length;)q[m]=arguments[m+2],++m;m=new ad(q,0,null)}return f.od(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.ud=2;e.td=f.td;e.rd=d;e.hd=c;e.jd=b;e.od=f.od;return e}()}
var uf=function uf(a){switch(arguments.length){case 0:return uf.rd();case 1:return uf.hd(arguments[0]);case 2:return uf.jd(arguments[0],arguments[1]);case 3:return uf.kd(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(3),0,null);return uf.od(arguments[0],arguments[1],arguments[2],c)}};uf.rd=function(){return xe};uf.hd=function(a){return a};
uf.jd=function(a,b){return function(){function c(l,m,q){l=b.kd?b.kd(l,m,q):b.call(null,l,m,q);return a.hd?a.hd(l):a.call(null,l)}function d(l,m){l=b.jd?b.jd(l,m):b.call(null,l,m);return a.hd?a.hd(l):a.call(null,l)}function e(l){l=b.hd?b.hd(l):b.call(null,l);return a.hd?a.hd(l):a.call(null,l)}function f(){var l=b.rd?b.rd():b.call(null);return a.hd?a.hd(l):a.call(null,l)}var h=null,k=function(){function l(q,r,u,w){var x=null;if(3<arguments.length){x=0;for(var z=Array(arguments.length-3);x<z.length;)z[x]=
arguments[x+3],++x;x=new ad(z,0,null)}return m.call(this,q,r,u,x)}function m(q,r,u,w){q=gf(b,q,r,u,w);return a.hd?a.hd(q):a.call(null,q)}l.ud=3;l.td=function(q){var r=F(q);q=G(q);var u=F(q);q=G(q);var w=F(q);q=bd(q);return m(r,u,w,q)};l.od=m;return l}();h=function(l,m,q,r){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,q);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<
w.length;)w[u]=arguments[u+3],++u;u=new ad(w,0,null)}return k.od(l,m,q,u)}throw Error("Invalid arity: "+arguments.length);};h.ud=3;h.td=k.td;h.rd=f;h.hd=e;h.jd=d;h.kd=c;h.od=k.od;return h}()};
uf.kd=function(a,b,c){return function(){function d(m,q,r){m=c.kd?c.kd(m,q,r):c.call(null,m,q,r);m=b.hd?b.hd(m):b.call(null,m);return a.hd?a.hd(m):a.call(null,m)}function e(m,q){m=c.jd?c.jd(m,q):c.call(null,m,q);m=b.hd?b.hd(m):b.call(null,m);return a.hd?a.hd(m):a.call(null,m)}function f(m){m=c.hd?c.hd(m):c.call(null,m);m=b.hd?b.hd(m):b.call(null,m);return a.hd?a.hd(m):a.call(null,m)}function h(){var m=c.rd?c.rd():c.call(null);m=b.hd?b.hd(m):b.call(null,m);return a.hd?a.hd(m):a.call(null,m)}var k=null,
l=function(){function m(r,u,w,x){var z=null;if(3<arguments.length){z=0;for(var E=Array(arguments.length-3);z<E.length;)E[z]=arguments[z+3],++z;z=new ad(E,0,null)}return q.call(this,r,u,w,z)}function q(r,u,w,x){r=gf(c,r,u,w,x);r=b.hd?b.hd(r):b.call(null,r);return a.hd?a.hd(r):a.call(null,r)}m.ud=3;m.td=function(r){var u=F(r);r=G(r);var w=F(r);r=G(r);var x=F(r);r=bd(r);return q(u,w,x,r)};m.od=q;return m}();k=function(m,q,r,u){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,
m);case 2:return e.call(this,m,q);case 3:return d.call(this,m,q,r);default:var w=null;if(3<arguments.length){w=0;for(var x=Array(arguments.length-3);w<x.length;)x[w]=arguments[w+3],++w;w=new ad(x,0,null)}return l.od(m,q,r,w)}throw Error("Invalid arity: "+arguments.length);};k.ud=3;k.td=l.td;k.rd=h;k.hd=f;k.jd=e;k.kd=d;k.od=l.od;return k}()};
uf.od=function(a,b,c,d){return function(e){return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new ad(m,0,null)}return h.call(this,l)}function h(k){k=df(F(e),k);for(var l=G(e);;)if(l){var m=F(l);k=m.hd?m.hd(k):m.call(null,k);l=G(l)}else return k}f.ud=0;f.td=function(k){k=C(k);return h(k)};f.od=h;return f}()}(Fe(Bd(a,Bd(b,Bd(c,d)))))};
uf.td=function(a){var b=F(a),c=G(a);a=F(c);var d=G(c);c=F(d);d=G(d);return this.od(b,a,c,d)};uf.ud=3;
var vf=function vf(a){switch(arguments.length){case 1:return vf.hd(arguments[0]);case 2:return vf.jd(arguments[0],arguments[1]);case 3:return vf.kd(arguments[0],arguments[1],arguments[2]);case 4:return vf.sd(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(4),0,null);return vf.od(arguments[0],arguments[1],arguments[2],arguments[3],c)}};vf.hd=function(a){return a};
vf.jd=function(a,b){return function(){function c(l,m,q){return a.sd?a.sd(b,l,m,q):a.call(null,b,l,m,q)}function d(l,m){return a.kd?a.kd(b,l,m):a.call(null,b,l,m)}function e(l){return a.jd?a.jd(b,l):a.call(null,b,l)}function f(){return a.hd?a.hd(b):a.call(null,b)}var h=null,k=function(){function l(q,r,u,w){var x=null;if(3<arguments.length){x=0;for(var z=Array(arguments.length-3);x<z.length;)z[x]=arguments[x+3],++x;x=new ad(z,0,null)}return m.call(this,q,r,u,x)}function m(q,r,u,w){return hf(a,b,q,r,
u,Cd([w]))}l.ud=3;l.td=function(q){var r=F(q);q=G(q);var u=F(q);q=G(q);var w=F(q);q=bd(q);return m(r,u,w,q)};l.od=m;return l}();h=function(l,m,q,r){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,q);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new ad(w,0,null)}return k.od(l,m,q,u)}throw Error("Invalid arity: "+arguments.length);};
h.ud=3;h.td=k.td;h.rd=f;h.hd=e;h.jd=d;h.kd=c;h.od=k.od;return h}()};
vf.kd=function(a,b,c){return function(){function d(m,q,r){return a.Fd?a.Fd(b,c,m,q,r):a.call(null,b,c,m,q,r)}function e(m,q){return a.sd?a.sd(b,c,m,q):a.call(null,b,c,m,q)}function f(m){return a.kd?a.kd(b,c,m):a.call(null,b,c,m)}function h(){return a.jd?a.jd(b,c):a.call(null,b,c)}var k=null,l=function(){function m(r,u,w,x){var z=null;if(3<arguments.length){z=0;for(var E=Array(arguments.length-3);z<E.length;)E[z]=arguments[z+3],++z;z=new ad(E,0,null)}return q.call(this,r,u,w,z)}function q(r,u,w,x){return hf(a,
b,c,r,u,Cd([w,x]))}m.ud=3;m.td=function(r){var u=F(r);r=G(r);var w=F(r);r=G(r);var x=F(r);r=bd(r);return q(u,w,x,r)};m.od=q;return m}();k=function(m,q,r,u){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,m,q);case 3:return d.call(this,m,q,r);default:var w=null;if(3<arguments.length){w=0;for(var x=Array(arguments.length-3);w<x.length;)x[w]=arguments[w+3],++w;w=new ad(x,0,null)}return l.od(m,q,r,w)}throw Error("Invalid arity: "+arguments.length);
};k.ud=3;k.td=l.td;k.rd=h;k.hd=f;k.jd=e;k.kd=d;k.od=l.od;return k}()};
vf.sd=function(a,b,c,d){return function(){function e(q,r,u){return a.be?a.be(b,c,d,q,r,u):a.call(null,b,c,d,q,r,u)}function f(q,r){return a.Fd?a.Fd(b,c,d,q,r):a.call(null,b,c,d,q,r)}function h(q){return a.sd?a.sd(b,c,d,q):a.call(null,b,c,d,q)}function k(){return a.kd?a.kd(b,c,d):a.call(null,b,c,d)}var l=null,m=function(){function q(u,w,x,z){var E=null;if(3<arguments.length){E=0;for(var R=Array(arguments.length-3);E<R.length;)R[E]=arguments[E+3],++E;E=new ad(R,0,null)}return r.call(this,u,w,x,E)}function r(u,
w,x,z){return hf(a,b,c,d,u,Cd([w,x,z]))}q.ud=3;q.td=function(u){var w=F(u);u=G(u);var x=F(u);u=G(u);var z=F(u);u=bd(u);return r(w,x,z,u)};q.od=r;return q}();l=function(q,r,u,w){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,q);case 2:return f.call(this,q,r);case 3:return e.call(this,q,r,u);default:var x=null;if(3<arguments.length){x=0;for(var z=Array(arguments.length-3);x<z.length;)z[x]=arguments[x+3],++x;x=new ad(z,0,null)}return m.od(q,r,u,x)}throw Error("Invalid arity: "+
arguments.length);};l.ud=3;l.td=m.td;l.rd=k;l.hd=h;l.jd=f;l.kd=e;l.od=m.od;return l}()};vf.od=function(a,b,c,d,e){return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new ad(m,0,null)}return h.call(this,l)}function h(k){return gf(a,b,c,d,We.jd(e,k))}f.ud=0;f.td=function(k){k=C(k);return h(k)};f.od=h;return f}()};
vf.td=function(a){var b=F(a),c=G(a);a=F(c);var d=G(c);c=F(d);var e=G(d);d=F(e);e=G(e);return this.od(b,a,c,d,e)};vf.ud=4;
function wf(a,b){return function(){function c(k,l,m){k=null==k?b:k;return a.kd?a.kd(k,l,m):a.call(null,k,l,m)}function d(k,l){k=null==k?b:k;return a.jd?a.jd(k,l):a.call(null,k,l)}function e(k){k=null==k?b:k;return a.hd?a.hd(k):a.call(null,k)}var f=null,h=function(){function k(m,q,r,u){var w=null;if(3<arguments.length){w=0;for(var x=Array(arguments.length-3);w<x.length;)x[w]=arguments[w+3],++w;w=new ad(x,0,null)}return l.call(this,m,q,r,w)}function l(m,q,r,u){return gf(a,null==m?b:m,q,r,u)}k.ud=3;
k.td=function(m){var q=F(m);m=G(m);var r=F(m);m=G(m);var u=F(m);m=bd(m);return l(q,r,u,m)};k.od=l;return k}();f=function(k,l,m,q){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,m);default:var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+3],++r;r=new ad(u,0,null)}return h.od(k,l,m,r)}throw Error("Invalid arity: "+arguments.length);};f.ud=3;f.td=h.td;f.hd=e;f.jd=d;f.kd=c;f.od=h.od;
return f}()}function zi(a,b){return function f(d,e){return new Me(null,function(){var h=C(e);if(h){if(fe(h)){for(var k=Cc(h),l=J(k),m=Qe(l),q=0;;)if(q<l)Te(m,function(){var r=d+q,u=Fb.jd(k,q);return a.jd?a.jd(r,u):a.call(null,r,u)}()),q+=1;else break;return Se(m.yd(),f(d+l,Dc(h)))}return Bd(function(){var r=F(h);return a.jd?a.jd(d,r):a.call(null,d,r)}(),f(d+1,bd(h)))}return null},null)}(0,b)}
function xf(a,b){return new Me(null,function(){var c=C(b);if(c){if(fe(c)){for(var d=Cc(c),e=J(d),f=Qe(e),h=0;;)if(h<e){var k=function(){var l=Fb.jd(d,h);return a.hd?a.hd(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Se(f.yd(),xf(a,Dc(c)))}e=function(){var l=F(c);return a.hd?a.hd(l):a.call(null,l)}();return null==e?xf(a,bd(c)):Bd(e,xf(a,bd(c)))}return null},null)}function yf(a){this.state=a;this.Wd=this.validator=this.meta=null;this.vd=16386;this.md=6455296}g=yf.prototype;
g.Bd=function(a,b){return this===b};g.ze=function(){return this.state};g.Gd=function(){return this.meta};g.Jf=function(a,b){for(var c=C(this.Wd),d=null,e=0,f=0;;)if(f<e){var h=d.zd(null,f),k=Q(h,0,null);h=Q(h,1,null);h.sd?h.sd(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=C(c))fe(c)?(d=Cc(c),c=Dc(c),k=d,e=J(d),d=k):(d=F(c),k=Q(d,0,null),h=Q(d,1,null),h.sd?h.sd(k,this,a,b):h.call(null,k,this,a,b),c=G(c),d=null,e=0),f=0;else break};g.rf=function(a,b,c){this.Wd=Od.kd(this.Wd,b,c);return this};
g.sf=function(a,b){return this.Wd=Qd.jd(this.Wd,b)};g.Dd=function(){return ha(this)};function zf(a){return new yf(a)}function Af(a,b){if(a instanceof yf){var c=a.validator;if(null!=c&&!t(c.hd?c.hd(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.Wd&&a.Jf(c,b);return b}return Gc(a,b)}
var Bf=function Bf(a){switch(arguments.length){case 2:return Bf.jd(arguments[0],arguments[1]);case 3:return Bf.kd(arguments[0],arguments[1],arguments[2]);case 4:return Bf.sd(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(4),0,null);return Bf.od(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Bf.jd=function(a,b){if(a instanceof yf){var c=a.state;b=b.hd?b.hd(c):b.call(null,c);a=Af(a,b)}else a=Hc.jd(a,b);return a};Bf.kd=function(a,b,c){if(a instanceof yf){var d=a.state;b=b.jd?b.jd(d,c):b.call(null,d,c);a=Af(a,b)}else a=Hc.kd(a,b,c);return a};Bf.sd=function(a,b,c,d){if(a instanceof yf){var e=a.state;b=b.kd?b.kd(e,c,d):b.call(null,e,c,d);a=Af(a,b)}else a=Hc.sd(a,b,c,d);return a};Bf.od=function(a,b,c,d,e){return a instanceof yf?Af(a,gf(b,a.state,c,d,e)):Hc.Fd(a,b,c,d,e)};
Bf.td=function(a){var b=F(a),c=G(a);a=F(c);var d=G(c);c=F(d);var e=G(d);d=F(e);e=G(e);return this.od(b,a,c,d,e)};Bf.ud=4;
var Cf=function Cf(a){switch(arguments.length){case 1:return Cf.hd(arguments[0]);case 2:return Cf.jd(arguments[0],arguments[1]);case 3:return Cf.kd(arguments[0],arguments[1],arguments[2]);case 4:return Cf.sd(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(4),0,null);return Cf.od(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Cf.hd=function(a){return function(b){return function(){function c(k,l){l=a.hd?a.hd(l):a.call(null,l);return b.jd?b.jd(k,l):b.call(null,k,l)}function d(k){return b.hd?b.hd(k):b.call(null,k)}function e(){return b.rd?b.rd():b.call(null)}var f=null,h=function(){function k(m,q,r){var u=null;if(2<arguments.length){u=0;for(var w=Array(arguments.length-2);u<w.length;)w[u]=arguments[u+2],++u;u=new ad(w,0,null)}return l.call(this,m,q,u)}function l(m,q,r){q=ef(a,q,r);return b.jd?b.jd(m,q):b.call(null,m,q)}k.ud=
2;k.td=function(m){var q=F(m);m=G(m);var r=F(m);m=bd(m);return l(q,r,m)};k.od=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new ad(r,0,null)}return h.od(k,l,q)}throw Error("Invalid arity: "+arguments.length);};f.ud=2;f.td=h.td;f.rd=e;f.hd=d;f.jd=c;f.od=h.od;return f}()}};
Cf.jd=function(a,b){return new Me(null,function(){var c=C(b);if(c){if(fe(c)){for(var d=Cc(c),e=J(d),f=Qe(e),h=0;;)if(h<e)Te(f,function(){var k=Fb.jd(d,h);return a.hd?a.hd(k):a.call(null,k)}()),h+=1;else break;return Se(f.yd(),Cf.jd(a,Dc(c)))}return Bd(function(){var k=F(c);return a.hd?a.hd(k):a.call(null,k)}(),Cf.jd(a,bd(c)))}return null},null)};
Cf.kd=function(a,b,c){return new Me(null,function(){var d=C(b),e=C(c);if(d&&e){var f=F(d);var h=F(e);f=a.jd?a.jd(f,h):a.call(null,f,h);d=Bd(f,Cf.kd(a,bd(d),bd(e)))}else d=null;return d},null)};Cf.sd=function(a,b,c,d){return new Me(null,function(){var e=C(b),f=C(c),h=C(d);if(e&&f&&h){var k=F(e);var l=F(f),m=F(h);k=a.kd?a.kd(k,l,m):a.call(null,k,l,m);e=Bd(k,Cf.sd(a,bd(e),bd(f),bd(h)))}else e=null;return e},null)};
Cf.od=function(a,b,c,d,e){var f=function l(k){return new Me(null,function(){var m=Cf.jd(C,k);return rf(xe,m)?Bd(Cf.jd(F,m),l(Cf.jd(bd,m))):null},null)};return Cf.jd(function(){return function(k){return df(a,k)}}(f),f(Jd.od(e,d,Cd([c,b]))))};Cf.td=function(a){var b=F(a),c=G(a);a=F(c);var d=G(c);c=F(d);var e=G(d);d=F(e);e=G(e);return this.od(b,a,c,d,e)};Cf.ud=4;function Df(a,b){return new Me(null,function(){if(0<a){var c=C(b);return c?Bd(F(c),Df(a-1,bd(c))):null}return null},null)}
function Ef(a,b){return new Me(null,function(c){return function(){return c(a,b)}}(function(c,d){for(;;)if(d=C(d),0<c&&d)--c,d=bd(d);else return d}),null)}function Ff(a){return Cf.kd(function(b){return b},a,Ef(2,a))}function Gf(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.qd=null;this.md=32374988;this.vd=1}g=Gf.prototype;g.toString=function(){return Lc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){return null==this.next?1<this.count?this.next=new Gf(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cd};g.Xd=function(a,b){if(-1===this.count)for(var c=b.jd?b.jd(this.val,this.val):b.call(null,this.val,this.val);;){if(md(c))return $b(c);c=b.jd?b.jd(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.jd?b.jd(c,this.val):b.call(null,c,this.val);if(md(c))return $b(c);a+=1}else return c};
g.Yd=function(a,b,c){if(-1===this.count)for(c=b.jd?b.jd(c,this.val):b.call(null,c,this.val);;){if(md(c))return $b(c);c=b.jd?b.jd(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.jd?b.jd(c,this.val):b.call(null,c,this.val);if(md(c))return $b(c);a+=1}else return c};g.Vd=function(){return this.val};g.Zd=function(){return null==this.next?1<this.count?this.next=new Gf(null,this.count-1,this.val,null):-1===this.count?this:cd:this.next};g.Hd=function(){return this};
g.Id=function(a,b){return b===this.meta?this:new Gf(b,this.count,this.val,this.next)};g.Nd=function(a,b){return Bd(b,this)};function Hf(a){return 0<a?new Gf(null,a,null,null):cd}function If(a,b){return df(We,ef(Cf,a,b))}
function Jf(a,b){return new Me(null,function(){var c=C(b);if(c){if(fe(c)){for(var d=Cc(c),e=J(d),f=Qe(e),h=0;;)if(h<e){var k=Fb.jd(d,h);k=a.hd?a.hd(k):a.call(null,k);t(k)&&(k=Fb.jd(d,h),f.add(k));h+=1}else break;return Se(f.yd(),Jf(a,Dc(c)))}d=F(c);c=bd(c);return t(a.hd?a.hd(d):a.call(null,d))?Bd(d,Jf(a,c)):Jf(a,c)}return null},null)}function Kf(a,b){return Jf(tf(a),b)}
function Lf(a){return function d(c){return new Me(null,function(){return Bd(c,t(be.hd?be.hd(c):be.call(null,c))?If(d,Cd([C.hd?C.hd(c):C.call(null,c)])):null)},null)}(a)}function Mf(a){return Jf(function(b){return!be(b)},bd(Lf(a)))}
var Nf=function Nf(a){switch(arguments.length){case 0:return Nf.rd();case 1:return Nf.hd(arguments[0]);case 2:return Nf.jd(arguments[0],arguments[1]);case 3:return Nf.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Nf.rd=function(){return Kd};Nf.hd=function(a){return a};Nf.jd=function(a,b){return null!=a?null!=a&&(a.vd&4||n===a.pg)?cc(xc(tb(wc,vc(a),b)),Vd(a)):tb(Cb,a,b):tb(Jd,cd,b)};
Nf.kd=function(a,b,c){return null!=a&&(a.vd&4||n===a.pg)?cc(xc(ye(b,Xe,vc(a),c)),Vd(a)):ye(b,Jd,a,c)};Nf.ud=3;function Of(a){return xc(tb(function(b,c){return Xe.jd(b,nd.hd?nd.hd(c):nd.call(null,c))},vc(Kd),a))}function Pf(a,b,c){return new Me(null,function(){var d=C(c);if(d){var e=Df(a,d);return a===J(e)?Bd(e,Pf(a,b,Ef(b,d))):null}return null},null)}function Qf(a,b){return tb(A,a,b)}
var Rf=function Rf(a,b,c){b=C(b);var e=F(b),f=G(b);return f?Od.kd(a,e,function(){var h=A.jd(a,e);return Rf.kd?Rf.kd(h,f,c):Rf.call(null,h,f,c)}()):Od.kd(a,e,c)},Sf=function Sf(a){switch(arguments.length){case 3:return Sf.kd(arguments[0],arguments[1],arguments[2]);case 4:return Sf.sd(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Sf.Fd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Sf.be(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(6),0,null);return Sf.od(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};Sf.kd=function(a,b,c){b=C(b);var d=F(b);return(b=G(b))?Od.kd(a,d,Sf.kd(A.jd(a,d),b,c)):Od.kd(a,d,function(){var e=A.jd(a,d);return c.hd?c.hd(e):c.call(null,e)}())};
Sf.sd=function(a,b,c,d){b=C(b);var e=F(b);return(b=G(b))?Od.kd(a,e,Sf.sd(A.jd(a,e),b,c,d)):Od.kd(a,e,function(){var f=A.jd(a,e);return c.jd?c.jd(f,d):c.call(null,f,d)}())};Sf.Fd=function(a,b,c,d,e){b=C(b);var f=F(b);return(b=G(b))?Od.kd(a,f,Sf.Fd(A.jd(a,f),b,c,d,e)):Od.kd(a,f,function(){var h=A.jd(a,f);return c.kd?c.kd(h,d,e):c.call(null,h,d,e)}())};
Sf.be=function(a,b,c,d,e,f){b=C(b);var h=F(b);return(b=G(b))?Od.kd(a,h,Sf.be(A.jd(a,h),b,c,d,e,f)):Od.kd(a,h,function(){var k=A.jd(a,h);return c.sd?c.sd(k,d,e,f):c.call(null,k,d,e,f)}())};Sf.od=function(a,b,c,d,e,f,h){var k=C(b);b=F(k);return(k=G(k))?Od.kd(a,b,hf(Sf,A.jd(a,b),k,c,d,Cd([e,f,h]))):Od.kd(a,b,hf(c,A.jd(a,b),d,e,f,Cd([h])))};Sf.td=function(a){var b=F(a),c=G(a);a=F(c);var d=G(c);c=F(d);var e=G(d);d=F(e);var f=G(e);e=F(f);var h=G(f);f=F(h);h=G(h);return this.od(b,a,c,d,e,f,h)};Sf.ud=6;
function Tf(a,b,c){return Od.kd(a,b,function(){var d=A.jd(a,b);return c.hd?c.hd(d):c.call(null,d)}())}function Uf(a,b,c,d){return Od.kd(a,b,function(){var e=A.jd(a,b);return c.jd?c.jd(e,d):c.call(null,e,d)}())}function Vf(a,b){this.Ld=a;this.ld=b}function Wf(a){return new Vf(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Xf(a){return new Vf(a.Ld,rb(a.ld))}
function Yf(a){a=a.pd;return 32>a?0:a-1>>>5<<5}function Zf(a,b,c){for(;;){if(0===b)return c;var d=Wf(a);d.ld[0]=c;c=d;b-=5}}var $f=function $f(a,b,c,d){var f=Xf(c),h=a.pd-1>>>b&31;5===b?f.ld[h]=d:(c=c.ld[h],null!=c?(b-=5,a=$f.sd?$f.sd(a,b,c,d):$f.call(null,a,b,c,d)):a=Zf(null,b-5,d),f.ld[h]=a);return f};function ag(a,b){throw Error(["No item ",y.hd(a)," in vector of length ",y.hd(b)].join(""));}
function bg(a,b){if(b>=Yf(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.ld[b>>>a&31];a=d}else return c.ld}function cg(a,b){return 0<=b&&b<a.pd?bg(a,b):ag(b,a.pd)}
var dg=function dg(a,b,c,d,e){var h=Xf(c);if(0===b)h.ld[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.ld[k];a=dg.Fd?dg.Fd(a,b,c,d,e):dg.call(null,a,b,c,d,e);h.ld[k]=a}return h},eg=function eg(a,b,c){var e=a.pd-2>>>b&31;if(5<b){b-=5;var f=c.ld[e];a=eg.kd?eg.kd(a,b,f):eg.call(null,a,b,f);if(null==a&&0===e)return null;c=Xf(c);c.ld[e]=a;return c}if(0===e)return null;c=Xf(c);c.ld[e]=null;return c};function fg(a,b,c,d,e,f){this.i=a;this.base=b;this.ld=c;this.v=d;this.start=e;this.end=f}
fg.prototype.hasNext=function(){return this.i<this.end};fg.prototype.next=function(){32===this.i-this.base&&(this.ld=bg(this.v,this.i),this.base+=32);var a=this.ld[this.i&31];this.i+=1;return a};function gg(a,b,c){return new fg(b,b-b%32,b<J(a)?bg(a,b):null,a,b,c)}function hg(a,b,c,d){return c<d?ig(a,b,vd(a,c),c+1,d):b.rd?b.rd():b.call(null)}
function ig(a,b,c,d,e){var f=c;c=d;for(d=bg(a,d);;)if(c<e){var h=c&31;d=0===h?bg(a,c):d;h=d[h];f=b.jd?b.jd(f,h):b.call(null,f,h);if(md(f))return $b(f);c+=1}else return f}function S(a,b,c,d,e,f){this.meta=a;this.pd=b;this.shift=c;this.root=d;this.tail=e;this.qd=f;this.md=167666463;this.vd=139268}g=S.prototype;g.ef=function(a,b){return 0<=b&&b<this.pd?new jg(b,bg(this,b)[b&31]):null};g.toString=function(){return Lc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Kd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){return"number"===typeof b?this.Td(null,b,c):c};
g.Se=function(a,b,c){a=0;for(var d=c;;)if(a<this.pd){var e=bg(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.kd?b.kd(d,h,k):b.call(null,d,h,k);if(md(d)){e=d;break a}f+=1}else{e=d;break a}if(md(e))return $b(e);a+=c;d=e}else return d};g.Qf=n;g.zd=function(a,b){return cg(this,b)[b&31]};g.Td=function(a,b,c){return 0<=b&&b<this.pd?bg(this,b)[b&31]:c};
g.Xe=function(a,b,c){if(0<=b&&b<this.pd)return Yf(this)<=b?(a=rb(this.tail),a[b&31]=c,new S(this.meta,this.pd,this.shift,this.root,a,null)):new S(this.meta,this.pd,this.shift,dg(this,this.shift,this.root,b,c),this.tail,null);if(b===this.pd)return this.Nd(null,c);throw Error(["Index ",y.hd(b)," out of bounds  [0,",y.hd(this.pd),"]"].join(""));};g.de=function(){return gg(this,0,this.pd)};g.Gd=function(){return this.meta};g.Jd=function(){return this.pd};
g.Ve=function(){return 0<this.pd?this.zd(null,this.pd-1):null};g.We=function(){if(0===this.pd)throw Error("Can't pop empty vector");if(1===this.pd)return cc(Kd,this.meta);if(1<this.pd-Yf(this))return new S(this.meta,this.pd-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=bg(this,this.pd-2),b=eg(this,this.shift,this.root);b=null==b?U:b;var c=this.pd-1;return 5<this.shift&&null==b.ld[1]?new S(this.meta,c,this.shift-5,b.ld[0],a,null):new S(this.meta,c,this.shift,b,a,null)};
g.pf=function(){return 0<this.pd?new zd(this,this.pd-1,null):null};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){if(b instanceof S)if(this.pd===J(b))for(a=this.de(null),b=b.de(null);;)if(a.hasNext()){var c=a.next(),d=b.next();if(!H.jd(c,d))return!1}else return!0;else return!1;else return Ad(this,b)};g.df=function(){return new kg(this.pd,this.shift,lg.hd?lg.hd(this.root):lg.call(null,this.root),mg.hd?mg.hd(this.tail):mg.call(null,this.tail))};
g.Od=function(){return cc(Kd,this.meta)};g.Xd=function(a,b){return hg(this,b,0,this.pd)};g.Yd=function(a,b,c){a=0;for(var d=c;;)if(a<this.pd){var e=bg(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.jd?b.jd(d,h):b.call(null,d,h);if(md(d)){e=d;break a}f+=1}else{e=d;break a}if(md(e))return $b(e);a+=c;d=e}else return d};g.he=function(a,b,c){if("number"===typeof b)return this.Xe(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.Hd=function(){if(0===this.pd)return null;if(32>=this.pd)return new ad(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.ld[0];else{a=a.ld;break a}}return ng?ng(this,a,0,0):og.call(null,this,a,0,0)};g.Id=function(a,b){return b===this.meta?this:new S(b,this.pd,this.shift,this.root,this.tail,this.qd)};
g.Nd=function(a,b){if(32>this.pd-Yf(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new S(this.meta,this.pd+1,this.shift,this.root,c,null)}a=(c=this.pd>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Wf(null),c.ld[0]=this.root,d=Zf(null,this.shift,new Vf(null,this.tail)),c.ld[1]=d):c=$f(this,this.shift,this.root,new Vf(null,this.tail));return new S(this.meta,this.pd+1,a,c,[b],null)};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.zd(null,c);case 3:return this.Td(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.zd(null,c)};a.kd=function(b,c,d){return this.Td(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.hd=function(a){return this.zd(null,a)};g.jd=function(a,b){return this.Td(null,a,b)};
var U=new Vf(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kd=new S(null,0,5,U,[],gd);function pg(a){var b=a.length;if(32>b)return new S(null,b,5,U,a,null);for(var c=a.slice(0,32),d=32,e=(new S(null,32,5,U,c,null)).df(null);;)if(d<b)c=d+1,e=Xe.jd(e,a[d]),d=c;else return xc(e)}S.prototype[qb]=function(){return ed(this)};
function qg(a){return t(rg.hd?rg.hd(a):rg.call(null,a))?new S(null,2,5,U,[sg.hd?sg.hd(a):sg.call(null,a),tg.hd?tg.hd(a):tg.call(null,a)],null):ee(a)?Ud(a,null):lb(a)?pg(a):xc(tb(wc,vc(Kd),a))}var ug=function ug(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ad(c.slice(0),0,null):null;return ug.od(c)};ug.od=function(a){return a instanceof ad&&0===a.i?pg(a.ld):qg(a)};ug.ud=0;ug.td=function(a){return this.od(C(a))};
function vg(a,b,c,d,e){this.je=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.qd=null;this.md=32375020;this.vd=1536}g=vg.prototype;g.toString=function(){return Lc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){if(this.off+1<this.node.length){var a=this.je;var b=this.node,c=this.i,d=this.off+1;a=ng?ng(a,b,c,d):og.call(null,a,b,c,d);return null==a?null:a}return this.Sf()};
g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cd};g.Xd=function(a,b){return hg(this.je,b,this.i+this.off,J(this.je))};g.Yd=function(a,b,c){return ig(this.je,b,c,this.i+this.off,J(this.je))};g.Vd=function(){return this.node[this.off]};g.Zd=function(){if(this.off+1<this.node.length){var a=this.je;var b=this.node,c=this.i,d=this.off+1;a=ng?ng(a,b,c,d):og.call(null,a,b,c,d);return null==a?cd:a}return this.bf(null)};
g.Hd=function(){return this};g.Df=function(){var a=this.node;return new Pe(a,this.off,a.length)};g.bf=function(){var a=this.i+this.node.length;if(a<yb(this.je)){var b=this.je,c=bg(this.je,a);return ng?ng(b,c,a,0):og.call(null,b,c,a,0)}return cd};g.Id=function(a,b){return b===this.meta?this:wg?wg(this.je,this.node,this.i,this.off,b):og.call(null,this.je,this.node,this.i,this.off,b)};g.Nd=function(a,b){return Bd(b,this)};
g.Sf=function(){var a=this.i+this.node.length;if(a<yb(this.je)){var b=this.je,c=bg(this.je,a);return ng?ng(b,c,a,0):og.call(null,b,c,a,0)}return null};vg.prototype[qb]=function(){return ed(this)};
function og(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new vg(b,cg(b,c),c,d,null);case 4:return ng(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return wg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function ng(a,b,c,d){return new vg(a,b,c,d,null)}function wg(a,b,c,d,e){return new vg(a,b,c,d,e)}
function xg(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.qd=e;this.md=167666463;this.vd=139264}g=xg.prototype;g.ef=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new jg(b,Mb.jd(this.v,a)):null};g.toString=function(){return Lc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Kd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){return"number"===typeof b?this.Td(null,b,c):c};
g.Se=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Fb.jd(this.v,a);c=b.kd?b.kd(c,e,f):b.call(null,c,e,f);if(md(c))return $b(c);d+=1;a+=1}else return c};g.zd=function(a,b){return 0>b||this.end<=this.start+b?ag(b,this.end-this.start):Fb.jd(this.v,this.start+b)};g.Td=function(a,b,c){return 0>b||this.end<=this.start+b?c:Fb.kd(this.v,this.start+b,c)};
g.Xe=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",y.hd(b)," out of bounds [0,",y.hd(this.Jd(null)),"]"].join(""));b=this.meta;c=Od.kd(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return yg.Fd?yg.Fd(b,c,d,a,null):yg.call(null,b,c,d,a,null)};g.de=function(){return null!=this.v&&n===this.v.Qf?gg(this.v,this.start,this.end):new qf(this)};g.Gd=function(){return this.meta};g.Jd=function(){return this.end-this.start};g.Ve=function(){return Fb.jd(this.v,this.end-1)};
g.We=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return yg.Fd?yg.Fd(a,b,c,d,null):yg.call(null,a,b,c,d,null)};g.pf=function(){return this.start!==this.end?new zd(this,this.end-this.start-1,null):null};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cc(Kd,this.meta)};
g.Xd=function(a,b){return null!=this.v&&n===this.v.Qf?hg(this.v,b,this.start,this.end):od(this,b)};g.Yd=function(a,b,c){return null!=this.v&&n===this.v.Qf?ig(this.v,b,c,this.start,this.end):pd(this,b,c)};g.he=function(a,b,c){if("number"===typeof b)return this.Xe(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.Hd=function(){var a=this;return function(b){return function e(d){return d===a.end?null:Bd(Fb.jd(a.v,d),new Me(null,function(){return function(){return e(d+1)}}(b),null))}}(this)(a.start)};
g.Id=function(a,b){return b===this.meta?this:yg.Fd?yg.Fd(b,this.v,this.start,this.end,this.qd):yg.call(null,b,this.v,this.start,this.end,this.qd)};g.Nd=function(a,b){a=this.meta;b=Yb(this.v,this.end,b);var c=this.start,d=this.end+1;return yg.Fd?yg.Fd(a,b,c,d,null):yg.call(null,a,b,c,d,null)};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.zd(null,c);case 3:return this.Td(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.zd(null,c)};a.kd=function(b,c,d){return this.Td(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.hd=function(a){return this.zd(null,a)};g.jd=function(a,b){return this.Td(null,a,b)};xg.prototype[qb]=function(){return ed(this)};
function yg(a,b,c,d,e){for(;;)if(b instanceof xg)c=b.start+c,d=b.start+d,b=b.v;else{if(!ee(b))throw Error("v must satisfy IVector");var f=J(b);if(0>c||0>d||c>f||d>f)throw Error("Index out of bounds");return new xg(a,b,c,d,e)}}var zg=function zg(a){switch(arguments.length){case 2:return zg.jd(arguments[0],arguments[1]);case 3:return zg.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};zg.jd=function(a,b){return zg.kd(a,b,J(a))};
zg.kd=function(a,b,c){return yg(null,a,b|0,c|0,null)};zg.ud=3;function Ag(a,b){return a===b.Ld?b:new Vf(a,rb(b.ld))}function lg(a){return new Vf({},rb(a.ld))}function mg(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];ge(a,0,b,0,a.length);return b}
var Bg=function Bg(a,b,c,d){c=Ag(a.root.Ld,c);var f=a.pd-1>>>b&31;if(5===b)a=d;else{var h=c.ld[f];null!=h?(b-=5,a=Bg.sd?Bg.sd(a,b,h,d):Bg.call(null,a,b,h,d)):a=Zf(a.root.Ld,b-5,d)}c.ld[f]=a;return c};function kg(a,b,c,d){this.pd=a;this.shift=b;this.root=c;this.tail=d;this.vd=88;this.md=275}g=kg.prototype;
g.hf=function(a,b){if(this.root.Ld){if(32>this.pd-Yf(this))this.tail[this.pd&31]=b;else{a=new Vf(this.root.Ld,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.pd>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=Zf(this.root.Ld,this.shift,a),this.root=new Vf(this.root.Ld,b),this.shift=c):this.root=Bg(this,this.shift,this.root,a)}this.pd+=1;return this}throw Error("conj! after persistent!");};g.qf=function(){if(this.root.Ld){this.root.Ld=null;var a=this.pd-Yf(this),b=Array(a);ge(this.tail,0,b,0,a);return new S(null,this.pd,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.gf=function(a,b,c){if("number"===typeof b)return Cg(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Cg(a,b,c){if(a.root.Ld){if(0<=b&&b<a.pd){if(Yf(a)<=b)a.tail[b&31]=c;else{var d=function(){return function(){return function k(f,h){h=Ag(a.root.Ld,h);if(0===f)h.ld[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.ld[l]);h.ld[l]=f}return h}}(a)(a.shift,a.root)}();a.root=d}return a}if(b===a.pd)return a.hf(null,c);throw Error(["Index ",y.hd(b)," out of bounds for TransientVector of length",y.hd(a.pd)].join(""));}throw Error("assoc! after persistent!");}
g.Jd=function(){if(this.root.Ld)return this.pd;throw Error("count after persistent!");};g.zd=function(a,b){if(this.root.Ld)return cg(this,b)[b&31];throw Error("nth after persistent!");};g.Td=function(a,b,c){return 0<=b&&b<this.pd?this.zd(null,b):c};g.Kd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){return"number"===typeof b?this.Td(null,b,c):c};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Kd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Kd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.hd=function(a){return this.Kd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};function Dg(a,b){this.kf=a;this.Af=b}
Dg.prototype.hasNext=function(){var a=null!=this.kf&&C(this.kf);return a?a:(a=null!=this.Af)?this.Af.hasNext():a};Dg.prototype.next=function(){if(null!=this.kf){var a=F(this.kf);this.kf=G(this.kf);return a}if(null!=this.Af&&this.Af.hasNext())return this.Af.next();throw Error("No such element");};Dg.prototype.remove=function(){return Error("Unsupported operation")};function Eg(a,b,c,d){this.meta=a;this.ge=b;this.ie=c;this.qd=d;this.md=31850700;this.vd=0}g=Eg.prototype;g.toString=function(){return Lc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){var a=G(this.ge);return a?new Eg(this.meta,a,this.ie,null):null!=this.ie?new Eg(this.meta,this.ie,null,null):null};
g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cc(cd,this.meta)};g.Vd=function(){return F(this.ge)};g.Zd=function(){var a=G(this.ge);return a?new Eg(this.meta,a,this.ie,null):null==this.ie?this.Od(null):new Eg(this.meta,this.ie,null,null)};g.Hd=function(){return this};g.Id=function(a,b){return b===this.meta?this:new Eg(b,this.ge,this.ie,this.qd)};g.Nd=function(a,b){return Bd(b,this)};Eg.prototype[qb]=function(){return ed(this)};
function Fg(a,b,c,d,e){this.meta=a;this.count=b;this.ge=c;this.ie=d;this.qd=e;this.vd=139264;this.md=31858766}g=Fg.prototype;g.toString=function(){return Lc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,this.count.hd?this.count.hd(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.de=function(){return new Dg(this.ge,Jc(this.ie))};g.Gd=function(){return this.meta};g.Jd=function(){return this.count};g.Ve=function(){return F(this.ge)};
g.We=function(){if(t(this.ge)){var a=G(this.ge);return a?new Fg(this.meta,this.count-1,a,this.ie,null):new Fg(this.meta,this.count-1,C(this.ie),Kd,null)}return this};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cc(Gg,this.meta)};g.Vd=function(){return F(this.ge)};g.Zd=function(){return bd(C(this))};g.Hd=function(){var a=C(this.ie),b=this.ge;return t(t(b)?b:a)?new Eg(null,this.ge,C(a),null):null};
g.Id=function(a,b){return b===this.meta?this:new Fg(b,this.count,this.ge,this.ie,this.qd)};g.Nd=function(a,b){t(this.ge)?(a=this.ie,b=new Fg(this.meta,this.count+1,this.ge,Jd.jd(t(a)?a:Kd,b),null)):b=new Fg(this.meta,this.count+1,Jd.jd(this.ge,b),Kd,null);return b};var Gg=new Fg(null,0,null,Kd,gd);Fg.prototype[qb]=function(){return ed(this)};function Hg(){this.md=2097152;this.vd=0}Hg.prototype.Bd=function(){return!1};var Ig=new Hg;
function Jg(a,b){return je(ce(b)&&!de(b)?J(a)===J(b)?(null!=a?a.md&1048576||n===a.Sg||(a.md?0:v(fc,a)):v(fc,a))?we(function(c,d,e){return H.jd(A.kd(b,d,Ig),e)?!0:new kd},!0,a):rf(function(c){return H.jd(A.kd(b,F(c),Ig),Hd(c))},a):null:null)}function Kg(a,b,c,d){this.i=0;this.record=a;this.Yf=b;this.fields=c;this.gg=d}Kg.prototype.hasNext=function(){var a=this.i<this.Yf;return a?a:this.gg.hasNext()};
Kg.prototype.next=function(){if(this.i<this.Yf){var a=vd(this.fields,this.i);this.i+=1;return new jg(a,Mb.jd(this.record,a))}return this.gg.next()};Kg.prototype.remove=function(){return Error("Unsupported operation")};function Lg(a){this.s=a}Lg.prototype.next=function(){if(null!=this.s){var a=F(this.s),b=Q(a,0,null);a=Q(a,1,null);this.s=G(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Mg(a){this.s=a}
Mg.prototype.next=function(){if(null!=this.s){var a=F(this.s);this.s=G(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ng(a,b){if(b instanceof B)a:{var c=a.length;b=b.ee;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof B&&b===a[d].ee){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Yc)a:for(c=a.length,b=b.we,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Yc&&b===a[d].we){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(H.jd(b,a[d])){a=d;break a}d+=2}return a}function jg(a,b){this.key=a;this.val=b;this.qd=null;this.md=166619935;this.vd=0}g=jg.prototype;g.ef=function(a,b){switch(b){case 0:return new jg(0,this.key);case 1:return new jg(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Kd=function(a,b){return this.Td(null,b,null)};g.wd=function(a,b,c){return this.Td(null,b,c)};g.zd=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.Td=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Xe=function(a,b,c){return(new S(null,2,5,U,[this.key,this.val],null)).Xe(null,b,c)};g.Gd=function(){return null};g.Jd=function(){return 2};g.xg=function(){return this.key};g.yg=function(){return this.val};g.Ve=function(){return this.val};g.We=function(){return new S(null,1,5,U,[this.key],null)};g.pf=function(){return new ad([this.val,this.key],0,null)};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};
g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return null};g.Xd=function(a,b){return od(this,b)};g.Yd=function(a,b,c){return pd(this,b,c)};g.he=function(a,b,c){return Od.kd(new S(null,2,5,U,[this.key,this.val],null),b,c)};g.Hd=function(){return new ad([this.key,this.val],0,null)};g.Id=function(a,b){return Ud(new S(null,2,5,U,[this.key,this.val],null),b)};g.Nd=function(a,b){return new S(null,3,5,U,[this.key,this.val,b],null)};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.zd(null,c);case 3:return this.Td(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.zd(null,c)};a.kd=function(b,c,d){return this.Td(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.hd=function(a){return this.zd(null,a)};g.jd=function(a,b){return this.Td(null,a,b)};
function rg(a){return null!=a?a.md&2048||n===a.Ug?!0:!1:!1}function Og(a,b,c){this.ld=a;this.i=b;this.se=c;this.md=32374990;this.vd=0}g=Og.prototype;g.toString=function(){return Lc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.se};g.Ud=function(){return this.i<this.ld.length-2?new Og(this.ld,this.i+2,null):null};g.Jd=function(){return(this.ld.length-this.i)/2};g.Dd=function(){return fd(this)};
g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cd};g.Xd=function(a,b){return Dd(b,this)};g.Yd=function(a,b,c){return Gd(b,c,this)};g.Vd=function(){return new jg(this.ld[this.i],this.ld[this.i+1])};g.Zd=function(){return this.i<this.ld.length-2?new Og(this.ld,this.i+2,null):cd};g.Hd=function(){return this};g.Id=function(a,b){return b===this.se?this:new Og(this.ld,this.i,b)};g.Nd=function(a,b){return Bd(b,this)};Og.prototype[qb]=function(){return ed(this)};
function Pg(a,b){this.ld=a;this.i=0;this.pd=b}Pg.prototype.hasNext=function(){return this.i<this.pd};Pg.prototype.next=function(){var a=new jg(this.ld[this.i],this.ld[this.i+1]);this.i+=2;return a};function p(a,b,c,d){this.meta=a;this.pd=b;this.ld=c;this.qd=d;this.md=16647951;this.vd=139268}g=p.prototype;g.ef=function(a,b){a=Ng(this.ld,b);return-1===a?null:new jg(this.ld[a],this.ld[a+1])};g.toString=function(){return Lc(this)};g.keys=function(){return ed(Qg.hd?Qg.hd(this):Qg.call(null,this))};
g.entries=function(){return new Lg(C(C(this)))};g.values=function(){return ed(Rg.hd?Rg.hd(this):Rg.call(null,this))};g.has=function(a){return le(this,a)};g.get=function(a,b){return this.wd(null,a,b)};g.forEach=function(a){for(var b=C(this),c=null,d=0,e=0;;)if(e<d){var f=c.zd(null,e),h=Q(f,0,null);f=Q(f,1,null);a.jd?a.jd(f,h):a.call(null,f,h);e+=1}else if(b=C(b))fe(b)?(c=Cc(b),b=Dc(b),h=c,d=J(c),c=h):(c=F(b),h=Q(c,0,null),f=Q(c,1,null),a.jd?a.jd(f,h):a.call(null,f,h),b=G(b),c=null,d=0),e=0;else return null};
g.Kd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){a=Ng(this.ld,b);return-1===a?c:this.ld[a+1]};g.Se=function(a,b,c){a=this.ld.length;for(var d=0;;)if(d<a){var e=this.ld[d],f=this.ld[d+1];c=b.kd?b.kd(c,e,f):b.call(null,c,e,f);if(md(c))return $b(c);d+=2}else return c};g.de=function(){return new Pg(this.ld,2*this.pd)};g.Gd=function(){return this.meta};g.Jd=function(){return this.pd};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=hd(this)};
g.Bd=function(a,b){if(ce(b)&&!de(b))if(a=this.ld.length,this.pd===b.Jd(null))for(var c=0;;)if(c<a){var d=b.wd(null,this.ld[c],he);if(d!==he)if(H.jd(this.ld[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.df=function(){return new Sg(this.ld.length,rb(this.ld))};g.Od=function(){return cc(nf,this.meta)};g.Xd=function(a,b){return te(this,b)};g.Yd=function(a,b,c){return ue(this,b,c)};
g.ff=function(a,b){if(0<=Ng(this.ld,b)){a=this.ld.length;var c=a-2;if(0===c)return this.Od(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new p(this.meta,this.pd-1,c,null);H.jd(b,this.ld[d])?d+=2:(c[e]=this.ld[d],c[e+1]=this.ld[d+1],e+=2,d+=2)}}else return this};
g.he=function(a,b,c){a=Ng(this.ld,b);if(-1===a){if(this.pd<Tg){a=this.ld;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new p(this.meta,this.pd+1,e,null)}return cc(Nb(Nf.jd(Ug,this),b,c),this.meta)}if(c===this.ld[a+1])return this;b=rb(this.ld);b[a+1]=c;return new p(this.meta,this.pd,b,null)};g.Hd=function(){var a=this.ld;return 0<=a.length-2?new Og(a,0,null):null};g.Id=function(a,b){return b===this.meta?this:new p(b,this.pd,this.ld,this.qd)};
g.Nd=function(a,b){if(ee(b))return this.he(null,Fb.jd(b,0),Fb.jd(b,1));a=this;for(b=C(b);;){if(null==b)return a;var c=F(b);if(ee(c))a=Nb(a,Fb.jd(c,0),Fb.jd(c,1)),b=G(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Kd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Kd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.hd=function(a){return this.Kd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};var nf=new p(null,0,[],id),Tg=8;
function Pd(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Ng(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new p(null,b.length/2,b,null)}p.prototype[qb]=function(){return ed(this)};function Sg(a,b){this.jf={};this.len=a;this.ld=b;this.md=259;this.vd=56}g=Sg.prototype;g.Jd=function(){if(t(this.jf))return Ce(this.len);throw Error("count after persistent!");};g.Kd=function(a,b){return this.wd(null,b,null)};
g.wd=function(a,b,c){if(t(this.jf))return a=Ng(this.ld,b),-1===a?c:this.ld[a+1];throw Error("lookup after persistent!");};
g.hf=function(a,b){if(t(this.jf)){if(rg(b))return this.gf(null,sg.hd?sg.hd(b):sg.call(null,b),tg.hd?tg.hd(b):tg.call(null,b));if(ee(b))return this.gf(null,b.hd?b.hd(0):b.call(null,0),b.hd?b.hd(1):b.call(null,1));a=C(b);for(b=this;;){var c=F(a);if(t(c))a=G(a),b=yc(b,sg.hd?sg.hd(c):sg.call(null,c),tg.hd?tg.hd(c):tg.call(null,c));else return b}}else throw Error("conj! after persistent!");};
g.qf=function(){if(t(this.jf))return this.jf=!1,new p(null,Ce(this.len),this.ld,null);throw Error("persistent! called twice");};g.gf=function(a,b,c){if(t(this.jf)){a=Ng(this.ld,b);if(-1===a){if(this.len+2<=2*Tg)return this.len+=2,this.ld.push(b),this.ld.push(c),this;a=Vg.jd?Vg.jd(this.len,this.ld):Vg.call(null,this.len,this.ld);return yc(a,b,c)}c!==this.ld[a+1]&&(this.ld[a+1]=c);return this}throw Error("assoc! after persistent!");};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.wd(null,c,null);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.wd(null,c,null)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.hd=function(a){return this.wd(null,a,null)};g.jd=function(a,b){return this.wd(null,a,b)};
function Vg(a,b){for(var c=vc(Ug),d=0;;)if(d<a)c=yc(c,b[d],b[d+1]),d+=2;else return c}function Wg(){this.val=!1}function Xg(a,b){return a===b?!0:Ie(a,b)?!0:H.jd(a,b)}function Yg(a,b,c){a=rb(a);a[b]=c;return a}function Zg(a,b){var c=Array(a.length-2);ge(a,0,c,0,2*b);ge(a,2*(b+1),c,2*b,c.length-2*b);return c}function $g(a,b,c,d){a=a.Ye(b);a.ld[c]=d;return a}
function ah(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.kd?b.kd(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.xf(b,f):f;if(md(c))return c;e+=2;f=c}else return f}function bh(a){this.ld=a;this.i=0;this.qe=this.yf=null}bh.prototype.advance=function(){for(var a=this.ld.length;;)if(this.i<a){var b=this.ld[this.i],c=this.ld[this.i+1];null!=b?b=this.yf=new jg(b,c):null!=c?(b=Jc(c),b=b.hasNext()?this.qe=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
bh.prototype.hasNext=function(){var a=null!=this.yf;return a?a:(a=null!=this.qe)?a:this.advance()};bh.prototype.next=function(){if(null!=this.yf){var a=this.yf;this.yf=null;return a}if(null!=this.qe)return a=this.qe.next(),this.qe.hasNext()||(this.qe=null),a;if(this.advance())return this.next();throw Error("No such element");};bh.prototype.remove=function(){return Error("Unsupported operation")};function ch(a,b,c){this.Ld=a;this.Md=b;this.ld=c;this.vd=131072;this.md=0}g=ch.prototype;
g.Ye=function(a){if(a===this.Ld)return this;var b=De(this.Md),c=Array(0>b?4:2*(b+1));ge(this.ld,0,c,0,2*b);return new ch(a,this.Md,c)};g.vf=function(){return dh?dh(this.ld):eh.call(null,this.ld)};g.xf=function(a,b){return ah(this.ld,a,b)};g.Ze=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.Md&e))return d;var f=De(this.Md&e-1);e=this.ld[2*f];f=this.ld[2*f+1];return null==e?f.Ze(a+5,b,c,d):Xg(c,e)?f:d};
g.oe=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=De(this.Md&h-1);if(0===(this.Md&h)){var l=De(this.Md);if(2*l<this.ld.length){a=this.Ye(a);b=a.ld;f.val=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.Md|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=fh.oe(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.Md>>>
d&1)?d+=1:(k[d]=null!=this.ld[e]?fh.oe(a,b+5,Uc(this.ld[e]),this.ld[e],this.ld[e+1],f):this.ld[e+1],e+=2,d+=1);else break;return new gh(a,l+1,k)}b=Array(2*(l+4));ge(this.ld,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;ge(this.ld,2*k,b,2*(k+1),2*(l-k));f.val=!0;a=this.Ye(a);a.ld=b;a.Md|=h;return a}l=this.ld[2*k];h=this.ld[2*k+1];if(null==l)return l=h.oe(a,b+5,c,d,e,f),l===h?this:$g(this,a,2*k+1,l);if(Xg(d,l))return e===h?this:$g(this,a,2*k+1,e);f.val=!0;f=b+5;d=hh?hh(a,f,l,h,c,d,e):ih.call(null,a,f,l,h,c,d,e);e=
2*k;k=2*k+1;a=this.Ye(a);a.ld[e]=null;a.ld[k]=d;return a};
g.ne=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=De(this.Md&f-1);if(0===(this.Md&f)){var k=De(this.Md);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=fh.ne(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.Md>>>c&1)?c+=1:(h[c]=null!=this.ld[d]?fh.ne(a+5,Uc(this.ld[d]),this.ld[d],this.ld[d+1],e):this.ld[d+1],d+=2,c+=1);else break;return new gh(null,k+1,h)}a=Array(2*(k+1));
ge(this.ld,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;ge(this.ld,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new ch(null,this.Md|f,a)}var l=this.ld[2*h];f=this.ld[2*h+1];if(null==l)return k=f.ne(a+5,b,c,d,e),k===f?this:new ch(null,this.Md,Yg(this.ld,2*h+1,k));if(Xg(c,l))return d===f?this:new ch(null,this.Md,Yg(this.ld,2*h+1,d));e.val=!0;e=this.Md;k=this.ld;a+=5;a=jh?jh(a,l,f,b,c,d):ih.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=rb(k);d[c]=null;d[h]=a;return new ch(null,e,d)};
g.uf=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.Md&e))return d;var f=De(this.Md&e-1);e=this.ld[2*f];f=this.ld[2*f+1];return null==e?f.uf(a+5,b,c,d):Xg(c,e)?new jg(e,f):d};g.wf=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.Md&d))return this;var e=De(this.Md&d-1),f=this.ld[2*e],h=this.ld[2*e+1];return null==f?(a=h.wf(a+5,b,c),a===h?this:null!=a?new ch(null,this.Md,Yg(this.ld,2*e+1,a)):this.Md===d?null:new ch(null,this.Md^d,Zg(this.ld,e))):Xg(c,f)?new ch(null,this.Md^d,Zg(this.ld,e)):this};
g.de=function(){return new bh(this.ld)};var fh=new ch(null,0,[]);function kh(a){this.ld=a;this.i=0;this.qe=null}kh.prototype.hasNext=function(){for(var a=this.ld.length;;){if(null!=this.qe&&this.qe.hasNext())return!0;if(this.i<a){var b=this.ld[this.i];this.i+=1;null!=b&&(this.qe=Jc(b))}else return!1}};kh.prototype.next=function(){if(this.hasNext())return this.qe.next();throw Error("No such element");};kh.prototype.remove=function(){return Error("Unsupported operation")};
function gh(a,b,c){this.Ld=a;this.pd=b;this.ld=c;this.vd=131072;this.md=0}g=gh.prototype;g.Ye=function(a){return a===this.Ld?this:new gh(a,this.pd,rb(this.ld))};g.vf=function(){return lh?lh(this.ld):mh.call(null,this.ld)};g.xf=function(a,b){for(var c=this.ld.length,d=0;;)if(d<c){var e=this.ld[d];if(null!=e){b=e.xf(a,b);if(md(b))return b;d+=1}else d+=1}else return b};g.Ze=function(a,b,c,d){var e=this.ld[b>>>a&31];return null!=e?e.Ze(a+5,b,c,d):d};
g.oe=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.ld[h];if(null==k)return a=$g(this,a,h,fh.oe(a,b+5,c,d,e,f)),a.pd+=1,a;b=k.oe(a,b+5,c,d,e,f);return b===k?this:$g(this,a,h,b)};g.ne=function(a,b,c,d,e){var f=b>>>a&31,h=this.ld[f];if(null==h)return new gh(null,this.pd+1,Yg(this.ld,f,fh.ne(a+5,b,c,d,e)));a=h.ne(a+5,b,c,d,e);return a===h?this:new gh(null,this.pd,Yg(this.ld,f,a))};g.uf=function(a,b,c,d){var e=this.ld[b>>>a&31];return null!=e?e.uf(a+5,b,c,d):d};
g.wf=function(a,b,c){var d=b>>>a&31,e=this.ld[d];if(null!=e){a=e.wf(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.pd)a:{e=this.ld;a=e.length;b=Array(2*(this.pd-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new ch(null,h,b);break a}}else d=new gh(null,this.pd-1,Yg(this.ld,d,a));else d=new gh(null,this.pd,Yg(this.ld,d,a));return d}return this};g.de=function(){return new kh(this.ld)};
function nh(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Xg(c,a[d]))return d;d+=2}else return-1}function oh(a,b,c,d){this.Ld=a;this.Oe=b;this.pd=c;this.ld=d;this.vd=131072;this.md=0}g=oh.prototype;g.Ye=function(a){if(a===this.Ld)return this;var b=Array(2*(this.pd+1));ge(this.ld,0,b,0,2*this.pd);return new oh(a,this.Oe,this.pd,b)};g.vf=function(){return dh?dh(this.ld):eh.call(null,this.ld)};g.xf=function(a,b){return ah(this.ld,a,b)};
g.Ze=function(a,b,c,d){a=nh(this.ld,this.pd,c);return 0>a?d:Xg(c,this.ld[a])?this.ld[a+1]:d};
g.oe=function(a,b,c,d,e,f){if(c===this.Oe){b=nh(this.ld,this.pd,d);if(-1===b){if(this.ld.length>2*this.pd)return b=2*this.pd,c=2*this.pd+1,a=this.Ye(a),a.ld[b]=d,a.ld[c]=e,f.val=!0,a.pd+=1,a;c=this.ld.length;b=Array(c+2);ge(this.ld,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.pd+1;a===this.Ld?(this.ld=b,this.pd=d,a=this):a=new oh(this.Ld,this.Oe,d,b);return a}return this.ld[b+1]===e?this:$g(this,a,b+1,e)}return(new ch(a,1<<(this.Oe>>>b&31),[null,this,null,null])).oe(a,b,c,d,e,f)};
g.ne=function(a,b,c,d,e){return b===this.Oe?(a=nh(this.ld,this.pd,c),-1===a?(a=2*this.pd,b=Array(a+2),ge(this.ld,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new oh(null,this.Oe,this.pd+1,b)):H.jd(this.ld[a+1],d)?this:new oh(null,this.Oe,this.pd,Yg(this.ld,a+1,d))):(new ch(null,1<<(this.Oe>>>a&31),[null,this])).ne(a,b,c,d,e)};g.uf=function(a,b,c,d){a=nh(this.ld,this.pd,c);return 0>a?d:Xg(c,this.ld[a])?new jg(this.ld[a],this.ld[a+1]):d};
g.wf=function(a,b,c){a=nh(this.ld,this.pd,c);return-1===a?this:1===this.pd?null:new oh(null,this.Oe,this.pd-1,Zg(this.ld,Ce(a)))};g.de=function(){return new bh(this.ld)};function ih(a){switch(arguments.length){case 6:return jh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return hh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}
function jh(a,b,c,d,e,f){var h=Uc(b);if(h===d)return new oh(null,h,2,[b,c,e,f]);var k=new Wg;return fh.ne(a,h,b,c,k).ne(a,d,e,f,k)}function hh(a,b,c,d,e,f,h){var k=Uc(c);if(k===e)return new oh(null,k,2,[c,d,f,h]);var l=new Wg;return fh.oe(a,b,k,c,d,l).oe(a,b,e,f,h,l)}function ph(a,b,c,d,e){this.meta=a;this.re=b;this.i=c;this.s=d;this.qd=e;this.md=32374988;this.vd=0}g=ph.prototype;g.toString=function(){return Lc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){if(null==this.s){var a=this.re,b=this.i+2;return qh?qh(a,b,null):eh.call(null,a,b,null)}a=this.re;b=this.i;var c=G(this.s);return qh?qh(a,b,c):eh.call(null,a,b,c)};
g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cd};g.Xd=function(a,b){return Dd(b,this)};g.Yd=function(a,b,c){return Gd(b,c,this)};g.Vd=function(){return null==this.s?new jg(this.re[this.i],this.re[this.i+1]):F(this.s)};
g.Zd=function(){var a=this,b=null==a.s?function(){var c=a.re,d=a.i+2;return qh?qh(c,d,null):eh.call(null,c,d,null)}():function(){var c=a.re,d=a.i,e=G(a.s);return qh?qh(c,d,e):eh.call(null,c,d,e)}();return null!=b?b:cd};g.Hd=function(){return this};g.Id=function(a,b){return b===this.meta?this:new ph(b,this.re,this.i,this.s,this.qd)};g.Nd=function(a,b){return Bd(b,this)};ph.prototype[qb]=function(){return ed(this)};
function eh(a){switch(arguments.length){case 1:return dh(arguments[0]);case 3:return qh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function dh(a){return qh(a,0,null)}function qh(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new ph(null,a,b,null,null);var d=a[b+1];if(t(d)&&(d=d.vf(),t(d)))return new ph(null,a,b+2,d,null);b+=2}else return null;else return new ph(null,a,b,c,null)}
function rh(a,b,c,d,e){this.meta=a;this.re=b;this.i=c;this.s=d;this.qd=e;this.md=32374988;this.vd=0}g=rh.prototype;g.toString=function(){return Lc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.meta};g.Ud=function(){var a=this.re,b=this.i,c=G(this.s);return sh?sh(a,b,c):mh.call(null,a,b,c)};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};
g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cd};g.Xd=function(a,b){return Dd(b,this)};g.Yd=function(a,b,c){return Gd(b,c,this)};g.Vd=function(){return F(this.s)};g.Zd=function(){var a=this.re;var b=this.i,c=G(this.s);a=sh?sh(a,b,c):mh.call(null,a,b,c);return null!=a?a:cd};g.Hd=function(){return this};g.Id=function(a,b){return b===this.meta?this:new rh(b,this.re,this.i,this.s,this.qd)};g.Nd=function(a,b){return Bd(b,this)};rh.prototype[qb]=function(){return ed(this)};
function mh(a){switch(arguments.length){case 1:return lh(arguments[0]);case 3:return sh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function lh(a){return sh(a,0,null)}function sh(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(t(d)&&(d=d.vf(),t(d)))return new rh(null,a,b+1,d,null);b+=1}else return null;else return new rh(null,a,b,c,null)}function th(a,b){this.$d=a;this.lg=b;this.Wf=!1}
th.prototype.hasNext=function(){return!this.Wf||this.lg.hasNext()};th.prototype.next=function(){if(this.Wf)return this.lg.next();this.Wf=!0;return new jg(null,this.$d)};th.prototype.remove=function(){return Error("Unsupported operation")};function uh(a,b,c,d,e,f){this.meta=a;this.pd=b;this.root=c;this.ce=d;this.$d=e;this.qd=f;this.md=16123663;this.vd=139268}g=uh.prototype;g.ef=function(a,b){return null==b?this.ce?new jg(null,this.$d):null:null==this.root?null:this.root.uf(0,Uc(b),b,null)};
g.toString=function(){return Lc(this)};g.keys=function(){return ed(Qg.hd?Qg.hd(this):Qg.call(null,this))};g.entries=function(){return new Lg(C(C(this)))};g.values=function(){return ed(Rg.hd?Rg.hd(this):Rg.call(null,this))};g.has=function(a){return le(this,a)};g.get=function(a,b){return this.wd(null,a,b)};
g.forEach=function(a){for(var b=C(this),c=null,d=0,e=0;;)if(e<d){var f=c.zd(null,e),h=Q(f,0,null);f=Q(f,1,null);a.jd?a.jd(f,h):a.call(null,f,h);e+=1}else if(b=C(b))fe(b)?(c=Cc(b),b=Dc(b),h=c,d=J(c),c=h):(c=F(b),h=Q(c,0,null),f=Q(c,1,null),a.jd?a.jd(f,h):a.call(null,f,h),b=G(b),c=null,d=0),e=0;else return null};g.Kd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){return null==b?this.ce?this.$d:c:null==this.root?c:this.root.Ze(0,Uc(b),b,c)};
g.Se=function(a,b,c){a=this.ce?b.kd?b.kd(c,null,this.$d):b.call(null,c,null,this.$d):c;md(a)?b=$b(a):null!=this.root?(b=this.root.xf(b,a),b=md(b)?nd.hd?nd.hd(b):nd.call(null,b):b):b=a;return b};g.de=function(){var a=this.root?Jc(this.root):lf();return this.ce?new th(this.$d,a):a};g.Gd=function(){return this.meta};g.Jd=function(){return this.pd};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=hd(this)};g.Bd=function(a,b){return Jg(this,b)};
g.df=function(){return new vh(this.root,this.pd,this.ce,this.$d)};g.Od=function(){return cc(Ug,this.meta)};g.ff=function(a,b){if(null==b)return this.ce?new uh(this.meta,this.pd-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.wf(0,Uc(b),b);return a===this.root?this:new uh(this.meta,this.pd-1,a,this.ce,this.$d,null)};
g.he=function(a,b,c){if(null==b)return this.ce&&c===this.$d?this:new uh(this.meta,this.ce?this.pd:this.pd+1,this.root,!0,c,null);a=new Wg;b=(null==this.root?fh:this.root).ne(0,Uc(b),b,c,a);return b===this.root?this:new uh(this.meta,a.val?this.pd+1:this.pd,b,this.ce,this.$d,null)};g.Hd=function(){if(0<this.pd){var a=null!=this.root?this.root.vf():null;return this.ce?Bd(new jg(null,this.$d),a):a}return null};g.Id=function(a,b){return b===this.meta?this:new uh(b,this.pd,this.root,this.ce,this.$d,this.qd)};
g.Nd=function(a,b){if(ee(b))return this.he(null,Fb.jd(b,0),Fb.jd(b,1));a=this;for(b=C(b);;){if(null==b)return a;var c=F(b);if(ee(c))a=Nb(a,Fb.jd(c,0),Fb.jd(c,1)),b=G(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Kd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Kd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.hd=function(a){return this.Kd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};var Ug=new uh(null,0,null,!1,null,id);
uh.prototype[qb]=function(){return ed(this)};function vh(a,b,c,d){this.Ld={};this.root=a;this.count=b;this.ce=c;this.$d=d;this.md=259;this.vd=56}function wh(a,b,c){if(a.Ld){if(null==b)a.$d!==c&&(a.$d=c),a.ce||(a.count+=1,a.ce=!0);else{var d=new Wg;b=(null==a.root?fh:a.root).oe(a.Ld,0,Uc(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=vh.prototype;g.Jd=function(){if(this.Ld)return this.count;throw Error("count after persistent!");};
g.Kd=function(a,b){return null==b?this.ce?this.$d:null:null==this.root?null:this.root.Ze(0,Uc(b),b)};g.wd=function(a,b,c){return null==b?this.ce?this.$d:c:null==this.root?c:this.root.Ze(0,Uc(b),b,c)};
g.hf=function(a,b){a:if(this.Ld)if(rg(b))a=wh(this,sg.hd?sg.hd(b):sg.call(null,b),tg.hd?tg.hd(b):tg.call(null,b));else if(ee(b))a=wh(this,b.hd?b.hd(0):b.call(null,0),b.hd?b.hd(1):b.call(null,1));else for(a=C(b),b=this;;){var c=F(a);if(t(c))a=G(a),b=wh(b,sg.hd?sg.hd(c):sg.call(null,c),tg.hd?tg.hd(c):tg.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.qf=function(){if(this.Ld){this.Ld=null;var a=new uh(null,this.count,this.root,this.ce,this.$d,null)}else throw Error("persistent! called twice");return a};g.gf=function(a,b,c){return wh(this,b,c)};g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Kd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Kd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();
g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};g.hd=function(a){return this.Kd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};var xh=function xh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ad(c.slice(0),0,null):null;return xh.od(c)};xh.od=function(a){for(var b=C(a),c=vc(Ug);;)if(b){a=G(G(b));var d=F(b);b=Hd(b);c=yc(c,d,b);b=a}else return xc(c)};xh.ud=0;xh.td=function(a){return this.od(C(a))};
var yh=function yh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ad(c.slice(0),0,null):null;return yh.od(c)};yh.od=function(a){a=a instanceof ad&&0===a.i?a.ld:sb(a);return Pd(a)};yh.ud=0;yh.td=function(a){return this.od(C(a))};function zh(a,b){this.Ad=a;this.se=b;this.md=32374988;this.vd=0}g=zh.prototype;g.toString=function(){return Lc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.se};g.Ud=function(){var a=(null!=this.Ad?this.Ad.md&128||n===this.Ad.nf||(this.Ad.md?0:v(Jb,this.Ad)):v(Jb,this.Ad))?this.Ad.Ud(null):G(this.Ad);return null==a?null:new zh(a,null)};g.Dd=function(){return fd(this)};
g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cd};g.Xd=function(a,b){return Dd(b,this)};g.Yd=function(a,b,c){return Gd(b,c,this)};g.Vd=function(){return this.Ad.Vd(null).key};g.Zd=function(){var a=(null!=this.Ad?this.Ad.md&128||n===this.Ad.nf||(this.Ad.md?0:v(Jb,this.Ad)):v(Jb,this.Ad))?this.Ad.Ud(null):G(this.Ad);return null!=a?new zh(a,null):cd};g.Hd=function(){return this};g.Id=function(a,b){return b===this.se?this:new zh(this.Ad,b)};g.Nd=function(a,b){return Bd(b,this)};
zh.prototype[qb]=function(){return ed(this)};function Qg(a){return(a=C(a))?new zh(a,null):null}function sg(a){return Rb(a)}function Ah(a,b){this.Ad=a;this.se=b;this.md=32374988;this.vd=0}g=Ah.prototype;g.toString=function(){return Lc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();g.Gd=function(){return this.se};g.Ud=function(){var a=(null!=this.Ad?this.Ad.md&128||n===this.Ad.nf||(this.Ad.md?0:v(Jb,this.Ad)):v(Jb,this.Ad))?this.Ad.Ud(null):G(this.Ad);return null==a?null:new Ah(a,null)};g.Dd=function(){return fd(this)};
g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cd};g.Xd=function(a,b){return Dd(b,this)};g.Yd=function(a,b,c){return Gd(b,c,this)};g.Vd=function(){return this.Ad.Vd(null).val};g.Zd=function(){var a=(null!=this.Ad?this.Ad.md&128||n===this.Ad.nf||(this.Ad.md?0:v(Jb,this.Ad)):v(Jb,this.Ad))?this.Ad.Ud(null):G(this.Ad);return null!=a?new Ah(a,null):cd};g.Hd=function(){return this};g.Id=function(a,b){return b===this.se?this:new Ah(this.Ad,b)};g.Nd=function(a,b){return Bd(b,this)};
Ah.prototype[qb]=function(){return ed(this)};function Rg(a){return(a=C(a))?new Ah(a,null):null}function tg(a){return Sb(a)}var Bh=function Bh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ad(c.slice(0),0,null):null;return Bh.od(c)};Bh.od=function(a){return t(sf(xe,a))?ve(function(b,c){return Jd.jd(t(b)?b:nf,c)},a):null};Bh.ud=0;Bh.td=function(a){return this.od(C(a))};function Ch(a){this.iter=a}Ch.prototype.hasNext=function(){return this.iter.hasNext()};
Ch.prototype.next=function(){if(this.iter.hasNext())return this.iter.next().key;throw Error("No such element");};Ch.prototype.remove=function(){return Error("Unsupported operation")};function Dh(a,b,c){this.meta=a;this.Pe=b;this.qd=c;this.md=15077647;this.vd=139268}g=Dh.prototype;g.toString=function(){return Lc(this)};g.keys=function(){return ed(C(this))};g.entries=function(){return new Mg(C(C(this)))};g.values=function(){return ed(C(this))};g.has=function(a){return le(this,a)};
g.forEach=function(a){for(var b=C(this),c=null,d=0,e=0;;)if(e<d){var f=c.zd(null,e),h=Q(f,0,null);f=Q(f,1,null);a.jd?a.jd(f,h):a.call(null,f,h);e+=1}else if(b=C(b))fe(b)?(c=Cc(b),b=Dc(b),h=c,d=J(c),c=h):(c=F(b),h=Q(c,0,null),f=Q(c,1,null),a.jd?a.jd(f,h):a.call(null,f,h),b=G(b),c=null,d=0),e=0;else return null};g.Kd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){a=Ob(this.Pe,b);return t(a)?Rb(a):c};g.de=function(){return new Ch(Jc(this.Pe))};g.Gd=function(){return this.meta};
g.Jd=function(){return yb(this.Pe)};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=hd(this)};g.Bd=function(a,b){if(a=ae(b)){var c=J(this)===J(b);if(c)try{return we(function(){return function(d,e){return(d=le(b,e))?d:new kd}}(c,a,this),!0,this.Pe)}catch(d){if(d instanceof Error)return!1;throw d;}else return c}else return a};g.df=function(){return new Eh(vc(this.Pe))};g.Od=function(){return cc(Fh,this.meta)};g.dg=function(a,b){return new Dh(this.meta,Qb(this.Pe,b),null)};g.Hd=function(){return Qg(this.Pe)};
g.Id=function(a,b){return b===this.meta?this:new Dh(b,this.Pe,this.qd)};g.Nd=function(a,b){return new Dh(this.meta,Od.kd(this.Pe,b,null),null)};g.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.Kd(null,c);case 3:return this.wd(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.jd=function(b,c){return this.Kd(null,c)};a.kd=function(b,c,d){return this.wd(null,c,d)};return a}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};
g.hd=function(a){return this.Kd(null,a)};g.jd=function(a,b){return this.wd(null,a,b)};var Fh=new Dh(null,nf,id);function Gh(a){for(var b=a.length,c=vc(Fh),d=0;;)if(d<b)wc(c,a[d]),d+=1;else break;return xc(c)}Dh.prototype[qb]=function(){return ed(this)};function Eh(a){this.Qe=a;this.vd=136;this.md=259}g=Eh.prototype;g.hf=function(a,b){this.Qe=yc(this.Qe,b,null);return this};g.qf=function(){return new Dh(null,xc(this.Qe),null)};g.Jd=function(){return J(this.Qe)};
g.Kd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){return Mb.kd(this.Qe,b,he)===he?c:b};g.call=function(){function a(d,e,f){return Mb.kd(this.Qe,e,he)===he?f:e}function b(d,e){return Mb.kd(this.Qe,e,he)===he?null:e}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+(arguments.length-1));};c.jd=b;c.kd=a;return c}();g.apply=function(a,b){return this.call.apply(this,[this].concat(rb(b)))};
g.hd=function(a){return Mb.kd(this.Qe,a,he)===he?null:a};g.jd=function(a,b){return Mb.kd(this.Qe,a,he)===he?b:a};function Hh(a){if(ae(a))return Ud(a,null);a=C(a);if(null==a)return Fh;if(a instanceof ad&&0===a.i)return Gh(a.ld);for(var b=vc(Fh);;)if(null!=a){var c=G(a);b=wc(b,Hb(a));a=c}else return xc(b)}function Ih(a){for(var b=Kd;;)if(G(a))b=Jd.jd(b,F(a)),a=G(a);else return C(b)}
function Le(a){if(null!=a&&(a.vd&4096||n===a.ag))return Ec(a);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",y.hd(a)].join(""));}var Jh=function Jh(a){switch(arguments.length){case 2:return Jh.jd(arguments[0],arguments[1]);case 3:return Jh.kd(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(3),0,null);return Jh.od(arguments[0],arguments[1],arguments[2],c)}};Jh.jd=function(a,b){return b};
Jh.kd=function(a,b,c){return(a.hd?a.hd(b):a.call(null,b))>(a.hd?a.hd(c):a.call(null,c))?b:c};Jh.od=function(a,b,c,d){return tb(function(e,f){return Jh.kd(a,e,f)},Jh.kd(a,b,c),d)};Jh.td=function(a){var b=F(a),c=G(a);a=F(c);var d=G(c);c=F(d);d=G(d);return this.od(b,a,c,d)};Jh.ud=3;function Kh(a,b,c){this.start=a;this.step=b;this.count=c;this.md=82;this.vd=0}g=Kh.prototype;g.Jd=function(){return this.count};g.Vd=function(){return this.start};g.zd=function(a,b){return this.start+b*this.step};
g.Td=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.Rf=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Kh(this.start+this.step,this.step,this.count-1)};function Lh(a,b,c){this.i=a;this.end=b;this.step=c}Lh.prototype.hasNext=function(){return 0<this.step?this.i<this.end:this.i>this.end};Lh.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Mh(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.yd=e;this.Bf=f;this.qd=h;this.md=32375006;this.vd=140800}g=Mh.prototype;g.toString=function(){return Lc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return I(this,b,0);case 2:return I(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.hd=function(b){return I(this,b,0)};a.jd=function(b,c){return I(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return xd(this,c,J(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return xd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.hd=a;b.jd=function(c,d){return xd(this,c,d)};return b}();function Nh(a){if(null==a.yd){var b=a.Jd(null);32<b?(a.Bf=new Mh(null,a.start+32*a.step,a.end,a.step,null,null,null),a.yd=new Kh(a.start,a.step,32)):a.yd=new Kh(a.start,a.step,b)}}
g.zd=function(a,b){if(0<=b&&b<this.Jd(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Td=function(a,b,c){return 0<=b&&b<this.Jd(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.de=function(){return new Lh(this.start,this.end,this.step)};g.Gd=function(){return this.meta};
g.Ud=function(){return 0<this.step?this.start+this.step<this.end?new Mh(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Mh(null,this.start+this.step,this.end,this.step,null,null,null):null};g.Jd=function(){return Math.ceil((this.end-this.start)/this.step)};g.Dd=function(){var a=this.qd;return null!=a?a:this.qd=a=fd(this)};g.Bd=function(a,b){return Ad(this,b)};g.Od=function(){return cd};g.Xd=function(a,b){return od(this,b)};
g.Yd=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.jd?b.jd(c,a):b.call(null,c,a);if(md(c))return $b(c);a+=this.step}else return c};g.Vd=function(){return this.start};g.Zd=function(){var a=this.Ud(null);return null==a?cd:a};g.Hd=function(){return this};g.Df=function(){Nh(this);return this.yd};g.bf=function(){Nh(this);return null==this.Bf?cd:this.Bf};g.Id=function(a,b){return b===this.meta?this:new Mh(b,this.start,this.end,this.step,this.yd,this.Bf,this.qd)};
g.Nd=function(a,b){return Bd(b,this)};g.Sf=function(){return C(this.bf(null))};Mh.prototype[qb]=function(){return ed(this)};function Oh(a){return 0>=a?cd:new Mh(null,0,a,1,null,null,null)}function Ph(a){a:for(var b=a;;)if(b=C(b))b=G(b);else break a;return a}function Qh(a,b){if("string"===typeof b)return a=a.exec(b),H.jd(F(a),b)?1===J(a)?F(a):qg(a):null;throw new TypeError("re-matches must match against a string.");}
function Rh(a,b,c,d,e,f,h){var k=ab;ab=null==ab?null:ab-1;try{if(null!=ab&&0>ab)return qc(a,"#");qc(a,c);if(0===ib.hd(f))C(h)&&qc(a,function(){var w=Sh.hd(f);return t(w)?w:"..."}());else{if(C(h)){var l=F(h);b.kd?b.kd(l,a,f):b.call(null,l,a,f)}for(var m=G(h),q=ib.hd(f)-1;;)if(!m||null!=q&&0===q){C(m)&&0===q&&(qc(a,d),qc(a,function(){var w=Sh.hd(f);return t(w)?w:"..."}()));break}else{qc(a,d);var r=F(m);c=a;h=f;b.kd?b.kd(r,c,h):b.call(null,r,c,h);var u=G(m);c=q-1;m=u;q=c}}return qc(a,e)}finally{ab=k}}
function Th(a,b){b=C(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.zd(null,e);qc(a,f);e+=1}else if(b=C(b))c=b,fe(c)?(b=Cc(c),d=Dc(c),c=b,f=J(b),b=d,d=f):(f=F(c),qc(a,f),b=G(c),c=null,d=0),e=0;else return null}var Uh={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Vh(a){return['"',y.hd(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Uh[b]})),'"'].join("")}function Wh(a,b){return(a=je(A.jd(a,fb)))?(a=null!=b?b.md&131072||n===b.zg?!0:!1:!1)?null!=Vd(b):a:a}
function Xh(a,b,c){if(null==a)return qc(b,"nil");if(Wh(c,a)){qc(b,"^");var d=Vd(a);Yh.kd?Yh.kd(d,b,c):Yh.call(null,d,b,c);qc(b," ")}if(a.fg)return a.Dg(b);if(null!=a?a.md&2147483648||n===a.Pd||(a.md?0:v(rc,a)):v(rc,a))return sc(a,b,c);if(!0===a||!1===a)return qc(b,y.hd(a));if("number"===typeof a)return qc(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":y.hd(a));if(null!=a&&a.constructor===Object)return qc(b,"#js "),d=Cf.jd(function(f){return new jg(null!=
Qh(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,f)?Je.hd(f):f,a[f])},La(a)),Zh.sd?Zh.sd(d,Yh,b,c):Zh.call(null,d,Yh,b,c);if(lb(a))return Rh(b,Yh,"#js ["," ","]",c,a);if("string"==typeof a)return t(eb.hd(c))?qc(b,Vh(a)):qc(b,a);if(ea(a)){var e=a.name;c=t(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Th(b,Cd(["#object[",c,"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=y.hd(f);;)if(J(f)<h)f=["0",f].join("");else return f},Th(b,Cd(['#inst "',y.hd(a.getUTCFullYear()),
"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Th(b,Cd(['#"',a.source,'"']));if(t(function(){var f=null==a?null:a.constructor;return null==f?null:f.Kf}()))return Th(b,Cd(["#object[",a.constructor.Kf.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=t(function(){var f=null==e;return f?f:
/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Th(b,Cd(["#object[",c,"]"])):Th(b,Cd(["#object[",c," ",y.hd(a),"]"]))}function Yh(a,b,c){var d=$h.hd(c);return t(d)?(c=Od.kd(c,ai,Xh),d.kd?d.kd(a,b,c):d.call(null,a,b,c)):Xh(a,b,c)}
function bi(a,b){var c=new Va;a:{var d=new Kc(c);Yh(F(a),d,b);a=C(G(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.zd(null,h);qc(d," ");Yh(k,d,b);h+=1}else if(a=C(a))e=a,fe(e)?(a=Cc(e),f=Dc(e),e=a,k=J(a),a=f,f=k):(k=F(e),qc(d," "),Yh(k,d,b),a=G(e),e=null,f=0),h=0;else break a}return c}function ci(a){var b=cb();return Zd(a)?"":y.hd(bi(a,b))}
function di(a,b,c,d,e){return Rh(d,function(f,h,k){var l=Rb(f);c.kd?c.kd(l,h,k):c.call(null,l,h,k);qc(h," ");f=Sb(f);return c.kd?c.kd(f,h,k):c.call(null,f,h,k)},[y.hd(a),"{"].join(""),", ","}",e,C(b))}function Zh(a,b,c,d){var e=(ce(a),null),f=Q(e,0,null);e=Q(e,1,null);return t(f)?di(["#:",y.hd(f)].join(""),e,b,c,d):di(null,a,b,c,d)}ad.prototype.Pd=n;ad.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};Me.prototype.Pd=n;Me.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};
jg.prototype.Pd=n;jg.prototype.Cd=function(a,b,c){return Rh(b,Yh,"["," ","]",c,this)};ph.prototype.Pd=n;ph.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};Og.prototype.Pd=n;Og.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};vg.prototype.Pd=n;vg.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};Ge.prototype.Pd=n;Ge.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};zd.prototype.Pd=n;
zd.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};uh.prototype.Pd=n;uh.prototype.Cd=function(a,b,c){return Zh(this,Yh,b,c)};rh.prototype.Pd=n;rh.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};xg.prototype.Pd=n;xg.prototype.Cd=function(a,b,c){return Rh(b,Yh,"["," ","]",c,this)};Dh.prototype.Pd=n;Dh.prototype.Cd=function(a,b,c){return Rh(b,Yh,"#{"," ","}",c,this)};Re.prototype.Pd=n;Re.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};
yf.prototype.Pd=n;yf.prototype.Cd=function(a,b,c){qc(b,"#object[cljs.core.Atom ");Yh(new p(null,1,[ei,this.state],null),b,c);return qc(b,"]")};Ah.prototype.Pd=n;Ah.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};Gf.prototype.Pd=n;Gf.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};S.prototype.Pd=n;S.prototype.Cd=function(a,b,c){return Rh(b,Yh,"["," ","]",c,this)};Eg.prototype.Pd=n;Eg.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};
Ee.prototype.Pd=n;Ee.prototype.Cd=function(a,b){return qc(b,"()")};Fg.prototype.Pd=n;Fg.prototype.Cd=function(a,b,c){return Rh(b,Yh,"#queue ["," ","]",c,C(this))};p.prototype.Pd=n;p.prototype.Cd=function(a,b,c){return Zh(this,Yh,b,c)};Mh.prototype.Pd=n;Mh.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};zh.prototype.Pd=n;zh.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};Ld.prototype.Pd=n;Ld.prototype.Cd=function(a,b,c){return Rh(b,Yh,"("," ",")",c,this)};
Yc.prototype.cf=n;Yc.prototype.Ue=function(a,b){if(b instanceof Yc)return Xc(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};B.prototype.cf=n;B.prototype.Ue=function(a,b){if(b instanceof B)return He(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};xg.prototype.cf=n;xg.prototype.Ue=function(a,b){if(ee(b))return ne(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};S.prototype.cf=n;
S.prototype.Ue=function(a,b){if(ee(b))return ne(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};jg.prototype.cf=n;jg.prototype.Ue=function(a,b){if(ee(b))return ne(this,b);throw Error(["Cannot compare ",y.hd(this)," to ",y.hd(b)].join(""));};var fi=null;function gi(){null==fi&&(fi=zf(0));return Zc.hd([y.hd("reagent"),y.hd(Bf.jd(fi,jd))].join(""))}function hi(){}
var ii=function ii(a){if(null!=a&&null!=a.tg)return a.tg(a);var c=ii[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=ii._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IEncodeJS.-clj-\x3ejs",a);},ji=function ji(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ad(c.slice(1),0,null):null;return ji.od(arguments[0],c)};
ji.od=function(a,b){var c=null!=b&&(b.md&64||n===b.Ed)?df(xh,b):b,d=A.kd(c,ki,Le),e=function(){return function(h){var k=f;return(null!=h?n===h.sg||(h.Uf?0:v(hi,h)):v(hi,h))?ii(h):"string"===typeof h||"number"===typeof h||h instanceof B||h instanceof Yc?k.hd?k.hd(h):k.call(null,h):ci(Cd([h]))}}(b,c,c,d),f=function(h,k,l,m){return function u(r){if(null==r)return null;if(null!=r?n===r.sg||(r.Uf?0:v(hi,r)):v(hi,r))return ii(r);if(r instanceof B)return m.hd?m.hd(r):m.call(null,r);if(r instanceof Yc)return y.hd(r);
if(ce(r)){var w={};r=C(r);for(var x=null,z=0,E=0;;)if(E<z){var R=x.zd(null,E),X=Q(R,0,null),Y=Q(R,1,null);R=w;X=e(X);Y=u(Y);R[X]=Y;E+=1}else if(r=C(r))fe(r)?(z=Cc(r),r=Dc(r),x=z,z=J(z)):(x=F(r),z=Q(x,0,null),E=Q(x,1,null),x=w,z=e(z),E=u(E),x[z]=E,r=G(r),x=null,z=0),E=0;else break;return w}if($d(r)){w=[];r=C(Cf.jd(u,r));x=null;for(E=z=0;;)if(E<z)R=x.zd(null,E),w.push(R),E+=1;else if(r=C(r))x=r,fe(x)?(r=Cc(x),E=Dc(x),x=r,z=J(r),r=E):(r=F(x),w.push(r),r=G(x),x=null,z=0),E=0;else break;return w}return r}}(b,
c,c,d);return f(a)};ji.ud=1;ji.td=function(a){var b=F(a);a=G(a);return this.od(b,a)};function li(){}var mi=function mi(a,b){if(null!=a&&null!=a.rg)return a.rg(a,b);var d=mi[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=mi._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("IEncodeClojure.-js-\x3eclj",a);};
function ni(a){var b=Cd([oi,!0]),c=null!=b&&(b.md&64||n===b.Ed)?df(xh,b):b,d=A.jd(c,oi);return function(e,f,h,k){return function q(m){return(null!=m?n===m.Og||(m.Uf?0:v(li,m)):v(li,m))?mi(m,df(yh,b)):ie(m)?Ph(Cf.jd(q,m)):rg(m)?new jg(q(Rb(m)),q(Sb(m))):$d(m)?Nf.kd(Md(m),Cf.hd(q),m):lb(m)?xc(tb(function(){return function(r,u){return Xe.jd(r,q(u))}}(e,f,h,k),vc(Kd),m)):nb(m)===Object?xc(tb(function(r,u,w,x){return function(z,E){var R=x.hd?x.hd(E):x.call(null,E);E=q(null!==m&&E in m?m[E]:void 0);return yc(z,
R,E)}}(e,f,h,k),vc(nf),La(m))):m}}(b,c,d,t(d)?Je:y)(a)}function pi(a,b){var c=Error(a);this.message=a;this.data=b;this.cause=null;this.name=c.name;this.description=c.description;this.number=c.number;this.fileName=c.fileName;this.lineNumber=c.lineNumber;this.columnNumber=c.columnNumber;this.stack=c.stack;return this}pi.prototype.__proto__=Error.prototype;pi.prototype.Pd=n;
pi.prototype.Cd=function(a,b,c){qc(b,"#error {:message ");Yh(this.message,b,c);t(this.data)&&(qc(b,", :data "),Yh(this.data,b,c));t(this.cause)&&(qc(b,", :cause "),Yh(this.cause,b,c));return qc(b,"}")};pi.prototype.toString=function(){return Lc(this)};function qi(a,b){return new pi(a,b)}if("undefined"===typeof Wa||"undefined"===typeof Xa||"undefined"===typeof ri)var ri=null;"undefined"!==typeof console&&jb();
if("undefined"===typeof Wa||"undefined"===typeof Xa||"undefined"===typeof si)var si=function(){throw Error("cljs.core/*eval* not bound");};jb();var ti=new B(null,"idle","idle",-2007156861),ui=new B(null,"picked-piece","picked-piece",1575215221),ck=new B(null,"div.col-xl-auto","div.col-xl-auto",1282494918),vi=new B(null,"button.btn.btn-link","button.btn.btn-link",-435000034),wi=new B(null,"game","game",-441523833),xi=new B(null,"next-game-move-number","next-game-move-number",1341022096),ei=new B(null,"val","val",128701612),yi=new B(null,"delete-fb-doc","delete-fb-doc",771075227),Ai=new B(null,"ms","ms",-1152709733),Bi=new B(null,"render",
"render",-1408033454),Ci=new B(null,"background-image","background-image",-1142314704),Di=new B(null,"add-fb-doc","add-fb-doc",-1375540194),Ei=new B(null,"auto-run","auto-run",1958400437),Fi=new B(null,"left","left",-399115937),Gi=new B(null,"board","board",-1907017633),Hi=new B(null,"start-game","start-game",115628303),Ii=new B(null,"log","log",-1595516004),Ji=new B(null,"create-player","create-player",-835545936),Ki=new B(null,"on-dispose","on-dispose",2105306360),Li=new B(null,"start-move","start-move",
-1972353710),Mi=new B(null,"from","from",1815293044),Ni=new B(null,"div.modal-dialog","div.modal-dialog",-237012986),Oi=new B(null,"document","document",-1329188687),Pi=new B(null,"fsm-state","fsm-state",1656310533),Qi=new B(null,"fb-transact","fb-transact",-293234204),Ri=new B(null,"div.float-right","div.float-right",1969658268),Si=new B(null,"email","email",1415816706),rk=new B(null,"make-bot-move","make-bot-move",-2011792564),Ti=new B(null,"tabIndex","tabIndex",-169286716),Ui=new B(null,"on-click",
"on-click",1632826543),Vi=new B(null,"\x3c-","\x3c-",760412998),Wi=new B(null,"hand","hand",791601933),Xi=new B(null,"turn","turn",75759344),Yi=new B(null,"leave-game","leave-game",1952824219),Zi=new B(null,"role","role",-736691072),em=new B(null,"other-games","other-games",-346416790),$i=new B(null,"padding","padding",1660304693),aj=new B(null,"my-turn?","my-turn?",-761637518),bj=new B(null,"img","img",1442687358),cj=new B(null,"game-moves","game-moves",1349448652),$h=new B(null,"alt-impl","alt-impl",
670969595),dj=new B(null,"piece","piece",1396691784),uo=new B(null,"random-bot","random-bot",623375651),ej=new B(null,"lion","lion",1707241445),fj=new B(null,"current-user","current-user",-868792091),gj=new B(null,"no-cache","no-cache",1588056370),hj=new B(null,"next-moves","next-moves",-644123965),ij=new B(null,"span.ml-2","span.ml-2",729972922),jj=new B(null,"players","players",-1361554569),kj=new B(null,"\x3c\x3e","\x3c\x3e",1280186386),lj=new B(null,"exception","exception",-335277064),mj=new B(null,
"finish-run","finish-run",753148477),nl=new B(null,"div.mt-4.row.justify-content-center","div.mt-4.row.justify-content-center",-1187257582),nj=new B(null,"h5.text-center","h5.text-center",-1381748718),oj=new B(null,"dispatch-later","dispatch-later",291951390),db=new B(null,"flush-on-newline","flush-on-newline",-151457939),pj=new B(null,"div.modal-wrapper","div.modal-wrapper",-721152186),qj=new B(null,"after","after",594996914),rj=new B(null,"div.col","div.col",-1800797011),sj=new B(null,"reagent-render",
"reagent-render",-985383853),ul=new B(null,"owner","owner",-392611939),tj=new B(null,"before","before",-1633692388),uj=new B(null,"trigger","trigger",103466139),vj=new B(null,"span.oi.oi-plus","span.oi.oi-plus",1142486321),wj=new B(null,"open-game","open-game",-1127784688),xj=new B(null,"moves","moves",927465255),yj=new B(null,"uid","uid",-1447769400),zj=new B(null,"elephant","elephant",-1725469300),Aj=new B(null,"cancel-move","cancel-move",-1648757002),Bj=new B(null,"to","to",192099007),Cj=new B(null,
"set","set",304602554),Dj=new B(null,"add-event","add-event",938429088),Ej=new B(null,"hands","hands",-49500209),Fj=new B(null,"componentWillUnmount","componentWillUnmount",1573788814),Gj=new B(null,"scheduled","scheduled",553898551),Hj=new B(null,"error","error",-978969032),Ij=new B(null,"update-fb-doc","update-fb-doc",-30930332),Jj=new B(null,"event","event",301435442),Kj=new B(null,"signed-in","signed-in",1370654736),Lj=new B(null,"effects","effects",-282369292),Mj=new B(null,"do-fx","do-fx",1194163050),
Nj=new B(null,"div","div",1057191632),Oj=new B(null,"current-position","current-position",2031348254),ai=new B(null,"fallback-impl","fallback-impl",-1501286995),Pj=new B(null,"display-name","display-name",694513143),Qj=new B(null,"games","games",1927565374),Rj=new B(null,"height","height",1025178622),ki=new B(null,"keyword-fn","keyword-fn",-64566675),Sj=new B(null,"span.oi.oi-pencil","span.oi.oi-pencil",-1550380088),Tj=new B(null,"result","result",1415092211),El=new B(null,"div.col-xl","div.col-xl",
-599266275),Uj=new B(null,"div.row.mt-4","div.row.mt-4",1664657248),Vj=new B(null,"resume","resume",-118572261),Wj=new B(null,"width","width",-384071477),Xj=new B(null,"debug","debug",-1608172596),Eq=new B(null,"div.d-flex.justify-content-center","div.d-flex.justify-content-center",1785182291),Yj=new B(null,"active?","active?",459499776),Zj=new B(null,"component-will-unmount","component-will-unmount",-2058314698),ak=new B(null,"font-size","font-size",-1847940346),bk=new B(null,"pause","pause",-2095325672),
dk=new B(null,"play-move","play-move",1729623260),Gq=new B(null,"min-height","min-height",398480837),ek=new B(null,"current-uid","current-uid",342017555),fk=new B(null,"group","group",582596132),gk=new B(null,"unnamed","unnamed",-26044928),hk=new B(null,"db-handler","db-handler",579530098),ik=new B(null,"set-nickname","set-nickname",-364271010),jk=new B(null,"style","style",-496642736),kk=new B(null,"div.backdrop","div.backdrop",1213001975),lk=new B(null,"game-view","game-view",460733246),Sh=new B(null,
"more-marker","more-marker",-14717935),mk=new B(null,"span","span",1394872991),nk=new B(null,"fb-doc","fb-doc",-1400073563),Hq=new B(null,"span.d-flex.justify-content-end","span.d-flex.justify-content-end",-1405581822),ok=new B(null,"picked","picked",-1140535747),pk=new B(null,"set-fb-doc","set-fb-doc",1863453008),qk=new B(null,"delete-game","delete-game",-970899326),sk=new B(null,"span.m-1","span.m-1",1609723441),tk=new B(null,"signed-out","signed-out",716070557),fb=new B(null,"meta","meta",1499536964),
uk=new B(null,"componentFunction","componentFunction",825866104),vk=new B(null,"displayName","displayName",-809144601),wk=new B(null,"map","map",1371690461),xk=new B(null,"button.btn.btn-sm.btn-danger","button.btn.btn-sm.btn-danger",-1786051141),yk=new B(null,"div.mt-2","div.mt-2",-701876875),zk=new B(null,"right","right",-452581833),Ak=new B(null,"div.mt-4","div.mt-4",-1531088843),Bk=new B(null,"nickname","nickname",-802027190),Ck=new B(null,"span.mr-2","span.mr-2",1488641310),Dk=new B(null,"field",
"field",-1302436500),wo=new B(null,"add-bot","add-bot",1392657689),Ek=new B(null,"background-color","background-color",570434026),Fk=new B(null,"running","running",1554969103),Gk=new B(null,"class","class",-2030961996),Hk=new B(null,"history","history",-247395220),Ik=new B(null,"div.row","div.row",133678515),Jk=new B(null,"button.btn.btn-link.ml-2","button.btn.btn-link.ml-2",-914941541),Kk=new B(null,"fb-coll","fb-coll",-604371899),Lk=new B(null,"chicken","chicken",1192778878),Mk=new B(null,"div.modal",
"div.modal",-610985484),Nk=new B(null,"dispatch","dispatch",1319337009),Ok=new B(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Pk=new B(null,"button.btn.btn-sm.btn-success","button.btn.btn-sm.btn-success",-1505771455),Qk=new B(null,"visible-modals","visible-modals",481383803),Rk=new B(null,"stack","stack",-793405930),Sk=new B(null,"reagentRender","reagentRender",-358306383),Tk=new B(null,"cursor","cursor",1011937484),Uk=new B(null,"name","name",1843675177),Vk=new B("re-frame.std-interceptors",
"untrimmed-event","re-frame.std-interceptors/untrimmed-event",-840935075),Wk=new B(null,"modal-open","modal-open",-845881300),Xk=new B(null,"coeffects","coeffects",497912985),Yk=new B(null,"queue","queue",1455835879),Jq=new B(null,"button.btn.btn-sm.btn-warning","button.btn.btn-sm.btn-warning",1643103821),Zk=new B(null,"warn","warn",-436710552),Nq=new B(null,"div.container-fluid","div.container-fluid",3929737),$k=new B(null,"on-set","on-set",-140953470),al=new B(null,"pointer","pointer",85071187),
bl=new B(null,"display","display",242065432),cl=new B(null,"src","src",-1651076051),Oq=new B(null,"div.col-auto.col-xl-12\x3espan.d-flex.align-items-center.justify-content-center","div.col-auto.col-xl-12\x3espan.d-flex.align-items-center.justify-content-center",415013284),dl=new B(null,"cofx","cofx",2013202907),gb=new B(null,"dup","dup",556298533),el=new B(null,"fx-handler","fx-handler",-549783097),fl=new B(null,"h1","h1",-1896887462),gl=new B(null,"sequential","sequential",-1082983960),hl=new B(null,
"h3","h3",2067611163),il=new B(null,"fx","fx",-1237829572),ib=new B(null,"print-length","print-length",1931866356),jl=new B(null,"dispatch-n","dispatch-n",-504469236),kl=new B(null,"trim-v","trim-v",-1274938640),ll=new B(null,"button.btn.btn-primary.btn-circle","button.btn.btn-primary.btn-circle",-263005508),ml=new B(null,"chick","chick",-1081963668),ol=new B(null,"paused","paused",-1710376127),pl=new B(null,"span.font-weight-bold","span.font-weight-bold",1283633784),ql=new B(null,"button.btn.btn-info.btn-circle",
"button.btn.btn-info.btn-circle",-834052384),rl=new B(null,"component-did-update","component-did-update",-1468549173),Pq=new B(null,"remove-bot","remove-bot",-2072728745),sl=new B(null,"div.card\x3ediv.card-body","div.card\x3ediv.card-body",-435848789),tl=new B(null,"flush-dom","flush-dom",-933676816),Rq=new B(null,"h3.text-center","h3.text-center",-1711489073),vl=new B(null,"sub","sub",-2093760025),wl=new B(null,"open-games","open-games",-613423380),xl=new B(null,"dialog","dialog",1415150135),oi=
new B(null,"keywordize-keys","keywordize-keys",1310784252),zl=new B(null,"div.mt-4.mb-2","div.mt-4.mb-2",1535871196),mf=new Yc(null,"meta6606","meta6606",329389086,null),Al=new B(null,"on-write","on-write",31519475),Bl=new B(null,"key","key",-1516042587),Cl=new B(null,"db","db",993250759),Dl=new B(null,"giraffe","giraffe",-558678955),Fl=new B(null,"join-game","join-game",1384817180),Gl=new B(null,"validator","validator",-1966190681),Hl=new B(null,"player-info","player-info",-859643705),Il=new B(null,
"close-modal","close-modal",-1882189985),Jl=new B("re-frame.std-interceptors","not-found","re-frame.std-interceptors/not-found",-1614827865),Kl=new B(null,"autobind","autobind",-570650245),Ll=new B(null,"yield","yield",177875009),Ml=new B(null,"deregister-event-handler","deregister-event-handler",-1096518994),eb=new B(null,"readably","readably",1129599760),Nl=new B(null,"last-moves","last-moves",-593139489),Sq=new B(null,"button.btn.btn-sm.btn-info","button.btn.btn-sm.btn-info",-1052578049),Pl=new B(null,
"shouldComponentUpdate","shouldComponentUpdate",1795750960),Ql=new B(null,"id","id",-1388402092),Rl=new B(null,"run-queue","run-queue",-1701798027),Sl=new B(null,"button.btn.btn-sm.btn-primary","button.btn.btn-sm.btn-primary",1703461621),Tl=new B(null,"block","block",664686210),Ul=new B(null,"show-modal","show-modal",-11429385),Vl=new B(null,"componentWillMount","componentWillMount",-285327619),Wl=new B(null,"draw","draw",1358331674),Xl=new B(null,"hide-modal","hide-modal",619662220),Yl=new B(null,
"groupEnd","groupEnd",-337721382),Zl=new B(null,"atom","atom",-397043653),$l=new B(null,"my-games","my-games",-420500673);var Ka;a:{var Xq=ca.navigator;if(Xq){var Yq=Xq.userAgent;if(Yq){Ka=Yq;break a}}Ka=""}function cm(a){return-1!=Ka.indexOf(a)};function dm(){return cm("iPhone")&&!cm("iPod")&&!cm("iPad")};cm("Opera");cm("Trident")||cm("MSIE");cm("Edge");!cm("Gecko")||Ja("WebKit")&&!cm("Edge")||cm("Trident")||cm("MSIE")||cm("Edge");Ja("WebKit")&&!cm("Edge")&&cm("Mobile");cm("Macintosh");cm("Windows");cm("Linux")||cm("CrOS");var Zq=ca.navigator||null;Zq&&(Zq.appVersion||"").indexOf("X11");cm("Android");dm();cm("iPad");cm("iPod");dm()||cm("iPad")||cm("iPod");Ja("KaiOS");Ja("GAFP");var fm={},gm={},hm={};fm.process={};fm.process.browser=!0;var im={};fm.process.title="browser";fm.process.argv=[];fm.process.cwd=function(){return"/"};fm.process.version="";fm.process.versions={};fm.process.env={NODE_ENV:"development"};function jm(){}fm.process.on=jm;fm.process.addListener=jm;fm.process.once=jm;fm.process.off=jm;fm.process.removeListener=jm;fm.process.removeAllListeners=jm;fm.process.emit=jm;fm.process.prependListener=jm;fm.process.prependOnceListener=jm;fm.process.listeners=function(){return[]};
fm.process.binding=function(){throw Error("process.binding is not supported");};fm.process.cwd=function(){return"/"};fm.process.chdir=function(){throw Error("process.chdir is not supported");};fm.process.umask=function(){return 0};var km=[];
function lm(a,b){var c=hm[a];if(void 0!==c)return c;try{km.push(a);var d=gm[a];void 0===d&&(d={exports:{}},gm[a]=d);var e=shadow$provide[a];if(e){delete shadow$provide[a];var f=ca.process||fm.process;try{e.call(d,ca,f,lm,d,d.exports,im)}catch(k){throw console.warn("shadow-cljs - failed to load",a),k;}if(b){var h=b.globals;if(h)for(a=0;a<h.length;a++)window[h[a]]=d.exports}}}finally{km.pop()}return d.exports};var mm=lm(5,{});function nm(a,b,c){var d=t(b.ignoreCase)?"gi":"g";d=t(b.multiline)?[d,"m"].join(""):d;return a.replace(new RegExp(b.source,t(b.Zg)?[d,"u"].join(""):d),c)}
function om(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ad(f,0,null)}return c.call(this,e)}function c(d){d=Ff(d);if(H.jd(J(d),1))return d=F(d),a.hd?a.hd(d):a.call(null,d);d=qg(d);return a.hd?a.hd(d):a.call(null,d)}b.ud=0;b.td=function(d){d=C(d);return c(d)};b.od=c;return b}()}
function pm(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?nm(a,b,c):nm(a,b,om(c));throw["Invalid match arg: ",y.hd(b)].join("");}function qm(a,b){var c=new Va;for(b=C(b);;)if(null!=b)c.append(y.hd(F(b))),b=G(b),null!=b&&c.append(a);else return c.toString()};var rm={},sm={};if("undefined"===typeof rm||"undefined"===typeof sm||"undefined"===typeof tm)var tm=zf(null);
if("undefined"===typeof rm||"undefined"===typeof sm||"undefined"===typeof um)var um=function(){var a={};a.warn=function(){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ad(f,0,null)}return c.call(this,e)}function c(d){return Bf.od(tm,Sf,new S(null,1,5,U,[Zk],null),Jd,Cd([df(y,d)]))}b.ud=0;b.td=function(d){d=C(d);return c(d)};b.od=c;return b}()}(a);a.error=function(){return function(){function b(d){var e=
null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ad(f,0,null)}return c.call(this,e)}function c(d){return Bf.od(tm,Sf,new S(null,1,5,U,[Hj],null),Jd,Cd([df(y,d)]))}b.ud=0;b.td=function(d){d=C(d);return c(d)};b.od=c;return b}()}(a);return a}();var vm={},wm="undefined"!==typeof window&&null!=window.document,xm=new Dh(null,new p(null,2,["aria",null,"data",null],null),null);function ym(a){return 2>J(a)?a.toUpperCase():[y.hd(a.substring(0,1).toUpperCase()),y.hd(a.substring(1))].join("")}
function zm(a){if("string"===typeof a)return a;a=Le(a);var b=/-/;b="/(?:)/"===y.hd(b)?Jd.jd(qg(Bd("",Cf.jd(y,C(a)))),""):qg(y.hd(a).split(b));if(1<J(b))a:for(;;)if(""===Wd(b))b=Xd(b);else break a;var c=C(b);b=F(c);c=G(c);return t(xm.hd?xm.hd(b):xm.call(null,b))?a:ef(y,b,Cf.jd(ym,c))}
function Am(a){var b=function(){var c=function(){var d=Rd(a);return d?(d=a.displayName,t(d)?d:a.name):d}();if(t(c))return c;c=function(){var d=null!=a?a.vd&4096||n===a.ag?!0:!1:!1;return d?Le(a):d}();if(t(c))return c;c=Vd(a);return ce(c)?Uk.hd(c):null}();return pm(y.hd(b),"$",".")}var Bm=!1;var Cm=lm(11,{});var Dm={};if("undefined"===typeof rm||"undefined"===typeof vm||"undefined"===typeof Dm||"undefined"===typeof Em)var Em=0;function Fm(a){return setTimeout(a,16)}var Gm=wm?function(){var a=window,b=a.requestAnimationFrame;if(t(b))return b;b=a.webkitRequestAnimationFrame;if(t(b))return b;b=a.mozRequestAnimationFrame;if(t(b))return b;a=a.msRequestAnimationFrame;return t(a)?a:Fm}():Fm;function Hm(a,b){return a.cljsMountOrder-b.cljsMountOrder}
if("undefined"===typeof rm||"undefined"===typeof vm||"undefined"===typeof Dm||"undefined"===typeof Im)var Im=function(){return null};function Jm(){this.Nf=!1}g=Jm.prototype;g.run_funs=function(a){var b=this[a];if(null==b)return null;this[a]=null;a=b.length;for(var c=0;;)if(c<a){var d=b[c];d.rd?d.rd():d.call(null);c+=1}else return null};g.flush_after_render=function(){return this.run_funs("afterRender")};g.queue_render=function(a){return this.enqueue("componentQueue",a)};
g.schedule=function(){if(this.Nf)return null;this.Nf=!0;var a=function(b){return function(){return b.run_queues()}}(this);return Gm.hd?Gm.hd(a):Gm.call(null,a)};g.flush_queues=function(){this.run_funs("beforeFlush");Im();var a=this.componentQueue;if(null!=a)a:{this.componentQueue=null,a.sort(Hm);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return this.flush_after_render()};g.run_queues=function(){this.Nf=!1;return this.flush_queues()};
g.enqueue=function(a,b){null==this[a]&&(this[a]=[]);this[a].push(b);return this.schedule()};g.add_before_flush=function(a){return this.enqueue("beforeFlush",a)};g.add_after_render=function(a){return this.enqueue("afterRender",a)};if("undefined"===typeof rm||"undefined"===typeof vm||"undefined"===typeof Dm||"undefined"===typeof Km){var Km;Km=new Jm}function Lm(a){if(t(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Km.queue_render(a)};function Mm(a,b){a=ef(Jh,a,b);return Bd(a,Kf(function(c){return function(d){return c===d}}(a),b))}function Nm(a,b){return J(a)<J(b)?tb(Jd,b,a):tb(Jd,a,b)}var Om=function Om(a){switch(arguments.length){case 1:return Om.hd(arguments[0]);case 2:return Om.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(2),0,null);return Om.od(arguments[0],arguments[1],c)}};Om.hd=function(a){return a};
Om.jd=function(a,b){for(;;)if(J(b)<J(a)){var c=a;a=b;b=c}else return tb(function(d,e){return function(f,h){return le(e,h)?f:Yd.jd(f,h)}}(a,b),a,a)};Om.od=function(a,b,c){a=Mm(function(d){return-J(d)},Jd.od(c,b,Cd([a])));return tb(Om,F(a),bd(a))};Om.td=function(a){var b=F(a),c=G(a);a=F(c);c=G(c);return this.od(b,a,c)};Om.ud=2;
var Pm=function Pm(a){switch(arguments.length){case 1:return Pm.hd(arguments[0]);case 2:return Pm.jd(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(2),0,null);return Pm.od(arguments[0],arguments[1],c)}};Pm.hd=function(a){return a};Pm.jd=function(a,b){return J(a)<J(b)?tb(function(c,d){return le(b,d)?Yd.jd(c,d):c},a,a):tb(Yd,a,b)};Pm.od=function(a,b,c){return tb(Pm,a,Jd.jd(c,b))};
Pm.td=function(a){var b=F(a),c=G(a);a=F(c);c=G(c);return this.od(b,a,c)};Pm.ud=2;var Qm={},Rm;if("undefined"===typeof rm||"undefined"===typeof Qm||"undefined"===typeof Sm)var Sm=!1;if("undefined"===typeof rm||"undefined"===typeof Qm||"undefined"===typeof Tm)var Tm=0;if("undefined"===typeof rm||"undefined"===typeof Qm||"undefined"===typeof Um)var Um=zf(0);
function Vm(a,b){b.captured=null;a:{var c=Rm;Rm=b;try{var d=a.rd?a.rd():a.call(null);break a}finally{Rm=c}d=void 0}a=b.captured;b.Te=!1;a:{c=b.$e;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function Wm(a){var b=Rm;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function Xm(a,b){Sm&&Bf.kd(Um,ze,J(b)-J(a));return b}
function Ym(a,b,c){var d=a.Wd;a.Wd=Xm(d,Od.kd(d,b,c));return a.Xf=null}function Zm(a,b){var c=a.Wd;a.Wd=Xm(c,Qd.jd(c,b));return a.Xf=null}function $m(a,b,c){var d=a.Xf;d=null==d?a.Xf=we(function(){return function(l,m,q){l.push(m);l.push(q);return l}}(d),[],a.Wd):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.sd?k.sd(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else return null}
function an(a,b,c,d){qc(b,["#\x3c",y.hd(d)," "].join(""));a:{d=Rm;Rm=null;try{var e=$b(a);break a}finally{Rm=d}e=void 0}Yh(e,b,c);return qc(b,"\x3e")}if("undefined"===typeof rm||"undefined"===typeof Qm||"undefined"===typeof bn)var bn=null;function cn(){for(;;){var a=bn;if(null==a)return null;bn=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Im=cn;function dn(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.Wd=d;this.md=2154201088;this.vd=114690}g=dn.prototype;
g.Mf=n;g.Cd=function(a,b,c){return an(this,b,c,"Atom:")};g.Gd=function(){return this.meta};g.Dd=function(){return ha(this)};g.Bd=function(a,b){return this===b};g.fe=function(a,b){a=this.state;this.state=b;null!=this.Wd&&$m(this,a,b);return b};g.Ff=function(a,b){return this.fe(null,b.hd?b.hd(this.state):b.call(null,this.state))};g.Gf=function(a,b,c){return this.fe(null,b.jd?b.jd(this.state,c):b.call(null,this.state,c))};
g.Hf=function(a,b,c,d){return this.fe(null,b.kd?b.kd(this.state,c,d):b.call(null,this.state,c,d))};g.If=function(a,b,c,d,e){return this.fe(null,gf(b,this.state,c,d,e))};g.Jf=function(a,b){$m(this,a,b)};g.rf=function(a,b,c){return Ym(this,b,c)};g.sf=function(a,b){return Zm(this,b)};g.Id=function(a,b){return new dn(this.state,b,this.validator,this.Wd)};g.ze=function(){Wm(this);return this.state};
var en=function en(a){switch(arguments.length){case 1:return en.hd(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ad(c.slice(1),0,null);return en.od(arguments[0],c)}};en.hd=function(a){return new dn(a,null,null,null)};en.od=function(a,b){var c=null!=b&&(b.md&64||n===b.Ed)?df(xh,b):b;b=A.jd(c,fb);c=A.jd(c,Gl);return new dn(a,b,c,null)};en.td=function(a){var b=F(a);a=G(a);return this.od(b,a)};en.ud=1;
function fn(a,b,c,d){var e=b.reagReactionCache,f=null==e?nf:e,h=f.jd?f.jd(c,null):f.call(null,c,null);if(null!=h)return $b(h);if(null==Rm)return a.rd?a.rd():a.call(null);var k=function(){var m=function(){return function(){Sm&&Bf.jd(Um,Ae);var q=Qd.jd(b.reagReactionCache,c);b.reagReactionCache=q;null!=d&&(d.zf=null);return null}}(a,Ki,e,f,h);return gn.kd?gn.kd(a,Ki,m):gn.call(null,a,Ki,m)}(),l=$b(k);b.reagReactionCache=Od.kd(f,c,k);Sm&&Bf.jd(Um,jd);null!=d&&(d.zf=k);return l}
function hn(a,b,c){this.f=a;this.mf=b;this.zf=c;this.md=2153807872;this.vd=0}g=hn.prototype;g.Mf=n;g.ze=function(){var a=this,b=a.zf;return null==b?fn(function(){return function(){return df(a.f,a.mf)}}(b,this),a.f,a.mf,this):$b(b)};g.Bd=function(a,b){return b instanceof hn&&H.jd(this.f,b.f)&&H.jd(this.mf,b.mf)};g.Dd=function(){return Uc(new S(null,2,5,U,[this.f,this.mf],null))};g.Cd=function(a,b,c){return an(this,b,c,"Track:")};
function jn(a,b,c,d,e){this.Sd=a;this.path=b;this.zf=c;this.state=d;this.Wd=e;this.md=2153807872;this.vd=114690}g=jn.prototype;g._peek=function(){var a=Rm;Rm=null;try{return this.ze(null)}finally{Rm=a}};g._set_state=function(a,b){if(a===b)return null;this.state=b;return null!=this.Wd?$m(this,a,b):null};g.Mf=n;g.Cd=function(a,b,c){return an(this,b,c,["Cursor: ",y.hd(this.path)].join(""))};g.Dd=function(){return Uc(new S(null,2,5,U,[this.Sd,this.path],null))};
g.Bd=function(a,b){return b instanceof jn&&H.jd(this.path,b.path)&&H.jd(this.Sd,b.Sd)};g.fe=function(a,b){this._set_state(this.state,b);(null!=this.Sd?this.Sd.md&32768||n===this.Sd.Zf||(this.Sd.md?0:v(Zb,this.Sd)):v(Zb,this.Sd))?H.jd(this.path,Kd)?Af(this.Sd,b):Bf.sd(this.Sd,Rf,this.path,b):this.Sd.jd?this.Sd.jd(this.path,b):this.Sd.call(null,this.path,b);return b};g.Ff=function(a,b){var c=this;return c.fe(null,function(){var d=c._peek();return b.hd?b.hd(d):b.call(null,d)}())};
g.Gf=function(a,b,c){var d=this;return d.fe(null,function(){var e=d._peek();return b.jd?b.jd(e,c):b.call(null,e,c)}())};g.Hf=function(a,b,c,d){var e=this;return e.fe(null,function(){var f=e._peek();return b.kd?b.kd(f,c,d):b.call(null,f,c,d)}())};g.If=function(a,b,c,d,e){return this.fe(null,gf(b,this._peek(),c,d,e))};g.Jf=function(a,b){$m(this,a,b)};g.rf=function(a,b,c){return Ym(this,b,c)};g.sf=function(a,b){return Zm(this,b)};
g.ze=function(){var a=this,b=this,c=a.state,d=function(){var e=a.zf;return null==e?(e=(null!=a.Sd?a.Sd.md&32768||n===a.Sd.Zf||(a.Sd.md?0:v(Zb,a.Sd)):v(Zb,a.Sd))?function(){return function(){return Qf($b(a.Sd),a.path)}}(e,c,b):function(){return function(){return a.Sd.hd?a.Sd.hd(a.path):a.Sd.call(null,a.path)}}(e,c,b),fn(e,a.Sd,a.path,b)):$b(e)}();b._set_state(c,d);return d};
var kn=function kn(a){if(null!=a&&null!=a.Vf)return a.Vf(a);var c=kn[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=kn._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("IDisposable.dispose!",a);},ln=function ln(a,b){if(null!=a&&null!=a.kg)return a.kg(a,b);var d=ln[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=ln._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("IDisposable.add-on-dispose!",a);};
function mn(a,b,c,d){return a._handle_change(b,c,d)}function nn(a,b,c,d,e,f,h,k){this.f=a;this.state=b;this.Te=c;this.hg=d;this.$e=e;this.Wd=f;this.te=h;this.Pf=k;this.md=2153807872;this.vd=114690}g=nn.prototype;g._peek_at=function(){var a=Rm;Rm=null;try{return this.ze(null)}finally{Rm=a}};
g._handle_change=function(a,b,c){return b===c||this.Te?null:null==this.te?(this.Te=!0,null==bn&&(bn=[],!1===Km.Nf&&Km.schedule()),bn.push(this)):!0===this.te?this._run(!1):this.te.hd?this.te.hd(this):this.te.call(null,this)};
g._update_watching=function(a){var b=Hh(a),c=Hh(this.$e);this.$e=a;a=C(Pm.jd(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.zd(null,f);tc(h,this,mn);f+=1}else if(a=C(a))d=a,fe(d)?(a=Cc(d),f=Dc(d),d=a,e=J(a),a=f):(a=F(d),tc(a,this,mn),a=G(d),d=null,e=0),f=0;else break;b=C(Pm.jd(c,b));c=null;for(e=d=0;;)if(e<d)a=c.zd(null,e),uc(a,this),e+=1;else if(b=C(b))c=b,fe(c)?(b=Cc(c),d=Dc(c),c=b,a=J(b),b=d,d=a):(a=F(c),uc(a,this),b=G(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.Te&&null!=this.$e?this._run(!0):null};g._try_capture=function(a){try{return this.Pf=null,Vm(a,this)}catch(b){return this.Pf=this.state=a=b,this.Te=!1}};g._run=function(a){var b=this.state;a=t(a)?this._try_capture(this.f):Vm(this.f,this);this.hg||(this.state=a,null==this.Wd||H.jd(b,a)||$m(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.md&64||n===a.Ed)?df(xh,a):a;a=A.jd(b,Ei);var c=A.jd(b,$k),d=A.jd(b,Ki);b=A.jd(b,gj);null!=a&&(this.te=a);null!=c&&(this.Ig=c);null!=d&&(this.ig=d);return null!=b?this.hg=b:null};g.Mf=n;g.Cd=function(a,b,c){return an(this,b,c,["Reaction ",y.hd(Uc(this)),":"].join(""))};g.Dd=function(){return ha(this)};g.Bd=function(a,b){return this===b};
g.Vf=function(){var a=this.state,b=this.$e;this.te=this.state=this.$e=null;this.Te=!0;b=C(Hh(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.zd(null,e);uc(f,this);e+=1}else if(b=C(b))c=b,fe(c)?(b=Cc(c),e=Dc(c),c=b,d=J(b),b=e):(b=F(c),uc(b,this),b=G(c),c=null,d=0),e=0;else break;null!=this.ig&&this.ig(a);a=this.jg;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.hd?d.hd(this):d.call(null,this),c+=1;else return null};g.kg=function(a,b){a=this.jg;return null==a?this.jg=[b]:a.push(b)};
g.fe=function(a,b){a=this.state;this.state=b;this.Ig(a,b);$m(this,a,b);return b};g.Ff=function(a,b){var c=this;return c.fe(null,function(){var d=c._peek_at();return b.hd?b.hd(d):b.call(null,d)}())};g.Gf=function(a,b,c){var d=this;return d.fe(null,function(){var e=d._peek_at();return b.jd?b.jd(e,c):b.call(null,e,c)}())};g.Hf=function(a,b,c,d){var e=this;return e.fe(null,function(){var f=e._peek_at();return b.kd?b.kd(f,c,d):b.call(null,f,c,d)}())};
g.If=function(a,b,c,d,e){return this.fe(null,gf(b,this._peek_at(),c,d,e))};g.Jf=function(a,b){$m(this,a,b)};g.rf=function(a,b,c){return Ym(this,b,c)};g.sf=function(a,b){a=Zd(this.Wd);Zm(this,b);return!a&&Zd(this.Wd)&&null==this.te?this.Vf(null):null};
g.ze=function(){var a=this.Pf;if(null!=a)throw a;(a=null==Rm)&&cn();a&&null==this.te?this.Te&&(a=this.state,this.state=this.f.rd?this.f.rd():this.f.call(null),null==this.Wd||H.jd(a,this.state)||$m(this,a,this.state)):(Wm(this),this.Te&&this._run(!1));return this.state};
function gn(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new ad(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.md&64||n===c.Ed)?df(xh,c):c;c=A.jd(e,Ei);d=A.jd(e,$k);e=A.jd(e,Ki);b=new nn(b,null,!0,!1,null,null,null,null);b._set_opts(new p(null,3,[Ei,c,$k,d,Ki,e],null));return b}var on=gn(null);
function pn(a,b){var c=qn,d=on,e=Vm(a,d);null!=d.$e&&(on=gn(null),d._set_opts(c),d.f=a,d.te=function(){return function(){return Lm.hd?Lm.hd(b):Lm.call(null,b)}}(d,e),b.cljsRatom=d);return e};var rn={},sn;function tn(a,b){var c=b.argv;if(null==c){c=U;a=a.constructor;a:for(var d=La(b),e=d.length,f=nf,h=0;;)if(h<e){var k=d[h];f=Od.kd(f,Je.hd(k),b[k]);h+=1}else break a;b=new S(null,2,5,c,[a,f],null)}else b=c;return b}function un(a){var b;if(b=Rd(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.reagentRender);return b}if("undefined"===typeof rm||"undefined"===typeof vm||"undefined"===typeof rn||"undefined"===typeof vn)var vn=null;
function wn(a){for(;;){var b=a.reagentRender,c=!0===a.cljsLegacyRender?b.call(a,a):function(){var d=tn(a,a.props);switch(J(d)){case 1:return b.call(a);case 2:return b.call(a,vd(d,1));case 3:return b.call(a,vd(d,1),vd(d,2));case 4:return b.call(a,vd(d,1),vd(d,2),vd(d,3));case 5:return b.call(a,vd(d,1),vd(d,2),vd(d,3),vd(d,4));default:return b.apply(a,sb(d).slice(1))}}();if(ee(c))return vn.hd?vn.hd(c):vn.call(null,c);if(ke(c))c=un(c)?function(d,e,f,h){return function(){function k(m){var q=null;if(0<
arguments.length){q=0;for(var r=Array(arguments.length-0);q<r.length;)r[q]=arguments[q+0],++q;q=new ad(r,0,null)}return l.call(this,q)}function l(m){m=ef(ug,h,m);return vn.hd?vn.hd(m):vn.call(null,m)}k.ud=0;k.td=function(m){m=C(m);return l(m)};k.od=l;return k}()}(a,b,null,c):c,a.reagentRender=c;else return c}}
var qn=new p(null,1,[gj,!0],null),xn=new p(null,1,[Bi,function(){var a=this.cljsRatom;this.cljsIsDirty=!1;return null==a?pn(function(b,c){return function(){a:{var d=sn;sn=c;try{var e=wn(c);break a}finally{sn=d}e=void 0}return e}}(a,this),this):a._run(!1)}],null);
function yn(a,b){var c=a instanceof B?a.ee:null;switch(c){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getInitialState":return function(){return function(){var d=this.cljsState;d=null!=d?d:this.cljsState=en.hd(null);return Af(d,b.call(this,this))}}(a,c);case "componentWillReceiveProps":return function(){return function(d){return b.call(this,this,tn(this,d))}}(a,c);case "shouldComponentUpdate":return function(){return function(d){var e=Bm;if(e)return e;e=this.props.argv;
var f=d.argv,h=null==e||null==f;if(null==b){if(h)return h;try{return jf(e,f)}catch(k){return!1}}else return h?b.call(this,this,tn(this,this.props),tn(this,d)):b.call(this,this,e,f)}}(a,c);case "componentWillUpdate":return function(){return function(d){return b.call(this,this,tn(this,d))}}(a,c);case "componentDidUpdate":return function(){return function(d){return b.call(this,this,tn(this,d))}}(a,c);case "componentWillMount":return function(){return function(){this.cljsMountOrder=Em+=1;return null==
b?null:b.call(this,this)}}(a,c);case "componentDidMount":return function(){return function(){return b.call(this,this)}}(a,c);case "componentWillUnmount":return function(){return function(){var d=this.cljsRatom;null!=d&&kn(d);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)}}(a,c);case "componentDidCatch":return function(){return function(d,e){return b.call(this,this,d,e)}}(a,c);default:return null}}function zn(a,b){a=yn(a,b);return t(a)?a:b}
var An=new p(null,3,[Pl,null,Vl,null,Fj,null],null),Bn=function(a){return function(b){return function(c){var d=A.jd($b(b),c);if(null!=d)return d;d=a.hd?a.hd(c):a.call(null,c);Bf.sd(b,Od,c,d);return d}}(zf(nf))}(zm);function Cn(a){return we(function(b,c,d){return Od.kd(b,Je.hd(Bn.hd?Bn.hd(c):Bn.call(null,c)),d)},nf,a)}
function Dn(a){var b=function(){var h=Sk.hd(a);return t(h)?h:uk.hd(a)}(),c=null==b,d=t(b)?b:Bi.hd(a),e=y.hd(function(){var h=vk.hd(a);return t(h)?h:Am(d)}());a:switch(e){case "":var f=y.hd(gi());break a;default:f=e}b=we(function(){return function(h,k,l){return Od.kd(h,k,zn(k,l))}}(b,c,d,e,f),nf,a);return Od.od(b,vk,f,Cd([Kl,!1,Ok,c,Sk,d,Bi,Bi.hd(xn)]))}function En(a){return we(function(b,c,d){b[Le(c)]=d;return b},{},a)}function Fn(a){a=En(Dn(Bh.od(Cd([An,Cn(a)]))));return Cm(a)};var Gn={},Hn=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/;function In(a){return a instanceof B||a instanceof Yc}var Jn={"class":"className","for":"htmlFor",charset:"charSet"};function Kn(a,b){return a.hasOwnProperty(b)?a[b]:null}function Ln(a,b,c){if(In(b)){var d=Kn(Jn,Le(b));b=null==d?Jn[Le(b)]=zm(b):d}a[b]=Mn.hd?Mn.hd(c):Mn.call(null,c);return a}
function Mn(a){return"object"!==da(a)?a:In(a)?Le(a):ce(a)?we(Ln,{},a):$d(a)?ji(a):ke(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ad(f,0,null)}return c.call(this,e)}function c(d){return df(a,d)}b.ud=0;b.td=function(d){d=C(d);return c(d)};b.od=c;return b}():ji(a)}var Nn={};function Pn(a,b,c){if(In(b)){var d=Kn(Nn,Le(b));b=null==d?Nn[Le(b)]=zm(b):d}a[b]=Mn(c);return a}
function Qn(a){return"object"!==da(a)?a:In(a)?Le(a):ce(a)?we(Pn,{},a):$d(a)?ji(a):ke(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ad(f,0,null)}return c.call(this,e)}function c(d){return df(a,d)}b.ud=0;b.td=function(d){d=C(d);return c(d)};b.od=c;return b}():ji(a)}function Rn(a,b){a=null==a?{}:a;a.key=b;return a}
function Sn(a,b){var c=b.id,d=b["class"];b=null!=c&&null==Ql.hd(a)?Od.kd(a,Ql,c):a;return t(d)?Od.kd(b,Gk,function(){var e=Gk.hd(a);return null==e?d:[y.hd(d)," ",y.hd(In(e)?Le(e):e)].join("")}()):b}function Tn(a){var b=null!=a&&(a.md&64||n===a.Ed)?df(xh,a):a,c=A.jd(b,Gk);return $d(c)?Od.kd(b,Gk,qm(" ",xf(function(){return function(d){return t(d)?In(d)?Le(d):d:null}}(a,b,b,c),c))):b}if("undefined"===typeof rm||"undefined"===typeof vm||"undefined"===typeof Gn||"undefined"===typeof Un)var Un=null;
var Vn=new Dh(null,new p(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function Wn(a,b,c,d){var e=nf,f=null!=e&&(e.md&64||n===e.Ed)?df(xh,e):e,h=A.jd(f,Al);if(a===document.activeElement&&le(Vn,a.type)&&"string"===typeof b&&"string"===typeof c){var k=a.value;if(jf(k,c))return Km.add_after_render(function(){return function(){return Xn.hd?Xn.hd(d):Xn.call(null,d)}}(k,e,f,h));c=J(k)-a.selectionStart;c=J(b)-c;d.cljsDOMValue=b;a.value=b;Rd(h)&&(h.hd?h.hd(b):h.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.cljsDOMValue=b;a.value=b;return Rd(h)?h.hd?h.hd(b):h.call(null,
b):null}function Xn(a){if(t(a.cljsInputLive)){a.cljsInputDirty=!1;var b=a.cljsRenderedValue,c=a.cljsDOMValue,d=Un.hd?Un.hd(a):Un.call(null,a);return jf(b,c)?Wn(d,b,c,a):null}return null}function Yn(a,b,c){a.cljsDOMValue=c.target.value;t(a.cljsInputDirty)||(a.cljsInputDirty=!0,Km.add_after_render(function(){return Xn(a)}));return b.hd?b.hd(c):b.call(null,c)}
function Zn(a){var b=sn;if(t(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),t(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value,d=null==c?"":c,e=a.onChange;t(b.cljsInputLive)||(b.cljsInputLive=!0,b.cljsDOMValue=d);b.cljsRenderedValue=d;delete a.value;a.defaultValue=d;a.onChange=function(f,h,k,l){return function(m){return Yn(b,l,m)}}(a,c,d,e)}}
var $n=null,bo=new p(null,4,[Pj,"ReagentInput",rl,Xn,Zj,function(a){return a.cljsInputLive=null},sj,function(a,b,c,d){Zn(c);return ao.sd?ao.sd(a,b,c,d):ao.call(null,a,b,c,d)}],null);function co(a){if(ce(a))try{var b=A.jd(a,Bl)}catch(c){b=null}else b=null;return b}function eo(a){var b=co(Vd(a));return null==b?co(Q(a,1,null)):b}var fo={};
function go(a,b,c){var d=a.name,e=Q(b,c,null),f=null==e||ce(e);e=Sn(Tn(f?e:null),a);a=t(a.custom)?Qn(e):Mn(e);c+=f?1:0;a:switch(d){case "input":case "textarea":f=!0;break a;default:f=!1}if(f)return f=U,null==$n&&($n=Fn(bo)),b=Ud(new S(null,5,5,f,[$n,b,d,a,c],null),Vd(b)),ho.hd?ho.hd(b):ho.call(null,b);f=co(Vd(b));a=null==f?a:Rn(a,f);return ao.sd?ao.sd(b,d,a,c):ao.call(null,b,d,a,c)}
function io(a){for(;;){var b=Q(a,0,null);if(Ie(kj,b)){b=Q(a,1,null);var c=null==b||ce(b);b=Mn(c?b:null);c=1+(c?1:0);var d=eo(a);null!=d&&Rn(b,d);return ao.sd?ao.sd(a,mm.Fragment,b,c):ao.call(null,a,mm.Fragment,b,c)}if(In(b)||"string"===typeof b)switch(b=Le(b),c=b.indexOf("\x3e"),c){case -1:c=b;b=Kn(fo,c);if(null==b){b=c;var e=G(Qh(Hn,Le(c)));c=Q(e,0,null);d=Q(e,1,null);e=Q(e,2,null);e=null==e?null:pm(e,/\./," ");c={name:c,id:d,"class":e,custom:jf(-1,c.indexOf("-"))};b=fo[b]=c}return go(b,a,1);case 0:return b=
Q(a,1,null),go({name:b},a,2);default:a=Ud(new S(null,2,5,U,[b.substring(0,c),Od.kd(Ud(a,null),0,b.substring(c+1))],null),Vd(a))}else return c=b.cljsReactClass,null==c?un(b)?b=b.cljsReactClass=b:(c=Vd(b),c=Od.kd(c,sj,b),c=Fn(c),b=b.cljsReactClass=c):b=c,c={argv:a},a=eo(a),null!=a&&(c.key=a),mm.createElement(b,c)}}function ho(a){return"object"!==da(a)?a:ee(a)?io(a):ie(a)?jo.hd?jo.hd(a):jo.call(null,a):In(a)?Le(a):(null!=a?a.md&2147483648||n===a.Pd||(a.md?0:v(rc,a)):v(rc,a))?ci(Cd([a])):a}vn=ho;
function jo(a){a=sb(a);for(var b=a.length,c=0;;)if(c<b)a[c]=ho(a[c]),c+=1;else break;return a}function ao(a,b,c,d){var e=J(a)-d;switch(e){case 0:return mm.createElement(b,c);case 1:return a=ho(Q(a,d,null)),mm.createElement(b,c,a);default:return mm.createElement.apply(null,we(function(){return function(f,h,k){h>=d&&f.push(ho(k));return f}}(e),[b,c],a))}};var ko=lm(20,{});var lo={};if("undefined"===typeof rm||"undefined"===typeof lo||"undefined"===typeof mo)var mo=null;if("undefined"===typeof rm||"undefined"===typeof lo||"undefined"===typeof no)var no=zf(nf);function oo(a,b,c){var d=Bm;Bm=!0;try{var e=a.rd?a.rd():a.call(null);return ko.render(e,b,function(){return function(){var f=Bm;Bm=!1;try{return Bf.sd(no,Od,b,new S(null,2,5,U,[a,b],null)),Km.flush_after_render(),null!=c?c.rd?c.rd():c.call(null):null}finally{Bm=f}}}(e,b,d,!0))}finally{Bm=d}}
function po(a,b){return oo(a,b,null)}function qo(a,b,c){cn();return oo(function(){return ho(Rd(a)?a.rd?a.rd():a.call(null):a)},b,c)}Un=function(a){return ko.findDOMNode(a)};function ro(a){switch(arguments.length){case 2:qo(arguments[0],arguments[1],null);break;case 3:qo(arguments[0],arguments[1],arguments[2]);break;default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}}function so(a,b){return qo(a,b,null)}
function $q(){cn();cn();for(var a=C(Rg($b(no))),b=null,c=0,d=0;;)if(d<c){var e=b.zd(null,d);df(po,e);d+=1}else if(a=C(a))b=a,fe(b)?(a=Cc(b),d=Dc(b),b=a,c=J(a),a=d):(a=F(b),df(po,a),a=G(b),b=null,c=0),d=0;else break;return Km.flush_after_render()}var ar=["reagent","core","force_update_all"],br=ca;ar[0]in br||"undefined"==typeof br.execScript||br.execScript("var "+ar[0]);for(var cr;ar.length&&(cr=ar.shift());)ar.length||void 0===$q?br=br[cr]&&br[cr]!==Object.prototype[cr]?br[cr]:br[cr]={}:br[cr]=$q;
function xo(a){return Km.add_after_render(a)};function yo(a,b,c){var d=a;b&&(d=na(a,b));d=yo.Lg(d);ea(ca.setImmediate)&&(c||yo.Kg())?ca.setImmediate(d):(yo.mg||(yo.mg=yo.Gg()),yo.mg(d))}yo.Kg=function(){return ca.Window&&ca.Window.prototype&&!cm("Edge")&&ca.Window.prototype.setImmediate==ca.setImmediate?!1:!0};
yo.Gg=function(){var a=ca.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!cm("Presto")&&(a=function(){var e=document.createElement("IFRAME");e.style.display="none";e.src="";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write("");e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=na(function(l){if(("*"==k||l.origin==k)&&l.data==
h)this.port1.onmessage()},this);f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!cm("Trident")&&!cm("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.cb;c.cb=null;e()}};return function(e){d.next={cb:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var f=document.createElement("SCRIPT");
f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){ca.setTimeout(e,0)}};yo.Lg=function(a){return a};var zo={},Ao=Nf.jd(Gg,Kd);function Bo(a){return null!=a?a.md&32768||n===a.Zf?!0:a.md?!1:v(Zb,a):v(Zb,a)}function Co(a,b){ln(a,b)}function Do(a,b){setTimeout(a,b)}function Eo(a){return null!=a&&n===a.Mf?[t(Wc.jd?Wc.jd(dn,a):Wc.call(null,dn,a))?"ra":t(Wc.jd?Wc.jd(jn,a):Wc.call(null,jn,a))?"rc":t(Wc.jd?Wc.jd(nn,a):Wc.call(null,nn,a))?"rx":t(Wc.jd?Wc.jd(hn,a):Wc.call(null,hn,a))?"tr":"other",y.hd(Uc(a))].join(""):null};var Fo=en.hd(nf);var Go=zf(new p(null,5,[Ii,console.log.bind(console),Zk,console.warn.bind(console),Hj,console.error.bind(console),fk,t(console.group)?console.group.bind(console):console.log.bind(console),Yl,t(console.groupEnd)?console.groupEnd.bind(console):function(){return cd}],null));function Ho(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new ad(b.slice(1),0,null):null;Io(arguments[0],b)}
function Io(a,b){var c=$b(Go);a=a.hd?a.hd(c):a.call(null,c);return df(a,b)};var Jo=function Jo(a,b){var d=C(b);b=F(d);if(d=G(d)){var e=A.jd(a,b);return t(e)?(d=Jo.jd?Jo.jd(e,d):Jo.call(null,e,d),C(d)?Od.kd(a,b,d):Qd.jd(a,b)):a}return Qd.jd(a,b)};function Ko(a){return ee(a)?F(a):Io(Hj,Cd(["re-frame: expected a vector, but got:",a]))};var Lo=zf(nf);function Mo(a,b){return A.jd(A.jd($b(Lo),a),b)}function No(a,b,c){Bf.sd(Lo,Rf,new S(null,2,5,U,[a,b],null),c);return c}var Oo=function Oo(a){switch(arguments.length){case 0:return Oo.rd();case 1:return Oo.hd(arguments[0]);case 2:return Oo.jd(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Oo.rd=function(){return Af(Lo,nf)};Oo.hd=function(a){return Bf.kd(Lo,Qd,a)};
Oo.jd=function(a,b){return t(Mo(a,b))?Bf.od(Lo,Sf,new S(null,1,5,U,[a],null),Qd,Cd([b])):Io(Zk,Cd(["re-frame: can't clear",y.hd(a),"handler for",[y.hd(b),". Handler not found."].join("")]))};Oo.ud=2;var Po={};if("undefined"===typeof zo||"undefined"===typeof Po||"undefined"===typeof Qo)var Qo=zf(Kd);if("undefined"===typeof zo||"undefined"===typeof Po||"undefined"===typeof Ro)var Ro=zf(0);function So(a){var b=null!=a&&(a.md&64||n===a.Ed)?df(xh,a):a;a=A.jd(b,Ql);var c=A.jd(b,tj);b=A.jd(b,qj);return new p(null,3,[Ql,t(a)?a:gk,tj,c,qj,b],null)}function To(a,b){return Qf(a,new S(null,2,5,U,[Xk,b],null))}function Uo(a,b){for(var c=a;;){var d=Yk.hd(c);if(Zd(d))return c;a=Wd(d);var e=Rk.hd(c);c=Od.od(c,Yk,Xd(d),Cd([Rk,Jd.jd(e,a)]));a=A.jd(a,b);c=t(a)?a.hd?a.hd(c):a.call(null,c):c}}function Vo(a,b){return Uf(a,Yk,wf(Nf,Ao),b)};var Wo=null;var Xo=zf(nf);function Yo(){for(var a=C($b(Xo)),b=null,c=0,d=0;;)if(d<c){var e=b.zd(null,d);Q(e,0,null);e=Q(e,1,null);kn(e);d+=1}else if(a=C(a))fe(a)?(c=Cc(a),a=Dc(a),b=c,c=J(c)):(b=F(a),Q(b,0,null),b=Q(b,1,null),kn(b),a=G(a),b=null,c=0),d=0;else break;return t(kf($b(Xo)))?Io(Zk,Cd(["Subscription cache should be empty after clearing it."])):null}
function Zo(a,b,c){a=new S(null,2,5,U,[a,b],null);Co(c,function(d){return function(){return Bf.jd(Xo,function(e){return function(f){return le(f,e)&&c===A.jd(f,e)?Qd.jd(f,e):f}}(d))}}(a));Bf.jd(Xo,function(d){return function(e){return Od.kd(e,d,c)}}(a));return c}function $o(a,b){return A.jd($b(Xo),new S(null,2,5,U,[a,b],null))}
var Z=function Z(a){switch(arguments.length){case 1:return Z.hd(arguments[0]);case 2:return Z.jd(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Z.hd=function(a){var b=$o(a,Kd);if(t(b))return b;var c=Ko(a);b=Mo(vl,c);return null==b?Io(Hj,Cd([["re-frame: no subscription handler registered for: ",y.hd(c),". Returning a nil subscription."].join("")])):Zo(a,Kd,b.jd?b.jd(Fo,a):b.call(null,Fo,a))};
Z.jd=function(a,b){var c=$o(a,b);if(t(c))return c;var d=Ko(a);var e=Mo(vl,d);if(null==e)return Io(Hj,Cd([["re-frame: no subscription handler registered for: ",y.hd(d),". Returning a nil subscription."].join("")]));var f=gn(function(){return function(){return Of(b)}}(d,e,c));var h=gn(function(k,l,m){return function(){var q=$b(k);return m.kd?m.kd(Fo,a,q):m.call(null,Fo,a,q)}}(f,d,e,c));return Zo(a,b,gn(function(k,l){return function(){return $b($b(l))}}(f,h,d,e,c)))};Z.ud=2;
function ap(a){return Nf.kd(Md(a),Cf.hd(function(b){var c=Q(b,0,null);b=Q(b,1,null);return new S(null,2,5,U,[c,nd.hd?nd.hd(b):nd.call(null,b)],null)}),a)}function bp(a,b){var c=be(a)?Cf.jd(nd,a):ce(a)?ap(a):Bo(a)?nd.hd?nd.hd(a):nd.call(null,a):cd;be(a)?Cf.jd(nd,a):ce(a)?ap(a):Bo(a)?$b(a):Io(Hj,Cd(["re-frame: in the reg-sub for",b,", the input-signals function returns:",a]));return c}
function cp(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new ad(b.slice(1),0,null):null;return dp(arguments[0],b)}
function dp(a,b){var c=Id(b),d=Ih(b),e=["re-frame: reg-sub for ",y.hd(a),", "].join("");b=function(){var f=J(d);switch(f){case 0:return function(){return function(){var m=null;m=function(q,r){switch(arguments.length){case 1:return Fo;case 2:return Fo}throw Error("Invalid arity: "+arguments.length);};m.hd=function(){return Fo};m.jd=function(){return Fo};return m}()}(f,c,d,e);case 1:return f=F(d),Rd(f)||Io(Hj,Cd([e,"2nd argument expected to be an inputs function, got:",f])),f;case 2:var h=Q(d,0,null),
k=Q(d,1,null);H.jd(Vi,h)||Io(Hj,Cd([e,"expected :\x3c-, got:",h]));return function(m,q,r){return function(){function u(){return Z.hd(r)}function w(){return Z.hd(r)}var x=null;x=function(z,E){switch(arguments.length){case 1:return w.call(this,z);case 2:return u.call(this,z,E)}throw Error("Invalid arity: "+arguments.length);};x.hd=w;x.jd=u;return x}()}(d,h,k,f,c,d,e);default:h=Pf(2,2,d);k=Cf.jd(F,h);var l=Cf.jd(Id,h);rf(new Dh(null,new p(null,1,[Vi,null],null),null),k)&&rf(ee,l)||Io(Hj,Cd([e,"expected pairs of :\x3c- and vectors, got:",
h]));return function(m,q,r){return function(){function u(){return Cf.jd(Z,r)}function w(){return Cf.jd(Z,r)}var x=null;x=function(z,E){switch(arguments.length){case 1:return w.call(this,z);case 2:return u.call(this,z,E)}throw Error("Invalid arity: "+arguments.length);};x.hd=w;x.jd=u;return x}()}(h,k,l,f,c,d,e)}}();return No(vl,a,function(f,h,k,l){return function(){function m(u,w,x){var z=l.jd?l.jd(w,x):l.call(null,w,x);u=zf(null);z=gn(function(E,R,X){return function(){var Y=bp(E,a);return X.kd?X.kd(Y,
w,x):X.call(null,Y,w,x)}}(z,u,f,h,k,l));Af(u,Eo(z));return z}function q(u,w){var x=l.hd?l.hd(w):l.call(null,w);u=zf(null);x=gn(function(z,E,R){return function(){var X=bp(z,a);return R.jd?R.jd(X,w):R.call(null,X,w)}}(x,u,f,h,k,l));Af(u,Eo(x));return x}var r=null;r=function(u,w,x){switch(arguments.length){case 2:return q.call(this,u,w);case 3:return m.call(this,u,w,x)}throw Error("Invalid arity: "+arguments.length);};r.jd=q;r.kd=m;return r}()}(c,d,e,b))};var ep=new p(null,2,[tl,function(a){function b(){return yo.hd?yo.hd(a):yo.call(null,a)}return xo.hd?xo.hd(b):xo.call(null,b)},Ll,yo],null);function fp(a){for(var b=J(a.queue);;){if(0===b)return gp(a,mj,null);var c=sf(ep,Qg(Vd(Wd(a.queue))));if(t(c))return gp(a,bk,c);hp(a);--b}}function ip(a){a=function(b){return function(){return gp(b,Rl,null)}}(a);return yo.hd?yo.hd(a):yo.call(null,a)}
function gp(a,b,c){var d=function(){var f=new S(null,2,5,U,[a.Lf,b],null);if(H.jd(new S(null,2,5,U,[ti,Dj],null),f))return new S(null,2,5,U,[Gj,function(h,k){return function(){k.queue=Jd.jd(k.queue,c);return ip(k)}}(f,a)],null);if(H.jd(new S(null,2,5,U,[Fk,lj],null),f))return new S(null,2,5,U,[ti,function(h,k){return function(){k.queue=Ao;throw c;}}(f,a)],null);if(H.jd(new S(null,2,5,U,[Fk,mj],null),f))return Zd(a.queue)?new S(null,1,5,U,[ti],null):new S(null,2,5,U,[Gj,function(h,k){return function(){return ip(k)}}(f,
a)],null);if(H.jd(new S(null,2,5,U,[Fk,bk],null),f))return new S(null,2,5,U,[ol,function(h,k){return function(){return jp(k,c)}}(f,a)],null);if(H.jd(new S(null,2,5,U,[ol,Vj],null),f))return new S(null,2,5,U,[Fk,function(h,k){return function(){hp(k);return fp(k)}}(f,a)],null);if(H.jd(new S(null,2,5,U,[Gj,Rl],null),f))return new S(null,2,5,U,[Fk,function(h,k){return function(){return fp(k)}}(f,a)],null);if(H.jd(new S(null,2,5,U,[ol,Dj],null),f))return new S(null,2,5,U,[ol,function(h,k){return function(){return k.queue=
Jd.jd(k.queue,c)}}(f,a)],null);if(H.jd(new S(null,2,5,U,[Fk,Dj],null),f))return new S(null,2,5,U,[Fk,function(h,k){return function(){return k.queue=Jd.jd(k.queue,c)}}(f,a)],null);if(H.jd(new S(null,2,5,U,[Gj,Dj],null),f))return new S(null,2,5,U,[Gj,function(h,k){return function(){return k.queue=Jd.jd(k.queue,c)}}(f,a)],null);throw qi(["re-frame: router state transition not found. ",y.hd(a.Lf)," ",y.hd(b)].join(""),new p(null,2,[Pi,a.Lf,uj,b],null));}();var e=Q(d,0,null);d=Q(d,1,null);a.Lf=e;return t(d)?
d.rd?d.rd():d.call(null):null}function jp(a,b){a=function(c){return function(){return gp(c,Vj,null)}}(a);return b.hd?b.hd(a):b.call(null,a)}
function hp(a){var b=Wd(a.queue);try{var c=Ko(b),d=Mo(Jj,c);if(t(d))if(t(Wo))Io(Hj,Cd(["re-frame: while handling",Wo,", dispatch-sync was called for",b,". You can't call dispatch-sync within an event handler."]));else{c=Wo;Wo=b;try{var e=Vo(Rf(nf,new S(null,2,5,U,[Xk,Jj],null),b),d);var f=Uo(e,tj);var h=Vo(Qd.jd(f,Yk),Rk.hd(f));Uo(h,qj)}finally{Wo=c}}a.queue=Xd(a.queue);a:{var k=C(Rg(a.Jg));d=null;for(h=e=0;;)if(h<e){var l=d.zd(null,h);l.jd?l.jd(b,a.queue):l.call(null,b,a.queue);h+=1}else{var m=C(k);
if(m){f=m;if(fe(f)){var q=Cc(f),r=Dc(f);f=q;var u=J(q);k=r;d=f;e=u}else l=F(f),l.jd?l.jd(b,a.queue):l.call(null,b,a.queue),k=G(f),d=null,e=0;h=0}else break a}}}catch(w){gp(a,lj,w)}}var kp=new function(a,b,c){this.Lf=a;this.queue=b;this.Jg=c}(ti,Ao,nf);function lp(a){if(null==a)throw new pi('re-frame: you called "dispatch" without an event vector.',nf);gp(kp,Dj,a);return null};function mp(a,b){return No(il,a,b)}
var np=So(Cd([Ql,Mj,qj,function(a){for(var b,c=C(Lj.hd(a)),d=null,e=0,f=0;;)if(f<e){a=d.zd(null,f);b=Q(a,0,null);a=Q(a,1,null);var h=Mo(il,b);t(h)?(b=h,b.hd?b.hd(a):b.call(null,a)):Io(Hj,Cd(["re-frame: no handler registered for effect:",b,". Ignoring."]));f+=1}else if(a=C(c))c=a,fe(c)?(b=Cc(c),c=Dc(c),a=b,b=J(b),d=a,e=b):(a=F(c),b=Q(a,0,null),a=Q(a,1,null),d=Mo(il,b),t(d)?(b=d,b.hd?b.hd(a):b.call(null,a)):Io(Hj,Cd(["re-frame: no handler registered for effect:",b,". Ignoring."])),c=G(c),d=null,e=0),
f=0;else return null}]));
mp(oj,function(a){a=C(Kf(kb,a));for(var b=null,c=0,d=0;;)if(d<c){var e=b.zd(null,d),f=null!=e&&(e.md&64||n===e.Ed)?df(xh,e):e,h=f,k=A.jd(f,Ai),l=A.jd(f,Nk);Zd(l)||"number"!==typeof k?Io(Hj,Cd(["re-frame: ignoring bad :dispatch-later value:",h])):Do(function(r,u,w,x,z,E,R,X,Y){return function(){return lp(Y)}}(a,b,c,d,e,f,h,k,l),k);d+=1}else if(f=C(a)){e=f;if(fe(e))a=Cc(e),d=Dc(e),b=a,c=J(a),a=d;else{var m=F(e),q=null!=m&&(m.md&64||n===m.Ed)?df(xh,m):m;h=q;k=A.jd(q,Ai);l=A.jd(q,Nk);Zd(l)||"number"!==
typeof k?Io(Hj,Cd(["re-frame: ignoring bad :dispatch-later value:",h])):Do(function(r,u,w,x,z,E,R,X,Y){return function(){return lp(Y)}}(a,b,c,d,m,q,h,k,l,e,f),k);a=G(e);b=null;c=0}d=0}else return null});mp(Nk,function(a){return ee(a)?lp(a):Io(Hj,Cd(["re-frame: ignoring bad :dispatch value. Expected a vector, but got:",a]))});
mp(jl,function(a){if(be(a)){a=C(Kf(kb,a));for(var b=null,c=0,d=0;;)if(d<c){var e=b.zd(null,d);lp(e);d+=1}else if(a=C(a))b=a,fe(b)?(a=Cc(b),c=Dc(b),b=a,e=J(a),a=c,c=e):(e=F(b),lp(e),a=G(b),b=null,c=0),d=0;else return null}else return Io(Hj,Cd(["re-frame: ignoring bad :dispatch-n value. Expected a collection, got got:",a]))});
mp(Ml,function(a){var b=vf.jd(Oo,Jj);if(be(a)){a=C(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.zd(null,e);b.hd?b.hd(f):b.call(null,f);e+=1}else if(a=C(a))c=a,fe(c)?(a=Cc(c),d=Dc(c),c=a,f=J(a),a=d,d=f):(f=F(c),b.hd?b.hd(f):b.call(null,f),a=G(c),c=null,d=0),e=0;else return null}else return b.hd?b.hd(a):b.call(null,a)});mp(Cl,function(a){return $b(Fo)!==a?Af(Fo,a):null});No(dl,Cl,function(a){return Od.kd(a,Cl,$b(Fo))});var op=function(a){return So(Cd([Ql,Xk,tj,function(b){var c=Mo(dl,a);return t(c)?Tf(b,Xk,c):Io(Hj,Cd(["No cofx handler registered for",a]))}]))}(Cl);function pp(a,b){return H.jd(a,b)?new S(null,3,5,U,[null,null,a],null):new S(null,3,5,U,[a,b,null],null)}function qp(a){return C(a)?tb(function(b,c){var d=Q(c,0,null);c=Q(c,1,null);return Od.kd(b,d,c)},qg(Hf(df(Be,Qg(a)))),a):null}function rp(a,b,c){var d=A.jd(a,c),e=A.jd(b,c),f=sp(d,e),h=Q(f,0,null),k=Q(f,1,null);f=Q(f,2,null);a=le(a,c);b=le(b,c);d=a&&b&&(null!=f||null==d&&null==e);return new S(null,3,5,U,[!a||null==h&&d?null:Pd([c,h]),!b||null==k&&d?null:Pd([c,k]),d?Pd([c,f]):null],null)}
var tp=function tp(a){switch(arguments.length){case 2:return tp.jd(arguments[0],arguments[1]);case 3:return tp.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};tp.jd=function(a,b){return tp.kd(a,b,Nm(Qg(a),Qg(b)))};tp.kd=function(a,b,c){return tb(function(d,e){return Ph(Cf.kd(Bh,d,e))},new S(null,3,5,U,[null,null,null],null),Cf.jd(vf.kd(rp,a,b),c))};tp.ud=3;
function up(a,b){return qg(Cf.jd(qp,tp.kd(ee(a)?a:qg(a),ee(b)?b:qg(b),Oh(function(){var c=J(a),d=J(b);return c>d?c:d}()))))}function vp(a,b){return new S(null,3,5,U,[kf(Pm.jd(a,b)),kf(Pm.jd(b,a)),kf(Om.jd(a,b))],null)}
var wp=function wp(a){if(null!=a&&null!=a.Fg)return a.Fg(a);var c=wp[da(null==a?null:a)];if(null!=c)return c.hd?c.hd(a):c.call(null,a);c=wp._;if(null!=c)return c.hd?c.hd(a):c.call(null,a);throw ob("EqualityPartition.equality-partition",a);},xp=function xp(a,b){if(null!=a&&null!=a.Eg)return a.Eg(a,b);var d=xp[da(null==a?null:a)];if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);d=xp._;if(null!=d)return d.jd?d.jd(a,b):d.call(null,a,b);throw ob("Diff.diff-similar",a);};wp["null"]=function(){return Zl};
wp.string=function(){return Zl};wp.number=function(){return Zl};wp.array=function(){return gl};wp["function"]=function(){return Zl};wp["boolean"]=function(){return Zl};wp._=function(a){return(null!=a?a.md&1024||n===a.wg||(a.md?0:v(Pb,a)):v(Pb,a))?wk:(null!=a?a.md&4096||n===a.Cg||(a.md?0:v(Tb,a)):v(Tb,a))?Cj:(null!=a?a.md&16777216||n===a.Tf||(a.md?0:v(lc,a)):v(lc,a))?gl:Zl};xp["null"]=function(a,b){return pp(a,b)};xp.string=function(a,b){return pp(a,b)};xp.number=function(a,b){return pp(a,b)};
xp.array=function(a,b){return up(a,b)};xp["function"]=function(a,b){return pp(a,b)};xp["boolean"]=function(a,b){return pp(a,b)};xp._=function(a,b){var c=function(){var d=wp(a);d=d instanceof B?d.ee:null;switch(d){case "atom":return pp;case "set":return vp;case "sequential":return up;case "map":return tp;default:throw Error(["No matching clause: ",y.hd(d)].join(""));}}();return c.jd?c.jd(a,b):c.call(null,a,b)};
function sp(a,b){return H.jd(a,b)?new S(null,3,5,U,[null,null,a],null):H.jd(wp(a),wp(b))?xp(a,b):pp(a,b)};So(Cd([Ql,Xj,tj,function(a){Io(Ii,Cd(["Handling re-frame event:",To(a,Jj)]));return a},qj,function(a){var b=To(a,Jj),c=To(a,Cl);a:{var d=he;for(var e=a,f=C(new S(null,2,5,U,[Lj,Cl],null));;)if(null!=f){e=A.kd(e,F(f),d);if(d===e){d=Jl;break a}f=G(f)}else{d=e;break a}}H.jd(d,Jl)?Io(Ii,Cd(["No :db changes caused by:",b])):(d=sp(c,d),c=Q(d,0,null),d=Q(d,1,null),null!=c||null!=d?(Io(fk,Cd(["db clojure.data/diff for:",b])),Io(Ii,Cd(["only before:",c])),Io(Ii,Cd(["only after :",d])),Ho(Yl)):Io(Ii,Cd(["no app-db changes caused by:",
b])));return a}]));So(Cd([Ql,kl,tj,function(a){return Rf(Sf.sd(a,new S(null,2,5,U,[Xk,Jj],null),zg,1),new S(null,2,5,U,[Xk,Vk],null),To(a,Jj))},qj,function(a){return Rf(Jo(a,new S(null,2,5,U,[Xk,Vk],null)),new S(null,2,5,U,[Xk,Jj],null),To(a,Vk))}]));function yp(a){return So(Cd([Ql,hk,tj,function(b){var c=Xk.hd(b),d=null!=c&&(c.md&64||n===c.Ed)?df(xh,c):c;c=A.jd(d,Cl);d=A.jd(d,Jj);c=a.jd?a.jd(c,d):a.call(null,c,d);return Rf(b,new S(null,2,5,U,[Lj,Cl],null),c)}]))}
function zp(a){return So(Cd([Ql,el,tj,function(b){var c=Xk.hd(b);c=null!=c&&(c.md&64||n===c.Ed)?df(xh,c):c;var d=A.jd(c,Jj);return Od.kd(b,Lj,a.jd?a.jd(c,d):a.call(null,c,d))}]))};vf.jd(Oo,vl);vf.jd(Oo,il);vf.jd(Oo,dl);var Ap=function Ap(a){switch(arguments.length){case 2:return Ap.jd(arguments[0],arguments[1]);case 3:return Ap.kd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",y.hd(arguments.length)].join(""));}};Ap.jd=function(a,b){return Ap.kd(a,null,b)};Ap.kd=function(a,b,c){b=new S(null,4,5,U,[op,np,b,yp(c)],null);return No(Jj,a,Kf(kb,Mf(b)))};Ap.ud=3;function Bp(a,b){b=new S(null,4,5,U,[op,np,null,zp(b)],null);No(Jj,a,Kf(kb,Mf(b)))}
vf.jd(Oo,Jj);var Cp=lm(160,{});var Dp={},Ep={},Fp={apiKey:"AIzaSyCOWUeBSMjyQOrhgWdB65Ed1YTXfnyRJl0",authDomain:"todor-a7ec2.firebaseapp.com",databaseURL:"https://todor-a7ec2.firebaseio.com",projectId:"todor-a7ec2",storageBucket:"todor-a7ec2.appspot.com",messagingSenderId:"189572583542"};if("undefined"===typeof Dp||"undefined"===typeof Ep||"undefined"===typeof Gp)var Gp=Cp.initializeApp(Fp);if("undefined"===typeof Dp||"undefined"===typeof Ep||"undefined"===typeof Hp)var Hp=Cp.auth();
Ap.jd(Kj,function(a,b){Q(b,0,null);b=Q(b,1,null);return Od.kd(a,fj,new p(null,3,[Pj,b.displayName,Si,b.email,yj,b.uid],null))});Ap.jd(tk,function(a){return Qd.jd(a,fj)});function Ip(a){return fj.hd(a)}cp.jd?cp.jd(fj,Ip):cp.call(null,fj,Ip);var Jp=new S(null,1,5,U,[fj],null);function Kp(a){return yj.hd(a)}cp.sd?cp.sd(ek,Vi,Jp,Kp):cp.call(null,ek,Vi,Jp,Kp);
if("undefined"===typeof Dp||"undefined"===typeof Ep||"undefined"===typeof Lp)var Lp=Hp.onAuthStateChanged(function(a){if(t(a))return a=new S(null,2,5,U,[Kj,a],null),lp.hd?lp.hd(a):lp.call(null,a);a=new S(null,1,5,U,[tk],null);return lp.hd?lp.hd(a):lp.call(null,a)});function Mp(){return new S(null,3,5,U,[vi,new p(null,1,[Ui,function(){return window.open("login_widget.html","Sign In","width\x3d985,height\x3d735")}],null),"Login"],null)}
function Np(a){return new S(null,3,5,U,[mk,Pj.hd(a),new S(null,3,5,U,[Jk,new p(null,1,[Ui,function(){return Hp.signOut()}],null),"Logout"],null)],null)}function Op(){var a=U;var b=new S(null,1,5,U,[fj],null);b=Z.hd?Z.hd(b):Z.call(null,b);b=$b(b);return new S(null,2,5,a,[Ri,t(b)?new S(null,2,5,U,[Np,b],null):new S(null,1,5,U,[Mp],null)],null)};var Pp={};if("undefined"===typeof Dp||"undefined"===typeof Pp||"undefined"===typeof Qp)var Qp=Cp.firestore();function Rp(a){return a instanceof B?Le(a):y.hd(a)}function Sp(a){return qm("/",Cf.jd(Rp,a))}No(vl,nk,function(a,b){a=Q(b,0,null);var c=Q(b,1,null),d=en.hd(null);Qp.doc(Sp(c)).onSnapshot(function(e){return function(f){return Af(e,ni(f.data()))}}(d,b,a,c));return gn(function(e){return function(){return $b(e)}}(d,b,a,c))});
No(vl,Kk,function(a,b){a=Q(b,0,null);var c=Q(b,1,null),d=en.hd(nf);Qp.collection(Sp(c)).onSnapshot(function(e,f,h,k){return function(l){var m=zf(nf);l.forEach(function(q){return function(r){var u=ni(r.data());return Bf.sd(q,Od,r.id,u)}}(m,e,f,h,k));return Af(e,$b(m))}}(d,b,a,c));return gn(function(e){return function(){return $b(e)}}(d,b,a,c))});Bp(pk,function(a,b){Q(b,0,null);a=Q(b,1,null);b=Q(b,2,null);return new p(null,1,[pk,new S(null,2,5,U,[a,b],null)],null)});
Bp(Ij,function(a,b){Q(b,0,null);a=Q(b,1,null);b=Q(b,2,null);return new p(null,1,[Ij,new S(null,2,5,U,[a,b],null)],null)});var Tp=function(a){return function(b){var c=Q(b,0,null),d=Q(b,1,null);return Qp.doc(Sp(c)).set(ji(d)).catch(function(){return function(e){return console.error(e)}}(b,c,d,a))}}(pk);mp.jd?mp.jd(pk,Tp):mp.call(null,pk,Tp);
var Up=function(a){return function(b){var c=Q(b,0,null),d=Q(b,1,null);return Qp.doc(Sp(c)).update(ji(d)).catch(function(){return function(e){return console.error(e)}}(b,c,d,a))}}(Ij);mp.jd?mp.jd(Ij,Up):mp.call(null,Ij,Up);var Vp=function(a){return function(b){return Qp.doc(Sp(b)).delete().catch(function(){return function(c){return console.error(c)}}(a))}}(yi);mp.jd?mp.jd(yi,Vp):mp.call(null,yi,Vp);
var Wp=function(a){return function(b){var c=Q(b,0,null),d=Q(b,1,null);return Qp.collection(Sp(c)).add(ji(d)).catch(function(){return function(e){return console.error(e)}}(b,c,d,a))}}(Di);mp.jd?mp.jd(Di,Wp):mp.call(null,Di,Wp);
var Xp=function(a){return function(b){var c=Q(b,0,null),d=Q(b,1,null),e=Qp.doc(Sp(c));return Qp.runTransaction(function(f,h,k,l,m){return function(q){return q.get(f).then(function(r,u,w,x){return function(z){if(!t(z.exists))throw"Document doesn't exist";z=ni(z.data());z=x.hd?x.hd(z):x.call(null,z);z=ji(z);return q.update(r,z)}}(f,h,k,l,m)).catch(function(){return function(r){return console.error("Transaction failed!",r)}}(f,h,k,l,m))}}(e,b,c,d,a))}}(Qi);mp.jd?mp.jd(Qi,Xp):mp.call(null,Qi,Xp);function Yp(a){return new S(null,3,5,U,[ll,new p(null,1,[Ui,a],null),new S(null,2,5,U,[vj,new p(null,1,[jk,new p(null,1,[ak,"16px"],null)],null)],null)],null)}function Zp(a){return new S(null,3,5,U,[ql,new p(null,1,[Ui,a],null),new S(null,2,5,U,[Sj,new p(null,1,[jk,new p(null,1,[ak,"16px"],null)],null)],null)],null)};Bp(Ji,function(a,b){Q(b,0,null);a=Q(b,1,null);b=Q(b,2,null);return new p(null,1,[pk,new S(null,2,5,U,[new S(null,2,5,U,[jj,a],null),b],null)],null)});Bp(ik,function(a,b){Q(b,0,null);a=Q(b,1,null);b=Q(b,2,null);return new p(null,1,[Ij,new S(null,2,5,U,[new S(null,2,5,U,[jj,a],null),new p(null,1,[Bk,b],null)],null)],null)});
No(vl,Hl,function(){return gn(function(){var a=$b(function(){var b=new S(null,1,5,U,[ek],null);return Z.hd?Z.hd(b):Z.call(null,b)}());return t(a)?Bh.od(Cd([new p(null,1,[yj,a],null),$b(function(){var b=new S(null,2,5,U,[nk,new S(null,2,5,U,[jj,a],null)],null);return Z.hd?Z.hd(b):Z.call(null,b)}())])):null})});function Kq(a){Q(a,0,null);a=Q(a,1,null);a=new S(null,2,5,U,[nk,new S(null,2,5,U,[jj,a],null)],null);return Z.hd?Z.hd(a):Z.call(null,a)}function Mq(a){return Bk.jd(a,"NO ONE")}
cp.kd?cp.kd(Bk,Kq,Mq):cp.call(null,Bk,Kq,Mq);
function bq(){var a=$b(function(){var e=new S(null,1,5,U,[Hl],null);return Z.hd?Z.hd(e):Z.call(null,e)}()),b=null!=a&&(a.md&64||n===a.Ed)?df(xh,a):a,c=A.jd(b,yj),d=A.jd(b,Bk);return new S(null,3,5,U,[sl,new S(null,2,5,U,[hl,"My Info"],null),new S(null,5,5,U,[mk,new S(null,2,5,U,[pl,"Nickname: "],null),t(d)?d:"NO ONE",new S(null,1,5,U,[ij],null),new S(null,2,5,U,[Zp,function(e,f,h,k){return function(){var l=window.prompt("Set nickname to");if(t(l)){if(t(k))return l=new S(null,3,5,U,[ik,h,l],null),
lp.hd?lp.hd(l):lp.call(null,l);l=new S(null,3,5,U,[Ji,h,new p(null,1,[Bk,l],null)],null);return lp.hd?lp.hd(l):lp.call(null,l)}return null}}(a,b,c,d)],null)],null)],null)}function cq(a){if(t(a)){if(t(function(){var c=new Dh(null,new p(null,2,[uo,null,"random-bot",null],null),null);return c.hd?c.hd(a):c.call(null,a)}()))return"Random Bot";var b=$b(function(){var c=new S(null,2,5,U,[Bk,a],null);return Z.hd?Z.hd(c):Z.call(null,c)}());return new S(null,2,5,U,[mk,b],null)}return null};var dq=Gh([new S(null,2,5,U,[1,0],null),new S(null,2,5,U,[-1,0],null),new S(null,2,5,U,[0,-1],null),new S(null,2,5,U,[0,1],null)]),eq=Gh([new S(null,2,5,U,[1,1],null),new S(null,2,5,U,[-1,-1],null),new S(null,2,5,U,[1,-1],null),new S(null,2,5,U,[-1,1],null)]),fq=Nm(dq,eq),gq=new p(null,5,[ml,Gh([new S(null,2,5,U,[1,0],null)]),Dl,dq,zj,eq,Lk,Jd.od(dq,new S(null,2,5,U,[1,-1],null),Cd([new S(null,2,5,U,[1,1],null)])),ej,fq],null);
function hq(a,b,c){return t(function(){var d=H.jd(a,zk);return d?(d=new Dh(null,new p(null,2,[ml,null,Lk,null],null),null),d.hd?d.hd(b):d.call(null,b)):d}())?Cf.jd(function(d){var e=Q(d,0,null);d=Q(d,1,null);return new S(null,2,5,U,[-e,d],null)},c):c}function iq(a){var b=Q(a,0,null);a=Q(a,1,null);return 0<=b&&3>=b&&0<=a&&2>=a}function jq(a,b){return Jf(iq,Cf.jd(function(c){return Nf.jd(Kd,Cf.kd(ze,a,c))},b))}
function kq(a,b){var c=Q(a,0,null);a=Q(a,1,null);var d=gq.hd?gq.hd(a):gq.call(null,a);return Hh(jq(b,hq(c,a,d)))};var mq=Hh(function lq(a){return new Me(null,function(){for(var c=a;;){var d=C(c);if(d){var e=d,f=F(e);if(d=C(function(h,k,l,m){return function u(r){return new Me(null,function(w,x){return function(){for(;;){var z=C(r);if(z){if(fe(z)){var E=Cc(z),R=J(E),X=Qe(R);a:for(var Y=0;;)if(Y<R){var qa=Fb.jd(E,Y);X.add(new S(null,2,5,U,[x,qa],null));Y+=1}else{E=!0;break a}return E?Se(X.yd(),u(Dc(z))):Se(X.yd(),null)}X=F(z);return Bd(new S(null,2,5,U,[x,X],null),u(bd(z)))}return null}}}(h,k,l,m),null)}}(c,f,e,
d)(Oh(3))))return We.jd(d,lq(bd(c)));c=bd(c)}else return null}},null)}(Oh(4)));function nq(a,b,c,d,e,f){this.field=a;this.ue=b;this.ye=c;this.Rd=d;this.xd=e;this.qd=f;this.md=2230716170;this.vd=139264}g=nq.prototype;g.Kd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){switch(b instanceof B?b.ee:null){case "field":return this.field;case "hands":return this.ue;case "turn":return this.ye;default:return A.kd(this.xd,b,c)}};
g.Se=function(a,b,c){return tb(function(){return function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.kd?b.kd(d,f,e):b.call(null,d,f,e)}}(this),c,this)};g.Cd=function(a,b,c){return Rh(b,function(){return function(d){return Rh(b,Yh,""," ","",c,d)}}(this),"#anish.board.core.Board{",", ","}",c,We.jd(new S(null,3,5,U,[new S(null,2,5,U,[Dk,this.field],null),new S(null,2,5,U,[Ej,this.ue],null),new S(null,2,5,U,[Xi,this.ye],null)],null),this.xd))};
g.de=function(){return new Kg(this,3,new S(null,3,5,U,[Dk,Ej,Xi],null),t(this.xd)?Jc(this.xd):lf())};g.Gd=function(){return this.Rd};g.Jd=function(){return 3+J(this.xd)};g.Dd=function(){var a=this,b=this.qd;if(null!=b)return b;var c=function(){return function(){return function(d){return-897081910^hd(d)}}(b,a)(a)}();return this.qd=c};g.Bd=function(a,b){return null!=b&&this.constructor===b.constructor&&H.jd(this.field,b.field)&&H.jd(this.ue,b.ue)&&H.jd(this.ye,b.ye)&&H.jd(this.xd,b.xd)};
g.ff=function(a,b){return le(new Dh(null,new p(null,3,[Dk,null,Ej,null,Xi,null],null),null),b)?Qd.jd(cc(Nf.jd(nf,this),this.Rd),b):new nq(this.field,this.ue,this.ye,this.Rd,kf(Qd.jd(this.xd,b)),null)};
g.he=function(a,b,c){return t(Ie.jd?Ie.jd(Dk,b):Ie.call(null,Dk,b))?new nq(c,this.ue,this.ye,this.Rd,this.xd,null):t(Ie.jd?Ie.jd(Ej,b):Ie.call(null,Ej,b))?new nq(this.field,c,this.ye,this.Rd,this.xd,null):t(Ie.jd?Ie.jd(Xi,b):Ie.call(null,Xi,b))?new nq(this.field,this.ue,c,this.Rd,this.xd,null):new nq(this.field,this.ue,this.ye,this.Rd,Od.kd(this.xd,b,c),null)};g.Hd=function(){return C(We.jd(new S(null,3,5,U,[new jg(Dk,this.field),new jg(Ej,this.ue),new jg(Xi,this.ye)],null),this.xd))};
g.Id=function(a,b){return new nq(this.field,this.ue,this.ye,b,this.xd,this.qd)};g.Nd=function(a,b){return ee(b)?this.he(null,Fb.jd(b,0),Fb.jd(b,1)):tb(Cb,this,b)};function oq(a,b){return Qf(a,new S(null,2,5,U,[Dk,b],null))}function pq(a,b){var c=Q(b,0,null),d=Q(b,1,null);return Sf.kd(a,new S(null,2,5,U,[Ej,c],null),function(e,f,h){return function(k){var l=A.jd(k,h)-1;return 0===l?Qd.jd(k,h):Od.kd(k,h,l)}}(b,c,d))}
function qq(a,b,c,d,e,f){this.ve=a;this.from=b;this.xe=c;this.Rd=d;this.xd=e;this.qd=f;this.md=2230716170;this.vd=139264}g=qq.prototype;g.Kd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){switch(b instanceof B?b.ee:null){case "piece":return this.ve;case "from":return this.from;case "to":return this.xe;default:return A.kd(this.xd,b,c)}};
g.Se=function(a,b,c){return tb(function(){return function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.kd?b.kd(d,f,e):b.call(null,d,f,e)}}(this),c,this)};g.Cd=function(a,b,c){return Rh(b,function(){return function(d){return Rh(b,Yh,""," ","",c,d)}}(this),"#anish.board.core.Move{",", ","}",c,We.jd(new S(null,3,5,U,[new S(null,2,5,U,[dj,this.ve],null),new S(null,2,5,U,[Mi,this.from],null),new S(null,2,5,U,[Bj,this.xe],null)],null),this.xd))};
g.de=function(){return new Kg(this,3,new S(null,3,5,U,[dj,Mi,Bj],null),t(this.xd)?Jc(this.xd):lf())};g.Gd=function(){return this.Rd};g.Jd=function(){return 3+J(this.xd)};g.Dd=function(){var a=this,b=this.qd;if(null!=b)return b;var c=function(){return function(){return function(d){return 91825126^hd(d)}}(b,a)(a)}();return this.qd=c};g.Bd=function(a,b){return null!=b&&this.constructor===b.constructor&&H.jd(this.ve,b.ve)&&H.jd(this.from,b.from)&&H.jd(this.xe,b.xe)&&H.jd(this.xd,b.xd)};
g.ff=function(a,b){return le(new Dh(null,new p(null,3,[dj,null,Mi,null,Bj,null],null),null),b)?Qd.jd(cc(Nf.jd(nf,this),this.Rd),b):new qq(this.ve,this.from,this.xe,this.Rd,kf(Qd.jd(this.xd,b)),null)};
g.he=function(a,b,c){return t(Ie.jd?Ie.jd(dj,b):Ie.call(null,dj,b))?new qq(c,this.from,this.xe,this.Rd,this.xd,null):t(Ie.jd?Ie.jd(Mi,b):Ie.call(null,Mi,b))?new qq(this.ve,c,this.xe,this.Rd,this.xd,null):t(Ie.jd?Ie.jd(Bj,b):Ie.call(null,Bj,b))?new qq(this.ve,this.from,c,this.Rd,this.xd,null):new qq(this.ve,this.from,this.xe,this.Rd,Od.kd(this.xd,b,c),null)};g.Hd=function(){return C(We.jd(new S(null,3,5,U,[new jg(dj,this.ve),new jg(Mi,this.from),new jg(Bj,this.xe)],null),this.xd))};
g.Id=function(a,b){return new qq(this.ve,this.from,this.xe,b,this.xd,this.qd)};g.Nd=function(a,b){return ee(b)?this.he(null,Fb.jd(b,0),Fb.jd(b,1)):tb(Cb,this,b)};function rq(a,b,c){return new qq(a,b,c,null,null,null)}function sq(a){var b=Qd.od(a,dj,Cd([Mi,Bj]));b=de(a)?Nf.jd(nf,b):b;return new qq(dj.hd(a),Mi.hd(a),Bj.hd(a),null,kf(b),null)}var tq=new p(null,2,[Fi,zk,zk,Fi],null);
function uq(a,b){var c=Q(b,0,null);Q(b,1,null);switch(a instanceof B?a.ee:null){case "left":return H.jd(c,3);case "right":return H.jd(c,0);default:return!1}}
function vq(a,b){b=null!=b&&(b.md&64||n===b.Ed)?df(xh,b):b;var c=A.jd(b,dj),d=A.jd(b,Mi);b=A.jd(b,Bj);var e=Q(c,0,null),f=Q(c,1,null),h=oq(a,b);Q(h,0,null);var k=Q(h,1,null);k=H.jd(k,Lk)?ml:k;var l=H.jd(d,Wi);f=(f=H.jd(f,ml))?uq(e,b):f;a=Od.kd(Rf(a,new S(null,2,5,U,[Dk,b],null),c),Xi,tq.hd?tq.hd(e):tq.call(null,e));a=l?pq(a,c):a;d=l?a:Sf.sd(a,new S(null,1,5,U,[Dk],null),Qd,d);t(h)&&(a=new S(null,2,5,U,[e,k],null),h=Q(a,0,null),a=Q(a,1,null),d=Sf.kd(d,new S(null,3,5,U,[Ej,h,a],null),wf(jd,0)));return t(f)?
Rf(d,new S(null,2,5,U,[Dk,b],null),new S(null,2,5,U,[e,Lk],null)):d}function wq(a,b,c){return sf(function(d){var e=oq(a,d),f=Q(e,0,null);Q(e,1,null);return H.jd(f,b)?(d=kq(e,d),d.hd?d.hd(c):d.call(null,c)):null},jq(c,fq))}function xq(a,b){return sf(function(c){var d=Q(c,0,null);c=Q(c,1,null);return H.jd(c,new S(null,2,5,U,[b,ej],null))?d:null},Dk.hd(a))}function yq(a,b){var c=xq(a,b);b=tq.hd?tq.hd(b):tq.call(null,b);return wq(a,b,c)}
function zq(a,b){var c=null!=b&&(b.md&64||n===b.Ed)?df(xh,b):b,d=A.jd(c,dj),e=A.jd(c,Mi),f=A.jd(c,Bj);c=Xi.hd(a);var h=Q(d,0,null),k=Q(d,1,null),l=oq(a,f);c=H.jd(h,c);var m=H.jd(e,Wi);return c&&(c=m?function(){var q=Q(d,0,null);var r=Q(d,1,null);q=Qf(a,new S(null,3,5,U,[Ej,q,r],null));r=null==l;var u=(u=H.jd(k,ml))?uq(h,f):u;return t(q)?r&&mb(u):q}():function(){var q=H.jd(oq(a,e),d);var r=kq(d,e);r=r.hd?r.hd(f):r.call(null,f);var u=jf(h,F(l));return q?t(r)?u:r:q}(),t(c))?(b=vq(a,b),mb(yq(b,h))):c}
function Aq(a){var b=Xi.hd(a),c=tq.hd?tq.hd(b):tq.call(null,b),d=If(function(k,l){return function(m){var q=Q(m,0,null),r=Q(m,1,null);return Cf.jd(function(u,w,x){return function(z){return rq(x,w,z)}}(m,q,r,k,l),kq(r,q))}}(b,c),Cd([Jf(function(k){return function(l){Q(l,0,null);l=Q(l,1,null);var m=Q(l,0,null);Q(l,1,null);return H.jd(m,k)}}(b,c),Dk.hd(a))])),e=Qg(Qf(a,new S(null,2,5,U,[Ej,b],null))),f=Jf(function(){return function(k){return null==oq(a,k)}}(b,c,d,e),mq),h=function(){return function(k,
l,m,q,r){return function x(w){return new Me(null,function(z,E,R,X,Y){return function(){for(var qa=w;;){var ua=C(qa);if(ua){var sa=ua,D=F(sa);if(ua=C(function(K,M,P,O,N,T,V,ba,W){return function fa(la){return new Me(null,function(pa,ra,ta,Na,Oa){return function(){for(;;){var Qa=C(la);if(Qa){if(fe(Qa)){var Ra=Cc(Qa),Ta=J(Ra),hb=Qe(Ta);a:for(var Fd=0;;)if(Fd<Ta){var Eb=Fb.jd(Ra,Fd);hb.add(rq(new S(null,2,5,U,[Oa,ra],null),Wi,Eb));Fd+=1}else{Ra=!0;break a}return Ra?Se(hb.yd(),fa(Dc(Qa))):Se(hb.yd(),null)}hb=
F(Qa);return Bd(rq(new S(null,2,5,U,[Oa,ra],null),Wi,hb),fa(bd(Qa)))}return null}}}(K,M,P,O,N,T,V,ba,W),null)}}(qa,D,sa,ua,z,E,R,X,Y)(Y)))return We.jd(ua,x(bd(qa)));qa=bd(qa)}else return null}}}(k,l,m,q,r),null)}}(b,c,d,e,f)(e)}();return t(uq(c,xq(a,c)))?Fh:Hh(Jf(function(){return function(k){return zq(a,k)}}(b,c,d,e,f,h),We.jd(d,h)))};function Bq(a,b,c,d,e,f,h,k){this.ke=a;this.history=b;this.me=c;this.le=d;this.result=e;this.Rd=f;this.xd=h;this.qd=k;this.md=2230716170;this.vd=139264}g=Bq.prototype;g.Kd=function(a,b){return this.wd(null,b,null)};g.wd=function(a,b,c){switch(b instanceof B?b.ee:null){case "board":return this.ke;case "history":return this.history;case "next-moves":return this.me;case "last-moves":return this.le;case "result":return this.result;default:return A.kd(this.xd,b,c)}};
g.Se=function(a,b,c){return tb(function(){return function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.kd?b.kd(d,f,e):b.call(null,d,f,e)}}(this),c,this)};
g.Cd=function(a,b,c){return Rh(b,function(){return function(d){return Rh(b,Yh,""," ","",c,d)}}(this),"#anish.board.game.Game{",", ","}",c,We.jd(new S(null,5,5,U,[new S(null,2,5,U,[Gi,this.ke],null),new S(null,2,5,U,[Hk,this.history],null),new S(null,2,5,U,[hj,this.me],null),new S(null,2,5,U,[Nl,this.le],null),new S(null,2,5,U,[Tj,this.result],null)],null),this.xd))};g.de=function(){return new Kg(this,5,new S(null,5,5,U,[Gi,Hk,hj,Nl,Tj],null),t(this.xd)?Jc(this.xd):lf())};g.Gd=function(){return this.Rd};
g.Jd=function(){return 5+J(this.xd)};g.Dd=function(){var a=this,b=this.qd;if(null!=b)return b;var c=function(){return function(){return function(d){return-1257343740^hd(d)}}(b,a)(a)}();return this.qd=c};g.Bd=function(a,b){return null!=b&&this.constructor===b.constructor&&H.jd(this.ke,b.ke)&&H.jd(this.history,b.history)&&H.jd(this.me,b.me)&&H.jd(this.le,b.le)&&H.jd(this.result,b.result)&&H.jd(this.xd,b.xd)};
g.ff=function(a,b){return le(new Dh(null,new p(null,5,[hj,null,Hk,null,Tj,null,Gi,null,Nl,null],null),null),b)?Qd.jd(cc(Nf.jd(nf,this),this.Rd),b):new Bq(this.ke,this.history,this.me,this.le,this.result,this.Rd,kf(Qd.jd(this.xd,b)),null)};
g.he=function(a,b,c){return t(Ie.jd?Ie.jd(Gi,b):Ie.call(null,Gi,b))?new Bq(c,this.history,this.me,this.le,this.result,this.Rd,this.xd,null):t(Ie.jd?Ie.jd(Hk,b):Ie.call(null,Hk,b))?new Bq(this.ke,c,this.me,this.le,this.result,this.Rd,this.xd,null):t(Ie.jd?Ie.jd(hj,b):Ie.call(null,hj,b))?new Bq(this.ke,this.history,c,this.le,this.result,this.Rd,this.xd,null):t(Ie.jd?Ie.jd(Nl,b):Ie.call(null,Nl,b))?new Bq(this.ke,this.history,this.me,c,this.result,this.Rd,this.xd,null):t(Ie.jd?Ie.jd(Tj,b):Ie.call(null,
Tj,b))?new Bq(this.ke,this.history,this.me,this.le,c,this.Rd,this.xd,null):new Bq(this.ke,this.history,this.me,this.le,this.result,this.Rd,Od.kd(this.xd,b,c),null)};g.Hd=function(){return C(We.jd(new S(null,5,5,U,[new jg(Gi,this.ke),new jg(Hk,this.history),new jg(hj,this.me),new jg(Nl,this.le),new jg(Tj,this.result)],null),this.xd))};g.Id=function(a,b){return new Bq(this.ke,this.history,this.me,this.le,this.result,b,this.xd,this.qd)};
g.Nd=function(a,b){return ee(b)?this.he(null,Fb.jd(b,0),Fb.jd(b,1)):tb(Cb,this,b)};
function Cq(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new ad(b.slice(0),0,null):null;b=ef(Od,new p(null,2,[Hk,nf,Nl,cd],null),b);c=Qd.od(b,Gi,Cd([Hk,hj,Nl,Tj]));c=de(b)?Nf.jd(nf,c):c;b=new Bq(Gi.hd(b),Hk.hd(b),hj.hd(b),Nl.hd(b),Tj.hd(b),null,kf(c),null);c=Pd([new S(null,2,5,U,[0,0],null),new S(null,2,5,U,[Fi,zj],null),new S(null,2,5,U,[0,1],null),new S(null,2,5,U,[Fi,ej],null),new S(null,2,5,U,[0,2],null),new S(null,2,5,U,[Fi,Dl],null),new S(null,
2,5,U,[1,1],null),new S(null,2,5,U,[Fi,ml],null),new S(null,2,5,U,[3,2],null),new S(null,2,5,U,[zk,zj],null),new S(null,2,5,U,[3,1],null),new S(null,2,5,U,[zk,ej],null),new S(null,2,5,U,[3,0],null),new S(null,2,5,U,[zk,Dl],null),new S(null,2,5,U,[2,1],null),new S(null,2,5,U,[zk,ml],null)]);c=new nq(c,nf,Fi,null,null,null);return Od.od(b,Gi,c,Cd([hj,Aq(c)]))}
function Dq(a,b){var c=null!=a&&(a.md&64||n===a.Ed)?df(xh,a):a,d=A.jd(c,Gi),e=A.jd(c,Hk),f=A.jd(c,hj);c=A.jd(c,Nl);if(t(f.hd?f.hd(b):f.call(null,b))){f=vq(d,b);var h=Aq(f);e=H.jd(2,e.hd?e.hd(f):e.call(null,f));var k=Zd(h);e=e?Wl:k?Xi.hd(d):null;return Sf.kd(Od.od(a,Gi,f,Cd([hj,t(e)?Fh:h,Nl,Jd.jd(c,b),Tj,e])),new S(null,2,5,U,[Hk,d],null),wf(jd,0))}return null};function dr(a,b){return sf(Gh([a]),jj.hd(b))}function er(a){return H.jd(J(jj.hd(a)),2)}Ap.jd(Li,function(a,b){Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null);b=Q(b,3,null);return Rf(a,new S(null,3,5,U,[lk,c,ok],null),new S(null,2,5,U,[d,b],null))});Ap.jd(Aj,function(a,b){Q(b,0,null);b=Q(b,1,null);return Rf(a,new S(null,3,5,U,[lk,b,ok],null),null)});
Bp(dk,function(a,b){Q(b,0,null);a=Q(b,1,null);var c=Q(b,2,null);b=Q(b,3,null);return new p(null,2,[Nk,new S(null,2,5,U,[Aj,a],null),pk,new S(null,2,5,U,[new S(null,4,5,U,[Qj,a,xj,c],null),b],null)],null)});Bp(rk,function(a,b){Q(b,0,null);a=Q(b,1,null);var c=Q(b,2,null);b=Q(b,3,null);b=Nf.jd(Kd,hj.hd(b));b=vd(b,Math.floor(Math.random()*J(b)));return new p(null,1,[Nk,new S(null,4,5,U,[dk,a,c,b],null)],null)});function fr(a,b){Q(b,0,null);b=Q(b,1,null);return Qf(a,new S(null,3,5,U,[lk,b,ok],null))}
cp.jd?cp.jd(ui,fr):cp.call(null,ui,fr);function mr(a){Q(a,0,null);a=Q(a,1,null);a=new S(null,2,5,U,[nk,new S(null,2,5,U,[Qj,a],null)],null);return Z.hd?Z.hd(a):Z.call(null,a)}function nr(a){return a}cp.kd?cp.kd(wi,mr,nr):cp.call(null,wi,mr,nr);function or(a){Q(a,0,null);a=Q(a,1,null);a=new S(null,2,5,U,[Kk,new S(null,3,5,U,[Qj,a,xj],null)],null);return Z.hd?Z.hd(a):Z.call(null,a)}function pr(a){return Cf.jd(Hd,re(uf.jd(parseInt,F),a))}cp.kd?cp.kd(cj,or,pr):cp.call(null,cj,or,pr);
function qr(a){Q(a,0,null);a=Q(a,1,null);a=new S(null,2,5,U,[cj,a],null);return Z.hd?Z.hd(a):Z.call(null,a)}function sr(a){return J(a)}cp.kd?cp.kd(xi,qr,sr):cp.call(null,xi,qr,sr);function Lq(a,b){return t(a)?(b=sq(Tf(Tf(b,dj,function(c){var d=Q(c,0,null);c=Q(c,1,null);return new S(null,2,5,U,[Je.hd(d),Je.hd(c)],null)}),Mi,function(c){return H.jd(c,"hand")?Wi:c})),Dq(a,b)):console.error("Game is nil")}
function tr(a){Q(a,0,null);a=Q(a,1,null);a=new S(null,2,5,U,[cj,a],null);return Z.hd?Z.hd(a):Z.call(null,a)}function ur(a){return tb(Lq,Cq(),a)}cp.kd?cp.kd(Oj,tr,ur):cp.call(null,Oj,tr,ur);
function wr(a){Q(a,0,null);var b=Q(a,1,null);return new S(null,3,5,U,[function(){var c=new S(null,1,5,U,[ek],null);return Z.hd?Z.hd(c):Z.call(null,c)}(),function(){var c=new S(null,2,5,U,[wi,b],null);return Z.hd?Z.hd(c):Z.call(null,c)}(),function(){var c=new S(null,2,5,U,[Oj,b],null);return Z.hd?Z.hd(c):Z.call(null,c)}()],null)}
function xr(a){var b=Q(a,0,null),c=Q(a,1,null),d=null!=c&&(c.md&64||n===c.Ed)?df(xh,c):c;c=A.jd(d,Fi);d=A.jd(d,zk);a=Q(a,2,null);if(t(Tj.hd(a)))return null;a=Qf(a,new S(null,2,5,U,[Gi,Xi],null));return H.jd(a,Fi)&&H.jd(c,b)||H.jd(a,zk)&&H.jd(d,b)}cp.kd?cp.kd(aj,wr,xr):cp.call(null,aj,wr,xr);var Qq=new p(null,3,[Dl,0,zj,1,ml,2],null);function yr(a){Q(a,0,null);var b=Q(a,1,null);Q(a,2,null);a=new S(null,2,5,U,[Oj,b],null);return Z.hd?Z.hd(a):Z.call(null,a)}
function zr(a,b){Q(b,0,null);Q(b,1,null);b=Q(b,2,null);return re(uf.jd(Qq,F),Qf(a,new S(null,3,5,U,[Gi,Ej,b],null)))}cp.kd?cp.kd(Wi,yr,zr):cp.call(null,Wi,yr,zr);function Tq(a){var b=Q(a,0,null);a=Q(a,1,null);return t(b)?["img/",Le(a),"-",Le(b),".png"].join(""):"img/empty.png"}
function Uq(a,b,c,d){d=t($b(function(){var q=new S(null,2,5,U,[aj,a],null);return Z.hd?Z.hd(q):Z.call(null,q)}()))?hj.hd(d):null;var e=$b(function(){var q=new S(null,2,5,U,[xi,a],null);return Z.hd?Z.hd(q):Z.call(null,q)}()),f=$b(function(){var q=new S(null,2,5,U,[ui,a],null);return Z.hd?Z.hd(q):Z.call(null,q)}()),h=Q(f,0,null),k=Q(f,1,null),l=H.jd(k,c)&&H.jd(h,b),m=t(h)?sf(function(q,r,u,w,x){return function(z){var E=null!=z&&(z.md&64||n===z.Ed)?df(xh,z):z;z=A.jd(E,dj);var R=A.jd(E,Mi);E=A.jd(E,Bj);
return H.jd(z,w)&&H.jd(R,x)&&H.jd(E,c)}}(d,e,f,h,k,l),d):sf(function(){return function(q){var r=null!=q&&(q.md&64||n===q.Ed)?df(xh,q):q;q=A.jd(r,dj);r=A.jd(r,Mi);return H.jd(q,b)&&H.jd(r,c)}}(d,e,f,h,k,l),d);return new S(null,3,5,U,[Nj,new p(null,1,[jk,new p(null,1,[$i,"2px"],null)],null),new S(null,3,5,U,[Nj,new p(null,2,[jk,new p(null,4,[Ek,l?"rgba(83, 124, 149, 0.7)":t(m)?"rgba(83, 149, 95, 0.4)":t(b)?"rgba(213, 196, 101, 0.7)":"rgba(0,0,0,0.2)",Tk,t(m)?al:null,Wj,"128px",Rj,"128px"],null),Ui,
t(h)?t(m)?function(q,r,u,w,x){return function(){var z=new S(null,4,5,U,[dk,a,r,new p(null,3,[dj,w,Mi,x,Bj,c],null)],null);return lp.hd?lp.hd(z):lp.call(null,z)}}(d,e,f,h,k,l,m):function(){return function(){var q=new S(null,2,5,U,[Aj,a],null);return lp.hd?lp.hd(q):lp.call(null,q)}}(d,e,f,h,k,l,m):t(m)?function(){return function(){var q=new S(null,4,5,U,[Li,a,b,c],null);return lp.hd?lp.hd(q):lp.call(null,q)}}(d,e,f,h,k,l,m):null],null),t(b)?new S(null,2,5,U,[bj,new p(null,2,[cl,Tq(b),Wj,"128px"],null)],
null):null],null)],null)}
function Vq(a,b){var c=$b(function(){var e=new S(null,2,5,U,[Oj,a],null);return Z.hd?Z.hd(e):Z.call(null,e)}()),d=$b(function(){var e=new S(null,3,5,U,[Wi,a,b],null);return Z.hd?Z.hd(e):Z.call(null,e)}());return new S(null,3,5,U,[nl,new p(null,1,[jk,new p(null,1,[Gq,"140px"],null)],null),function(){return function(e,f){return function l(k){return new Me(null,function(m){return function(){for(;;){var q=C(k);if(q){if(fe(q)){var r=Cc(q),u=J(r),w=Qe(u);a:for(var x=0;;)if(x<u){var z=Fb.jd(r,x),E=Q(z,0,
null);z=Q(z,1,null);E=Ud(new S(null,3,5,U,[Oq,new S(null,4,5,U,[Ck,new p(null,1,[jk,new p(null,1,[ak,"50px"],null)],null),z,"x"],null),new S(null,5,5,U,[Uq,a,new S(null,2,5,U,[b,E],null),Wi,m],null)],null),new p(null,1,[Bl,E],null));w.add(E);x+=1}else{r=!0;break a}return r?Se(w.yd(),l(Dc(q))):Se(w.yd(),null)}r=F(q);w=Q(r,0,null);r=Q(r,1,null);return Bd(Ud(new S(null,3,5,U,[Oq,new S(null,4,5,U,[Ck,new p(null,1,[jk,new p(null,1,[ak,"50px"],null)],null),r,"x"],null),new S(null,5,5,U,[Uq,a,new S(null,
2,5,U,[b,w],null),Wi,m],null)],null),new p(null,1,[Bl,w],null)),l(bd(q)))}return null}}}(e,f),null)}}(c,d)(d)}()],null)}
function Wq(a){var b=$b(function(){var k=new S(null,1,5,U,[ek],null);return Z.hd?Z.hd(k):Z.call(null,k)}()),c=$b(function(){var k=new S(null,2,5,U,[wi,a],null);return Z.hd?Z.hd(k):Z.call(null,k)}()),d=$b(function(){var k=new S(null,2,5,U,[Oj,a],null);return Z.hd?Z.hd(k):Z.call(null,k)}()),e=Qf(d,new S(null,2,5,U,[Gi,Xi],null)),f=H.jd("random-bot",A.jd(c,e)),h=$b(function(){var k=new S(null,2,5,U,[xi,a],null);return Z.hd?Z.hd(k):Z.call(null,k)}());t(function(){if(f){var k=mb(Tj.hd(d));return k?t(sf(function(){return function(l){return jf("random-bot",
l)}}(k,f,b,c,d,e,f,h),jj.hd(c)))?dr(b,c):H.jd(ul.hd(c),b):k}return f}())&&setTimeout(function(k,l,m,q,r,u){return function(){var w=new S(null,4,5,U,[rk,a,u,m],null);return lp.hd?lp.hd(w):lp.call(null,w)}}(b,c,d,e,f,h),500);return new S(null,4,5,U,[Uj,new S(null,3,5,U,[El,new S(null,2,5,U,[Rq,new S(null,2,5,U,[cq,Fi.hd(c)],null)],null),new S(null,3,5,U,[Vq,a,Fi],null)],null),new S(null,2,5,U,[ck,new S(null,4,5,U,[Nj,new p(null,1,[jk,new p(null,2,[$i,"2em",Ci,'url("img/wood.png")'],null)],null),new S(null,
2,5,U,[nj,function(){var k=Tj.hd(d);return t(k)?H.jd(k,Wl)?"Draw game!":new S(null,3,5,U,[mk,new S(null,2,5,U,[cq,A.jd(c,k)],null)," wins!"],null):new S(null,3,5,U,[mk,new S(null,2,5,U,[cq,A.jd(c,e)],null),"'s turn"],null)}()],null),new S(null,2,5,U,[Ak,function(){return function(k,l,m,q,r,u){return function z(x){return new Me(null,function(E,R,X,Y,qa,ua){return function(){for(;;){var sa=C(x);if(sa){var D=sa;if(fe(D)){var K=Cc(D),M=J(K),P=Qe(M);return function(){for(var N=0;;)if(N<M){var T=Fb.jd(K,
N);Te(P,Ud(new S(null,2,5,U,[Eq,function(){return function(V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra){return function Fd(hb){return new Me(null,function(Eb,Ke,ld,On,Ol,bm,vo,rr,am,aq){return function(){for(;;){var to=C(hb);if(to){if(fe(to)){var Fq=Cc(to),Dr=J(Fq),yl=Qe(Dr);a:for(var Iq=0;;)if(Iq<Dr){var $p=Fb.jd(Fq,Iq);$p=Ud(new S(null,5,5,U,[Uq,a,oq(Gi.hd(aq),new S(null,2,5,U,[$p,Ke],null)),new S(null,2,5,U,[$p,Ke],null),aq],null),new p(null,1,[Bl,$p],null));yl.add($p);Iq+=1}else{Fq=!0;break a}return Fq?
Se(yl.yd(),Fd(Dc(to))):Se(yl.yd(),null)}yl=F(to);return Bd(Ud(new S(null,5,5,U,[Uq,a,oq(Gi.hd(aq),new S(null,2,5,U,[yl,Ke],null)),new S(null,2,5,U,[yl,Ke],null),aq],null),new p(null,1,[Bl,yl],null)),Fd(bd(to)))}return null}}}(V,ba,W,aa,la,fa,pa,ra,ta,Na,Oa,Qa,Ra),null)}}(N,T,K,M,P,D,sa,E,R,X,Y,qa,ua)(Oh(4))}()],null),new p(null,1,[Bl,T],null)));N+=1}else return!0}()?Se(P.yd(),z(Dc(D))):Se(P.yd(),null)}var O=F(D);return Bd(Ud(new S(null,2,5,U,[Eq,function(){return function(N,T,V,ba,W,aa,la,fa,pa){return function Na(ta){return new Me(null,
function(Oa,Qa,Ra,Ta,hb,Fd){return function(){for(;;){var Eb=C(ta);if(Eb){if(fe(Eb)){var Ke=Cc(Eb),ld=J(Ke),On=Qe(ld);a:for(var Ol=0;;)if(Ol<ld){var bm=Fb.jd(Ke,Ol);bm=Ud(new S(null,5,5,U,[Uq,a,oq(Gi.hd(Fd),new S(null,2,5,U,[bm,Oa],null)),new S(null,2,5,U,[bm,Oa],null),Fd],null),new p(null,1,[Bl,bm],null));On.add(bm);Ol+=1}else{Ke=!0;break a}return Ke?Se(On.yd(),Na(Dc(Eb))):Se(On.yd(),null)}On=F(Eb);return Bd(Ud(new S(null,5,5,U,[Uq,a,oq(Gi.hd(Fd),new S(null,2,5,U,[On,Oa],null)),new S(null,2,5,U,
[On,Oa],null),Fd],null),new p(null,1,[Bl,On],null)),Na(bd(Eb)))}return null}}}(N,T,V,ba,W,aa,la,fa,pa),null)}}(O,D,sa,E,R,X,Y,qa,ua)(Oh(4))}()],null),new p(null,1,[Bl,O],null)),z(bd(D)))}return null}}}(k,l,m,q,r,u),null)}}(b,c,d,e,f,h)(Oh(3))}()],null)],null)],null),new S(null,3,5,U,[El,new S(null,2,5,U,[Rq,new S(null,2,5,U,[cq,zk.hd(c)],null)],null),new S(null,3,5,U,[Vq,a,zk],null)],null)],null)};function Ar(a,b){var c=sf(xe,zi(function(d,e){return H.jd(e,b)?d:null},a));return t(c)?qg(C(Jf(xe,zi(function(d){return function(e,f){return H.jd(e,d)?null:f}}(c,c),a)))):a}function Br(a){return H.jd("random-bot",a)}Bp(wj,function(a){a=null!=a&&(a.md&64||n===a.Ed)?df(xh,a):a;a=A.jd(a,Cl);a=Qf(a,new S(null,2,5,U,[fj,yj],null));return new p(null,1,[Di,new S(null,2,5,U,[new S(null,1,5,U,[Qj],null),new p(null,2,[ul,a,jj,new S(null,1,5,U,[a],null)],null)],null)],null)});
Bp(Fl,function(a,b){var c=null!=a&&(a.md&64||n===a.Ed)?df(xh,a):a,d=A.jd(c,Cl),e=Q(b,0,null),f=Q(b,1,null),h=Qf(d,new S(null,2,5,U,[fj,yj],null));return new p(null,1,[Qi,new S(null,2,5,U,[new S(null,2,5,U,[Qj,f],null),function(k){return function(l){l=null!=l&&(l.md&64||n===l.Ed)?df(xh,l):l;l=A.jd(l,jj);return new p(null,1,[jj,Jd.jd(t(l)?l:Kd,k)],null)}}(h,a,c,d,b,e,f)],null)],null)});
Bp(wo,function(a,b){a=Q(b,0,null);var c=Q(b,1,null);return new p(null,1,[Qi,new S(null,2,5,U,[new S(null,2,5,U,[Qj,c],null),function(){return function(d){d=null!=d&&(d.md&64||n===d.Ed)?df(xh,d):d;d=A.jd(d,jj);return new p(null,1,[jj,Jd.jd(t(d)?d:Kd,"random-bot")],null)}}(b,a,c)],null)],null)});
Bp(Pq,function(a,b){a=Q(b,0,null);var c=Q(b,1,null);return new p(null,1,[Qi,new S(null,2,5,U,[new S(null,2,5,U,[Qj,c],null),function(){return function(d){d=null!=d&&(d.md&64||n===d.Ed)?df(xh,d):d;d=A.jd(d,jj);return new p(null,1,[jj,Ar(d,"random-bot")],null)}}(b,a,c)],null)],null)});
Bp(Yi,function(a,b){var c=null!=a&&(a.md&64||n===a.Ed)?df(xh,a):a,d=A.jd(c,Cl),e=Q(b,0,null),f=Q(b,1,null),h=Qf(d,new S(null,2,5,U,[fj,yj],null));return new p(null,1,[Qi,new S(null,2,5,U,[new S(null,2,5,U,[Qj,f],null),function(k){return function(l){l=null!=l&&(l.md&64||n===l.Ed)?df(xh,l):l;l=A.jd(l,jj);return new p(null,1,[jj,Ar(l,k)],null)}}(h,a,c,d,b,e,f)],null)],null)});
Bp(Hi,function(a,b){var c=null!=a&&(a.md&64||n===a.Ed)?df(xh,a):a,d=A.jd(c,Cl),e=Q(b,0,null),f=Q(b,1,null);return new p(null,1,[Qi,new S(null,2,5,U,[new S(null,2,5,U,[Qj,f],null),function(){return function(h){h=null!=h&&(h.md&64||n===h.Ed)?df(xh,h):h;h=A.jd(h,jj);h=qe.hd?qe.hd(h):qe.call(null,h);var k=Math.random;for(var l=h.length-1;0<l;l--){var m=Math.floor(k()*(l+1)),q=h[l];h[l]=h[m];h[m]=q}k=qg.hd?qg.hd(h):qg.call(null,h);h=Q(k,0,null);k=Q(k,1,null);return new p(null,3,[Yj,!0,Fi,h,zk,k],null)}}(a,
c,d,b,e,f)],null)],null)});Bp(qk,function(a,b){Q(b,0,null);a=Q(b,1,null);return new p(null,1,[yi,new S(null,2,5,U,[Qj,a],null)],null)});
var Cr=new S(null,2,5,U,[Kk,new S(null,1,5,U,[Qj],null)],null),Er=new S(null,1,5,U,[ek],null),Fr=function(a,b,c,d,e){return function(f){var h=Q(f,0,null),k=Q(f,1,null);return C(Kf(function(l,m,q){return function(r){Q(r,0,null);r=Q(r,1,null);var u=Yj.hd(r);return t(u)?u:er(r)&&!H.jd(q,ul.hd(r))&&mb(dr(q,r))||H.jd(J(jj.hd(r)),0)&&!H.jd(q,ul.hd(r))}}(f,h,k,a,b,c,d,e),h))}}(wl,Vi,Cr,Vi,Er);cp.be?cp.be(wl,Vi,Cr,Vi,Er,Fr):cp.call(null,wl,Vi,Cr,Vi,Er,Fr);
var Gr=new S(null,2,5,U,[Kk,new S(null,1,5,U,[Qj],null)],null),Hr=new S(null,1,5,U,[ek],null),Ir=function(a,b,c,d,e){return function(f){var h=Q(f,0,null),k=Q(f,1,null);return C(Jf(function(l,m,q){return function(r){Q(r,0,null);r=Q(r,1,null);var u=dr(q,r);return t(u)?Yj.hd(r):u}}(f,h,k,a,b,c,d,e),h))}}($l,Vi,Gr,Vi,Hr);cp.be?cp.be($l,Vi,Gr,Vi,Hr,Ir):cp.call(null,$l,Vi,Gr,Vi,Hr,Ir);
var Jr=new S(null,2,5,U,[Kk,new S(null,1,5,U,[Qj],null)],null),Kr=new S(null,1,5,U,[ek],null),Lr=function(a,b,c,d,e){return function(f){var h=Q(f,0,null),k=Q(f,1,null);return C(Jf(function(l,m,q){return function(r){Q(r,0,null);r=Q(r,1,null);var u=mb(dr(q,r));return u?Yj.hd(r):u}}(f,h,k,a,b,c,d,e),h))}}(em,Vi,Jr,Vi,Kr);cp.be?cp.be(em,Vi,Jr,Vi,Kr,Lr):cp.call(null,em,Vi,Jr,Vi,Kr,Lr);
function gr(){var a=$b(function(){var c=new S(null,1,5,U,[ek],null);return Z.hd?Z.hd(c):Z.call(null,c)}()),b=$b(function(){var c=new S(null,1,5,U,[wl],null);return Z.hd?Z.hd(c):Z.call(null,c)}());return new S(null,2,5,U,[Nj,function(){return function(c,d){return function h(f){return new Me(null,function(k,l){return function(){for(;;){var m=C(f);if(m){var q=m;if(fe(q)){var r=Cc(q),u=J(r),w=Qe(u);return function(){for(var qa=0;;)if(qa<u){var ua=Fb.jd(r,qa),sa=Q(ua,0,null),D=Q(ua,1,null),K=null!=D&&
(D.md&64||n===D.Ed)?df(xh,D):D,M=K,P=A.jd(K,jj);Te(w,Ud(new S(null,3,5,U,[Ik,new S(null,2,5,U,[rj,zi(function(){return function(O,N){return Ud(new S(null,2,5,U,[sk,new S(null,2,5,U,[cq,N],null)],null),new p(null,1,[Bl,O],null))}}(qa,ua,sa,D,K,M,P,r,u,w,q,m,k,l),P)],null),new S(null,4,5,U,[rj,t(dr(k,M))?new S(null,2,5,U,[mk,new S(null,3,5,U,[Sl,new p(null,1,[Ui,function(O,N,T){return function(){var V=new S(null,2,5,U,[Yi,T],null);return lp.hd?lp.hd(V):lp.call(null,V)}}(qa,ua,sa,D,K,M,P,r,u,w,q,m,k,
l)],null),"Leave"],null)],null):er(M)?null:new S(null,3,5,U,[Sl,new p(null,1,[Ui,function(O,N,T){return function(){var V=new S(null,2,5,U,[Fl,T],null);return lp.hd?lp.hd(V):lp.call(null,V)}}(qa,ua,sa,D,K,M,P,r,u,w,q,m,k,l)],null),"Join"],null),t(function(){var O=H.jd(ul.hd(M),k);return O?O:dr(k,M)}())?new S(null,4,5,U,[mk,H.jd(J(P),2)?new S(null,3,5,U,[Pk,new p(null,1,[Ui,function(O,N,T){return function(){var V=new S(null,2,5,U,[Hi,T],null);return lp.hd?lp.hd(V):lp.call(null,V)}}(qa,ua,sa,D,K,M,P,
r,u,w,q,m,k,l)],null),"Start"],null):null,2>J(P)?new S(null,3,5,U,[Sq,new p(null,1,[Ui,function(O,N,T){return function(){var V=new S(null,2,5,U,[wo,T],null);return lp.hd?lp.hd(V):lp.call(null,V)}}(qa,ua,sa,D,K,M,P,r,u,w,q,m,k,l)],null),"Add Bot"],null):null,t(sf(Br,P))?new S(null,3,5,U,[Jq,new p(null,1,[Ui,function(O,N,T){return function(){var V=new S(null,3,5,U,[Pq,T,"random bot"],null);return lp.hd?lp.hd(V):lp.call(null,V)}}(qa,ua,sa,D,K,M,P,r,u,w,q,m,k,l)],null),"Remove Bot"],null):null],null):
null,H.jd(ul.hd(M),k)?new S(null,3,5,U,[xk,new p(null,1,[Ui,function(O,N,T){return function(){var V=new S(null,2,5,U,[qk,T],null);return lp.hd?lp.hd(V):lp.call(null,V)}}(qa,ua,sa,D,K,M,P,r,u,w,q,m,k,l)],null),"Delete"],null):null],null)],null),new p(null,1,[Bl,sa],null)));qa+=1}else return!0}()?Se(w.yd(),h(Dc(q))):Se(w.yd(),null)}var x=F(q),z=Q(x,0,null),E=Q(x,1,null),R=null!=E&&(E.md&64||n===E.Ed)?df(xh,E):E,X=R,Y=A.jd(R,jj);return Bd(Ud(new S(null,3,5,U,[Ik,new S(null,2,5,U,[rj,zi(function(){return function(qa,
ua){return Ud(new S(null,2,5,U,[sk,new S(null,2,5,U,[cq,ua],null)],null),new p(null,1,[Bl,qa],null))}}(x,z,E,R,X,Y,q,m,k,l),Y)],null),new S(null,4,5,U,[rj,t(dr(k,X))?new S(null,2,5,U,[mk,new S(null,3,5,U,[Sl,new p(null,1,[Ui,function(qa,ua){return function(){var sa=new S(null,2,5,U,[Yi,ua],null);return lp.hd?lp.hd(sa):lp.call(null,sa)}}(x,z,E,R,X,Y,q,m,k,l)],null),"Leave"],null)],null):er(X)?null:new S(null,3,5,U,[Sl,new p(null,1,[Ui,function(qa,ua){return function(){var sa=new S(null,2,5,U,[Fl,ua],
null);return lp.hd?lp.hd(sa):lp.call(null,sa)}}(x,z,E,R,X,Y,q,m,k,l)],null),"Join"],null),t(function(){var qa=H.jd(ul.hd(X),k);return qa?qa:dr(k,X)}())?new S(null,4,5,U,[mk,H.jd(J(Y),2)?new S(null,3,5,U,[Pk,new p(null,1,[Ui,function(qa,ua){return function(){var sa=new S(null,2,5,U,[Hi,ua],null);return lp.hd?lp.hd(sa):lp.call(null,sa)}}(x,z,E,R,X,Y,q,m,k,l)],null),"Start"],null):null,2>J(Y)?new S(null,3,5,U,[Sq,new p(null,1,[Ui,function(qa,ua){return function(){var sa=new S(null,2,5,U,[wo,ua],null);
return lp.hd?lp.hd(sa):lp.call(null,sa)}}(x,z,E,R,X,Y,q,m,k,l)],null),"Add Bot"],null):null,t(sf(Br,Y))?new S(null,3,5,U,[Jq,new p(null,1,[Ui,function(qa,ua){return function(){var sa=new S(null,3,5,U,[Pq,ua,"random bot"],null);return lp.hd?lp.hd(sa):lp.call(null,sa)}}(x,z,E,R,X,Y,q,m,k,l)],null),"Remove Bot"],null):null],null):null,H.jd(ul.hd(X),k)?new S(null,3,5,U,[xk,new p(null,1,[Ui,function(qa,ua){return function(){var sa=new S(null,2,5,U,[qk,ua],null);return lp.hd?lp.hd(sa):lp.call(null,sa)}}(x,
z,E,R,X,Y,q,m,k,l)],null),"Delete"],null):null],null)],null),new p(null,1,[Bl,z],null)),h(bd(q)))}return null}}}(c,d),null)}}(a,b)(b)}()],null)}
function hr(){var a=$b(function(){var b=new S(null,1,5,U,[$l],null);return Z.hd?Z.hd(b):Z.call(null,b)}());return t(a)?new S(null,3,5,U,[Nj,new S(null,2,5,U,[hl,"My Games"],null),function(){return function(b,c){return function f(e){return new Me(null,function(h,k){return function(){for(;;){var l=C(e);if(l){var m=l;if(fe(m)){var q=Cc(m),r=J(q),u=Qe(r);return function(){for(var E=0;;)if(E<r){var R=Fb.jd(q,E),X=Q(R,0,null),Y=Q(R,1,null);Te(u,Ud(new S(null,3,5,U,[sl,new S(null,2,5,U,[Hq,new S(null,2,
5,U,[mk,new S(null,3,5,U,[xk,new p(null,1,[Ui,function(qa,ua,sa){return function(){var D=new S(null,2,5,U,[qk,sa],null);return lp.hd?lp.hd(D):lp.call(null,D)}}(E,R,X,Y,q,r,u,m,l,h,k)],null),"Delete"],null)],null)],null),new S(null,2,5,U,[Wq,X],null)],null),new p(null,1,[Bl,X],null)));E+=1}else return!0}()?Se(u.yd(),f(Dc(m))):Se(u.yd(),null)}var w=F(m),x=Q(w,0,null),z=Q(w,1,null);return Bd(Ud(new S(null,3,5,U,[sl,new S(null,2,5,U,[Hq,new S(null,2,5,U,[mk,new S(null,3,5,U,[xk,new p(null,1,[Ui,function(E,
R){return function(){var X=new S(null,2,5,U,[qk,R],null);return lp.hd?lp.hd(X):lp.call(null,X)}}(w,x,z,m,l,h,k)],null),"Delete"],null)],null)],null),new S(null,2,5,U,[Wq,x],null)],null),new p(null,1,[Bl,x],null)),f(bd(m)))}return null}}}(b,c),null)}}(a,a)(a)}()],null):null}
function vr(){var a=$b(function(){var b=new S(null,1,5,U,[em],null);return Z.hd?Z.hd(b):Z.call(null,b)}());return t(a)?new S(null,3,5,U,[Nj,new S(null,2,5,U,[hl,"Running Games"],null),function(){return function(b,c){return function f(e){return new Me(null,function(){return function(){for(;;){var h=C(e);if(h){if(fe(h)){var k=Cc(h),l=J(k),m=Qe(l);a:for(var q=0;;)if(q<l){var r=Fb.jd(k,q),u=Q(r,0,null);Q(r,1,null);r=Ud(new S(null,2,5,U,[sl,new S(null,2,5,U,[Wq,u],null)],null),new p(null,1,[Bl,u],null));
m.add(r);q+=1}else{k=!0;break a}return k?Se(m.yd(),f(Dc(h))):Se(m.yd(),null)}m=F(h);k=Q(m,0,null);Q(m,1,null);return Bd(Ud(new S(null,2,5,U,[sl,new S(null,2,5,U,[Wq,k],null)],null),new p(null,1,[Bl,k],null)),f(bd(h)))}return null}}}(b,c),null)}}(a,a)(a)}()],null):null}
function ir(){return new S(null,4,5,U,[Nj,new S(null,2,5,U,[Ak,new S(null,1,5,U,[hr],null)],null),new S(null,4,5,U,[zl,new S(null,2,5,U,[hl,"Open Games"],null),new S(null,2,5,U,[Yp,function(){var a=new S(null,1,5,U,[wj],null);return lp.hd?lp.hd(a):lp.call(null,a)}],null),new S(null,2,5,U,[yk,new S(null,1,5,U,[gr],null)],null)],null),new S(null,2,5,U,[Ak,new S(null,1,5,U,[vr],null)],null)],null)};Ap.jd(Ul,function(a,b){b=C(b);F(b);var c=G(b);b=F(c);c=G(c);return Uf(a,Qk,Jd,new S(null,2,5,U,[b,c],null))});Ap.jd(Il,function(a){return Tf(a,Qk,Xd)});function jr(a){return Qk.hd(a)}cp.jd?cp.jd(Qk,jr):cp.call(null,Qk,jr);
function kr(){var a=function(){var e=new S(null,1,5,U,[Qk],null);return Z.hd?Z.hd(e):Z.call(null,e)}(),b=F($b(a)),c=Q(b,0,null),d=Q(b,1,null);return new S(null,4,5,U,[pj,new p(null,1,[Gk,t(c)?Ul:Xl],null),new S(null,1,5,U,[kk],null),new S(null,3,5,U,[Nj,new p(null,1,[Gk,t(c)?Wk:null],null),new S(null,3,5,U,[Mk,new p(null,4,[Ti,"-1",Zi,xl,jk,t(c)?new p(null,1,[bl,Tl],null):null,Ui,function(){return function(){var e=new S(null,1,5,U,[Il],null);return lp.hd?lp.hd(e):lp.call(null,e)}}(a,b,c,d)],null),
new S(null,3,5,U,[Ni,new p(null,2,[Zi,Oi,Ui,function(){return function(e){e.preventDefault();return e.stopPropagation()}}(a,b,c,d)],null),t(c)?Nf.jd(new S(null,1,5,U,[$b(c)],null),d):null],null)],null)],null)],null)};function lr(){var a=U,b=new S(null,1,5,U,[kr],null),c=new S(null,1,5,U,[Op],null),d=new S(null,2,5,U,[fl,"Animal Shogi"],null);var e=new S(null,1,5,U,[fj],null);e=Z.hd?Z.hd(e):Z.call(null,e);return new S(null,5,5,a,[Nq,b,c,d,t($b(e))?new S(null,3,5,U,[Nj,new S(null,1,5,U,[bq],null),new S(null,1,5,U,[ir],null)],null):null],null)};Yo.rd?Yo.rd():Yo.call(null);console.clear();var Mr=document.getElementById("app");if(t(Mr)){var Nr=new S(null,1,5,U,[lr],null);so?qo(Nr,Mr,null):ro.call(null,Nr,Mr)};
}).call(this);